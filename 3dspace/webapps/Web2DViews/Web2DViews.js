define("DS/Web2DViews/WebTreeMenuItem",["UWA/Controls/Abstract","css!DS/Web2DViews/WebTreeMenuItem.css",],function(c,b){var a=c.extend({init:function(d){d=d||{};this._id=null;this._label="";this._className="";this._type="";this._children=[];this._labelNode=null;this._iconNode=null;this._childrenNode=null;this._view=null;this._onClickCB=null;this._initItem(d);this._parent(d)},_initItem:function(e){var d=e.label||"";this._id=(typeof e.id==="string"&&e.id!=="")?e.id:d;this._label=d;this._title=e.title;this._className=(typeof e.className==="string"&&e.className!=="")?e.className:"";this._type=(typeof e.type==="string")?e.type:"";if(typeof e.onClick==="function"){this._onClickCB=e.onClick}var f="",g="";if(typeof e.icon!=="undefined"){if(typeof e.icon.html!=="undefined"){f=e.icon.html}if(typeof e.icon.className==="string"){g=" "+e.icon.className}}this._iconNode=UWA.createElement("span",{"class":"tree-node-icon"+g,html:f,title:this._title,events:{click:this._onClickCB}});this._buildView()},view:function(){if(!this._view){this._buildView()}return this._view},_buildView:function(){this._labelNode=UWA.createElement("div",{"class":"tree-node-view",html:[this._iconNode,{tag:"span","class":"tree-node-label",text:this._label}],events:{click:this._onClickCB},id:this._id,});this._childrenNode=UWA.createElement("div",{"class":"tree-node-children"});if(this._children.length){for(var d=0;d<this._children.length;d++){this._children[d].view().inject(this._childrenNode)}}this._view=UWA.createElement("div",{"class":"tree-node node-id-"+this._id+" "+this._className+this._getClassNameFromType(),html:[this._labelNode,this._childrenNode]})},getId:function(){return this._id},getChildren:function(){return this._children},addChild:function(d){this._children.push(d);d.view().inject(this._childrenNode)},getChild:function(e){if(typeof e==="string"){for(var d=0;d<this._children.length;d++){if(this._children.getId()===e){return this._children[d]}}}else{if(typeof e==="number"){if(e<this._children.length){return this._children[e]}}}return null},getIconNode:function(){return this._iconNode},setIconNode:function(d){this._iconNode=d},setIconClassName:function(d){if(typeof d==="string"){this._iconNode.className="tree-node-icon "+d}},getDescription:function(){},_getClassNameFromType:function(){switch(this._type){case"button":case"button-default":return" btn btn-default";case"button-primary":return" btn btn-primary";case"button-success":return" btn btn-success";case"button-info":return" btn btn-info";case"button-warning":return" btn btn-warning";case"button-error":return" btn btn-error";case"link":return" link";case"image":return" img";default:return" default"}},});return a});define("DS/Web2DViews/WebNavigationBar",["UWA/Controls/Abstract","DS/Core/ModelEvents","css!DS/Web2DViews/WebNavigationBar.css"],function(d,c,b){var a=d.extend({layoutStyleTypes:{absoluteNavBar:"absoluteNavBarPresentationStyle",relativeNavBar:"relativeNavBarPresentationStyle",},init:function(e){this._navigationBar=null;this._backButton=null;this._titleContainer=null;this._modelEvents=null;this._className="";this._presentationStyle=this.layoutStyleTypes.absoluteNavBar;if(e){if(e.presentationStyle){this._presentationStyle=e.presentationStyle}if(e.className){this._className=e.className}}this._modelEvents=new c();this._parent(e)},destroy:function(){if(this._backButton){this._backButton.removeEvent("click")}this._backButton=null;this._titleContainer=null;this._modelEvents=null;this._navigationBar=null},view:function(){if(!this._navigationBar){var f={width:"100%",minHeight:"45px"};if(this._presentationStyle===this.layoutStyleTypes.absoluteNavBar){f.position="absolute";f.top="0";f.left="0"}else{if(this._presentationStyle===this.layoutStyleTypes.relativeNavBar){}}this._navigationBar=UWA.createElement("div",{"class":"NavigationControllerUINavigationBar"+(this._className!==""?" "+this._className:""),styles:f});this._backButton=UWA.createElement("div",{"class":"UINavigationBarBackButton",html:{tag:"span","class":"fonticon fonticon-2x fonticon-left-open"}});this._titleContainer=UWA.createElement("div",{"class":"UINavigationBarTitle"});this._backButton.inject(this._navigationBar);this._titleContainer.inject(this._navigationBar);var e=this;this._backButton.addEvent("click",function(){e._onBackButtonPressed()})}return this._navigationBar},displayPreviousButton:function(e){if(e==true){this._backButton.setStyle("display","inline-block");this._titleContainer.classList.add("with-back")}else{this._backButton.setStyle("display","none");this._titleContainer.classList.remove("with-back")}},setTitle:function(e){if(!e||e===""){this._navigationBar.setStyles({display:"none",borderBottom:"1px solid transparent"})}else{this._navigationBar.setStyles({display:"block",borderBottom:"1px solid #d2d5d5"})}this._titleContainer.setContent(e)},_onBackButtonPressed:function(){this._modelEvents.publish({context:this,event:"onNavBarBackButtonPressed",data:{testdata:null}})},onBackButtonPressed:function(e){return this._modelEvents.subscribe({event:"onNavBarBackButtonPressed",},e)},unsubscribe:function(e){return this._modelEvents.unsubscribe(e)},});return a});define("DS/Web2DViews/WebCustomList",["UWA/Controls/Abstract","UWA/Core","DS/UIKIT/Input/Text","DS/UIKIT/Input/Button","css!DS/Web2DViews/WebCustomList.css",],function(f,e,d,b,a){var c=f.extend({init:function(g){g=g||{};this._inputPlaceHolder=g.inputPlaceHolder||"";this._buttonLabel=g.buttonLabel||"+ Add";this._onListChanged=g.onListChanged;this._elements=[];this._elementsDiv=[];this._lockView=(typeof g.lockView!=="undefined")?(g.lockView):(false);this._parent(g);this._buildView()},_buildView:function(){this._container=new e.createElement("div",{"class":"web-custom-list"});this._listContainer=new e.createElement("ul",{"class":"",}).inject(this._container);if(!this._lockView){this._input=new d({placeholder:this._inputPlaceHolder,value:"",events:{onKeyDown:function(h){if(h.keyCode===13){h.preventDefault();this._onInputAddElement()}}.bind(this)}}).inject(this._container);var g=new b({value:this._buttonLabel,events:{onClick:this._onInputAddElement.bind(this)}}).inject(this._container);g.elements.container.setStyles({width:"100%",marginTop:"5px"});new e.createElement("div",{"class":"row",html:[{tag:"div","class":"col-md-9 input-container",html:this._input},{tag:"div","class":"col-md-3",html:g}]}).inject(this._container)}this.element=this._container},getElements:function(){return this._elements},_onInputAddElement:function(){if(this._input.getValue()){this.addElement(this._input.getValue());this._input.setValue("")}},addElement:function(j,g){g=(typeof g!=="undefined")?(g):(false);if(j){var h=this._elementsDiv.length;var i=null;if(this._lockView){i=new e.createElement("li",{"class":"col-md-9 list",html:[{tag:"span","class":"option-text",text:j}]}).inject(this._listContainer)}else{i=new e.createElement("li",{"class":"col-md-9 list",html:[{tag:"span","class":"option-text",text:j},{tag:"span","class":"fonticon fonticon-cancel-squared element-delete",events:{click:function(k,m){this._elementsDiv[k].remove();for(var l=0;l<this._elements.length;l++){if(this._elements[l]===m){this._elements.splice(l,1);break}}if(this._onListChanged){this._onListChanged(this._elements)}}.bind(this,h,j)}}]}).inject(this._listContainer)}this._elements.push(j);this._elementsDiv.push(i);if(this._onListChanged&&!g){this._onListChanged(this._elements)}}},});return c});define("DS/Web2DViews/WebTreeMenu",["UWA/Controls/Abstract","DS/Web2DViews/WebTreeMenuItem","css!DS/Web2DViews/WebTreeMenu.css",],function(d,a,b){var c=d.extend({init:function(e){this._parent(e);this._view=null;this._onClickCB=null;this._monoSelection=true;this._noIcon=false;this._lastSelectionId=null;this._tree=[];if(e){if(typeof e.onClick==="function"){this._onClickCB=e.onClick}if(typeof e.monoSelection==="boolean"){}if(UWA.is(e.items,"array")){for(var f=0;f<e.items.length;f++){this._buildItem(e.items[f])}}if(typeof e.noIcon==="boolean"){this._noIcon=e.noIcon;this.view().addClassName("hide-icon")}if(typeof this._lastSelectionId==="string"){this.selectItem(this._lastSelectionId)}}},destroy:function(){this.view().empty();this._view=null;this._onClickCB=null;this._monoSelection=null;this._lastSelectionId=null;this._tree=null},view:function(){if(!this._view){this._view=UWA.createElement("div",{"class":"tree-root"})}return this._view},addItem:function(e,f){this._buildItem(e,f);if(e.selected){this.selectItem(this._lastSelectionId)}},_buildItem:function(e,f){e=e||{};if(typeof e.label==="string"){if(e.selected){this._lastSelectionId=e.id}e.onClick=this._onItemClick.bind(this);var h=new a(e);if(UWA.is(e.children,"array")){for(var g=0;g<e.children.length;g++){this._buildItem(e.children[g],h)}}if(f){f.addChild(h)}else{this._tree.push(h);h.view().inject(this.view())}}else{console.error("[MP][ERROR]WebTreeMenu::addMainItem - invalid input params: ",arguments)}},getItem:function(j,h){if(typeof j==="string"){if(h&&h.getId){if(h.getId()===j){return h}else{var g=h.getChildren();if(g.length){var f;var e=null;for(f=0;e==null&&f<g.length;f++){e=this.getItem(g[f],j)}return e}}}else{for(var f=0;f<this._tree.length;f++){var e=this.getItem(j,this._tree[f]);if(e){return e}}}}return null},_onItemClick:function(f){var e=null;if(f.target.hasClassName("tree-node-view")){e=f.target}else{e=f.target.getParent()}var g=e.getParent();if(this._isItemCanBeSelected(g)){this.selectedNode(g)}if(this._onClickCB){this._onClickCB(e.id)}},_isItemCanBeSelected:function(e){if(e&&e.hasClassName){if(e.hasClassName("btn")){return false}else{return true}}else{return false}},selectedNode:function(i){if(this._monoSelection){var h=i.getParent();if(h){var g=h.querySelector(".selected");if(g){this.unselectedNode(g)}}}var j=i.querySelector(".tree-node-children");var e=0;if(j){j.style.maxHeight=j.scrollHeight+"px";e=j.scrollHeight}var f=function(m,k){if(m.hasClassName("tree-node")){if(!m.hasClassName("selected")){m.addClassName("selected")}var l=m.getParent();if(l&&l.hasClassName("tree-node-children")){l.style.maxHeight=(l.scrollHeight+k)+"px";f(l.getParent(),k)}}else{return}};f(i,e)},unselectedNode:function(h){if(h.hasClassName("selected")){h.removeClassName("selected")}var j=h.querySelectorAll(".selected");for(var f=0;f<j.length;f++){j[f].removeClassName("selected")}var e=h.querySelectorAll(".tree-node-children");var g=0;for(var f=0;f<e.length;f++){g+=e[f].scrollHeight;e[f].style.maxHeight="0px"}},selectItem:function(f,e){this._editSelection(f,e,true)},unselectItem:function(f,e){this._editSelection(f,e,false)},_editSelection:function(l,e,k){if(e){this.view().addClassName("notransition")}if(typeof l==="string"){var h=this.view().querySelector(".node-id-"+l);if(h){if(k){var f=[];var j=function(o,m){if(o.hasClassName("tree-node")){var n=o.getParent();if(n.hasClassName("tree-node-children")){var i=n.getParent();m.push(i);j(i,m)}else{return}}else{return}};j(h,f);f.reverse();for(var g=0;g<f.length;g++){this.selectedNode(f[g])}this.selectedNode(h)}else{this.unselectedNode(h)}}else{console.warn("[MP][WARN] WebTreeMenu::selectItem - no item found for given id ("+l+")")}}else{console.error('[MP][ERROR] WebTreeMenu::selectItem - unexpected parameters "itemID"')}if(e){this.view().removeClassName("notransition")}},getSelectedItems:function(){return[]},});return c});
define("DS/Animation/ANIM",[],function(){var a={assert:function(b){if(!b){throw"ANIM.assert failed"}},assertX:function(b,c){if(!b){throw"ANIM.assert failed:"+c}}};a.State={RUNNING:0,STOPPED:1,PAUSED:2};a.Direction={FORWARD:0,BACKWARD:1};return a});define("Animation/ANIM",["DS/Animation/ANIM","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("Animation/ANIM");return b});define("DS/Animation/AnimationEngine",["DS/Animation/ANIM"],function(a){var b=function(){if(b.prototype.instance){return b.prototype.instance}b.prototype.instance=this;this._animations=[]};b.prototype._register=function(c){this._animations.push(c)};b.prototype._unregister=function(c){this._animations.splice(this._animations.indexOf(c),1)};b.prototype.step=function(f){var c=this._animations;var h=[];var g=[];for(var d=0;d<c.length;++d){var e=c[d];if(e.direction()===a.Direction.FORWARD){e.setTime(e.time()+f)}else{c.setTime(c.time()-f)}if(e.direction()===a.Direction.FORWARD&&e.time()===e.duration()||e.direction()===a.Direction.BACKWARD&&e.time()===0){if(e.loop()){g.push(e)}else{h.push(e)}}}for(d=0;d<h.length;++d){h[d].stop()}for(d=0;d<g.length;++d){g[d].start()}};return b});define("Animation/AnimationEngine",["DS/Animation/AnimationEngine","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("Animation/AnimationEngine");return b});define("DS/Animation/AbstractAnimation",["DS/Animation/ANIM","DS/Animation/AnimationEngine"],function(a,c){var b=function(d){this._state=a.State.STOPPED;this._direction=a.Direction.FORWARD;this._loop=0;this._time=0;this._onStateChange=d;this._group=null};b.prototype.state=function(){return this._state};b.prototype.direction=function(){return this._direction};b.prototype.setDirection=function(d){a.assert(this._group===null);this._direction=d;this._updateDirection(d)};b.prototype.loop=function(){return this._loop};b.prototype.setLoop=function(d){a.assert(this._group===null);this._loop=d};b.prototype.time=function(){return this._time};b.prototype.setTime=function(e){a.assert(this._group===null);var d=Math.max(0,Math.min(this.duration(),e));this._time=d;this._updateCurrentTime(d)};b.prototype.duration=function(){a.assert(false)};b.prototype.group=function(){return this._group};b.prototype.isRunning=function(){return this._state===a.State.RUNNING};b.prototype.start=function(){a.assert(this._group===null);this.rewind();if(this._state!==a.State.RUNNING){var d=new c();d._register(this);this._state=a.State.RUNNING;this._updateState(this._state)}};b.prototype.pause=function(){a.assert(this._group===null);if(this._state===a.State.RUNNING){var d=new c();d._unregister(this);this._state=a.State.PAUSED;this._updateState(this._state)}};b.prototype.resume=function(){a.assert(this._group===null);if(this._state===a.State.PAUSED){var d=new c();d._register(this);this._state=a.State.RUNNING;this._updateState(this._state)}};b.prototype.stop=function(){a.assert(this._group===null);if(this._state!==a.State.STOPPED){var d=new c();d._unregister(this);this._state=a.State.STOPPED;this._updateState(this._state)}};b.prototype.rewind=function(){if(this._direction===a.Direction.FORWARD){this.setTime(0)}else{this.setTime(this.duration())}};b.prototype._updateCurrentTime=function(){a.assert(false)};b.prototype._updateState=function(d){if(this._onStateChange){this._onStateChange(d)}};b.prototype._updateDirection=function(){};return b});define("Animation/AbstractAnimation",["DS/Animation/AbstractAnimation","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("Animation/AbstractAnimation");return b});define("DS/Animation/AnimationGroup",["DS/Animation/ANIM","DS/Animation/AbstractAnimation"],function(b,c){var a=function(){c.call(this);this._children=[]};a.prototype=new c();a.prototype.duration=function(){var f=0;for(var e=0;e<this._children.length;++e){f=Math.max(f,this._children[e].offset+this._children[e].animation.duration())}return f};a.prototype.animationCount=function(){return this._children.length};a.prototype.animationAt=function(d){b.assert(0<=d&&d<this.animationCount());return this._children[d].animation};a.prototype.indexOfAnimation=function(e){for(var d=0;d<this._children.length;++d){if(this._children[d].animation===e){return d}}return -1};a.prototype.addAnimation=function(d,e){b.assert(e&&this.state()===b.State.STOPPED&&e.state()===b.State.STOPPED);b.assert(e instanceof a?!e.isAncestorOf(this):true);if(e._group){e._group.removeAnimation(e)}e.setDirection(this.direction());e.setLoop(0);this._children.push({offset:d,animation:e});e._group=this};a.prototype.removeAnimation=function(e){b.assert(e&&e._group===this&&this.state()===b.State.STOPPED);var d=this.indexOfAnimation(e);this._children.splice(d,1);e._group=null};a.prototype.moveAnimation=function(f,d){b.assert(f&&f._group===this&&this.state()===b.State.STOPPED);var e=this.indexOfAnimation(f);this._children[e].offset=d};a.prototype.clear=function(){b.assert(this.state()===b.State.STOPPED);for(var d=0;d<this._children.length;++d){this._children[d].animation._group=null}this._children=[]};a.prototype.isAncestorOf=function(d){while(d){if(d===this){return true}d=d._group}return false};a.prototype._updateCurrentTime=function(f){var e=b.State.STOPPED;for(var d=0;d<this._children.length;++d){var g=this._children[d];g.animation._time=f-g.offset;g.animation._updateCurrentTime(g.animation._time);if(g.offset<this.time()&&this.time()<g.offset+g.animation.duration()){e=this.state()}else{e=b.State.STOPPED}if(g.animation._state!==e){g.animation._state=e;g.animation._updateState(e)}}};a.prototype._updateState=function(f){var e=b.State.STOPPED;for(var d=0;d<this._children.length;++d){var g=this._children[d];if(g.offset<this.time()&&this.time()<g.offset+g.animation.duration()){e=this.state()}else{e=b.State.STOPPED}if(g.animation._state!==e){g.animation._state=e;g.animation._updateState(e)}}};a.prototype._updateDirection=function(e){for(var d=0;d<this._children.length;++d){var f=this._children[d];f.animation._direction=e;f.animation._updateDirection(e)}};return a});define("Animation/AnimationGroup",["DS/Animation/AnimationGroup","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("Animation/AnimationGroup");return b});define("DS/Animation/PropertyAnimation",["DS/Animation/ANIM","DS/Animation/AbstractAnimation"],function(a,c){var b=function(g,e,f,d){c.call(this,d);this._target=g;this._property=e;this._path=f};b.prototype=new c();b.prototype.target=function(){return this._target};b.prototype.setTarget=function(d){a.assert(this.state()===a.State.STOPPED);this._target=d};b.prototype.property=function(){return this._property};b.prototype.setProperty=function(d){a.assert(this.state()===a.State.STOPPED);this._property=d};b.prototype.path=function(){return this._path};b.prototype.setPath=function(d){a.assert(this.state()===a.State.STOPPED);this._path=d};b.prototype.duration=function(){return this._path.duration()};b.prototype._updateCurrentTime=function(d){if(this._target[this._property] instanceof Function){this._target[this._property](this._path.valueAt(d))}else{this._target[this._property]=this._path.valueAt(d)}};return b});define("Animation/PropertyAnimation",["DS/Animation/PropertyAnimation","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("Animation/PropertyAnimation");return b});define("DS/Animation/AnimationPath",["DS/Animation/ANIM"],function(a){var b=function(d,c,e){this._startValue=d;this._endValue=c;this._duration=e;this._easingCurve=function(f){a.assert(0<=f&&f<=1);return f};this._interpolator=function(f,g,h){return g+(h-g)*f}};b.prototype.startValue=function(){return this._startValue};b.prototype.setStartValue=function(c){this._startValue=c};b.prototype.endValue=function(){return this._endValue};b.prototype.setEndValue=function(c){this._endValue=c};b.prototype.duration=function(){return this._duration};b.prototype.setDuration=function(c){this._duration=c};b.prototype.easingCurve=function(){return this._easingCurve};b.prototype.setEasingCurve=function(c){this._easingCurve=c};b.prototype.interpolator=function(){return this._interpolator};b.prototype.setInterpolator=function(c){this._interpolator=c};b.prototype.valueAt=function(f){a.assert(0<=f&&f<=this._duration);var c=f/this._duration;var d=this._easingCurve(c);return this._interpolator(d,this._startValue,this._endValue)};return b});define("Animation/AnimationPath",["DS/Animation/AnimationPath","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("Animation/AnimationPath");return b});
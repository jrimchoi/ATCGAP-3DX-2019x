define("DS/Menu/Menu",["DS/WebRecordEnabler/Adapter","DS/Core/PointerEvents","css!DS/Menu/assets/css/Menu.css"],function(h,f){var b=document.createElement("div");b.innerHTML=['<div class="wux-menu">','<div class="wux-menu-parent">','<div class="wux-menu-parent-up"></div>','<div class="wux-menu-parent-title"></div>',"</div>",'<div class="wux-menu-scroll-up wux-menu-scroll-disabled"></div>','<div class="wux-menu-scrollable">','<div class="wux-menu-container">','<div class="wux-menu-column wux-menu-column-left"></div>','<div class="wux-menu-column wux-menu-column-icon"></div>','<div class="wux-menu-column wux-menu-column-title"></div>','<div class="wux-menu-column wux-menu-column-accelerator"></div>','<div class="wux-menu-column wux-menu-column-submenu"></div>',"</div>","</div>",'<div class="wux-menu-scroll-down"></div>',"</div>",'<div class="wux-menu-cell"></div>','<div class="wux-menu-overlap"></div>','<div class="wux-menu-overlap-submenu"></div>','<div class="wux-menu-collection-item"></div>',].join("");var F=b.querySelector(".wux-menu");var o=b.querySelector(".wux-menu-cell");var V=b.querySelector(".wux-menu-overlap");var r=b.querySelector(".wux-menu-overlap-submenu");var N=b.querySelector(".wux-menu-collection-item");var T={};var U=[];var i=-1;var X=-1;var Y=-1;var d=-1;var n=50;var L=undefined;var B=undefined;var k=-1;var j=-1;var D=0;var v=0;var u=0;var c=false;const l=0;const M=1;const Z=2;var W=l;var s=[];var y=function y(ab,ac){this.content=ab;this.menu_uid=ac;this.previous_uid=-1;this.next_uid=-1;this.submenu_uid=-1;this.cells=[];this.uid=s.push(this)-1};var O=function O(ad,ab,af,ag,ae,ac){this.parent=ad;this.parentRecId=af;this.parentTitle=ag;this.content=ae;this.config=ac;this.parent_item_uid=(ab?ab.uid:-1);this.first_uid=-1;this.focus_uid=-1;this.uid=U.push(this)-1};function E(ab){if(ab.substr(0,4)==="url("){return ab}return'url("'+ab+'")'}function e(){var ab=undefined;if(h.isRecording()||h.isReplaying()){ab=document.getElementById("menu_record");if(!ab){ab=document.createElement("div");ab.setAttribute("id","menu_record");ab.setAttribute("data-rec-id","menu_record");ab.style.display="none";document.body.appendChild(ab);h.register(ab,"DS/MenuRec/MenuRec")}}return ab}O.prototype.buildView=function z(){if(this.parent&&!(this.parent instanceof O)){throw new Error("Invalid parent, parent must be a Menu instance.")}this.useTouchInput=false;if(this.config){if(this.config.input){if(this.config.input==="touch"){this.useTouchInput=true}else{if(this.config.input!=="mouse"){throw new Error("Invalid config, 'input' property must be either 'mouse' or 'touch'.")}}}}this.useTouchInput=true;if(!this.content||!this.content.length){throw new Error("Invalid content, menu must contain at least one item.")}this.showIcons=false;this.showTitles=false;this.showAccelerators=false;this.showSubMenuSeparators=false;this.showSubMenus=false;this.view=F.cloneNode(true);this.view.dataset.wuxMenuUid=this.uid;var ai=e();if(ai){this.view.dataset.recId="menu_"+this.uid;ai.markForRecord(this.view)}if(this.uid>0){if(W===Z){this.view.classList.add("wux-menu-replace");this.view.querySelector(".wux-menu-parent-title").textContent=this.parentTitle}}var ad=this.view.querySelector(".wux-menu-column-left");var ah=this.view.querySelector(".wux-menu-column-icon");var ag=this.view.querySelector(".wux-menu-column-title");var ae=this.view.querySelector(".wux-menu-column-accelerator");var ab=this.view.querySelector(".wux-menu-column-submenu");var ac=this;var aj=-1;this.content.forEach(function af(aC,au,av){if(!aC||!aC.type){throw new Error("Invalid item, 'type' property is mandatory.")}if(aC.icon&&aC.fonticon){throw new Error("Invalid item, 'icon' and 'fonticon' properties cannot be set together.")}if(aC.icon&&typeof aC.icon!=="string"){throw new Error("Invalid item, 'icon' property must be a string.")}if(aC.fonticon&&(!(aC.fonticon instanceof Object)||!aC.fonticon.content||typeof aC.fonticon.content!=="string")){throw new Error("Invalid item, 'fonticon' property must be an object with a 'content' string property.")}if(aC.submenu&&(!(aC.submenu instanceof Array)||!aC.submenu.length)){throw new Error("Invalid item, 'submenu' property must be an non empty array of menu items.")}if(aC.action&&typeof aC.action.callback!=="function"){throw new Error("Invalid item, 'action.callback' property must be a function.")}var az=false;var ay=false;if(aC.state){var ar=aC.state.toLowerCase().split("|");az=(ar.indexOf("disabled")>=0);ay=(ar.indexOf("selected")>=0)}var aB=ad.appendChild(o.cloneNode(true));var aw=ah.appendChild(o.cloneNode(true));var al=ag.appendChild(o.cloneNode(true));var at=ae.appendChild(o.cloneNode(true));var am=ab.appendChild(o.cloneNode(true));var ax=aB.appendChild(V.cloneNode(true));var ao=[aB,aw,al,at,am];if(aC.type==="SeparatorItem"){ao.forEach(function(aE,aD,aF){aE.classList.add("wux-menu-separator")})}else{if(aC.type==="TitleItem"){ao.forEach(function(aE,aD,aF){aE.classList.add("wux-menu-title");if(az){aE.classList.add("wux-menu-disabled")}});if(aC.title){ax.textContent=aC.title}if(aC.tooltip){ax.setAttribute("title",aC.tooltip)}}else{if(aC.type==="PushItem"){var ap,aq;if(!az){ap=new y(aC,ac.uid);if(aC.submenu&&aC.action){if(aj!=-1){ap.previous_uid=aj;s[aj].next_uid=ap.uid}aj=ap.uid;ap.cells.push(aB,aw,al,at);aq=new y(aC,ac.uid);aq.previous_uid=aj;s[aj].next_uid=aq.uid;aj=aq.uid;aq.cells.push(am);ax.dataset.wuxMenuItemUid=ap.uid;am.dataset.wuxMenuItemUid=aq.uid}else{if(aj!=-1){ap.previous_uid=aj;s[aj].next_uid=ap.uid}aj=ap.uid;ap.cells.push(aB,aw,al,at,am);ax.dataset.wuxMenuItemUid=ap.uid}if(this.first_uid==-1){this.first_uid=ap.uid}}ao.forEach(function(aE,aD,aF){aE.classList.add("wux-menu-push");if(az){aE.classList.add("wux-menu-disabled")}});if(aC.icon){this.showIcons=true;aw.style.backgroundImage=E(aC.icon)}else{if(aC.fonticon){this.showIcons=true;if(aC.fonticon.content.substr(0,2)==="&#"){aw.innerHTML=aC.fonticon.content}else{var ak=aC.fonticon.content.split(" ");ak.forEach(function(aE,aD,aF){aw.classList.add(aE)})}if(aC.fonticon.family){aw.style.fontFamily=aC.fonticon.family}}}if(aC.title){this.showTitles=true;al.textContent=aC.title}if(aC.accelerator){this.showAccelerators=true;at.textContent=aC.accelerator}if(aC.submenu){this.showSubMenus=true;if(aC.action){this.showSubMenuSeparators=true;ax.classList.add("wux-menu-submenu-separator");am.classList.add("wux-menu-submenu-separator")}am.classList.add("wux-menu-submenu");var aA=new O(this,aq?aq:ap,aC.recId,aC.title,aC.submenu,this.config);aA.buildView();if(aq){aq.submenu_uid=aA.uid}else{if(ap){ap.submenu_uid=aA.uid}}}if(aC.tooltip){ax.setAttribute("title",aC.tooltip)}}else{if(aC.type==="CheckItem"||aC.type==="RadioItem"){var ap;if(!az){ap=new y(aC,ac.uid);if(aj!=-1){ap.previous_uid=aj;s[aj].next_uid=ap.uid}aj=ap.uid;ap.cells.push(aB,aw,al,at,am);ax.dataset.wuxMenuItemUid=ap.uid;if(this.first_uid==-1){this.first_uid=ap.uid}}ao.forEach(function(aE,aD,aF){aE.classList.add(aC.type==="CheckItem"?"wux-menu-check":"wux-menu-radio");if(az){aE.classList.add("wux-menu-disabled")}if(ay){aE.classList.add("wux-menu-selected")}});if(aC.icon){this.showIcons=true;aw.style.backgroundImage=E(aC.icon)}else{if(aC.fonticon){this.showIcons=true;if(aC.fonticon.content.substr(0,2)==="&#"){aw.innerHTML=aC.fonticon.content}else{var ak=aC.fonticon.content.split(" ");ak.forEach(function(aE,aD,aF){aw.classList.add(aE)})}if(aC.fonticon.family){aw.style.fontFamily=aC.fonticon.family}}}if(aC.title){this.showTitles=true;al.textContent=aC.title}if(aC.accelerator){this.showAccelerators=true;at.textContent=aC.accelerator}if(aC.tooltip){ax.setAttribute("title",aC.tooltip)}}else{if(aC.type==="CollectionItem"){ao.forEach(function(aE,aD,aF){aE.classList.add("wux-menu-collection");if(az){aE.classList.add("wux-menu-disabled")}});if(aC.items){aC.items.forEach(function an(aF,aE,aK){if(aF.icon&&aF.fonticon){throw new Error("Invalid item, 'icon' and 'fonticon' properties cannot be set together.")}if(aF.icon&&typeof aF.icon!=="string"){throw new Error("Invalid item, 'icon' property must be a string.")}if(aF.fonticon&&(!(aF.fonticon instanceof Object)||!aF.fonticon.content||typeof aF.fonticon.content!=="string")){throw new Error("Invalid item, 'fonticon' property must be an object with a 'content' string property.")}if(aF.action&&typeof aF.action.callback!=="function"){throw new Error("Invalid item, 'action.callback' property must be a function.")}var aI=false;if(aF.state){var aJ=aF.state.toLowerCase().split("|");aI=(aJ.indexOf("disabled")>=0)}var aH=N.cloneNode(true);if(az||aI){aH.classList.add("wux-menu-disabled")}if(aF.icon){aH.style.backgroundImage=E(aF.icon)}else{if(aF.fonticon){if(aF.fonticon.content.substr(0,2)==="&#"){aH.innerHTML=aF.fonticon.content}else{var aD=aF.fonticon.content.split(" ");aD.forEach(function(aM,aL,aN){aH.classList.add(aM)})}if(aF.fonticon.family){aH.style.fontFamily=aF.fonticon.family}}}if(aF.tooltip){aH.setAttribute("title",aF.tooltip)}var aG;if(!az&&!aI){aG=new y(aF,ac.uid);if(aj!=-1){aG.previous_uid=aj;s[aj].next_uid=aG.uid}aj=aG.uid;aG.cells.push(aH);aH.dataset.wuxMenuItemUid=aG.uid;if(this.first_uid==-1){this.first_uid=aG.uid}}this.appendChild(aH)},ax)}}else{throw new Error("Invalid item, '"+aC.type+"' is an unsupported 'type' property.")}}}}}},this);if(this.first_uid!=-1){s[this.first_uid].previous_uid=aj;s[aj].next_uid=this.first_uid}if(this.useTouchInput){this.view.classList.add("wux-menu-touch")}else{this.view.classList.add("wux-menu-mouse")}if(!this.showIcons){ah.parentNode.removeChild(ah)}if(!this.showTitles){ag.parentNode.removeChild(ag)}if(!this.showAccelerators){ae.parentNode.removeChild(ae)}if(!this.showSubMenus){ab.parentNode.removeChild(ab)}if(!this.showIcons){ag.classList.add("wux-menu-column-left-margin")}if(this.showAccelerators||!this.showSubMenus||this.showSubMenuSeparators){if(this.showTitles){ag.classList.add("wux-menu-column-right-margin")}else{ah.classList.add("wux-menu-column-right-margin")}}if(this.showAccelerators&&(!this.showSubMenus||this.showSubMenuSeparators)){ae.classList.add("wux-menu-column-right-margin")}};O.prototype.updateSize=function q(){var ao=true;if(this.view){var ag=this.view.getBoundingClientRect().width;if(ag<160||ag>320){var an=this.view.querySelector(".wux-menu-column-title");if(an){var ak=an.getBoundingClientRect().width;if(ag>320){ak+=(320-ag)}else{ak+=(160-ag)}an.style.width=ak+"px";ag=this.view.getBoundingClientRect().width}}var ai=this.view.querySelectorAll(".wux-menu-overlap");for(var ae=0;ae<ai.length;ae++){if(ai[ae].classList.contains("wux-menu-submenu-separator")){var ac=this.view.querySelector(".wux-menu-column-submenu");var ah=(ac?ac.getBoundingClientRect().width:0);ai[ae].style.width=(ag-ah)+"px"}else{ai[ae].style.width=ag+"px"}}var ab=this.view.querySelectorAll(".wux-menu-column");var aj=this.view.querySelectorAll(".wux-menu-collection .wux-menu-overlap");for(var ae=0;ae<aj.length;ae++){var af=Array.prototype.indexOf.call(aj[ae].parentNode.parentNode.children,aj[ae].parentNode);var am=aj[ae].getBoundingClientRect().height;for(var ad=0;ad<ab.length;ad++){ab[ad].children[af].style.height=am+"px"}}var al=document.documentElement.clientWidth;if(this.config&&this.config.display){if(this.config.display.paddingLeft){al-=this.config.display.paddingLeft}if(this.config.display.paddingRight){al-=this.config.display.paddingRight}}if((ag+320)>al){ao=false}}return ao};O.prototype.setHoverState=function a(ab,ad){if(ab>=0&&ab<s.length){if(ad){this.focus_uid=ab;if(this.parent&&this.parent_item_uid>=0){this.parent.setHoverState(this.parent_item_uid,true)}}var ac=s[ab].cells;for(var ae=0;ae<ac.length;ae++){if(ad){ac[ae].classList.add("wux-menu-hover")}else{ac[ae].classList.remove("wux-menu-hover")}}}if(!ad&&this.focus_uid==ab){this.focus_uid=-1}};function aa(ac){var ae=s[ac].cells;var ad=((ae.length>1||ae[0].classList.contains("wux-menu-collection-item"))?ae[0]:s[s[ac].previous_uid].cells[0]);var af=ae[ae.length-1];var ai=ad.getBoundingClientRect();var ag=af.getBoundingClientRect();var ab=(ad.previousElementSibling!==null?(ai.height-ad.clientHeight):0);var ah={};ah.top=ai.top-ab;ah.right=ag.right;ah.bottom=ai.bottom;ah.left=ai.left;ah.width=ag.right-ai.left;ah.height=ai.height+ab;return ah}O.prototype.makeItemVisible=function K(ad){if(this.view&&this.view.classList.contains("wux-menu-with-scroll")){var ae=aa(ad);var af=this.view.querySelector(".wux-menu-scroll-up");var ac=this.view.querySelector(".wux-menu-scrollable");var ab=this.view.querySelector(".wux-menu-scroll-down");var ak=this.view.querySelector(".wux-menu-container");var aj=ac.getBoundingClientRect();var ai=ak.getBoundingClientRect();var ah=ai.height-aj.height;if(ae.top<aj.top){var ag=ai.top-ae.top;if(ag>=0){ag=0;af.classList.add("wux-menu-scroll-disabled")}ak.style.top=ag+"px";ab.classList.remove("wux-menu-scroll-disabled")}else{if(ae.bottom>aj.bottom){var ag=ai.top-aj.top-(ae.bottom-aj.bottom);if((aj.height-ag)>=ai.height){ag=aj.height-ai.height;ab.classList.add("wux-menu-scroll-disabled")}ak.style.top=ag+"px";af.classList.remove("wux-menu-scroll-disabled")}}}};O.prototype.onKeyDown=function g(ae){if(this.first_uid==-1){return}var ag=this.focus_uid;var af=this.focus_uid;var ad=false;if(ae==13){if(this.focus_uid!=-1){var ab=s[this.focus_uid].submenu_uid;if(ab!=-1){var ac={};ac.parentItemRect=aa(this.focus_uid);U[ab].show(ac);ad=true}else{A(s[this.focus_uid])}}}else{if(ae==27){if(this.parent){this.hide();i=this.parent.uid}else{T.hide()}}else{if(ae==37){if(i==0){ad=true}else{this.hide();i=this.parent.uid}}else{if(ae==38){if(this.focus_uid==-1){af=s[this.first_uid].previous_uid}else{af=s[this.focus_uid].previous_uid}if(af===ag){ad=true}}else{if(ae==39){if(this.focus_uid!=-1){var ab=s[this.focus_uid].submenu_uid;if(ab!=-1){var ac={};ac.parentItemRect=aa(this.focus_uid);U[ab].show(ac)}ad=true}}else{if(ae==40){if(this.focus_uid==-1){af=this.first_uid}else{af=s[this.focus_uid].next_uid}if(af===ag){ad=true}}}}}}}if(!ad){this.setHoverState(ag,false)}if(af!==ag){this.setHoverState(af,true);this.makeItemVisible(af)}};O.prototype.show=function I(au){if(this.view){var ah=0,ag=0;var ab=document.documentElement.clientWidth;var ad=document.documentElement.clientHeight;var al=false;if(this.uid>0&&W===Z){al=true;var ae=this.parent.view.getBoundingClientRect();ah=ae.left;ag=ae.top}else{if(au&&au.position){ah=au.position.x;ag=au.position.y}if(au&&au.parentItemRect&&!c){ah=au.parentItemRect.right;ag=au.parentItemRect.top}}this.view.style.left=ah+"px";this.view.style.top=ag+"px";document.body.appendChild(this.view);if(!this.updateSize()){if(W===l&&this.uid===0){W=Z;var an=this.config||{};an.submenu="replace";T.show(this.content,an)}}var ao=0;var ai=0;var ac=ab;var aj=ad;if(au&&au.display){if(au.display.paddingLeft){ao=au.display.paddingLeft}if(au.display.paddingTop){ai=au.display.paddingTop}if(au.display.paddingRight){ac-=au.display.paddingRight}if(au.display.paddingBottom){aj-=au.display.paddingBottom}}var ar=ac-ao;var ap=aj-ai;var ak=this.view.getBoundingClientRect();if(!al&&au&&au.parentItemRect&&c){ah=au.parentItemRect.left-ak.width;ag=au.parentItemRect.top;this.view.style.left=ah+"px";this.view.style.top=ag+"px"}if(!al&&au&&au.layout){var at=au.layout.toLowerCase().split("|");for(var aq=0;aq<at.length;aq++){if(at[aq]==="topleft"){this.view.style.left=ah+"px";this.view.style.top=ag+"px"}else{if(at[aq]==="topright"){this.view.style.left=(ah-ak.width)+"px";this.view.style.top=ag+"px"}else{if(at[aq]==="bottomleft"){this.view.style.left=ah+"px";this.view.style.top=(ag-ak.height)+"px"}else{if(at[aq]==="bottomright"){this.view.style.left=(ah-ak.width)+"px";this.view.style.top=(ag-ak.height)+"px"}}}}ak=this.view.getBoundingClientRect();if(ak.left>=ao&&ak.right<ac&&ak.top>=ai&&ak.bottom<aj){break}}}ak=this.view.getBoundingClientRect();if(ak.left<ao||ak.right>=ac||ak.top<ai||ak.bottom>=aj){var af=ak.left;var am=ak.top;if(ak.right>ac){if(au&&au.parentItemRect&&!c&&(au.parentItemRect.left-ak.width)>=ao){af=au.parentItemRect.left-ak.width;am=au.parentItemRect.top;c=true}else{af-=ak.width;if((af+ak.width)>ac){af=ac-ak.width}}}if(ak.bottom>aj){am-=ak.height;if((am+ak.height)>aj){am=aj-ak.height}}if(af<ao){af=ao}if(am<ai){am=ai}if(!al){this.view.style.left=af+"px";this.view.style.top=am+"px"}if(ak.height>(aj-am)){this.view.style.height=ap+"px";this.view.classList.add("wux-menu-with-scroll")}}i=this.uid;if(al){this.parent.view.style.display="none";Y=this.uid}}};O.prototype.hide=function S(){if(this.view&&this.view.parentNode){this.view.parentNode.removeChild(this.view);this.setHoverState(-1,false);if(this.parent&&this.parent.view.style.display==="none"){this.parent.view.style.display="";i=this.parent.uid;Y=this.parent.uid;if(this.parent.focus_uid>=0){var ab=aa(this.parent.focus_uid);if(k<ab.left||k>ab.right||j<ab.top||j>ab.bottom){this.parent.setHoverState(this.parent.focus_uid,false)}}}}};function p(ab){if(!ab){return -1}if(!ab.dataset||ab.dataset.wuxMenuUid===undefined){return p(ab.parentNode)}return Number(ab.dataset.wuxMenuUid)}function m(ab){if(ab>=0){return U[s[ab].menu_uid]}}function w(ac){var ab=ac.target.dataset.wuxMenuItemUid;if(ab>=0){var ad=m(ab);if(ad){ad.setHoverState(U[s[ab].menu_uid].focus_uid,false);ad.setHoverState(ab,true)}d=ab}else{d=-1}X=p(ac.target);if(X!=-1){Y=X}}function J(ac){var ab=ac.target.dataset.wuxMenuItemUid;if(ab>=0){var ad=m(ab);if(ad){ad.setHoverState(ab,false)}}}function Q(ab){if(ab.clientX!=k||ab.clientY!=j){k=ab.clientX;j=ab.clientY;var ac=p(ab.target);if(ac==-1){if(B===undefined){B=window.setTimeout(H,n)}}else{if(B!==undefined){window.clearTimeout(B);B=undefined}}if(L!==undefined){window.clearTimeout(L);L=undefined}L=window.setTimeout(t,n)}}function G(ae){if(f.isTouchEvent(ae)){w(ae);ae.target.style.cursor="pointer"}if(ae.touches&&ae.touches.length===1){var ag=new Date().getTime();var ad=ag-D;var ac=Math.abs(v-ae.touches[0].clientX);var ab=Math.abs(u-ae.touches[0].clientY);if(ac<10&&ab<10&&ad<500){ae.preventDefault()}v=ae.touches[0].clientX;u=ae.touches[0].clientY;D=ag}var af=p(ae.target);if(af==-1){T.hide()}}function x(af){if(af.button===0||f.isTouchEvent(af)){var ab=af.target.dataset.wuxMenuItemUid;if(ab>=0){var ad=s[ab];if(ad){var ag=U[ad.menu_uid];if(ad.submenu_uid!=-1){var ae=i;while(ae!=ad.menu_uid){U[ae].hide();ae=U[ae].parent.uid}var ac={};ac.parentItemRect=aa(ab);U[ad.submenu_uid].show(ac)}else{A(ad)}}}else{if(af.target.classList.contains("wux-menu-scroll-up")){P({deltaY:-20,target:af.target})}else{if(af.target.classList.contains("wux-menu-scroll-down")){P({deltaY:20,target:af.target})}else{if(af.target.classList.contains("wux-menu-parent-up")){if(i!=-1){U[i].hide()}}}}}}}function g(ab){if(i!=-1){U[i].onKeyDown(ab.keyCode||ab.location)}}function C(ab){ab.stopPropagation();ab.preventDefault()}function A(ae){var ac=e();if(h.isRecording()&&ac){var ab=ae.content.recId;if(!ab){h.TraceManager.error('Menu item "'+ae.content.title+"\" doesn't have a record identifier, this is not compatible with WebRecord")}else{var ad=U[ae.menu_uid];while(ad.uid>0){if(!ad.parentRecId){h.TraceManager.error('Menu item "'+ad.parentTitle+"\" doesn't have a record identifier, this is not compatible with WebRecord");ab=undefined;break}ab=ad.parentRecId+"/"+ab;ad=ad.parent}}if(ab){h.addCustomInteraction(ac,{recVersion:1,recType:"MenuAction",recIdPath:ab},"DS/MenuRec/MenuRec",{checkVisibility:false})}}T.hide();if(ae&&ae.content&&ae.content.action&&ae.content.action.callback){ae.content.action.callback.call(ae.content.action["this"],{context:ae.content.action.context})}}function R(ab){T.hide()}function P(ac){var ah=ac.target;while(ah&&ah.dataset&&ah.dataset.wuxMenuUid===undefined){ah=ah.parentNode}if(ah&&ah.dataset){var af=ah.dataset.wuxMenuUid;if(af>=0){var ad=U[af];if(ad&&ad.view&&ad.view.classList.contains("wux-menu-with-scroll")){var ag=ad.view.querySelector(".wux-menu-scroll-up");var ae=ad.view.querySelector(".wux-menu-scrollable");var ab=ad.view.querySelector(".wux-menu-scroll-down");var am=ad.view.querySelector(".wux-menu-container");var al=ae.getBoundingClientRect();var ak=am.getBoundingClientRect();var aj=ak.height-al.height;if(ac.deltaY>0){var ai=ak.top-al.top-20;if((al.height-ai)>=ak.height){ai=al.height-ak.height;ab.classList.add("wux-menu-scroll-disabled")}am.style.top=ai+"px";ag.classList.remove("wux-menu-scroll-disabled")}else{var ai=ak.top-al.top+20;if(ai>=0){ai=0;ag.classList.add("wux-menu-scroll-disabled")}am.style.top=ai+"px";ab.classList.remove("wux-menu-scroll-disabled")}}}}}function t(){L=undefined;if(X<0){var ae=Y>=0?Y:0;var af=i;while(af!=ae){U[af].hide();af=U[af].parent.uid}i=ae}else{if(W!==Z){var ab=-1;if(d>=0){ab=s[d].submenu_uid}var af=i;while(af!=X&&af!=ab){U[af].hide();af=U[af].parent.uid}if(ab>=0&&af!=ab){var ad=s[d];if(ad){var ac={};ac.parentItemRect=aa(d);U[ab].show(ac)}}i=ab>=0?ab:X}}}function H(){B=undefined;var ab=Y>=0?Y:0;var ac=i;while(ac!=ab){U[ac].hide();ac=U[ac].parent.uid}i=ab}T.show=function I(ae,ac){T.hide();W=l;if(ac&&ac.submenu==="replace"){W=Z}else{if(ac&&ac.submenu==="outside"){W=M}}var ad=new O(undefined,undefined,undefined,undefined,ae,ac);ad.buildView();ad.show(ac);var ab=e();if(ab&&U.length>0){ab.menus=U[0].content}document.addEventListener("mouseover",w,true);document.addEventListener(f.POINTEROUT,J);document.addEventListener(f.POINTERMOVE,Q);document.addEventListener(f.POINTERDOWN,G);document.addEventListener(f.POINTERHIT,x);document.addEventListener("keydown",g,true);document.addEventListener("resize",R,false);document.addEventListener("contextmenu",C,false);document.addEventListener("wheel",P,true);this._onShow();return ad.view.getBoundingClientRect()};T.hide=function S(){var ac=e();if(h.isRecording()&&ac){h.addCustomInteraction(ac,{recVersion:1,recType:"MenuHide"},"DS/MenuRec/MenuRec",{checkVisibility:false})}document.removeEventListener("mouseover",w,true);document.removeEventListener(f.POINTEROUT,J);document.removeEventListener(f.POINTERMOVE,Q);document.removeEventListener(f.POINTERDOWN,G);document.removeEventListener(f.POINTERHIT,x);document.removeEventListener("keydown",g,true);document.removeEventListener("resize",R,false);document.removeEventListener("contextmenu",C,false);document.removeEventListener("wheel",P,true);if(L!==undefined){window.clearTimeout(L);L=undefined}if(B!==undefined){window.clearTimeout(B);B=undefined}for(var ad=0;ad<U.length;ad++){if(U[ad].view){var ab=U[ad].view.parentNode;if(ab){ab.removeChild(U[ad].view)}}}U=[];i=-1;X=-1;Y=-1;d=-1;s=[];c=false};T._onShow=function(){};return T});define("DS/Menu/ContextualMenu",["DS/Menu/Menu","DS/WebRecordEnabler/Adapter","UWA/Class/Promise","DS/Core/PointerEvents"],function(j,c,k,i){var h=undefined;var l="mouse";var n="auto";function a(o){return !isNaN(parseFloat(o))&&isFinite(o)}function m(o){if(i.isTouchEvent(o)){d(o)}}function d(r){var z=[];var s=r.target;while(s){if(s["wux-data-contextual"]){var v=s.getBoundingClientRect?s.getBoundingClientRect():{left:0,top:0};var w=r.pageX-v.left;var u=r.pageY-v.top;var t=s["wux-data-contextual"];for(var p=0;p<t.length;p++){var o=t[p].params.callback.call(t[p].params["this"],{context:t[p].params.context,info:{position:{x:w,y:u},target:r.target},data:{listener:s,listenerPosition:{x:w,y:u},target:r.target,targetPosition:{x:r.offsetX,y:r.offsetY},windowPosition:{x:r.clientX,y:r.clientY}}});if(o&&(o instanceof Promise)){z.push(o)}else{if(o&&o.length>0){z.push(k.resolve(o))}}}}if(z.length>0||!r.target||r.target.tagName.toLowerCase()!=="input"&&r.target.tagName.toLowerCase()!=="textarea"){r.preventDefault()}if(s===window){s=undefined}else{s=s.parentNode?s.parentNode:window}}if(z&&z.length>0){var q=c.WaitManager.addWaitCondition(20*1000,"Wait context menu to be displayed");k.allSettled(z).then(function(x){var A=[];var B=0;if(x&&x.length>0){for(var y=0;y<x.length;y++){if(x[y].value&&x[y].value.length>0){if(A.length>B){A.push({type:"SeparatorItem"});B=A.length}A=A.concat(x[y].value)}}}if(A&&A.length>0){j.show(A,{display:h,input:l,position:{x:r.pageX,y:r.pageY},submenu:n})}c.WaitManager.removeWaitCondition(q)})}return false}var g={};g.setGlobalConfig=function e(o){if(!o){throw new Error("Invalid configuration.")}if(o.display){h=o.display}if(o.input){if(o.input!=="mouse"&&o.input!=="touch"){throw new Error("Invalid input configuration, expected values are 'mouse' or 'touch'.")}l=o.input}if(o.submenu){if(o.submenu!=="replace"&&o.submenu!=="outside"&&o.submenu!=="auto"){throw new Error("Invalid submenu configuration, expected values are 'replace', 'outside' or 'auto'.")}n=o.submenu}};g.addEventListener=function f(o,p){if(!o||!p){throw new Error("Invalid parameters.")}if(o!==window&&!(o instanceof HTMLElement)){throw new Error("Invalid parameters, 'target' must be the window or an HTMLElement.")}if(!p.callback||!(p.callback instanceof Function)){throw new Error("Invalid parameters, 'params.callback' must be a function.")}var q=o["wux-data-contextual"];if(!q){q=[];q.next=0;o["wux-data-contextual"]=q;o.addEventListener("contextmenu",d);o.addEventListener(i.LONGHOLD,m)}q.push({uid:q.next,params:p});return q.next++};g.removeEventListener=function b(q,p){if(!q||!a(p)){throw new Error("Invalid parameters.")}var r=q["wux-data-contextual"];if(!r){throw new Error("Invalid target.")}var o=0;while(o<r.length&&r[o].uid!=p){o++}if(o>=r.length){throw new Error("Invalid uid.")}if(r.length>1){r.splice(o,1);r.next=r[r.length-1].uid+1}else{q.removeEventListener("contextmenu",d);q.removeEventListener(i.LONGHOLD,m);delete q["wux-data-contextual"]}};return g});
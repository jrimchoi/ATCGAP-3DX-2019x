define("DS/CSIViewModelWebImplement/CSIVMClientModel",["DS/CSIViewModelWebImplement/CSIVMClientNameSpace","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey","DS/CSIViewModelWebImplement/CSIVMErrorManager"],function(d,b,c){function e(g,f,h){this._idSpace=g;this._idContext=f;this._shared=h}function a(){this.clear()}a.prototype.clear=function(){this._idPatterns=[];this._nameSpaces=[];this._treeKeys={};this._errorManager={}};a.prototype.isEqual=function(k){if(this._idPatterns.length!==k._idPatterns.length){console.log("_idPatterns length differs. Current is : ",this._idPatterns.length," ToCompare is : ",k._idPatterns.length);return 0}for(var l in this._treeKeys){if(k._treeKeys[l]===undefined){console.log("treeKey ",l," not found in ToCompare");return 0}}for(var l in k._treeKeys){if(this._treeKeys[l]===undefined){console.log("treeKey ",l," not found in Current");return 0}}if(this._nameSpaces.length!==k._nameSpaces.length){console.log("_nameSpaces length differs. Current is : ",this._nameSpaces.length," ToCompare is : ",k._nameSpaces.length);return 0}for(var h=0;h<this._nameSpaces.length;h++){var f;for(var g=0;(g<k._nameSpaces.length)&&(f===undefined);g++){if(this._nameSpaces[h]._uuid===k._nameSpaces[g]._uuid){f=k._nameSpaces[g]}}if(f===undefined){console.log("nameSpace of uuid ",this._nameSpaces[h]._uuid," not found in ToCompare");return 0}if(this._nameSpaces[h]._objects.length!==f._objects.length){console.log("current nameSpace of uuid ",this._nameSpaces[h]._uuid," has ",this._nameSpaces[h]._objects.length," objects whereas ToCompare has ",f._objects.length);return 0}if(this._nameSpaces[h]._treeKeys.length!==f._treeKeys.length){console.log("current nameSpace of uuid ",this._nameSpaces[h]._uuid," has ",this._nameSpaces[h]._treeKeys.length," treeKeys whereas ToCompare has ",f._treeKeys.length);return 0}}return 1};a.prototype.getOrCreateTreeKey=function(g,f){var h=this.getTreeKey(g);if(h==undefined){h=new b(g,f);this._treeKeys[g]=h}return h};a.prototype.getTreeKey=function(f){return this._treeKeys[f]};a.prototype.getTreeKeyFromViewType=function(g){var i;var f=undefined;var h=undefined;for(i in this._treeKeys){f=this._treeKeys[i];if(f.getViewType()==g){h=f}}return h};a.prototype.getTreeKeysFromViewType=function(g){var i=[];var h;var f=undefined;for(h in this._treeKeys){f=this._treeKeys[h];if(f.getViewType()==g){i.push(f)}}return i};a.prototype.removeTreeKey=function(f){var g=this.getTreeKey(f);if(g!==undefined){delete this._treeKeys[f]}};a.prototype.getIdPattern=function(g,f,l){var m=undefined;if(g!=undefined&&f!=undefined&&l!=undefined){var j=0;var k=this._idPatterns.length;var h=null;for(j=0;j<k&&m==undefined;j++){h=this._idPatterns[j];if(h._idSpace==g&&h._idContext==f&&h._shared==l){m=h}}}return m};a.prototype.isAnExistingIdPattern=function(g){var h=false;if(g!=undefined){var f=this._idPatterns.indexOf(g);if(f>-1){h=true}}return h};a.prototype.getOrCreateIdPattern=function(g,f,h){var i=undefined;if(g!=undefined&&f!=undefined&&h!=undefined){i=this.getIdPattern(g,f,h);if(i==undefined){i=new e(g,f,h);this._idPatterns.push(i)}}return i};a.prototype.getObject=function(g,i,k){var j=undefined;var f=this.getNameSpace(g);if(f!=undefined){var h=f.getObjects(i,k);if(h.length){j=h[0]}}return j};a.prototype.createObject=function(g,h,j){var i=undefined;var f=this.getNameSpace(g);if(f!=undefined){i=f.createObject(h,j)}return i};a.prototype.getOrCreateObject=function(g,h,j){var i=undefined;var f=this.getNameSpace(g);if(f!=undefined){i=f.getOrCreateObject(h,j)}return i};a.prototype.getDualObject=function(h,n,p){var j=undefined;var f=this.getTreeKeysFromViewType(h);var k=0;var g=f.length;for(k=0;k<g&&(j===undefined);k++){var l=f[k];var m=this.getNameSpace(l);if(m!==undefined){var o=m.getObjects(n,p);if(o!==undefined&&o.length===1){j=o[0]}}}return j};a.prototype.getNameSpace=function(g){var l=undefined;var h=0;var j=this._nameSpaces.length;var f=g.getNameSpaceId();for(h=0;h<j&&(l==undefined);h++){var k=this._nameSpaces[h];if(k.isNameSpaceOfTreeKey(g)>-1){l=k}else{if(k._uuid==f){l=k;l.addTreeKey(g)}}}return l};a.prototype.createNameSpace=function(f){var g=new d(f,this);this._nameSpaces.push(g);return g};a.prototype.getOrCreateNameSpace=function(g){var h=undefined;h=this.getNameSpace(g);if(h==undefined){var f=g.getNameSpaceId();if(f.length>0){h=this.createNameSpace(g.getNameSpaceId());h.addTreeKey(g)}}return h};a.prototype.getErrorManager=function(){if(Object.keys(this._errorManager).length){return this._errorManager}this._errorManager=new c();return this._errorManager};return a});
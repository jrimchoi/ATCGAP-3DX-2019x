define("DS/MPFMenuComponent/IntLabMenuCardLayoutModule",["DS/PlatformAPI/PlatformAPI","DS/UWPClientCode/WidgetFactory"],function(b,a){var c={isMenuReady:false,messageQueue:[],init:function(e,d){this.widget=e;this.self=d;this.widgetTopic=e.getValue("widgetTopic");this.menuTopic=e.getValue("menuTopic");this.isCreationMode=false;if(!(this.widgetTopic)){throw new Error("wigetTopic must be defined for MenuCardLayoutModule")}if(!(this.menuTopic)){throw new Error("menuTopic must be defined for MenuCardLayoutModule")}d.refreshIfVisible()},onBeforeLoadCards:function(e,d,f){b.subscribe(this.widgetTopic,this._handleWidgetMessage.bind(this));b.subscribe(this.menuTopic,this._handleMenuMessage.bind(this));b.publish(this.menuTopic,{event:"moduleReady",id:"MenuCardLayoutModule"})},onChangeCard:function(f){var e;var d;var g=f.layout.selectedTab.options.item.urlPart;if(g){b.publish(this.widgetTopic,{event:"stepSet",step:g});if(g.indexOf("service-information")!==-1){if(this.isMenuReady){b.publish(this.menuTopic,{event:"activateMenuItem",id:g})}else{this.messageQueue.push({event:"activateMenuItem",id:g})}}}e=f.layout.selectedTab.options.item.widget;if(e){d=e.environment;d&&d.setVisible(true,true)}},onLoadCards:function(e,d){this.isCreationMode=window.location.pathname.indexOf("service-information-creation")!==-1;this._loadCard(this.isCreationMode?"service-information-creation":"service-information")},_handleWidgetMessage:function(e){var d=this;switch(e.event){case"save":case"stepSet":break;default:if(this.isMenuReady){b.publish(this.menuTopic,e)}else{this.messageQueue.push(e)}break}},_handleMenuMessage:function(d){var e;switch(d.event){case"menuReady":this.isMenuReady=true;e=this.messageQueue.shift();while(e){b.publish(this.menuTopic,e);e=this.messageQueue.shift()}case"moduleReady":break;case"loadWidgets":this._loadCards();break;case"save":case"stepSet":b.publish(this.widgetTopic,d);default:break}},_loadCards:function(){var d;if(!(this.isCreationMode)){d=this.widget.layout.tabs;d.filter(function(e){return !(e.options.rendered)}).forEach(function(e){e.options.rendered=true;this.self.wp.children.push(e.options.item);a.load(e.options.item)},this)}},_loadCard:function(g){var d;var e;d=this.widget.layout.tabs;for(var f=0;f<d.length;f++){if(d[f].options.item.urlPart===g){e=d[f];break}}if(e&&!(e.options.rendered)){e.options.rendered=true;this.self.wp.children.push(e.options.item);a.load(e.options.item)}}};return c});define("DS/MPFMenuComponent/MenuEntryComponent",["UWA/Class/View"],function(c){var b;var a={selected:"selected",completed:"completed",inactive:"inactive"};b=c.extend({setup:function(d){d||(d={});this.url=d.url;this.status=d.status||a.inactive},render:function(){var d;this.container.setContent(d);return this}});b.Status=a;return b});define("DS/MPFMenuComponent/MenuComponent",["UWA/Core","UWA/Class/View","DS/PlatformAPI/PlatformAPI","DS/UWPClientCode/Navigation","DS/MPFUtils/MPFUtils","i18n!DS/MPFMenuComponent/assets/nls/MenuComponent","css!DS/MPFUI/MPFUI"],function(f,e,b,g,d,c){var a=e.extend({init:function(h){this._parent(h);var j=this;var i;this.baseURL=h.baseURL;this.topic=h.topic;this.menuItems=h.steps;b.subscribe(this.topic,function(k){switch(k.event){case"activateMenuItem":if(j.currentComponent){i=j._findMenuItem(j.currentComponent);j._inactiveDiv(j.menuItems[i].div)}j.currentComponent=k.id;i=j._findMenuItem(k.id);if(i===undefined){for(var n=0;n<j.menuItems.length;n++){if(j.menuItems[n].oldName&&j.menuItems[n].oldName===k.id){i=n;break}}}if(i!==undefined){if(j.menuItems[i].complete){j._completeIcon(j.menuItems[i].icon)}j._activeDiv(j.menuItems[i].div)}break;case"moduleReady":b.publish(j.topic,{event:"menuReady",id:"menu"});break;case"idChange":i=j._findMenuItem(k.oldID);if(i!==undefined){j.menuItems[i].name=k.newID;j.menuItems[i].oldNjeame=k.oldID;j.menuItems[i].div.removeClassName(k.oldID);j.menuItems[i].div.addClassName(k.newID);if(j.currentComponent===k.oldID){j.currentComponent=k.newID}i=j._findMenuItem(j.currentComponent);j.nextComponent=j.menuItems[i+1].name}break;case"resetMenu":j.container.setContent(f.createElement("div",{"class":"mpf-companyMenuContainer",html:j._createMenuItems()}));break;case"saveComplete":var m=j.nextComponent;if(k.next){i=j._findMenuItem(k.id);m=j.menuItems[i+1].name}j._navigateComponent({id:j.currentComponent,next:m});case"updateMenu":var l;i=j._findMenuItem(k.id);l=j.menuItems[i];l.complete=j._isMenuItemComplete(k);if(l.complete){j._completeIcon(l.icon);b.publish(j.topic,{event:"loadWidgets",id:"menu"})}else{if(k.id===j.currentComponent){j._activeDiv(l.div)}else{j._inactiveDiv(l.div)}}break;case"widgetBack":i=j._findMenuItem(k.id);k.next=j.menuItems[i-1].name;j._navigateComponent(k);break;case"widgetNext":i=j._findMenuItem(k.id);if(i===j.menuItems.length-1){window.location.pathname="/welcome"}else{k.next=j.menuItems[i+1].name;j._navigateComponent(k)}break;default:break}});b.publish(j.topic,{event:"menuReady",id:"menu"})},load:function(){this.container.setContent(f.createElement("div",{"class":"mpf-companyMenuContainer",html:this._createMenuItems()}));return this},destroy:function(){this.model=null;this._parent();this.container=null;this.menuItems=null},_createMenuItems:function(){var k=this;var j=[];var h;var i;this._getCurrentComponent();this.menuItems.forEach(function(l){h=k.currentComponent===l.name?"mpf-companyActiveMenuIcon":"mpf-companyInactiveMenuIcon";i=k.currentComponent===l.name?"mpf-companyActiveMenuItemDiv current mpf-companyMenuItemDiv":"mpf-companyMenuItemDiv";l.icon=f.createElement("span",{"class":h+" fonticon fonticon-record unchecked"});l.span=f.createElement("span",{text:l.label});l.div=f.createElement("div",{"class":i+" "+l.name,html:[l.icon,l.span],events:{click:function(n){var m=n.currentTarget||n.target;if(m.tagName.toLowerCase()!=="div"){m=m.getParent()}k.nextComponent=d.findInArray(k.menuItems,function(o){return m.hasClassName(o.name)}).name;k.menuItems.forEach(function(o){if(k.currentComponent===o.name){if(o.saveNeeded){b.publish(k.topic,{event:"save",id:"menu",target:k.currentComponent})}else{k._navigateComponent({id:k.currentComponent,next:k.nextComponent})}}})}}});j.push(l.div)});return j},_getCurrentComponent:function(){var h=this;this.currentComponent=this.menuItems[0].name;this.menuItems.forEach(function(i){if(window.location.pathname.indexOf(i.name)!==-1){h.currentComponent=i.name}})},_navigateComponent:function(i){var h;var k=this._findMenuItem(i.id);var j=this._findMenuItem(i.next);if(this.menuItems[k].icon.hasClassName("mpf-companyActiveMenuIcon")){this._inactiveIcon(this.menuItems[k].icon)}this._inactiveDiv(this.menuItems[k].div);h=i.next.indexOf(this.baseURL)===-1?this.baseURL+"/"+i.next:i.next;h+=window.location.search;g.routeTo(h);b.publish(this.topic,{event:"stepSet",id:i.next,step:i.next});this.currentComponent=i.next;this._activeDiv(this.menuItems[j].div);this._activeIcon(this.menuItems[j].icon)},_activeDiv:function(h){h.removeClassName("mpf-companyMenuHoverLabelDiv");h.addClassName("mpf-companyActiveMenuItemDiv");h.addClassName("current")},_inactiveDiv:function(h){h.removeClassName("mpf-companyActiveMenuItemDiv");h.removeClassName("current");h.addClassName("mpf-companyMenuItemDiv")},_completeIcon:function(h){h.removeClassName("fonticon-record");h.addClassName("fonticon-check");h.removeClassName("mpf-companyActiveMenuIcon");h.removeClassName("mpf-companyInactiveMenuIcon");h.addClassName("mpf-companyCompletedMenuIcon")},_activeIcon:function(h){if(!h.hasClassName("mpf-companyCompletedMenuIcon")){h.removeClassName("mpf-companyInactiveMenuIcon");h.addClassName("mpf-companyActiveMenuIcon")}},_inactiveIcon:function(h){h.removeClassName("mpf-companyActiveMenuIcon");h.removeClassName("mpf-companyCompletedMenuIcon");h.addClassName("mpf-companyInactiveMenuIcon");h.removeClassName("fonticon-check");if(!h.hasClassName("fonticon-record")){h.addClassName("fonticon-record")}},_findMenuItem:function(j){var h;for(var i=0;i<this.menuItems.length;i++){if(this.menuItems[i].name===j){h=i;break}}return h},_isMenuItemComplete:function(h){var i;if(h.complete!==undefined){i=h.complete===true}else{if(h.status!==undefined){i=h.status==="complete"}else{i=true}}return i}});return a});define("DS/MPFMenuComponent/StepNavigationButtonsComponent",["UWA/Core","UWA/Class/View","DS/UIKIT/Mask","DS/PlatformAPI/PlatformAPI","DS/UIKIT/Input/Button","i18n!DS/MPFMenuComponent/assets/nls/MenuComponent","css!DS/MPFUI/MPFUI"],function(f,e,d,a,g,b){var c=e.extend({setup:function(h){h||(h={});this.checkSave=h.checkSave;this.displayBack=h.displayBack;this.displayFinish=h.displayFinish;this.displayNext=h.displayNext;this.stepName=h.stepName;this.topic=h.topic;this.backButton=this._createBackButton();this.finishButton=this._createFinishButton();this.nextButton=this._createNextButton();a.subscribe(this.topic,this._onTopicMessage.bind(this))},render:function(){var h=[];if(this.displayBack){h.push(this.backButton)}if(this.displayFinish){h.push(this.finishButton)}if(this.displayNext){h.push(this.nextButton)}this.container.setContent(h);return this},_onTopicMessage:function(k){var i;var j;var h;i=k&&k.event;j=i&&k.event==="validationFailure";h=i&&k.event==="saveComplete";if(j||h){d.unmask(this.nextButton.elements.container)}},_onClickNext:function(){if(this.checkSave){d.mask(this.nextButton.elements.container,"")}a.publish(this.topic,{event:this.checkSave?"save":"widgetNext",id:this.stepName,next:true,target:this.stepName})},_onClickBack:function(){a.publish(this.topic,{event:"widgetBack",id:this.stepName,next:true,target:this.stepName})},_onClickFinish:function(h){a.publish(this.topic,{event:"widgetNext",id:this.stepName})},_createNextButton:function(){return new g({className:"default mpf-menuFooterButton next",value:b.get("next"),icon:"chevron-right right",events:{onClick:this._onClickNext.bind(this)}})},_createBackButton:function(){return new g({className:"default mpf-menuFooterButton back",value:b.get("back"),icon:"left-open",events:{onClick:this._onClickBack.bind(this)}})},_createFinishButton:function(){return new g({className:"primary mpf-menuFooterButton finish",events:{onClick:this._onClickFinish.bind(this)},value:b.get("finish")})}});return c});define("DS/MPFMenuComponent/CompanyMenuCardLayoutModule",["DS/PlatformAPI/PlatformAPI","DS/UWPClientCode/WidgetFactory"],function(b,a){var c={isMenuReady:false,messageQueue:[],init:function(e,d){this.widget=e;this.self=d;this.widgetTopic=e.getValue("widgetTopic");this.menuTopic=e.getValue("menuTopic");if(!(this.widgetTopic)){throw new Error("wigetTopic must be defined for MenuCardLayoutModule")}if(!(this.menuTopic)){throw new Error("menuTopic must be defined for MenuCardLayoutModule")}d.refreshIfVisible()},onBeforeLoadCards:function(e,d,f){b.subscribe(this.widgetTopic,this._handleWidgetMessage.bind(this));b.subscribe(this.menuTopic,this._handleMenuMessage.bind(this));b.publish(this.menuTopic,{event:"moduleReady",id:"MenuCardLayoutModule"})},onChangeCard:function(f){var e;var d;e=f.layout.selectedTab.options.item.widget;if(e){d=e.environment;d&&d.setVisible(true,true)}},onLoadCards:function(e,d){this._loadCard("information")},_handleWidgetMessage:function(d){if(d.event!=="save"&&d.event!=="stepSet"){if(this.isMenuReady){b.publish(this.menuTopic,d)}else{this.messageQueue.push(d)}}},_handleMenuMessage:function(d){var e;switch(d.event){case"menuReady":this.isMenuReady=true;e=this.messageQueue.shift();while(e){b.publish(this.menuTopic,e);e=this.messageQueue.shift()}case"moduleReady":break;case"loadWidgets":this._loadCards();break;case"save":case"stepSet":b.publish(this.widgetTopic,d);default:break}},_loadCards:function(){var d;d=this.widget.layout.tabs;d.filter(function(e){return !(e.options.rendered)}).forEach(function(e){e.options.rendered=true;this.self.wp.children.push(e.options.item);a.load(e.options.item)},this)},_loadCard:function(g){var d;var e;d=this.widget.layout.tabs;for(var f=0;f<d.length;f++){if(d[f].options.item.urlPart===g){e=d[f];break}}if(e&&!(e.options.rendered)){e.options.rendered=true;this.self.wp.children.push(e.options.item);a.load(e.options.item)}}};return c});
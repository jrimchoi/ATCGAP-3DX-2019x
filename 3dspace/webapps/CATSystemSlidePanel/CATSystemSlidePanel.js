define("DS/CATSystemSlidePanel/SlidePanel",["require","exports","DS/CATSystemCommon/Utils","DS/CATSystemCommon/DeviceDetector","DS/CATSystemCommon/TouchEvent","DS/UIKIT/Tooltip","UWA/Core"],function(e,h,i,d,c,j,g){e(["css!./SlidePanel.css"]);var a=(function(){function k(o,n,m,l){var p=this;if(l!=="top"&&l!=="left"&&l!=="right"&&l!=="bottom"){throw new Error("Unknown position "+l)}this.position=l;this.sizeRatio=o;this.size=2;this.tabs=[];this.tabsById={};this.container=document.createElement("div");this.container.className="syc-panel "+this.position;this.closeTabButton=document.createElement("div");this.closeTabButton.className="syc-panel-close fonticon fonticon-cancel syc-hidden";this.tabLabelContainer=document.createElement("div");this.tabLabelContainer.className="syc-panel-tab-labels";this.contents=document.createElement("div");this.contents.className="syc-panel-contents";this.contents.addEventListener("transitionend",function(){if(p.isVisible()){p.tabContents.style.overflowY="auto"}else{p.tabContents.style.overflowY="hidden"}p.contents.classList.remove("syc-animation")});this.buttons=document.createElement("div");this.buttons.className="syc-panel-buttons";this.tabContents=document.createElement("div");this.tabContents.className="syc-panel-tab-contents";this.container.appendChild(this.tabLabelContainer);this.container.appendChild(this.contents);this.contents.appendChild(this.buttons);this.contents.appendChild(this.tabContents);this.buttons.appendChild(this.closeTabButton);this.updateSize(n,m);this.attachEvent()}k.prototype.showTab=function(n,m){if(m===void 0){m=true}var l=this.tabsById[this.selectedTabId];if(l){if(l.content){l.content.classList.add("syc-hidden")}l.label.classList.remove("selected")}if(n.content){n.content.classList.remove("syc-hidden")}n.label.classList.add("selected");if(n.closeable){this.closeTabButton.classList.remove("syc-hidden")}else{this.closeTabButton.classList.add("syc-hidden")}this.selectedTabId=n.id;if(m){i.dispatchCustomEvent(this.container,"syc-tab-show",{tabId:n.id})}};k.prototype.createTab=function(l,o,p,m){if(p===void 0){p=false}if(m===void 0){m=true}var n=new k.Tab(l,this,o,p);this.tabsById[n.id]=n;this.tabs.push(n);this.tabLabelContainer.appendChild(n.label);if(n.content){this.tabContents.appendChild(n.content)}if(this.tabs.length===1){this.showTab(n)}else{if(this.hasMultipleTabContent()){this.container.classList.add("syc-tab-multiple")}}if(m){i.dispatchCustomEvent(this.container,"syc-tab-add",{tabId:n.id})}return n};k.prototype.getTab=function(l){if(l){return this.tabsById[l]}return undefined};k.prototype.hasMultipleTabContent=function(){var m=0;for(var l=0;l<this.tabs.length;l++){if(this.tabs[l].content){m++}if(m>1){return true}}return false};k.prototype.deleteTab=function(l,n){if(n===void 0){n=true}var o=this.tabsById[l];if(!o){return false}delete this.tabsById[l];var m;for(m=0;m<this.tabs.length;m++){if(this.tabs[m].id===l){this.tabs.splice(m,1);break}}this.tabLabelContainer.removeChild(o.label);if(o.content){this.tabContents.removeChild(o.content)}if(!this.hasMultipleTabContent()){this.container.classList.remove("syc-tab-multiple")}if(this.selectedTabId===o.id){if(this.tabs.length>0){this.showTab(this.tabs[m-1])}}if(n){i.dispatchCustomEvent(this.container,"syc-tab-remove",{tabId:o.id})}return o};k.prototype.isVisible=function(){return this.size>0};k.prototype.toggle=function(m,l){if(m===void 0){m=true}if(l===void 0){l=true}if(this.size>0){this.close(m);return false}else{this.open(m);return true}};k.prototype.open=function(m,l){if(m===void 0){m=true}if(l===void 0){l=true}if(m&&this.container.parentElement){this.contents.classList.add("syc-animation")}else{this.tabContents.style.overflowY="auto"}this.size=this.sizeRatio*this.getMaxSize();this.updateElementSize();if(l){i.dispatchCustomEvent(this.container,"syc-panel-resizing",{});i.dispatchCustomEvent(this.container,"syc-panel-resize",{})}};k.prototype.close=function(m,l){if(m===void 0){m=true}if(l===void 0){l=true}if(m&&this.container.parentElement){this.contents.classList.add("syc-animation")}else{this.tabContents.style.overflowY="hidden"}this.size=0;this.updateElementSize();if(l){i.dispatchCustomEvent(this.container,"syc-panel-resizing",{});i.dispatchCustomEvent(this.container,"syc-panel-resize",{})}};k.prototype.updateSize=function(m,l){if(m>=50&&l>=50){this.maxWidth=m;this.maxHeigth=l;if(this.isVisible()){this.size=this.sizeRatio*this.getMaxSize()}this.updateElementSize()}};k.prototype.updateElementSize=function(){if(this.position==="top"||this.position==="bottom"){this.contents.style.width=this.maxWidth+"px";this.contents.style.height=this.size+"px"}else{this.contents.style.width=this.size+"px";this.contents.style.height=this.maxHeigth+"px"}};k.prototype.getMaxSize=function(){switch(this.position){case"bottom":case"top":return this.maxHeigth}return this.maxWidth};k.prototype.attachEvent=function(){var n=this;var l=function(x){x.preventDefault();var u=b(x.target,"syc-tab-label");if(u){var p=u.getAttribute("syc-tab-id");if(!p){return}var s=n.size;var y=n.position==="left"||n.position==="right"?"width":"height";var r=n.position==="left"||n.position==="right"?0:1;var D=n.position==="left"||n.position==="top"?1:-1;var o=n.getMaxSize();var w=n.selectedTabId!==p;var q=false;var z=n.tabsById[p];if(w){n.showTab(n.tabsById[p])}var v=function(E){var F=s+E[r]*D;if(F>o-80){n.size=o-80}else{if(F<0){n.size=0}else{n.size=F}}if(n.size===0){n.tabContents.style.overflowY="hidden"}else{n.tabContents.style.overflowY="auto"}n.contents.style[y]=n.size+"px";i.dispatchCustomEvent(n.container,"syc-panel-resizing",{})};var t=function(){if(!q&&c.getCancelTap()){q=true}v(c.getDragVector())};var C=[x.clientX,x.clientY];var A=function(E){if(z.tooltip){z.tooltip.hide()}if(!q&&((Math.abs(E.clientX-C[0])||Math.abs(E.clientY-C[1]))>5)){q=true}v([E.clientX-C[0],E.clientY-C[1]])};var B=function(){if(q){if(n.size>0){n.sizeRatio=n.size/o}i.dispatchCustomEvent(n.container,"syc-panel-resizing",{});i.dispatchCustomEvent(n.container,"syc-panel-resize",{})}else{if(!w){n.toggle();if(z.tooltip){z.tooltip.hide()}}}document.removeEventListener("touchend",B);document.removeEventListener("mouseup",B);document.removeEventListener("touchmove",t);document.removeEventListener("mousemove",A)};document.addEventListener("touchend",B);document.addEventListener("mouseup",B);document.addEventListener("touchmove",t);document.addEventListener("mousemove",A)}};this.tabLabelContainer.addEventListener("touchstart",l);this.tabLabelContainer.addEventListener("mousedown",l);var m=function(){n.deleteTab(n.selectedTabId)};this.closeTabButton.addEventListener("touchend",m);this.closeTabButton.addEventListener("mouseup",m)};return k}());(function(l){var k=(function(){function m(s,o,p,r){if(r===void 0){r=false}this.panel=o;this.id=s;if(p){this.content=p;this.content.classList.add("syc-tab-content");this.content.classList.add("syc-hidden")}this.label=document.createElement("div");this.label.classList.add("syc-tab-label");this.label.setAttribute("syc-tab-id",s);this.closeable=r;this.icon=document.createElement("span");this.icon.className="syc-tab-label-icon";var q=document.createElement("span");q.className="syc-icon-opening";this.icon.appendChild(q);var n=document.createElement("span");n.className="syc-icon-closing";this.icon.appendChild(n);this.label.appendChild(this.icon)}m.prototype.setTooltip=function(n){this.tooltipTitle=n;if(!d.TouchCompatible){if(this.tooltip){this.tooltip.destroy()}if(this.panel&&this.tooltipTitle){this.tooltip=new j({target:g.extendElement(this.label),body:this.tooltipTitle,position:f(this.panel.position),delay:{show:200},trigger:"hover"})}}};m.prototype.setIconClassName=function(n){if(this.icon){this.label.removeChild(this.icon)}this.icon=document.createElement("span");this.icon.className="syc-tab-label-icon "+n;this.label.appendChild(this.icon)};m.prototype.setIconUrl=function(o){if(this.icon){this.label.removeChild(this.icon)}this.icon=document.createElement("span");this.icon.className="syc-tab-label-icon";var n=document.createElement("img");n.setAttribute("src",o);this.icon.appendChild(n);this.label.appendChild(this.icon)};return m}());l.Tab=k})(a||(a={}));function f(k){switch(k){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw new Error("Unknown position")}}function b(k,l){while(k&&!k.classList.contains(l)){k=k.parentElement}return k}return a});
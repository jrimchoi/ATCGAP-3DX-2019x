define("DS/MPFLabHideFromCommunityComponent/LabHideFromCommunityComponent",["DS/MPFView/MPFView","DS/UIKIT/Input/Toggle","DS/MPFShopModel/ShopServiceModel","DS/MPFServices/ObjectService","i18n!DS/MPFLabHideFromCommunityComponent/assets/nls/LabHideFromCommunityComponent"],function(d,f,a,c,e){var b=d.extend({className:"mpf-hide-from-commmunity",domEvents:{change:"onChange"},setup:function(g){c.requiredOfPrototype(g.shopServiceModel,a,"LabHideFromCommunityComponent: options.shopServiceModel must be a ShopServiceModel");this.shopServiceModel=g.shopServiceModel;this.readOnly=g.readOnly||false;this.labelText=e.get("hideFromCommunity");this.checked=this.shopServiceModel.get("visibility")==="EMP";this.toggle=new f({type:"switch",className:"mpf-toggle primary",label:this.labelText,disabled:this.readOnly,required:this.required,checked:this.checked})},render:function(){this.checked=this.shopServiceModel.get("visibility")==="EMP";this.toggle.setCheck(this.checked);this.container.setContent(this.toggle);return this},destroy:function(){this.toggle=null;this.shopServiceModel=null;this._parent();this.container=null},onChange:function(){this.save()},save:function(){this.shopServiceModel.savePromise("visibility",this.getVisibilityValue(),{patch:true})["catch"](this.render.bind(this))},getVisibilityValue:function(){return this.isChecked()?"EMP":"Community"},isChecked:function(){return this.toggle.isChecked()}});return b});
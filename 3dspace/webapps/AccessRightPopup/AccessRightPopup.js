define("DS/AccessRightPopup/AccessRightPopup",["UWA/Controls/Abstract","DS/AccessRightWidget/AccessRightWidget","DS/ENOFloatingPanel/ENOFloatingPanel","i18n!DS/AccessRightWidget/assets/nls/langAR","css!DS/AccessRightPopup/AccessRightPopup.css"],function(g,b,c,e){var d=620;var f=920;var a=g.extend({defaultOptions:{className:"",ForbiddenChar:'"#$@%,?\\<>[]|:',readOnly:"auto",displayWarningForAutoRO:false,serverName:"",serverUri:"",removeAtClose:false},init:function(k,i,h){var j=this;this._parent(h);j.initUI(k,i)},onRefresh:function(){if(this.ARWidget!=null){this.ARWidget.onRefresh()}},onResize:function(){if(this.ARWidget!=null){this.ARWidget.onResize()}},onPostResize:function(){var h=this.container.getModalBodySize();var i=h.innerHeight;this.ARWidget.postResize(i)},initUI:function(k,i){var j=this;j.ARWidget=new b(k,i,{className:"accessRight_innerComponent",ForbiddenChar:j.options.ForbiddenChar,readOnly:j.options.readOnly,showTopBar:false,topClassHeight:"ARP_PopupDial",activeMultisel:true,serverName:this.options.serverName,serverUri:this.options.serverUri,events:{onFirstBuild:function(){j.container.elements.body.setStyle("height","100%");j.container.centerIt()},onCancel:function(){j.close()},onModification:function(){},onAdvancedMode:function(){j.container.setNewSize({width:f})},onSimpleMode:function(){j.container.setNewSize({width:d})},onTitleChange:function(l){j.container.setTitle(l);j.container.elements.body.setStyle("padding-top","2px");j.container.elements.body.setStyle("padding-bottom","2px");j.container.elements.body.setStyle("padding-left","6px");j.container.elements.body.setStyle("padding-right","6px")}}});j.container=new c({title:"ENOVIA",className:"ARP_PopupDial "+this.options.className,footer:j.ARWidget.getTopBar(),body:j.ARWidget,overlay:true,closable:true,animate:true,autocenter:true,resizable:true,limitParent:true,events:{onResizeFloating:function(){if(j.ARWidget){j.onResize()}},onClose:function(){j.close()}}});j.container.inject(i);var h=i.offsetHeight>550?550:i.offsetHeight;j.container.setNewSize({height:h});setTimeout(function(){j.container.setNewSize({width:d});j.container.centerIt()},0)},show:function(h){var i=this;if(null!=h&&Array.isArray(h)){if(h.length==1){i.container.setTitle(e.get("AR_mainTile")+" - "+h[0].name)}else{i.container.setTitle(e.get("AR_mainTile")+h.length+" "+e.get("AR_Objects"))}}i.container.show();i.ARWidget.initData(h)},close:function(){this.container.hide();if(this.options.removeAtClose===true){this.container.destroy();this.ARWidget.destroy()}this.dispatchEvent("onClose")}});return a});
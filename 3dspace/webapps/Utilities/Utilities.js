define("DS/Utilities/Debug",["UWA/Core"],function(c){var b=false;var a={enable:function(){b=true},disable:function(){b=false},log:function(){if(b){console.log.apply(console,arguments)}},beginMeasure:function(d){if(b){console.profile(d);console.time(d);console.timeStamp(d);console.group(d)}},endMeasure:function(d){if(b){console.profileEnd(d);console.timeEnd(d);console.groupEnd(d)}}};return c.namespace("WUX/Debug",a)});define("DS/Utilities/Object",["UWA/Core","UWA/Event"],function(c,a){var b={areEquals:function(d,f){if(d&&d.pathElement&&f&&f.pathElement){return d.pathElement.isEqual(f.pathElement)}if(d instanceof Function){if(f instanceof Function){return d.toString()===f.toString()}return false}if(d===null||d===undefined||f===null||f===undefined){return d===f}if(d===f){return true}else{if(typeof d.valueOf==="function"&&typeof f.valueOf==="function"&&d.valueOf()===f.valueOf()){return true}}if(d instanceof Date){return false}if(f instanceof Date){return false}if(!(d instanceof Object)){return false}if(!(f instanceof Object)){return false}var e=Object.keys(d);return Object.keys(f).every(function(g){return e.indexOf(g)!==-1})?e.every(function(g){return b.areEquals(d[g],f[g])}):false},deepFreeze:function(d){var e=Object.getOwnPropertyNames(d);e.forEach(function(f){var g=d[f];if(typeof g==="object"&&g!==null&&!Object.isFrozen(g)){b.deepFreeze(g)}});return Object.freeze(d)}};return c.namespace("WUX/Utilities/Object",b)});define("DS/Utilities/ReusableContentsManager",[],function(){var d=false;function c(f){var e=this;this.component=f._buildContent();this.component.__disposable__={identifier:f._identifier,dispose:function(){if(e.__used__){f._listOfUnusedCellContent.push(e);e.__used__=false;if(d){console.log("dispose id: "+f._identifier+" nb unused: "+f._listOfUnusedCellContent.length)}}},destroy:function(){e.component.destroy()}};return this}function a(e){this._identifier=e.id;this._buildContent=e.buildContent;this._listOfUnusedCellContent=[];return this}a.prototype.use=function(){var e;if(this._listOfUnusedCellContent.length===0){e=new c(this);if(d){console.log("create new id: "+this._identifier+" nb unused: "+this._listOfUnusedCellContent.length)}}else{e=this._listOfUnusedCellContent.pop();if(d){console.log("re-use id: "+this._identifier+" nb unused: "+this._listOfUnusedCellContent.length)}}e.__used__=true;return e};a.prototype.disposeUnusedContents=function(){var e=this._listOfUnusedCellContent.pop();while(e){e.component.__disposable__.destroy();e=this._listOfUnusedCellContent.pop()}this._listOfUnusedCellContent=null};a.prototype.destroy=function(){this.disposeUnusedContents();this._buildContent=null};function b(){this._poolOfReusableContent={}}b.prototype.register=function(e){e=UWA.extend({id:null,buildContent:function(){}},e);if(this._poolOfReusableContent[e.id]){this._poolOfReusableContent[e.id].destroy()}this._poolOfReusableContent[e.id]=new a(e)};b.prototype.isRegistered=function(e){return this._poolOfReusableContent[e]!==undefined};b.prototype.use=function(e){var f=this._poolOfReusableContent[e].use();return f};b.prototype.disposeUnusedContents=function(){for(var e in this._poolOfReusableContent){this._poolOfReusableContent[e].disposeUnusedContents()}};b.prototype.destroy=function(){for(var e in this._poolOfReusableContent){this._poolOfReusableContent[e].destroy()}};return b});define("DS/Utilities/Xml",["UWA/Core","UWA/Event"],function(c,b){var a={toJson2:function(f){var l={};if(f.nodeType==1){if(f.attributes.length>0){l["@attributes"]={};for(var e=0;e<f.attributes.length;e++){var k=f.attributes.item(e);l["@attributes"][k.nodeName]=k.nodeValue}}}else{if(f.nodeType==3){l=f.nodeValue}}if(f.hasChildNodes()){for(var g=0;g<f.childNodes.length;g++){var h=f.childNodes.item(g);var m=h.nodeName;if(typeof(l[[m]])==="undefined"){l[[m]]=a.toJson(h)}else{if(typeof(l[[m]].push)==="undefined"){var d=l[[m]];l[[m]]=[];l[[m]].push(d)}l[[m]].push(a.toJson(h))}}}return l},toJson:function(l){var h={};if(l.nodeType==1){h["@tag"]=l.nodeName;if(l.attributes.length>0){h["@attributes"]={};for(var g=0;g<l.attributes.length;g++){var d=l.attributes.item(g);h["@attributes"][d.nodeName]=d.nodeValue}}}else{if(l.nodeType==3){if(l.nodeValue){h=l.nodeValue}}}if(l.hasChildNodes()){for(var k=0;k<l.childNodes.length;k++){var n=l.childNodes.item(k);var m=n.nodeName;if(typeof(h["@children"])==="undefined"){var e=a.toJson(n);if(e&&n.nodeType!==8){h["@children"]=[];h["@children"].push(e)}}else{if(typeof(h["@children"].push)==="undefined"){var f=h["@children"];h["@children"]=[];h["@children"].push(f)}var e=a.toJson(n);if(e&&n.nodeType!==8){h["@children"].push(e)}}}}if(l.nodeType!==3){return h}}};return a});define("DS/Utilities/TouchUtils",["UWA/Core"],function(c){var b=undefined;var a={isAndroidDevice:function(){if(window.navigator&&window.navigator.platform){if(window.navigator.platform.indexOf("Linux armv")>-1||window.navigator.platform.indexOf("Android")>-1){return true}return false}return false},init:function(){var e=navigator.userAgent.match(/iPad/i)!=null;var d=navigator.userAgent.match(/iPhone/i)!=null;var f=false;if(window.__karma__){f=window.__karma__.config.json?window.__karma__.config.json.isTouch:false}if(e||d||f||this.isAndroidDevice()){this.setTouchMode(true)}},setTouchMode:function(e){var i=b;b=e;var j=false;var g=document.getElementsByTagName("*");for(var h=g.length;h--;){var f=g[h].dsModel;if(f){if(f.touchMode===undefined){j=true;if(f._touchModeChange){f._touchModeChange(e)}}}}if(j&&i!==b){var d=document.createEvent("Event");d.initEvent("touchChange",true,false);document.dispatchEvent(d);j=false}},getTouchMode:function(){return b},applyTouch:function(h,g){var e=h.getElementsByTagName("*");for(var f=e.length;f--;){var d=e[f].dsModel;if(d){d.touchMode=g}}}};return a});define("DS/Utilities/Simulate",["UWA/Core"],function(b){keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};buttonCode={LEFT:0,MIDDLE:1,RIGHT:2};var a={createEvent:function(c){var d=document.createEvent("CustomEvent");d.initCustomEvent(c,true,true,null);d.dataTransfer={data:{},types:["text/plain"],setData:function(e,f){this.data[e]=f},getData:function(e){return this.data[e]}};return d},dispatchEvent:function(e,c,d){if(e.dispatchEvent){e.dispatchEvent(d)}else{if(e.fireEvent){e.fireEvent("on"+c,d)}}},drag:function(c){if(c.target===null){c.dataTransfer.setData("Text","0")}else{if(c.target.id!==""){c.dataTransfer.setData("Text",c.target.id)}else{c.dataTransfer.setData("Text","0")}}},drop:function(d,c){d.preventDefault();var e=d.dataTransfer.getData("Text");d.target.appendChild(document.getElementById(e))},simulateMouse:function(e,d){var c=document.createEvent("MouseEvents");c.initEvent(e,true,true);d.dispatchEvent(c)},simulateMouseMove:function(e,d){var c=new MouseEvent(e,{view:window,bubbles:true,cancelable:true,clientX:d.x,clientY:d.y});d.dispatchEvent(c)},simulateScroll:function(g,c,h,e){if(!e){g.scrollBy(c,h)}else{var f=0;var d=setInterval(function(){if(f===e.nbRepeat){clearInterval(d)}g.scrollBy(c,h);f++},e.delay)}},simulateDragDrop:function(g,c){var e="dragstart";var f=this.createEvent(e);this.dispatchEvent(g,e,f);if(!c.dragDefined){this.drag(f)}e="drop";var d=this.createEvent(e,{});d.dataTransfer=f.dataTransfer;d.layerY=27;this.dispatchEvent(c.dropTarget,e,d);if(!c.dropDefined){this.drop(d)}else{e="dragend"}var h=this.createEvent(e,{});h.dataTransfer=f.dataTransfer;this.dispatchEvent(g,e,h)},simulateChange:function(e){var c="change";var d=this.createEvent(c);this.dispatchEvent(e,c,d)},simulateKeyDown:function(h,d){h.focus();var f="keydown";var e=document.createEvent("KeyboardEvent");var c=typeof e.initKeyboardEvent!=="undefined"?"initKeyboardEvent":"initKeyEvent";for(var g in keyCode){if(g==d){e[c]("keydown",true,true,window,false,false,false,false,8,8)}}h.dispatchEvent(e)},doKeyEvent:function(g,c){g.focus();var d="keydown";var f=this.createEvent(d);for(var e in keyCode){if(e==c){f.keyCode=keyCode[e]}}this.dispatchEvent(g,d,f)}};return a});define("DS/Utilities/Polymer",[],function(){var h=false;var i=true;var a=true;var e={};var f="ds";var j=false;function g(k){return k.charAt(0).toUpperCase()+k.slice(1)}function d(k){return k.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}function c(k){return k.replace(/\W+(.)/g,function(l,m){return m.toUpperCase()})}var b=function(w,p){var k="Build Polymer Constructor: "+w.name;if(h){console.groupCollapsed(k)}var m,n;var r=f+"-"+d(w.name);n=p.inheritUtils(this,w);var s={};if(h){console.log("DS/Controls/Abstract published properties to be mapped to Polymer properties:")}var q=n.prototype.publishedProperties;for(var v in q){var l=v;if(j){l=f+g(v)}var u=q[v];var t;switch(u.type){case"boolean":t=Boolean;break;case"string":t=String;break;case"number":t=Number;break;case"date":t=Date;break;case"array":t=Array;break;default:t=null;break}s[v]={type:t,value:u.defaultValue,reflectToAttribute:true,notify:true};if(h){console.log("[+]",v,u,"attributeChanged")}}var o={properties:s,created:function(){},attached:function(){},detached:function(){},attributeChanged:function(y){if(this._reflectToAttributeFlag){var x=this._implement[c(y)];var z=this[c(y)];if(this._implement&&x!==z){if(h){console.log("[POLYMER > ABSTRACT] attributeChanged",y,x,z,this._implement[c(y)])}this._implement[c(y)]=z}}},is:r,ready:function(y){var A="Polymer ready : "+r;if(h){console.log(" ");console.groupCollapsed(A)}this._reflectToAttributeFlag=true;var x=Polymer.dom(this);if(x.node.attributes.length===0){console.warn("[POLYMER] no attributes");this._enableFactoryImpl=true}else{this._enableFactoryImpl=true;var z={};for(var C in this.properties){var B=this.properties[C];if(B.defined){z[C]=this[C];if(h){console.log("[POLYMER] [READY] set initial values",C,":",this[C])}}}if(h){console.log("[POLYMER] [READY] init options",z)}this._buildComponent(z)}if(h){console.groupEnd(A)}},factoryImpl:function(x){if(h){console.log("[POLYMER] [FACTORYIMPL] init options",x)}this._initialOptions=x;if(this._enableFactoryImpl){this._buildComponent(x)}},_buildComponent:function(F){var D=this;var E=Polymer.dom(this);if(this._implement===undefined){if(h){console.info("[POLYMER] constructor parameters",F)}this._implement=new n(F);E.appendChild(this._implement.getContent());E.node.style.display=this._implement.getContent().getStyle("display")}if(i){for(var x in this.properties){var y=F?F[x]:this[x];if(y!==undefined){D[x]=y}}}this._implement._propertyChanged=function(G,H,I){if(H!==I){if(h){console.log("[ABSTRACT > POLYMER] property changed:",G," changed",H,"-->",I)}D._reflectToAttributeFlag=false;D[G]=I;D._reflectToAttributeFlag=true}};if(a){var B={addEvent:true,inject:true};for(var z in this._implement){var A=this._implement[z];if(typeof A==="function"&&B[z]===undefined){var C=z;if(j){C=f+g(z)}if(!D.useprivate){if(z.substring(0,1)!=="_"){D[C]=this._implement[z].bind(this._implement)}}else{D[C]=this._implement[z].bind(this._implement)}}}}},getContent:function(){return Polymer.dom(this).node},inject:function(x){x.appendChild(Polymer.dom(this).node);return Polymer.dom(this).node},addEvent:function(x,z,y){return Polymer.dom(this).node.addEventListener(x,z,y)}};m=window.Polymer(o);e[r]={polymer:m,uwa:n};m.extendOptions=w;if(h){console.groupEnd(k)}return m};return{polymerize:b}});define("DS/Utilities/Scroll",["UWA/Core","UWA/Event"],function(c,a){var b={getPosition:function(e){var d=-(e.scrollLeft);var f=-(e.scrollTop);return{y:f,x:d}}};return c.namespace("Utilities/Scroll",b)});define("DS/Utilities/Data",["UWA/Core"],function(b){var a={chunk:function(e,d){e=b.extend({array:[],process:function(){},context:null,callback:function(){}},e);if(d===undefined){d=0}if(e.array instanceof Array){var c=e.array.concat();setTimeout(function(){var f=Number(new Date());do{e.process.call(e.context,c.shift(),d);d++}while(c.length>0&&(Number(new Date())-f<50));if(c.length>0){setTimeout(a.chunk.bind(e,d),25)}else{e.callback(e.array)}},25)}},forEach:function(d,f,e,i){var g=0,c=d.length;function h(){var j=e;while(j--&&c>g){f(d[g],g++)}if(c>g){setTimeout(h,0)}else{if(typeof i==="function"){i()}}}h()}};return a});define("DS/Utilities/UUID",["UWA/Core","UWA/Event"],function(h,u){var e={};var l;if(!l){var b=new Array(16);l=function(){for(var v=0,w;v<16;v++){if((v&3)===0){w=Math.random()*4294967296}b[v]=w>>>((v&3)<<3)&255}return b}}var o=typeof(Buffer)==="function"?Buffer:Array;var j=[];var k={};for(var r=0;r<256;r++){j[r]=(r+256).toString(16).substr(1);k[j[r]]=r}function n(y,v,z){var w=(v&&z)||0,x=0;v=v||[];y.toLowerCase().replace(/[0-9a-f]{2}/g,function(i){if(x<16){v[w+x++]=k[i]}});while(x<16){v[w+x++]=0}return v}function m(v,x){var w=x||0,y=j;return y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]}var g=l();var s=[g[0]|1,g[1],g[2],g[3],g[4],g[5]];var t=(g[6]<<8|g[7])&16383;var d=0,p=0;function f(H,x,B){var C=x&&B||0;var D=x||[];H=H||{};var A=H.clockseq!==null?H.clockseq:t;var v=H.msecs!==null?H.msecs:new Date().getTime();var G=H.nsecs!==null?H.nsecs:p+1;var w=(v-d)+(G-p)/10000;if(w<0&&H.clockseq===null){A=A+1&16383}if((w<0||v>d)&&H.nsecs===null){G=0}if(G>=10000){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}d=v;p=G;t=A;v+=12219292800000;var F=((v&268435455)*10000+G)%4294967296;D[C++]=F>>>24&255;D[C++]=F>>>16&255;D[C++]=F>>>8&255;D[C++]=F&255;var E=(v/4294967296*10000)&268435455;D[C++]=E>>>8&255;D[C++]=E&255;D[C++]=E>>>24&15|16;D[C++]=E>>>16&255;D[C++]=A>>>8|128;D[C++]=A&255;var z=H.node||s;for(var y=0;y<6;y++){D[C+y]=z[y]}return x?x:m(D)}function c(w,v,A){var x=v&&A||0;if(typeof(w)==="string"){v=w=="binary"?new o(16):null;w=null}w=w||{};var z=w.random||(w.rng||l)();z[6]=(z[6]&15)|64;z[8]=(z[8]&63)|128;if(v){for(var y=0;y<16;y++){v[x+y]=z[y]}}return v||m(z)}var q=c;q.v1=f;q.v4=c;q.parse=n;q.unparse=m;q.BufferClass=o;if(e.define&&define.amd){define(function(){return q})}else{if(typeof(module)!=="undefined"&&module.exports){module.exports=q}else{var a=e.uuid;q.noConflict=function(){e.uuid=a;return q};return q}}});define("DS/Utilities/DocUtils",["UWA/Core"],function(b){var a={getWebUXPropertyDocumentation:function(g,e,i){var h=this._getDocSource(e);var f=this;if(!h){require(["text!"+e+".js"],function(l){f._addDocSource(e,l);var k=f._getPropertyDocFromSource(g,l);if(!k){var j=f._getFatherWebUXClassPath(e,l);if(j){return f.getWebUXPropertyDocumentation(g,j,i)}else{i({property:g,doc:undefined})}}i({property:g,doc:k})})}else{var d=this._getPropertyDocFromSource(g,h);if(!d){var c=this._getFatherWebUXClassPath(e,h);if(c){return this.getWebUXPropertyDocumentation(g,c,i)}else{i({property:g,doc:undefined})}}i({property:g,doc:d})}},getWebUXEventDocumentation:function(g,d,i){var h=this._getDocSource(d);var e=this;if(!h){require(["text!"+d+".js"],function(l){e._addDocSource(d,l);var k=e._getEventDocFromSource(g,l,d);if(!k){var j=e._getFatherWebUXClassPath(d,l);if(j){return e.getWebUXEventDocumentation(g,j,i)}else{i({event:g,doc:undefined})}}i({event:g,doc:k})})}else{var f=this._getEventDocFromSource(g,h,d);if(!f){var c=this._getFatherWebUXClassPath(d,h);if(c){return this.getWebUXEventDocumentation(g,c,i)}else{i({event:g,doc:undefined})}}i({event:g,doc:f})}},_getPropertyDocFromSource:function(e,g){var d="property.*}\\s"+e+"\\s(.*)";var c;var f="@property";return this._ComputeDocumentation(g,d,c,f,true)},_getEventDocFromSource:function(f,h,d){var e="@event "+f;var c="@event module:"+d+"#"+f;var g="@event";return this._ComputeDocumentation(h,e,c,g,false)},_ComputeDocumentation:function(k,l,j,v,c){var n="\\r\\n(.*)";var s="(.*)";var r="(.*)";if(!c){for(var q=0;q<=3;q++){s+=n;r+=n}}s+=l;r+=j;if(c){for(var q=0;q<=20;q++){s+=n;r+=n}}var u=new RegExp(s,"gm");var t=new RegExp(r,"gm");var g=u.exec(k);var e=c?null:t.exec(k);var m=g!==null?g:e;var h=/[0-9a-zA-Z]/;var w;if(c){if(m&&m.length>=3){w=m[2]}if(m&&m.length>=4){if(m[3].indexOf("*/")!==-1){return w}else{if(h.test(m[3])){var d=m[3].split("*");if(d.length>=2){if(d[1].indexOf("@limitation")!=-1){w+="</br>"+d[1].replace("@limitation","Limitation : ")}else{if(d[1].indexOf("@property")!==-1){var f=d[1].split("}");if(f.length>=2){w+="</br><b>Subproperty</b>"+f[1]}}else{if(!d[1].indexOf("@return")!==-1){w+="</br>"+d[1]}}}}}}for(var q=4;q<m.length;q++){if(m[q].indexOf("*/")!==-1){return w}else{var d=m[q].split("*");var o;if(d.length>=1){if(d[0].indexOf("/")!==-1){break}o=d[d.length-1];if(o.indexOf("@property")!==-1){var f=o.split("}");if(f.length>=2){o="<b>Subproperty</b>"+f[1]}}}if(h.test(o)&&o.indexOf("@return")===-1){w+="</br>"+o}}}}}else{if(m&&m.length>0){w="";var p=m[0].split("*");for(var q=0;q<p.length;q++){if(h.test(p[q])&&(!v||p[q].indexOf(v)===-1)){w+=p[q]}}}}return w},_getFatherWebUXClassPath:function(l,c){var k;var g="\\s(.*).inherit";var h=new RegExp(g,"gm");var m=h.exec(c);if(m&&m.length>=2){var j=m[1].split("=");if(j.length>1){var i=j[1].trim();var e="DS/([a-zA-Z]*)/"+i;var f=new RegExp(e,"gm");var d=f.exec(c);k=(d&&d.length)?d[0]:undefined}}return k},_getDocSource:function(d){var e;var c=document._DocumentSourcePages;if(c){e=c[d]}return e},_addDocSource:function(e,c){var d=document._DocumentSourcePages;if(d&&!d[e]){d[e]=c}else{if(!d){document._DocumentSourcePages={};document._DocumentSourcePages[e]=c}}}};return a});define("DS/Utilities/KeyboardUtils",["UWA/Core"],function(b){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFTARROW:37,ARROWUP:38,RIGHTARROW:39,ARROWDOWN:40,INSERT:45,DELETE:46,KEY0:48,KEY1:49,KEY2:50,KEY3:51,KEY4:52,KEY5:53,KEY6:54,KEY7:55,KEY8:56,KEY9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,PLUS:107,MINUS:109,POINT:110,SLASH:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145,SEMICOLON:186,EQUAL:187,COMMA:188,DASH:189,BACKSLASH:191,validate:function(c){if(c==this.SPACE||c==this.ENTER){return true}return false},increase:function(c){if(c==this.ARROWUP||c==this.RIGHTARROW){return true}return false},decrease:function(c){if(c==this.ARROWDOWN||c==this.LEFTARROW){return true}return false},previous:function(c){if(c==this.ARROWUP||c==this.LEFTARROW){return true}return false},next:function(c){if(c==this.ARROWDOWN||c==this.RIGHTARROW){return true}return false}};return a});define("DS/Utilities/Array",["UWA/Core"],function(b){var a={clear:function(c,d){c.length=0;c=null;if(!d){c=[]}return c},optimizedForEach:function(d,f){var c=d.length;for(var e=0;e<c;e++){f.call(d,d[e],e)}},arrayMove:function(e,f,c){if(c>=e.length){var d=c-e.length;while((d--)+1){e.push(undefined)}}e.splice(c,0,e.splice(f,1)[0]);return e},array2dMove:function(e,f,c){if(c>=e.length){var d=c-e.length;while((d--)+1){e.push(undefined)}}e.splice(c,0,e.splice(f,1)[0]);return e},array2dTranspose:function(l){var d=l,c=d.length?d.length:0,k=d[0] instanceof Array?d[0].length:0;if(k===0||c===0){return[]}var g,e,f=[];for(g=0;g<k;g++){f[g]=[];for(e=0;e<c;e++){f[g][e]=d[e][g]}}return f},pushUnique:function(d,c){if(d.indexOf(c)===-1){d.push(c);return true}return false},};return a});define("DS/Utilities/MouseEvents",["UWA/Core","UWA/Event"],function(e,b){var d={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};var a={pointerX:0,pointerY:0,button:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,bubbles:true,cancelable:true};var c={mouse_event_over_element:function(i,k){var g=e.extendElement(k);var m=g.getPosition();var l=g.getDimensions();var f=g.width;var j=g.height;e.Event.dispatchEvent(g,i.type,{screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY})},fireEvent:function(g){var f=document.createEvent("Events");f.initEvent("keypress",true,true);f.view=window;f.altKey=false;f.ctrlKey=false;f.shiftKey=false;f.metaKey=false;f.keyCode=0;f.charCode="a";g.dispatchEvent(f)},simulatedClick:function(i,f){var h=i.ownerDocument.createEvent("MouseEvents"),f=f||{};var g={type:f.type||"click",canBubble:f.canBubble||true,cancelable:f.cancelable||true,view:f.view||i.ownerDocument.defaultView,detail:f.detail||1,screenX:f.screenX||0,screenY:f.screenY||0,clientX:f.clientX||0,clientY:f.clientY||0,ctrlKey:f.ctrlKey||false,altKey:f.altKey||false,shiftKey:f.shiftKey||false,metaKey:f.metaKey||false,button:f.button||0,relatedTarget:f.relatedTarget||null};h.initMouseEvent(g.type,g.canBubble,g.cancelable,g.view,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget);i.dispatchEvent(h)},simulate:function(l,h){var j=extend(a,arguments[2]||{});var g,k=null;for(var i in d){if(d[i].test(h)){k=i;break}}if(!k){throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported")}if(document.createEvent){g=document.createEvent(k);if(k=="HTMLEvents"){g.initEvent(h,j.bubbles,j.cancelable)}else{g.initMouseEvent(h,j.bubbles,j.cancelable,document.defaultView,j.button,j.pointerX,j.pointerY,j.pointerX,j.pointerY,j.ctrlKey,j.altKey,j.shiftKey,j.metaKey,j.button,l)}l.dispatchEvent(g)}else{j.clientX=j.pointerX;j.clientY=j.pointerY;var f=document.createEventObject();g=extend(f,j);l.fireEvent("on"+h,g)}return l},extend:function(f,h){for(var g in h){f[g]=h[g]}return f},trigger:function(j,h,f,n){var k=f.type,g=f.originalEvent,i=f.target,r=f.relatedTarget,p=f.screenX,o=f.screenY,m=f.clientX,l=f.clientY;var q={};q.target=j;q.type=h;q.originalEvent=null;if(n){q.relatedTarget=n}c.simulatedClick(j,{type:h,screenX:p,screenY:o,clientX:m,clientY:l})},forwardMouseEvents:function(i){WUX.log("---FORWARD MOUSE EVENTS --");var p={enableMousemove:true,dblClickThreshold:500,enabled:true};var j=function(v){if(p.enabled){var r=v,u=r.type,w=r.clientX,s=r.clientY,q;k.hide();q=e.extendElement(document.elementFromPoint(w,s));k.show();if(!q){c.trigger(h,"mouseout",v);h=q;return}if(p.enableMousemove||u!=="mousemove"){c.trigger(q,u,v)}if(h&&(q[0]===h[0])){if(u=="mouseup"){if(g!=w||f!=s||(v.timeStamp-m)>p.dblClickThreshold){n=0}g=w;f=s;m=v.timeStamp;c.trigger(q,"click",v);if(++n==2){c.trigger(q,"dblclick",v);n=0}}}else{n=0;if(h){c.trigger(h,"mouseout",v,q[0])}c.trigger(q,"mouseover",v,h?h[0]:k[0])}h=q}};var l=i,k=e.extendElement(i),o,h,g,f,n=0,m=0;k.addEvent("mouseout",function(q){if(h){c.trigger(h,"mouseout",q,k[0]);h=null}});k.addEvent("mousedown",function(q){j(q)});k.addEvent("mouseup",function(q){j(q)});k.addEvent("mousemove",function(q){j(q)});k.addEvent("mousewheel",function(q){j(q)})}};return e.namespace("WUX/Utilities/MouseEvents",c)});define("DS/Utilities/TreeUtils",["UWA/Core","DS/Utilities/Array"],function(c,b){var a={processTreeChildren:function(d,f){var e=this;if(!d||!f){return}b.optimizedForEach(d,function(g){if(g&&g.children){e.processTreeChildren(g.children,f)}f(g)})},computeMaxDepth:function(d,g){if(g===undefined){g=1}var f=g;for(var e=0;e<d.length;e++){var j=d[e];if(j&&j.children){var h=this.computeMaxDepth(j.children,g+1);if(f<h){f=h}}}return f},countItem:function(d){var e=0;this.processTreeChildren(d,function(f){e++});return e},parentChildren:function(d,f){for(var e=0;e<d.length;e++){var g=d[e];if(f){g._parent=f}if(g.children){this.parentChildren(g.children,g)}}},checkTreeConsistency:function(d,g){var e=true;for(var f=0;f<d.length;f++){var h=d[f];if(g&&h._parent!==g){console.warn("_parent property is not correct for child: "+h.dataIndex);e=false}if(h.children){this.checkTreeConsistency(h.children,h)}}return e},addChild:function(e,f,d){if(e&&f){if(!e.children){e.children=[]}e.children.splice(d,0,f);f._parent=e}},cloneTree:function(d){var e=[];for(var f=0;f<d.length;f++){var h=d[f];var g=c.clone(h,false);e.push(g);if(h.children){g.children=this.cloneTree(h.children)}}this.parentChildren(e);return e},getLeafItems:function(d){var f=[];if(d){var e=d;if(!Array.isArray(e)){e=d.children}if(e){this.processTreeChildren(e,function(g){if(g&&!g.children){f.push(g)}})}else{f.push(d)}}return f},createBalancedTree:function(k,m,p){var o=this;var n=false;if(m===undefined){m=1;n=true}if(p===undefined){p=this.computeMaxDepth(k,m)}var q=[];for(var h=0;h<k.length;h++){var e=k[h];var f=e.children?(this.computeMaxDepth(e.children)+1):1;var l=e;if(e.children){l=c.clone(e,false);l._parent=null;l.children=this.createBalancedTree(e.children,m+p-f+1,p)}if(m+f-1<p){for(var g=p;g>=m+f;g--){var d={children:[l]};l=d}}q.push(l)}if(n){this.parentChildren(q)}return q},computeItemsByDepth:function(f){var e=[];function d(h,g,k){for(var j=0;j<h.length;j++){var l=h[j];if(l){if(l.children){d(l.children,g,k+1)}if(!g[k]){g[k]=[]}g[k].push(l)}}}d(f,e,0);return e},getParents:function(f){var d=[];while(f){var e=f._parent;if(e){d.unshift(e)}f=e}return d},getCommonParent:function(g,e){var j=null;if(g&&e){var f=this.getParents(g);var d=this.getParents(e);for(var h=0;h<f.length;h++){if(f[h]===d[h]){j=f[h]}else{break}}}return j},getIndexInRootParent:function(f,h){var d=-1;if(f&&h){var g=f;var e=f._parent;while(e){if(e===h){if(Array.isArray(e)){d=e.indexOf(g)}else{d=e.children.indexOf(g)}break}g=e;e=e._parent}if((d<0)&&Array.isArray(h)){d=h.indexOf(g)}}return d},extractItemHierarchy:function(j,i,e){var h=j;if(j){var f=j._parent;if(f){var d=f.children.indexOf(j);if(d>-1){if((f.children.length>1)||(f===i)){if(e){f.children.splice(d,1);h._parent=null}while(f&&(f!==i)){var g=c.clone(f,false);g._parent=null;g.children=[h];h._parent=g;h=g;f=f._parent}}else{h=this.extractItemHierarchy(f,i,e)}}}else{if(i&&Array.isArray(i)){var d=i.indexOf(j);if(d>-1){i.splice(d,1)}}}}return h},splitParentAtItemIndex:function(d,n,j){if(d){var l=d._parent;if(l){var h=l.children.indexOf(d);if(j==="after"){h++}if((h>-1)&&(l!==n)){if((h>0)&&(l.children.length>1)&&(h<l.children.length)){var m=l.children.splice(h,l.children.length-h);var k=c.clone(l,false);if(k._parent){k._parent=null}k.children=m;for(var g=0;g<m.length;g++){m[g]._parent=k}var f=l._parent;if(f){var e=f.children.indexOf(l);this.addChild(f,k,e+1)}else{if(n&&Array.isArray(n)){var e=n.indexOf(l);n.splice(e+1,0,k);return}}if(j!=="after"){l=k}}this.splitParentAtItemIndex(l,n,j)}}}}};return a});define("DS/Utilities/RAFDispatcher",["UWA/Class","DS/Core/Core","DS/CoreEvents/ModelEvents","DS/Utilities/Array","UWA/Utils/Client"],function(a,f,c,i,h){var g=false;var b=h.Engine;var e=0;var d=a.singleton({init:function(){this._parent();this._modelEvents=new c();this._listOfRenderTaskID=[];this._listOfRenderTasks={};this._namespacesCounter={};this._listOfUnitRenderTasks={};this._ticking=false;this.render()},destroy:function(){i.clear(this._listOfRenderTaskID)},addTask:function(j,k){if(k===undefined){k=e++}if(j.namespace===undefined){j.namespace="global"}if(g){console.log("addTask id: "+k+" namespace: "+j.namespace)}if(this._listOfRenderTasks[k]===undefined){if(this._namespacesCounter[j.namespace]===undefined){this._namespacesCounter[j.namespace]=0;this._modelEvents.publish({event:"renderTasksNamespaceCreated",context:this,data:{namespace:j.namespace}})}this._namespacesCounter[j.namespace]++}this._listOfRenderTasks[k]=j;this.render()},render:function(p){if(p===undefined){p=60}var m=1000/p;var k=Math.min(m,20);var n=this;var j;var o=false;var q;var l=function(){n._listOfUnitRenderTasks={};var t;var s=window.performance?performance.now():Date.now();if(g){if(this._timestamp){var x=s-this._timestamp;console.log("RAFDispatcher elapsedBetweenTasks = "+x)}this._timestamp=s}j=s;var u=0;for(var w in n._listOfRenderTasks){t=n._listOfRenderTasks[w];if(t){if(t.ignoreFromCompleted!==true){o=true}if(t.oncePerFrame){if(n._listOfUnitRenderTasks[w]===1){break}else{n._listOfUnitRenderTasks[w]=1}}if(g){console.time("    render task : "+w)}t.callback.apply(n,t.taskArgs);delete n._listOfRenderTasks[w];if(t.ignoreFromCompleted!==true){u++}if(g){console.timeEnd("    render task : "+w)}}this._namespacesCounter[t.namespace]--;if(this._namespacesCounter[t.namespace]===0){delete this._namespacesCounter[t.namespace];this._modelEvents.publish({event:"renderTasksNamespaceCompleted",context:this,data:{namespace:t.namespace}})}var v=window.performance?performance.now():Date.now();var r=v-j;if(r>=k){if(g){console.log("elapsed: "+r+" thresholdFps: "+k+" => stop current frame")}break}}if((u===0)&&o){this._modelEvents.publish({event:"renderTasksCompleted",context:this});o=false;n._ticking=false}else{n._ticking=true;if(b.safari){q=window.webkitRequestAnimationFrame(l.bind(n))}else{q=window.requestAnimationFrame(l.bind(n))}if(g){console.log("* need another requestAnimationFrame renderLoopID = "+q)}}};if(!n._ticking){n._ticking=true;if(b.safari){q=window.webkitRequestAnimationFrame(l.bind(n))}else{q=window.requestAnimationFrame(l.bind(n))}if(g){console.log("* requestAnimationFrame renderLoopID = "+q)}}},onTasksCompleted:function(j){return this._modelEvents.subscribe({event:"renderTasksCompleted"},j)},onAllNamespacedTasksCompleted:function(j,k){return this._modelEvents.subscribe({event:"renderTasksNamespaceCompleted"},function(l){if(j===l.namespace){k.call(this,l)}})},onFirstNamespacedTasksAdded:function(j,k){return this._modelEvents.subscribe({event:"renderTasksNamespaceCreated"},function(l){if(j===l.namespace){k.call(this,l)}})}});return d});define("DS/Utilities/Utils",["UWA/Core","UWA/Event","UWA/Class","DS/Core/Core","DS/Utilities/Polymer"],function(f,a,b,e,d){var c={extend:function(h,g){h=f.extend(h,g);return h},listToArray:function(g){var k=[];for(var h=0,j=g.length;h<j;h++){if(g[h].nodeType===1){k.push(g[h])}}return k},$_:function(g,i){if(i===undefined){i=document}if(i!==document&&!i.id){i.id=(new Date()).getTime()}var h=[];g="#"+i.id+" "+g;try{h=this.listToArray(i.querySelectorAll(g))}catch(j){alert(g.slice(j.position)+"is not a valid selector")}return h},triggerEvent:function(i,h){if("fireEvent" in i){i.fireEvent(h)}else{var g=document.createEvent("HTMLEvents");g.initEvent(h,false,true);i.dispatchEvent(g)}},getPosition:function(h){var g=0;var i=0;if(h&&h.style){g=h.style.left;i=h.style.top}if(g===""){g=0}else{g=parseInt(g,10)}if(i===""){i=0}else{i=parseInt(i,10)}return{x:g,y:i}},getPositionRelativeToOffsetParent:function(k,m){var A={x:0,y:0};if(k&&m){var r="center";var s="center";var t=document.body;var y=0;var x=0;var n="none";if(m.my){r=m.my}if(m.at){s=m.at}if(m.offsetX){y=m.offsetX}if(m.offsetY){x=m.offsetY}if(m.of){t=m.of}if(m.collision){n=m.collision}var q=null;if(k.getContent){q=k.getContent().getBoundingClientRect()}else{q=k.getBoundingClientRect()}var z=(f.is(t,"element"))?f.extendElement(t):t.getContent();var p=z.getPosition(document.body);var u=z.getBoundingClientRect();if(s.indexOf("left")>-1){A.x=p.x}else{if(s.indexOf("right")>-1){A.x=p.x+u.width}else{A.x=p.x+(u.width/2)}}if(s.indexOf("top")>-1){A.y=p.y}else{if(s.indexOf("bottom")>-1){A.y=p.y+u.height}else{A.y=p.y+(u.height/2)}}if(r.indexOf("left")>-1){}else{if(r.indexOf("right")>-1){A.x-=q.width}else{A.x-=(q.width/2)}}if(r.indexOf("top")>-1){}else{if(r.indexOf("bottom")>-1){A.y-=q.height}else{A.y-=(q.height/2)}}A.x+=y;A.y+=x;if(n==="fit"){var w=document.documentElement.clientWidth||window.innerWidth;var l=document.documentElement.clientHeight||window.innerHeight;var j=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;var v={x:0,y:0};var o={width:w,height:l};var h=m.constraint;if(h instanceof Element){v=h.getPosition(document.body),o=h.getSize()}if(A.x+q.width>v.x+o.width){A.x=v.x+o.width-q.width}if(A.x<v.x){A.x=v.x}if(A.y+q.height>v.y+o.height){A.y=v.y+o.height-q.height;if(A.y+q.height>l+j){A.y=l+j-q.height}}if(A.y<v.y){A.y=v.y}}var g=null;if(k.getContent){g=k.getContent().getOffsetParent()}else{g=k.getOffsetParent()}if(g){var i=g.getPosition(document.body);A.x-=i.x;A.y-=i.y}}return A},setPosition:function(j,i){var h=false;if(j&&i){var g=c.getPositionRelativeToOffsetParent(j,i);var l=(typeof j.getContent==="function"&&j.getContent())?j.getContent():j;var k=this.getPosition(l);if((k.x!=g.x)||(k.y!=g.y)||(!l.getStyle("left")&&!l.getStyle("top"))){l.setStyles({left:g.x,top:g.y});h=true}}return h},setConstrainedPosition:function(l,K,p){var M=function(t){if(t){return{x:t.x,y:t.y}}return{x:0,y:0}};if(!K||!l){return}var z;(f.is(K,"element"))?z=f.extendElement(K):z=K.getContent();if(!z){return}var B=p.mouseRelativePosition,H=p.mouseOffset||{x:0,y:0},L=B?M(p.mousePosition):z.getPosition(document.body),w=B?M(p.mousePosition):z.getPosition(document.body),n=B?{height:2*H.y,width:2*H.x}:z.getSize(),A=l.getContent().getSize(),C=p.position||"right",u=p.alignment||"near",D=0,r=p.offset||{x:0,y:0},G=document.documentElement.clientWidth||window.innerWidth,o=document.documentElement.clientHeight||window.innerHeight,k=B?window.pageYOffset||document.documentElement.scrollTop:0;var F=B?window.pageXOffset||document.documentElement.scrollLeft:0;var I=this.getComputedTranslateXY(document.body);if(I.length===2){L.x-=I[0];L.y-=I[1];w.x-=I[0];w.y-=I[1]}if(B){L.x-=H.x;L.y-=H.y;w.x-=H.x;w.y-=H.x}if(C.indexOf("top")>-1){L.y-=A.height}else{if(C.indexOf("bottom")>-1){L.y+=n.height}else{if(C.indexOf("left")>-1){L.x-=A.width;D=1}else{if(C.indexOf("right")>-1){L.x+=n.width;D=1}}}}if(u.indexOf("center")>-1){(D===1)?L.y+=(n.height-A.height)/2:L.x+=(n.width-A.width)/2}else{if(u.indexOf("far")>-1){(D===1)?L.y+=n.height-A.height:L.x+=n.width-A.width}}var r=l.offset;if(r){L.x+=r.x;L.y+=r.y}L.x+=parseInt(z.getStyle("marginLeft"),10);L.y+=parseInt(z.getStyle("marginTop"),10);var E={x:0,y:0},s={width:G,height:o};var h=p.constraint||"none";if(h instanceof Element){E=h.getPosition(document.body);s=h.getSize()}if(h instanceof Element||h==="screen"){var j=B?k:window.pageYOffset||document.documentElement.scrollTop;var y=B?F:window.pageXOffset||document.documentElement.scrollLeft;L.x=Math.max(L.x+F,E.x,F);if(L.x+A.width>E.x+s.width+y){L.x=E.x+s.width+y-A.width}L.y=Math.max(L.y+k,E.y,k);if(L.y+A.height>E.y+s.height+j){L.y=E.y+s.height+j-A.height;if(L.y+A.height>o+j){L.y=o+j-A.height}}}var g=p.overlap||false;if(g===false){var m=false;if(D===0){if(C.indexOf("top")>-1){if((L.y+A.height>w.y||L.y<0)&&w.y+n.height+r.y+A.height<E.y+s.height){L.y=w.y+n.height+r.y}else{if(L.y+A.height>w.y||L.y<0){m=true}}}else{if(C.indexOf("bottom")>-1){if(L.y<w.y+n.height&&w.y-A.height-r.y>E.y){L.y=w.y-A.height-r.y}else{if(L.y<w.y+n.height){m=true}}}}}else{if(C.indexOf("left")>-1){if((L.x<0)||L.x+A.width>w.x&&w.x+n.width+r.x+A.width<E.x+s.width){L.x=w.x+n.width+r.x}else{if((L.x<0)||L.x+A.width>w.x){m=true}}}else{if(C.indexOf("right")>-1){if((L.x>document.body.getDimensions().width)||L.x<w.x+n.width&&w.x-A.width-r.x>E.x){L.x=w.x-A.width-r.x}else{if((L.x>document.body.getDimensions().width)||L.x<w.x+n.width){m=true}}}}}var q=undefined;if(m){var i=0,v=0,J=0,x=0;i=w.x;v=w.x+n.width;x=w.y;J=w.y+n.height;q={left:i,right:(E.x+s.width)-v+r.x,bottom:(E.y+s.height)-J+r.y,top:x}}}l.getContent().setStyles({left:Math.round(L.x),top:Math.round(L.y)});return{position:L,targetPosition:w,availableSpaceAroundTargetIfOverlaping:q}},getOffset:function(i){var h=0;var g=0;while(i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop)){h+=i.offsetLeft-i.scrollLeft;g+=i.offsetTop-i.scrollTop;i=i.offsetParent}return{top:g,left:h}},getMouseCoord:function(g){if(g){var h=e.Utils.getOffset(g);return{x:event.pageX-h.left,y:event.pageY-h.top}}else{return{x:event.pageX,y:event.pageY}}},matrixToArray:function(g){return g.substr(7,g.length-8).split(", ")},rectContains:function(h,g){return Boolean((g.x>=h.left)&&(g.x<h.left+h.width)&&(g.y>=h.top)&&(g.y<h.top+h.height))},getComputedTranslateXY:function(j){var k=[];if(!window.getComputedStyle){return}var i=getComputedStyle(j),g=i.transform||i.webkitTransform||i.mozTransform||i.msTransform;var h=g.match(/^matrix3d\((.+)\)$/);if(h){return parseFloat(h[1].split(", ")[13])}h=g.match(/^matrix\((.+)\)$/);h?k.push(parseFloat(h[1].split(", ")[4])):k.push(0);h?k.push(parseFloat(h[1].split(", ")[5])):k.push(0);return k},getTranslationTest:function(h){var g=h.style.webkitTransform.match(/matrix(?:(3d)\(\d+(?:, \d+)*(?:, (\d+))(?:, (\d+))(?:, (\d+)), \d+\)|\(\d+(?:, \d+)*(?:, (\d+))(?:, (\d+))\))/);if(!g){return[0,0,0]}if(g[1]==="3d"){return g.slice(2,5)}g.push(0);return g.slice(5,8)},_translate3DToArray:function(h){if(h){var g=/([0-9-]+)+(?![3d]\()/gi;return h.toString().match(g)}else{return new e.Types.Maths.Vector3()}},_translate3DToObject:function(i){if(i){var h=/([\+\-]?[0-9]+([\.\,][0-9]+)?)+(?![3d]\()/gi,g=i.toString().match(h);if(g&&g.length){return new e.Types.Maths.Vector3([parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])])}else{return new e.Types.Maths.Vector3()}}else{return new e.Types.Maths.Vector3()}},getTranslation:function(g){return c._translate3DToObject(g.style.webkitTransform)},_sumObjects:function(k,j){var g=0;for(var h=0;h<arr1.length;h++){result+=(arr1[h]*arr2[h])}},translate:function(h,g){return e.Utils.getTranslation(h).add(g)},_getTranslateCoordinate:function(j,l){j=j.toString();var h=0,i=/([0-9-]+)+(?![3d]\()/gi,g=j.match(i);if(g.length){var k=l==="x"?0:l==="y"?1:2;h=parseFloat(g[k])}return h},clamp:function(h,g,i){return Math.min(Math.max(h,i),g)},decimalPlaces:function(h){var g=(String(h)).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!g){return 0}return Math.max(0,(g[1]?g[1].length:0)-(g[2]?Number(g[2]):0))},round:function(i,h){h=h||1;var j=Math.round(i/h)*h;var g=this.decimalPlaces(h);return j.toFixed(g)},isNumber:function(g){return !isNaN(parseFloat(g))},getXSSDefaultBehavior:function(){if(!c._XSSDefaultBehavior){if(typeof localStorage!=="undefined"){var g=localStorage.getItem("WebUX_XSS");if(g==="safe"){c._XSSDefaultBehavior="safe"}else{if(g==="unsafe"){c._XSSDefaultBehavior="unsafe"}}}if(!c._XSSDefaultBehavior){c._XSSDefaultBehavior="default"}}return c._XSSDefaultBehavior},getUnsafeHTMLContentValueToApply:function(g){if(g===undefined){return(c.getXSSDefaultBehavior()==="safe"?false:true)}else{return g}},generateMixin:function(h){var g=h;var j=b.extend({});for(var i in g){(function(k){Object.defineProperty(j.prototype,k,{get:function(){if(this._properties&&this._properties[k]){return this._properties[k].value}},enumerable:true,configurable:true})})(i);if(g[i].readOnly!==true){(function(n){var m=n.substring(0,1).toUpperCase()+n.substring(1,n.length);var o="_apply"+m;if(g[n].advancedSetter!==true){Object.defineProperty(j.prototype,n,{set:function(q){if(this._properties&&this._properties[n]&&(Array.isArray(this._properties[n].value)?f.equals(this._properties[n].value,q):this._properties[n].value===q)){return}var p;if(this._properties[n]){p=this._properties[n].value;this._properties[n].value=q}else{this._properties[n]={value:q}}this._propertyChanged(n,p,q);if(!this.publishedProperties[n].noNeedToApplyFlag){this._properties[n].dirty=true;if(this[o]){this[o](p,q)}else{var r={};r[n]=p;this._applyProperties(r)}this._properties[n].dirty=false}}})}else{var l="_preEdit"+m;var k="_postEdit"+m;Object.defineProperty(j.prototype,n,{set:function(q){var p;if(this._properties[n]){p=this._properties[n].value}if(this[l]){if(this[l](p,q)===false){return}}if(this._properties&&this._properties[n]&&(Array.isArray(this._properties[n].value)?f.equals(this._properties[n].value,q):this._properties[n].value===q)){if(this[k]){this[k](p,q)}return}if(this._properties[n]){this._properties[n].value=q}else{this._properties[n]={value:q}}this._propertyChanged(n,p,q);if(!this.publishedProperties[n].noNeedToApplyFlag){this._properties[n].dirty=true;if(this[o]){this[o](p,q)}else{var r={};r[n]=p;this._applyProperties(r)}this._properties[n].dirty=false}if(this[k]){this[k](p,q)}}})}})(i)}}return j},baseInherit:function(h){var g=c.inheritUtils(this,h);g.prototype.getModel=function(){return this};g.inherit=c.inherit;return g},applyMixin:function(j,g){if(typeof j!=="function"||typeof g!=="function"){throw new Error("parameters must be constructors (i.e. functions)")}var h,i;h=g.prototype;i=j.prototype;Object.keys(h).forEach(function(k){Object.defineProperty(i,k,Object.getOwnPropertyDescriptor(h,k))})},inheritUtils:function(h,i){var g=h.extend(i);c.applyMixin(g,c.generateMixin(i.publishedProperties));return g},inherit:function(g){if(!e.POLYMER_ENABLED){return c.baseInherit.call(this,g)}else{if(g.name===undefined||g.name==="abstract"){return c.baseInherit.call(this,g)}else{return d.polymerize.call(this,g,c)}}},debounce:function(h,j,g){var i;return function(){var n=this,m=arguments;var l=function(){i=null;if(!g){h.apply(n,m)}};var k=g&&!i;clearTimeout(i);var o;if(typeof j==="function"){o=j()}else{o=j}i=setTimeout(l,o);if(k){h.apply(n,m)}}},throttle:function(j,g){var h;var i;return function(){var m=this;var l=Number(new Date());var k=arguments;if(h&&l<h+g){clearTimeout(i);i=setTimeout(function(){h=l;j.apply(m,k)},g)}else{h=l;j.apply(m,k)}}},browserIsIE:function(){var i=window.navigator.userAgent;var h=i.indexOf("MSIE ");if(h>0){return parseInt(i.substring(h+5,i.indexOf(".",h)),10)}var g=i.indexOf("Trident/");if(g>0){var k=i.indexOf("rv:");return parseInt(i.substring(k+3,i.indexOf(".",k)),10)}var j=i.indexOf("Edge/");if(j>0){return parseInt(i.substring(j+5,i.indexOf(".",j)),10)}return false},getJsonFromUrl:function(h){var i;if(h){var j=location.href.indexOf("?");if(j==-1){return[]}i=location.href.substr(j+1)}else{i=location.search.substr(1)}var g={};i.split("&").forEach(function(m){if(!m){return}m=m.split("+").join(" ");var k=m.indexOf("=");var n=k>-1?m.substr(0,k):m;var o=k>-1?decodeURIComponent(m.substr(k+1)):"";var q=n.indexOf("[");if(q==-1){g[decodeURIComponent(n)]=o}else{var p=n.indexOf("]");var l=decodeURIComponent(n.substring(q+1,p));n=decodeURIComponent(n.substring(0,q));if(!g[n]){g[n]=[]}if(!l){g[n].push(o)}else{g[n][l]=o}}});return g},getParameterByName:function(h,g){if(!g){g=window.location.href}h=h.replace(/[\[\]]/g,"\\$&");var j=new RegExp("[?&]"+h+"(=([^&#]*)|&|#|$)"),i=j.exec(g);if(!i){return null}if(!i[2]){return""}return decodeURIComponent(i[2].replace(/\+/g," "))},updateQueryStringParameter:function(i,g,j){var h=new RegExp("([?&])"+g+"=.*?(&|$)","i");var k=i.indexOf("?")!==-1?"&":"?";if(i.match(h)){return i.replace(h,"$1"+g+"="+j+"$2")}else{return i+k+g+"="+j}},saveDataInLocalPreferences:function(h,l,i,k){var g="";g=this._getIdForLocalPreferences(h);if(g===""){return false}if(typeof localStorage!=="undefined"){var j=localStorage.getItem(l);if(j){j=JSON.parse(j);if(j[g]){j[g][i]=k}else{j[g]={};j[g][i]=k}}else{j={};j[g]={};j[g][i]=k}}localStorage.setItem(l,JSON.stringify(j))},_getIdForLocalPreferences:function(g){if(g&&(g.identifier)){return g.identifier}else{if(g&&typeof g==="string"){return g}}},getDataFromLocalPreferences:function(h,l,i){var j=undefined;var g="";var g=this._getIdForLocalPreferences(h);if(g&&g!==""&&typeof localStorage!=="undefined"){var k=JSON.parse(localStorage.getItem(l));if(k&&k[g]&&i){j=k[g][i]}}return j},checkPresenceOfPreferences:function(h,j){var g="";g=this._getIdForLocalPreferences(h);if(g===""){return}if(typeof localStorage!=="undefined"){var i=JSON.parse(localStorage.getItem(j));if(i){return true}}return false},deleteDataFromLocalPreferences:function(h,k,i){var g="";g=this._getIdForLocalPreferences(h);if(g===""){return}if(typeof localStorage!=="undefined"){var j=JSON.parse(localStorage.getItem(k));if(j&&j[g]){if(i){delete j[g][i]}else{delete j[g]}if(Object.keys(j).length===0){localStorage.removeItem(k)}else{localStorage.setItem(k,JSON.stringify(j))}}}},isDateInBetween:function(h,g,i,j){if(j==="day"){if(h){if(g<h){return false}}if(i){if(g>i){return false}}}else{if(j==="month"){if(h){if(h.getFullYear()>g.getFullYear()||(h.getFullYear()===g.getFullYear()&&h.getMonth()>g.getMonth())){return false}}if(i){if(i.getFullYear()<g.getFullYear()||(i.getFullYear()===g.getFullYear()&&i.getMonth()<g.getMonth())){return false}}}}return true},sortNumberArray:function(g){var h=function(j,i){return j-i};g.sort(h)},isMouseOverElement:function(h,g){if(h!=undefined){var i=null;if(h.getBoundingClientRect){i=h.getBoundingClientRect()}else{if(h.getContent()!=undefined){i=h.getContent().getBoundingClientRect()}}return Boolean((g.x>=i.left)&&(g.x<i.left+i.width)&&(g.y>=i.top)&&(g.y<i.top+i.height))}},getObjectPropertyInfo:function(i,g){var h=function(j,k,m){var l=typeof m==="object"&&m&&j[k]&&m[j[k]]!==undefined;if(l){if(k===j.length-1){return{valid:true,parent:m,name:j[k],value:m[j[k]]}}return h(j,k+1,m[j[k]])}return{valid:false}};if(g!==undefined&&g!==null){if(g.length){return h(g.split("."),0,i)}else{if(g.length===0){return{valid:true,value:i}}}}return{valid:false}},getObjectPropertyParent:function(i,h){var g=this.getObjectPropertyInfo(i,h);if(g.valid){return g.parent}return null},isPropertyInObject:function(i,h){var g=this.getObjectPropertyInfo(i,h);return Boolean(g.valid&&g.value!==undefined)},removeObjectProperty:function(i,h){var g=this.getObjectPropertyInfo(i,h);if(g.valid&&g.value!==undefined){delete g.parent[g.name];return true}return false},addObjectProperty:function(l,n,m){var j=n.split(".");var h=j[j.length-1];var g="";for(var k=j.length-2;k>=0;k--){g=j[k]+g;if(k!==0){g="."+g}}var o=this.getObjectPropertyInfo(l,g);if(o.value===undefined||o.value===null){this.addObjectProperty(l,g,{});o=this.getObjectPropertyInfo(l,g)}if(o.valid&&o.value[h]===undefined){o.value[h]=m;return true}return false},setObjectProperty:function(i,h,j){var g=this.getObjectPropertyInfo(i,h);if(g.valid){g.parent[g.name]=j;return true}return false},isObjectEmpty:function(g){if(g){for(var h in g){if(g.hasOwnProperty(h)){return false}}return JSON.stringify(g)===JSON.stringify({})}return false},areObjectsEqual:function(i,h){var k,g;if(i&&h){try{k=JSON.stringify(i);g=JSON.stringify(h);return k===g}catch(j){return false}}return false},concatenateObjects:function(j,i){var h={};for(var g in j){if(j.hasOwnProperty(g)){h[g]=j[g]}}for(var g in i){if(i.hasOwnProperty(g)){h[g]=i[g]}}return h},arePrototypesEqual:function(j,i){var k,h=0,g=0;if(j&&i){for(k in j){h++}for(k in i){g++}if(h!==g){return false}for(k in j){if(j[k]===undefined&&i[k]!==undefined||i[k]===undefined&&j[k]!==undefined){return false}}return true}return false},setTweakerProperties:function(k,p,i,g){var o={};var m=k.getPublishedPropertiesDefaultValue();var n=typeof i!=="undefined"&&typeof i.semantics!=="undefined";var j=typeof g!=="undefined"&&typeof g.options!=="undefined";for(var l in m){if(l!=="displayStyle"){var h=m[l];if(p.hasOwnProperty(l)){h=p[l]}else{if(n&&i.semantics.hasOwnProperty(l)){h=i.semantics[l]}else{if(j&&g.options.hasOwnProperty(l)){h=g.options[l]}}}if(k[l]!==h){o[l]=h}}}k.setProperties(o)},spliceString:function(i,j,g,h){return i.slice(0,j)+h+i.slice(j+g,i.length)},equalsToNaN:function(g){if(Number.isNaN===undefined){return typeof(g)==="number"&&isNaN(g)}else{return Number.isNaN(g)}}};return c});define("DS/Utilities/Css",["UWA/Core","DS/Maths/Vector3","DS/Utilities/Utils"],function(e,a,d){var c=["transform","-webkit-transform","top","position","bottom","left","right","width","height"];var b={disableSelection:function(f){f.addClassName("wux-ui-disable-selection")},recordState:function(k,f){if(f===undefined){f=c}var l=[];var h=e.extendElement(k);if(window.getComputedStyle){for(var j=0;j<f.length;j++){var g=getComputedStyle(k)[f[j]];g=h.getStyle(f[j]);l.push(g)}}return l},restoreState:function(j,k,f){if(f===undefined){f=c}var g=e.extendElement(j);if(g){for(var h=0;h<f.length;h++){if(k){g.setStyle(f[h],k[h])}else{g.setStyle(f[h],"")}}}},verticalAlign:function(h,g){var f=new e.Element("div",{styles:{display:"table",height:"100%",width:"100%",position:"relative",overflow:"hidden","class":g},html:{tag:"div",styles:{top:"50%",display:"table-cell",verticalAlign:"middle",width:"100%",position:"static"},html:{tag:"div",styles:{top:"50%",display:"inline-block",verticalAlign:"middle",width:"100%",position:"static"},html:h}}});return f}};return e.namespace("WUX/Utilities/Css",b)});define("DS/Utilities/Dom",["UWA/Core","UWA/Utils/Client","DS/Utilities/Utils","DS/Utilities/ReusableContentsManager","DS/WebRecordEnabler/Adapter"],function(g,f,d,c,b){var e=new c();e.register({id:"iframe",buildContent:function(){return new g.Element("iframe",{"class":"wux-ui-is-resized",tabIndex:-1})}});var a={addEndResizeListener:function(k,l,i){if(i===undefined){i=500}var j;var h=d.debounce(function(){l()},i);a.addResizeListener(k,h)},setAttributes:function(j,i){for(var h in i){if((h==="styles"||h==="style")&&typeof i[h]==="object"){a.setStyles(j,i[h])}else{if(h==="html"){j.innerHTML=i[h]}else{j.setAttribute(h,i[h])}}}},setStyles:function(i,k){var j="";for(var l in k){if(k[l]!==undefined){var h=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(typeof k[l]==="number"){j+=h+":"+k[l]+"px;"}else{j+=h+":"+k[l]+";"}}}i.style.cssText+=";"+j},empty:function(h){while(h.firstChild){h.removeChild(h.firstChild)}},setContent:function(i,h,j){if(typeof h==="string"){if(d.getUnsafeHTMLContentValueToApply(j)===false){i.textContent=h;i._allowUnsafeHTMLContent=false}else{i.innerHTML=h;i._allowUnsafeHTMLContent=true}}else{a.empty(i);i.appendChild(h)}},createElement:function(h,j){var i=document.createElement(h);a.setAttributes(i,j);return i},hasClass:function(i,h){return(" "+i.className+" ").replace(/[\n\t]/g," ").indexOf(" "+h+" ")>-1},firstParentWithClass:function(i,h){if(i){return(this.hasClass(i,h))?i:this.firstParentWithClass(i.parentNode,h)}},isActiveElementInContainer:function(i){var h=document.activeElement;if(h&&i){while(h&&h!==i){h=h.parentElement}}return h===i},isElementInside:function(j,h){var i=j;while(!(!i||i===document.body.parentElement)){if(i===h){return true}else{i=i.parentElement}}return false},onNodeResized:function(h,i){if(attachEvent){h.attachEvent("onresize",i)}else{if(!h.__resizeTriggers__){if(getComputedStyle(h).position=="static"){h.style.position="relative"}createStyles();h.__resizeLast__={};h.__resizeListeners__=[];(h.__resizeTriggers__=document.createElement("div")).className="resize-triggers";h.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';h.appendChild(h.__resizeTriggers__);resetTriggers(h);h.addEventListener("scroll",scrollListener,true)}h.__resizeListeners__.push(i)}},onNodeRendered:function(i,j){var h=function(k){if(k.animationName=="nodeIsRendered"){if(i===k.target||(window.Polymer&&(k.target.hasChildNodes(i)))){j()}}};i.addEventListener("animationstart",h,false);i.addEventListener("MSAnimationStart",h,false);i.addEventListener("webkitAnimationStart",h,false);g.extendElement(i).addClassName("wux-ui-is-rendered")},oldGenerateIcon:function(h,j,i){if(!h){return}if(typeof(h)==="object"){return this.generateIcon(h,i)}if(typeof(h)==="string"&&h.indexOf(".")>-1){return this.generateIcon(h)}return this.generateIcon({iconName:h,fontIconSize:j,fontIconFamily:i})},cleanIcon:function(h){if(!h||!h.__generateIconInfos){return}if(h.__generateIconInfos.classes){h.removeClassName(h.__generateIconInfos.classes)}switch(h.__generateIconInfos.type){case 0:h.src="";if(h.__generateIconInfos.size){h.width="";h.height=""}break;case 1:h.style.backgroundImage="";if(h.__generateIconInfos.size){h.style.width="";h.style.height=""}break}delete h.__generateIconInfos},_generateIconFromString:function(h,i){var j=i&&i.target!==undefined;var m=j?i.target:undefined;var l=undefined;var k;if(h.indexOf(".")>-1){if(j){if(m.tagName.toLowerCase()==="img"){l=0;k="wux-ui-genereatedicon-image wux-button-icon-image";m.src=h}else{l=1;k="wux-ui-genereatedicon-backgroundimage wux-button-icon-image";m.style.backgroundImage="url("+h+")"}g.extendElement(m).addClassName(k)}else{l=0;k="wux-ui-genereatedicon-image wux-button-icon-image";m=new g.Element("img",{"class":k,src:h})}}else{k="wux-ui-genereatedicon-fi wux-ui-3ds wux-ui-3ds-"+h+" wux-ui-3ds-lg";if(j){g.extendElement(m).addClassName(k)}else{m=new g.Element("span",{"class":k})}}m.__generateIconInfos={type:l,classes:k};return m},_generateIconFromClasses:function(h,i){var j=i&&i.target!==undefined;var l=j?i.target:undefined;var k="wux-button-icon-custom wux-ui-genereatedicon-custom "+h.iconClasses;if(j){g.extendElement(l).addClassName(k)}else{l=new g.Element("div",{"class":k})}l.__generateIconInfos={classes:k};return l},_generateIconFromPath:function(h,i){var j=i&&i.target!==undefined;var m=j?i.target:undefined;var l=undefined;var k;if(j){if(m.tagName.toLowerCase()==="img"){l=0;k="wux-ui-genereatedicon-image";m.src=h.iconPath}else{l=1;k="wux-ui-genereatedicon-backgroundimage";m.style.backgroundImage="url("+h.iconPath+")"}g.extendElement(m).addClassName(k)}else{l=0;k="wux-ui-genereatedicon-image";m=new g.Element("img",{"class":k,src:h.iconPath})}if(h.iconSize){if(l===0){m.width=h.iconSize.width;m.height=h.iconSize.height}else{m.style.width=h.iconSize.width;m.style.height=h.iconSize.height}}m.__generateIconInfos={type:l,classes:k,size:h.iconSize};return m},_generateIconFromFontIconDefinition:function(h,i){var j=i&&i.target!==undefined;var m=j?i.target:undefined;var l="";if(h.fontIconFamily===WUXManagedFontIcons.FontAwesome){l="wux-ui-fa"}else{if(h.fontIconFamily===WUXManagedFontIcons.Font3DS||!h.fontIconFamily){l="wux-ui-3ds"}else{console.warn("Incorrect input, wrong FontIcon family");return}}var k="wux-button-icon-fi wux-ui-genereatedicon-fi "+l+" "+l+"-"+h.iconName;if(!h.fontIconSize||h.fontIconSize==="1x"){k+=" "+l+"-lg"}else{k+=" "+l+"-"+h.fontIconSize}if(j){g.extendElement(m).addClassName(k)}else{m=new g.Element("span",{"class":k})}m.__generateIconInfos={classes:k,};return m},generateIcon:function(h,i){if(!h){return}if(i&&i.target){this.cleanIcon(i.target)}if(typeof(h)==="string"){return this._generateIconFromString(h,i)}if(h.iconClasses){return this._generateIconFromClasses(h,i)}if(h.iconPath){return this._generateIconFromPath(h,i)}if(h.iconName){return this._generateIconFromFontIconDefinition(h,i)}},createEllipsisText:function(l){var l=l||{maxWidth:"auto",lineHeight:18,nbLinesVisible:2,textAlign:"justify",allowUnsafeHTMLLabel:false};if(l.nbLinesVisible===1){var k={"class":"wux-button-label-ellipsis-nowrap",styles:{"max-width":l.maxWidth,"line-height":l.lineHeight+"px","max-height":l.lineHeight+"px"}};if(l.allowUnsafeHTMLLabel===false){k.text=l.label}else{k.html=l.label}return new g.Element("div",k)}var i=l.nbLinesVisible||2;var h={"class":"wux-button-label-ellipsis-wrap",styles:{"text-align":l.textAlign,"max-width":l.maxWidth,"line-height":l.lineHeight+"px","max-height":l.lineHeight*i+"px"}};if(l.allowUnsafeHTMLLabel===false){h.text=l.label}else{h.html=l.label}var j=new g.Element("div",h);a.onNodeRendered(j,function(){var q=j.innerHTML.split(/\s/);var o='<span style="white-space: pre; display: inline-block;">';j.innerHTML=o+q.join(" </span>"+o)+"</span>";var p=null;var r=0;var m=0;j.getChildren("span").every(function(t,s){var u=t.getPosition().y;if(u!==p){p=u;r++}if(r===i){m=s;return false}return true});var n;for(n=m;n<q.length&&q[n]==="";n++){}q.splice(m,n-m);if(m!==0){q[m]='<div style="overflow: hidden; text-overflow: ellipsis; white-space: pre;">'+q[m];q.push("</div>")}j.innerHTML=q.join(" ")});return j},computeStringWidth:function(o,n,h,k){var j=document.createElement("canvas").getContext("2d");j.font=(k?"bold ":"")+n+"px "+h;var l=j.measureText(o);var i=0;var m=l.width;if(m){i=parseFloat(m,10)}return i},_pushUserInteractionContext:function(){a._userInteractionContextes.push({userInteractionPath:[]})},_popUserInteractionContext:function(){a._userInteractionContextes.pop()},_isCurrentlyCalledFromUIInteraction:function(){return(a._userInteractionContextes.length===0?false:true)},_isInInteractionPath:function(i){if(a._userInteractionContextes.length===0){return 0}for(var h=0;h<a._userInteractionContextes[a._userInteractionContextes.length-1].userInteractionPath.length;h++){if(a._userInteractionContextes[a._userInteractionContextes.length-1].userInteractionPath[h].dom===i){return 1}}return 0},_increaseCurrentPositionInStack:function(k,m){if(a._userInteractionContextes.length===0){return{increment:false,uiInteraction:false}}var h=a._userInteractionContextes[a._userInteractionContextes.length-1];var l=h.userInteractionPath;if(l.length===0){var j=k;while(j){l.push({dom:j,dsModel:j.dsModel,userInteractionCount:0,foreignObjectCalled:false});if(j.dsModel&&j.dsModel.name==="popup"){if(j.dsModel.target&&j.dsModel.target.getContent){j=j.dsModel.target.getContent()}else{j=j.dsModel.target}}else{j=(j.getParent?j.getParent():null)}}h.currentPositionInStack=0}if(l[h.currentPositionInStack].foreignObjectCalled){return{increment:false,uiInteraction:false}}for(var i=h.currentPositionInStack;i<l.length;i++){if(k===l[i].dom){h.currentPositionInStack=i;if(m!==false){l[i].userInteractionCount++}return{increment:true,inCurrentUIInteractionStack:true,uiInteraction:true,firstTimeInstanceIsCalled:(l[i].userInteractionCount===1?true:false)}}}l[h.currentPositionInStack].foreignObjectCalled=true;return{increment:true,foreignObjectCalled:true,uiInteraction:true}},_decreaseCurrentPositionInStack:function(i){if(a._userInteractionContextes.length===0){return}var h=a._userInteractionContextes[a._userInteractionContextes.length-1];var j=h.userInteractionPath;if(j&&j.length){if(j[h.currentPositionInStack].userInteractionCount===0){var k=0}if(j[h.currentPositionInStack].foreignObjectCalled){j[h.currentPositionInStack].foreignObjectCalled=false;return}if(i!==false){j[h.currentPositionInStack].userInteractionCount--}if(j[h.currentPositionInStack].userInteractionCount===0){while(h.currentPositionInStack>0){h.currentPositionInStack--;if(j[h.currentPositionInStack].userInteractionCount){break}}if(h.currentPositionInStack===0&&j[h.currentPositionInStack].userInteractionCount===0){h.userInteractionPath=[]}}}},addEventOnElement:function(l,i,j,k,h){if(!l._events){l._events=[]}var m=function(){var o=false;if(arguments[0]){if(arguments[0].isTrusted||(arguments[0].originalEvent&&arguments[0].originalEvent.isTrusted)){o=true}else{if(arguments[0].isSimulated||(arguments[0].originalEvent&&arguments[0].originalEvent.isSimulated)){o=true}}}var n=undefined;if(o){a._pushUserInteractionContext()}else{n=a._increaseCurrentPositionInStack(l.getContent?l.getContent():l,false)}k.apply(i,arguments);if(o){a._popUserInteractionContext()}else{if(n.increment){a._decreaseCurrentPositionInStack(false)}}};if(f.Engine.firefox&&j==="mousewheel"){j="DOMMouseScroll"}l._events.push({target:i,eventName:j,listener:k,wrapper:m,useCapture:h});i.addEventListener(j,m,h)},removeEventOnElement:function(n,j,k,l,h){if(n._events){for(var i=0;i<n._events.length;i++){var m=n._events[i];if(m.target===j&&m.eventName===k&&m.listener===l&&(!m.useCapture||m.useCapture===h)){if(f.Engine.firefox&&k==="mousewheel"){k="DOMMouseScroll"}if(m.wrapper){j.removeEventListener(k,m.wrapper,h)}else{j.removeEventListener(k,l,h)}n._events.splice(i,1);return true}}}return false},removeAllEventsOnElement:function(l){var h=true;if(l._events){for(var j=l._events.length-1;j>=0;j--){var k=l._events[j];if(k&&k.target&&k.eventName&&k.listener){if(k.wrapper){k.target.removeEventListener(k.eventName,k.wrapper,k.useCapture?k.useCapture:false)}else{k.target.removeEventListener(k.eventName,k.listener,k.useCapture?k.useCapture:false)}}else{h=false}l._events.splice(j,1)}return h}return undefined},hasEventOnElement:function(n,j,k,l,h){if(n._events){for(var i=0;i<n._events.length;i++){var m=n._events[i];if(m.target===j&&m.eventName===k&&m.listener===l&&(!m.useCapture||m.useCapture===h)){return true}}}return false},_callMethodFromUIInteraction:function(m,i,h){if(!m.elements.container&&!m.container){return}var k=undefined;var j=a._increaseCurrentPositionInStack(m.getContent());if(j.inCurrentUIInteractionStack&&j.firstTimeInstanceIsCalled){if(m.elements.container){var l=i.length;if(h.length>l){h.length=l}b.addCustomInteraction(m.elements.container,{type:"webUX_method",methodToApply:i.name,arguments:h},undefined,true)}}k=i.apply(m,h);if(j.inCurrentUIInteractionStack){a._decreaseCurrentPositionInStack()}return k},_getUrlRegex:function(){const h=/((https?|ftp):\/\/|www\.|ftp\.|mailTo:)[^\s/$.?#].[^\s]*[^,:;\. ]/gi;return h},hyperlinkifyText:function(h){return h.replace(this._getUrlRegex(),function(i){var j=g.createElement("a");j.text=i.replace(/^mailTo:/gi,"");if(i.match(/^www\./gi)){j.href="http://"+i}else{if(i.match(/^ftp\./gi)){j.href="ftp://"+i}else{j.href=i}}if(!i.match(/^mailTo:/gi)){j.target="_blank"}return j.outerHTML})}};a._userInteractionContextes=[];(function(k){var m=document.attachEvent;var j=navigator.userAgent.match(/Trident/);var i=(function(){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(o){return window.setTimeout(o,20)};return function(o){return n(o)}})();var l=(function(){var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(o){return n(o)}})();function h(n){var o=n;if(o.__resizeRAF__){l(o.__resizeRAF__)}o.__resizeRAF__=i(function(){var p=o.__resizeTrigger__;n.__resizeListeners__.forEach(function(q){q.call(p,n)})})}k.addResizeListener=function(o,p,n){if(!o.__resizeListeners__||!o.__resizeListeners__.length){if(!o.__resizeListeners__){o.__resizeListeners__=[]}var q=o.__resizeTrigger__=e.use("iframe").component;q.__resizeElement__=o;o.__loadListener__=function(){q.contentWindow.addEventListener("resize",o.__windowResizeListener__)};o.__windowResizeListener__=function(){if(document.activeElement&&document.activeElement.tagName&&document.activeElement.tagName.toLowerCase()!=="input"){h(o,q)}};q.addEventListener("load",o.__loadListener__);o.appendChild(q)}o.__resizeListeners__.push(p)};k.removeResizeListener=function(o,p){o.__resizeListeners__.splice(o.__resizeListeners__.indexOf(p),1);if(!o.__resizeListeners__.length){if(o&&o.__resizeTrigger__){if(m){o.detachEvent("onresize",h)}else{if(o.__resizeTrigger__.contentDocument){o.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",h)}}if(o.__resizeTrigger__.contentWindow){o.__resizeTrigger__.contentWindow.removeEventListener("resize",o.__windowResizeListener__)}o.__resizeTrigger__.removeEventListener("load",o.__loadListener__);o.__windowResizeListener__=null;o.__loadListener__=null;try{o.removeChild(o.__resizeTrigger__)}catch(n){console.warn("The inside DOM of the resize listener has been prematurely deleted. IFrame could not be removed.")}o.__resizeTrigger__.__disposable__.dispose();o.__resizeTrigger__.__resizeElement__=null;o.__resizeTrigger__=null}else{console.warn("The inside DOM of the resize listener has been prematurely deleted. Listeners could not be removed.")}}}})(a);return a});define("DS/Utilities/Color",["UWA/Core","DS/Utilities/Utils"],function(d,b){function c(f,e){var g=String(f);while(g.length<e){g="0"+g}return g}var a={rgbToHsl:function(e,m,p){e/=255,m/=255,p/=255;var q=Math.max(e,m,p),j=Math.min(e,m,p);var k,u,f=(q+j)/2;if(q==j){k=u=0}else{var n=q-j;u=f>0.5?n/(2-q-j):n/(q+j);switch(q){case e:k=(m-p)/n+(m<p?6:0);break;case m:k=(p-e)/n+2;break;case p:k=(e-m)/n+4;break}k/=6}var t=k*360;var i=u*100;var o=f*100;return[t,i,o]},rgbToHsv:function(e,j,k){var f=Math.min(e,j,k),l=Math.max(e,j,k),n=l-f,i,o,m=l;m=l/255*100;if(l!=0){o=n/l*100}else{return[0,0,0]}if(e==l){i=(j-k)/n}else{if(j==l){i=2+(k-e)/n}else{i=4+(e-j)/n}}if(n===0){i=0}i=i*60;if(i<0){i+=360}return[i,o,m]},hsvToRgb:function(i){var k=i[0];var j=i[1];var g=i[2];var n=255*g/100;var f=n*(1-j/100);var l=(n*j/100)*(1-Math.abs((k/60)%2-1));var e={};if(k>=0&&k<60){e.r=Math.round(n);e.g=Math.round(l+f);e.b=Math.round(f)}else{if(k>=60&&k<120){e.r=Math.round(l+f);e.g=Math.round(n);e.b=Math.round(f)}else{if(k>=120&&k<180){e.r=Math.round(f);e.g=Math.round(n);e.b=Math.round(l+f)}else{if(k>=180&&k<240){e.r=Math.round(f);e.g=Math.round(l+f);e.b=Math.round(n)}else{if(k>=240&&k<300){e.r=Math.round(l+f);e.g=Math.round(f);e.b=Math.round(n)}else{if(k>=300&&k<360){e.r=Math.round(n);e.g=Math.round(f);e.b=Math.round(l+f)}}}}}}return e},hexToHsv:function(f){var e=this.hexToRgb(f);return this.rgbToHsv(e.r,e.g,e.b)},hsvToHex:function(e){return this.rgbToHex(this.hsvToRgb(e))},intToHex:function(e){var f=parseInt(e).toString(16);return(f.length<2)?"0"+f:f},hexToInt:function(e){return parseInt("0x"+e)},hexToHsl:function(f){var e=this.hexToRgb(f);return this.rgbToHsl(e.r,e.g,e.b)},hslToRgb:function(h){var g={};var j=(1-Math.abs(h[2]/50-1))*h[1]/100,f=j*(1-Math.abs((h[0]/60)%2-1)),i=Math.floor(h[0]/60),e=h[2]/100-j/2;switch(i){case 0:g.r=j;g.g=f;g.b=0;break;case 1:g.r=f;g.g=j;g.b=0;break;case 2:g.r=0;g.g=j;g.b=f;break;case 3:g.r=0;g.g=f;g.b=j;break;case 4:g.r=f;g.g=0;g.b=j;break;case 5:case 6:g.r=j;g.g=0;g.b=f;break}g.r=Math.round((g.r+e)*255);g.g=Math.round((g.g+e)*255);g.b=Math.round((g.b+e)*255);return g},hslToHex:function(e){return this.rgbToHex(this.hslToRgb(e))},rgbToHex:function(e){var f=function(h){var g=h.toString(16)||"";while(g.length<2){g="0"+g}return g};return f(e.r)+f(e.g)+f(e.b)},random:function(){var g="0123456789ABCDEF".split("");var e="#";for(var f=0;f<6;f++){e+=g[Math.round(Math.random()*15)]}return e},hexToRgb:function(e){var e=String(e);if(e.charAt(0)==="#"){e=e.substr(1)}if(e.length===3){e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}return{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}},colorToCssColor:function(e){return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},lerpColorRgb:function(g,f,e){var e=b.clamp(0,1,e);return{r:Math.round(g.r+e*(f.r-g.r)),g:Math.round(g.g+e*(f.g-g.g)),b:Math.round(g.b+e*(f.b-g.b))}},lerpColorHex:function(i,h,e){var f=this.hexToRgb(i);var g=this.hexToRgb(h);return this.rgbToHex(this.lerpColorRgb(f,g,e))}};return a});define("DS/Utilities/Css3D",["UWA/Core","DS/Maths/Vector","DS/Maths/Vector3","UWA/Class","DS/Utilities/Utils"],function(f,b,a,c,e){var d=function(j,r,k){this.el=j;this.settings={duration:500,ease:"ease-out",x:null,y:null,rotate:null,rotateX:null,rotateY:null,rotateZ:null};this.settings=f.extend(this.settings,r);var i=false;var o="";var n=0,m=0,l=0;for(var h in this.settings){var q=this.settings[h];if(q){switch(h){case"rotate":o+=" rotate("+q+"deg)";break;case"x":n=q;break;case"y":m=q;break;case"z":l=q;break}}}var g=new a([n,m,l]);g=e.getTranslation(this.el).add(g);o+=" translate3d("+g._x+"px, "+g._y+"px, "+g._z+")";this.el.style.webkitTransition="-webkit-transform "+this.settings.duration+"ms "+this.settings.ease;this.el.style.MozTransition="-moz-transform "+this.settings.duration+"ms "+this.settings.ease;this.el.style.webkitTransform=o;this.el.style.MozTransform=o;this.el.addEventListener("webkitTransitionEnd",p,false);function p(){}};return f.namespace("WUX/Utilities/Css3D",d)});
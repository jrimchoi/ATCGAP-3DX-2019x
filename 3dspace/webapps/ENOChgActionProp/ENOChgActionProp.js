define("DS/ENOChgActionProp/scripts/ChangePropertiesUtility",["DS/WAFData/WAFData","DS/WidgetServices/WidgetServices","DS/ENOChangeActionUX/scripts/CASpinner"],function(a,d,b){var c={GetChangeRequired:function(e){var f=new Promise(function(m,l){var k="pid:"+e;var g=[];g.push(k);var j={ObjectsListForGetChangeControl:g};j=JSON.stringify(j);var h="/resources/modeler/change/changecontrol";var i=function(o){var p={};if(o&&o.objectListChangeControlled){var n=o.objectListChangeControlled[0];if(n){p.CCValue=n.changeControlValue}}if(o&&o.ChangeData){p.ChangeData=o.ChangeData[0]}m(p)};c.makeWSCall(h,"POST","enovia","application/json",j,i,null)});return f},SetUnsetChangeRequired:function(f,e){var g=new Promise(function(n,m){var l="pid:"+f;var h=[];h.push(l);var k={};if(e=="Set"){k={ObjectsListForSetChangeControl:h}}else{k={ObjectsListForUnSetChangeControl:h}}k=JSON.stringify(k);var i="/resources/modeler/change/changecontrol";var j=function(p){var q={};if(p&&p.objectListChangeControlled){var o=p.objectListChangeControlled[0];if(o){q.CCValue=o.changeControlValue}}if(p&&p.ChangeData){q.ChangeData=p.ChangeData[0]}n(q)};c.makeWSCall(i,"PUT","enovia","application/json",k,j,null)});return g},getImpactedCA:function(e){var f=new Promise(function(m,l){var k="pid:"+e;var g=[];g.push(k);var j={};j={"impacted items":g};j=JSON.stringify(j);var h="/resources/modeler/change/impactAnalysis";var i=function(n){var o={};if(n.object[0].impacting){o=n.object[0].impacting["complete ca"][0]}m(o)};c.makeWSCall(h,"POST","enovia","application/json",j,i,null)});return f},getCompletedTaskDetails:function(e){var f=new Promise(function(k,j){var g="/resources/modeler/change/inboxtask/"+e;var h="";var i=function(m){var l={};l.completedTaskDetail=m;k(l)};c.makeWSCall(g,"GET","enovia","application/json",h,i,null,false)});return f},getRouteFromChangeAction:function(e){var f=new Promise(function(k,j){var g="/resources/modeler/change/changeaction/"+e+"?lastApprovalRoute=1";var h="";var i=function(m){var l={};l.lastApproveRoute=m.changeaction.lastApprovalRoute;k(l)};c.makeWSCall(g,"GET","enovia","application/json",h,i,null,false)});return f},getRouteDetails:function(e){var f=new Promise(function(k,j){e=e.replace("pid:","");var g="/resources/v1/modeler/routes/"+e+"/tasks";var h="";var i=function(m){var l={};l.routeInfo=m;k(l)};c.makeWSCall(g,"GET","enovia","application/json",h,i,null,false)});return f},getConfiguredObjectInfo:function(e){var f=new Promise(function(k,j){var g="/resources/modeler/configuration/navigationServices/getConfiguredObjectInfo/pid:"+e+"?cfgCtxt=1";var h="";var i=function(m){k(m)};var l=function(m){var n={};k(n)};c.makeWSCall(g,"GET","enovia","application/ds-json",h,i,l,false)});return f},DispatchEventToWin:function(g,i){if(enoviaServerCAWidget&&(enoviaServerCAWidget.isNative||(g=="Work_Under"&&enoviaServerCAWidget.isPoweredBy))){var f=window.dscef;if(f!==undefined){if(typeof f.sendString==="function"){f.sendString(g+"="+i)}}else{if(typeof CATCefSendString!=="undefined"){CATCefSendString(g+"="+i)}else{var e=document.createElement("textarea");e.setAttribute("name",g);e.appendChild(document.createTextNode(i));var h=document.createElement("form");h.setAttribute("method","POST");h.setAttribute("action","jsnotif://");h.appendChild(e);document.documentElement.appendChild(h);h.submit();h.parentNode.removeChild(h);h=null}}}},getUserDisplayNameByPromise:function(e){var f=new Promise(function(m,l){var k="";var n="";if(Array.isArray(e)){for(var h=0;h<e.length;h++){if(n!=""){n=n+"%7C"+e[h]}else{n=e[h]}}}else{n=e}var j=function(o){var i={};i.userDisplayName=o;m(i)};var g="/resources/modeler/change/userdisplayname";c.makeWSCall(g,"GET","enovia","application/json","userNames="+n,j,null,false)});return f},_addFullNameToPersonObject:function(g,f){var e=g.changeaction.people;if(Array.isArray(e)){e.forEach(function(j){var h=j.name;if(f&&f.userDisplayName.userInfo&&f.userDisplayName.userInfo[h]){var i=f.userDisplayName.userInfo[h].userDisplayName;j.fullName=i;j.id=f.userDisplayName.userInfo[h].id}})}},getCADetails:function(e){var f=new Promise(function(k,j){var g="/resources/modeler/change/changeaction/"+e+"?people=1&attributes=1";var h="";var i=function(l){k(l)};c.makeWSCall(g,"GET","enovia","application/json",h,i,j,false)});return f},makeWSCall:function(l,e,g,f,i,h,k){var j=d.get3DSpaceUrlAsync({onComplete:function(r){ChgPropWidget.url=r;var n=r+l;var p=new Date().getTime();if(n.indexOf("?")==-1){n=n+"?tenant="+ChgPropWidget.tenant+"&timestamp="+p}else{n=n+"&tenant="+ChgPropWidget.tenant+"&timestamp="+p}var o=ChgPropWidget.securityContext;h=h||function(){};k=k||function(){};var q=widget.getValue("lang");if(widget.lang){q=widget.lang}var m={};m.method=e;m.timeout=ChgPropWidget.wsCallTimeout;m.type="json";if(ChgPropWidget.isNative){if(o){m.headers={Accept:"application/json","Content-Type":f,SecurityContext:o,"Accept-Language":q}}else{m.headers={Accept:"application/json","Content-Type":f,"Accept-Language":q}}}else{if(g){m.auth={passport_target:g}}m.proxy=ChgPropWidget.proxy;if(o){m.headers={Accept:"application/json","Content-Type":f,SecurityContext:o,"Accept-Language":q}}else{m.headers={Accept:"application/json","Content-Type":f,"Accept-Language":q}}}if(i){m.data=i}m.onComplete=function(s){console.log("Success calling url: "+n);console.log("Success data: "+JSON.stringify(s));h(s)};m.onFailure=function(t,s){console.log("Error in calling url: "+n);console.log("Additional Details:: httpMethod: "+e+" authentication: "+g+" securityContext: "+o+" ContentType: "+f);console.log("Error Detail: "+t);console.log("Error Data: "+JSON.stringify(s));k(t,s)};m.onTimeout=function(){console.log("Timedout for url: "+n)};a.authenticatedRequest(n,m)}})},};return c});define("DS/ENOChgActionProp/facets/ChangePropertiesFacet",["UWA/Core","DS/EditPropWidget/facets/Common/FacetsBase","DS/EditPropWidget/constants/EditPropConstants","DS/UIKIT/Mask","DS/WidgetServices/WidgetServices","css!DS/ENOChangeActionUX/ENOChangeActionUX","DS/WidgetServices/securityContextServices/SecurityContextServices",],function(g,c,a,f,e,h,d){var b=c.extend({init:function(i){this._parent.apply(this,arguments);window.ChgPropWidget={tenant:model.getTenant(),wsCallTimeout:3000,isNative:false,is3DSpace:false,proxy:window.UWA.Data.proxies.passport?"passport":"ajax",frameWorkName:"ENOChangeActionUX"};if(this.checkEnvironment()==="Native"){ChgPropWidget.isNative=true}else{if(this.checkEnvironment()==="3DSpace"){ChgPropWidget.is3DSpace=true}}if(!this.elements.container){this.elements.container=g.createElement("div",{styles:{height:"100%"}})}},checkEnvironment:function(){var i=window.top.location.pathname;if(i.indexOf("emxNavigator.jsp")>=0){return"3DSpace"}if(typeof(dscef)!=="undefined"){if(i.indexOf("ENOChangeAction.html")>=0){return"Native"}}},updateFacet:function(){if(this.modid){var i=this.getModel();if(!i){return false}if(this.modid==i.get("objectId")){return}}var j=this;f.mask(this.elements.container);require(["DS/ENOChgActionProp/scripts/ChangePropertiesView","DS/ENOChgActionProp/scripts/Models/CAApprovalSumModel"],function(l,n){if(j.elements&&j.elements.container){var k=j.getModel();if(!k){return false}j.modid=k.get("objectId");var m=d.getInstance({tenant:ChgPropWidget.tenant}).getSecurityContext({onSuccess:function(o){ChgPropWidget.securityContext=o.SecurityContext;var p=ChgPropWidget.CRView=l.displayChangeReq(k,j.options);f.unmask(j.elements.container);j.elements.container.setContent(p)},onFailure:function(o){console.log("Failed to GetSecurityContext")}})}})},destroyComponent:function(){if(g.is(this.destroy,"function")){this.destroy()}}});return b});define("DS/ENOChgActionProp/scripts/Models/CAImpactedModel",["UWA/Class/Model","DS/WebappsUtils/WebappsUtils","DS/ENOChgActionProp/scripts/ChangePropertiesUtility","UWA/Date","UWA/Class/Promise","i18n!DS/ENOChangeActionUX/assets/nls/ChangeAction","text!DS/ENOChangeActionUX/assets/ChangeActionMapping.json"],function(h,f,g,d,e,a,b){var c=h.extend({idAttribute:"id",setup:function(){},fetch:function(j){var k=this;j.method="GET";var i="";var l="%Y-%m-%d";j.ajax=function(n,m){g.getCADetails(j.caTileId).then(function(r){var q=[];var p=r;if(p&&p.changeaction){var o=p.changeaction.people;if(o.length){o.forEach(function(s){q.push(s.name);if(q.length){g.getUserDisplayNameByPromise(q).then(function(t){g._addFullNameToPersonObject(p,t);m.onComplete(p)})}})}}})};j.url="dummyURL";return this._parent(j)},parse:function(o){var l=this;var m="%Y-%m-%d";var j={};if(!UWA.is(o)){return}else{if(UWA.is(o)){if(UWA.is(o.changeaction)){l.set("id",o.changeaction.id);var k=o.changeaction.attributes;if(UWA.is(k)){k.forEach(function(q){if(q.name==="attribute_ActualCompletionDate"){l.set("actualDue",(UWA.is(q.value)&&q.value!=="")?d.strftime(new Date(q.value),m):"")}else{if(q.name==="attribute_ActualStartDate"){l.set("actualCreated",(UWA.is(q.value)&&q.value!=="")?d.strftime(new Date(q.value),m):"")}else{if(q.name==="attribute_BypassPlants"){l.set("bypassPlants",q.value)}else{if(q.name==="attribute_CategoryofChange"){l.set("categoryofChange",q.value)}else{if(q.name==="attribute_EstimatedCompletionDate"){l.set("due",(UWA.is(q.value)&&q.value!=="")?d.strftime(new Date(q.value),m):"");if(l.get("due")===""){l.set("due",a.ECM_CA_DUEDATE_UNASSIGNED)}}else{if(q.name==="attribute_EstimatedStartDate"){l.set("created",(UWA.is(q.value)&&q.value!=="")?d.strftime(new Date(q.value),m):"")}else{if(q.name==="attribute_Originator"){l.set("originator",q.value)}else{if(q.name==="attribute_ReasonForCancel"){l.set("reasonForCancel",q.value)}else{if(q.name==="attribute_ResponsibleManufacturingEngineer"){l.set("responsibleManufacturingEngineer",q.value)}else{if(q.name==="attribute_Severity"){l.set("severity","",{silent:true});l.set("severity",q.value);l.set("severityDisplay",a.get("ECM_CA_Severity_"+l.get("severity")))}else{if(q.name==="attribute_Synopsis"){l.set("synopsis",q.value);l.set("title",q.value);l.set("subtitle",o.changeaction.name)}else{if(q.name==="project"){l.set("project_space",q.value)}else{if(q.name==="current"){l.set("current","",{silent:true});l.set("current",q.value);l.set("currentDisplay",a.get("ECM_CA_State_"+l.get("current")))}else{if(q.name==="organization"){l.set("organization",q.value)}else{if(q.name==="modified"){l.set("modified",(UWA.is(q.value)&&q.value!=="")?d.strftime(new Date(q.value),m):"")}else{if(q.name==="interface[Change On Hold]"){if(q.value=="TRUE"){l.set("holdStatus","true");l.set("holdValue",a.ECM_CA_State_On_Hold,{silent:true})}else{l.set("holdStatus",null);l.set("holdValue","",{silent:true})}l.get("holdStatus")?l.set("TableStateVal",a.ECM_CA_State_On_Hold):l.set("TableStateVal",a.get("ECM_CA_State_"+l.get("current")))}}}}}}}}}}}}}}}}})}if(UWA.is(o.changeaction.people)){l.set("owner",o.changeaction.people[0].name,{silent:true});l.set("ownerDisplayName",o.changeaction.people[0].fullName);l.set("ownerId",o.changeaction.people[0].id);var p="";o.changeaction.people.forEach(function(q){if(p!=""){p=p+", "}if(q.role!="templateReviewer"){var s=q.role;var r="";if(s.indexOf("owner")>=0){r=a.ECM_CA_Team_Owner}if(s.indexOf("contributor")>=0){r=a.ECM_CA_Team_AddMembers_Assignee}if(s.indexOf("reviewer")>=0){r=a.ECM_CA_Team_AddMembers_Reviewer}if(s.indexOf("follower")>=0){r=a.ECM_CA_Team_AddMembers_Follower}p=p+r}});if(p==""){this.set("contextUserRole","other")}else{this.set("contextUserRole",p)}}l.set("name",o.changeaction.name);if(o.changeaction.type==="type_ChangeAction"){l.set("type","Change Action")}l.set("roleField",a.ECM_CA_Summary_Role);l.set("ownerField",a.ECM_CA_Summary_Owner);l.set("dueDateField",a.ECM_CA_Summary_DueDate);var i=JSON.parse(b);var n=i[this.get("severity")];if(UWA.is(n)&&n!=""){n="images/"+n}else{n=i._default;n="images/"+n}this.set("image",f.getWebappsAssetUrl("ENOChangeActionUX",n))}}}},});return c});define("DS/ENOChgActionProp/scripts/ChangePropertiesCATileView",["UWA/Core","UWA/Class","DS/Handlebars/Handlebars","DS/ENOChgActionProp/scripts/ChangePropertiesUtility","DS/W3DXComponents/Views/Item/TileView","DS/WebappsUtils/WebappsUtils","DS/TransientWidget/TransientWidget"],function(h,b,g,f,d,e,a){var c={_createView_CATile:function(j,i){return d.extend({name:"CACustomTile",currentProdId:j,className:"CACustomTile-container tile-container",model:i,setup:function(){this.template='                            <div class="'+this.getClassNames("-check")+' {{#unless withMultisel}}hidden{{/unless}}">                                <div class="toggle toggle-primary">                                    <input type="checkbox" name="radios" value="" id="SummaryView-{{{title}}}">                                    <label class="control-label" for="SummaryView-{{{title}}}"></label>                                </div>                            </div>                            <div class="'+this.getClassNames("-sub-container")+'" id={{id}} draggable="true">                                  <div class="'+this.getClassNames("-header")+'">                                      <div>{{#if image}}<img title={{{severityDisplay}}} src="{{#unless lazyLoading}}{{image}}{{/unless}}" {{getImgAttrs imgAttrs}} class="'+this.getClassNames("-image")+'" draggable="false"/>{{/if}}                                    </div>									                    {{#if holdStatus}}<div class="state" title="{{{holdValue}}}[{{{currentDisplay}}}]">{{{holdValue}}}</div>{{/if}}														{{#unless holdStatus}}<div class="state" title="{{{currentDisplay}}}">{{{currentDisplay}}}</div>{{/unless}}								              </div>                                <div class="'+this.getClassNames("-body")+'">                                    {{#if icon}}<img src="{{icon}}" class="'+this.getClassNames("-icon")+'" draggable="false"/>{{/if}}	                                <div class="'+this.getClassNames("-title")+'" title="{{title}}">{{title}}</div>	                                <div class="'+this.getClassNames("-subtitle")+'" title="{{subtitle}}">{{subtitle}}</div>									<div class="'+this.getClassNames("-content")+'">                                        <div class="'+this.getClassNames("-content-left")+'">										<div class="'+this.getClassNames("-CAowner")+'" title="{{{ownerDisplayName}}}">{{{ownerField}}}&nbsp;{{{ownerDisplayName}}}</div>										<div class="'+this.getClassNames("-Role")+'" title="{{{contextUserRole}}}">{{{roleField}}}&nbsp;{{{contextUserRole}}}</div>										{{#if due}}<div class="'+this.getClassNames("-DueDate")+'">{{{dueDateField}}}&nbsp;{{{due}}}</div>{{/if}}									</div>									</div>                                    <ps-progress  class="'+this.getClassNames("-progress")+'"></ps-progress>                                </div>                            </div>                                    '},onClick:function(m){if(this.container.hasClassName("selected")){this.unSelect(m)}else{this.select(m)}var n=m._uwaTarget.id;n=n.replace("pid:","");if(ChgPropWidget&&ChgPropWidget.is3DSpace){var o=widget.getUrl();o=o.substring(0,o.indexOf("/enterprisechangemgt"));var l=o+"/common/emxTree.jsp?mode=insert&objectId="+n;window.open(l)}else{if(ChgPropWidget&&ChgPropWidget.isNative){var k={TransientCAPid:n};f.DispatchEventToWin("OpenCA",n)}else{var k={TransientCAPid:n};a.showWidget("ENOWCHA_AP","",k,{mode:"panel",height:800,width:650})}}}})}};return c});define("DS/ENOChgActionProp/scripts/ChangePropertiesApprovalSumView",["UWA/Core","UWA/Class","UWA/Class/Collection","DS/W3DXComponents/Views/Layout/TableScrollView","DS/ENOChgActionProp/scripts/ChangePropertiesUtility","i18n!DS/ENOChgActionProp/assets/nls/ChangePropertiesFacet"],function(g,b,c,a,e,f){var d={_createView_ApprovalSummaryTable:function(h){var j=new c(h);var i=new a({collection:j,useInfiniteScroll:false,usePullToRefresh:false,headers:[{property:"order",label:f.Order},{property:"taskTitle",label:f.Title},{property:"taskApprover",label:f.Approver},{property:"approvalStatus",label:f.Action},{property:"approvalComments",label:f.Comments},{property:"actualComplDate",label:f.Completion_Date}],});return i}};return d});define("DS/ENOChgActionProp/scripts/Models/CAApprovalSumModel",["UWA/Class/Model","DS/WebappsUtils/WebappsUtils","DS/ENOChgActionProp/scripts/ChangePropertiesUtility","i18n!DS/ENOChangeActionUX/assets/nls/ChangeAction","text!DS/ENOChangeActionUX/assets/ChangeActionMapping.json"],function(e,c,d,a,b){var f=e.extend({idAttribute:"id",setup:function(){},fetch:function(h){var i=this;h.method="GET";var g="";var j="%Y-%m-%d";h.ajax=function(l,k){};h.url="dummyURL";return this._parent(h)},parse:function(k){var i=this;var j="%Y-%m-%d";var h={};if(!UWA.is(k)){return}else{if(UWA.is(k)){var g=k;i.set("id",k.id);i.set("order",k.order);i.set("taskName",k.name);i.set("taskTitle",k.title);i.set("taskApprover",k.approver);i.set("taskMaturity",k.maturity);i.set("approvalComments",k.comments);i.set("approvalStatus",k.action);i.set("actualComplDate",k.actualComplDate)}}},});return f});define("DS/ENOChgActionProp/scripts/ChangePropertiesView",["UWA/Core","UWA/Class","DS/UIKIT/Alert","DS/UIKIT/Input/Toggle","DS/ENOChgActionProp/scripts/ChangePropertiesUtility","DS/WebappsUtils/WebappsUtils","DS/ENOChgActionProp/scripts/Models/CAImpactedModel","DS/ENOChgActionProp/scripts/Models/CAApprovalSumModel","css!DS/ENOChgActionProp/ENOChgActionProp","DS/ENOChgActionProp/scripts/ChangePropertiesCATileView","DS/ENOChgActionProp/scripts/ChangePropertiesApprovalSumView","DS/ENOChangeActionUX/scripts/CASpinner","UWA/Class/Promise","i18n!DS/ENOChgActionProp/assets/nls/ChangePropertiesFacet",],function(h,a,f,j,o,d,l,n,e,b,g,k,i,m){var c={displayChangeReq:function(q,p){this.options=p;this.model=q;var t=c.CreateElements();var s=this;var r=q.get("objectId");this.ChangeData=o.GetChangeRequired(r).then(function(u){s.UpdateUIForCC(u)},function(u){t.setContent("Error while getting Change Required value");console.log("Failed to Get Change Required")});return t},CreateElements:function(){var s=this;var r=this.model.get("objectId");var q=UWA.Element("div",{"class":"GroupsContainer"});this.ChgReqGroup=UWA.Element("div",{"class":"CR_MainContainer"});this.ChgReqContainer=UWA.Element("div",{"class":"CR_Container",html:{text:m["Change Required"]}});this.checkbox=new j({type:"switch",label:"",className:"ChangeReq_CheckBox hidden",checked:false,disabled:this.options.readOnly,events:{onChange:function(){var t=this.isChecked();var u=(t==true)?"Set":"UnSet";this.ChangeData=o.SetUnsetChangeRequired(r,u).then(function(v){s.UpdateUIForCC(v)})}}});this.CAContainer=UWA.Element("div",{"class":"CA_NameContainer hidden"});this.ChgReqGroup.addContent(this.ChgReqContainer);this.ChgReqGroup.addContent(this.CAContainer);this.ChgReqGroup.addContent(this.checkbox);q.addContent(this.ChgReqGroup);this.ApprovalSummaryGroup=UWA.Element("div",{"class":"ApprovalSummaryGroup"});this.ApprovalSummaryGroupName=UWA.Element("div",{"class":"ApprovalSummaryGroupName",html:m.Release_Auth});this.ApprovalSummaryCATileMain=UWA.Element("div",{"class":"ApprovalSummaryCATileMain"});this.ApprovalSummaryCATile=UWA.Element("div",{"class":"ApprovalSummaryCATile"});this.ApprovalSummaryTable=UWA.Element("div",{"class":"ApprovalSummaryTable"});var p;var s=this;var r=this.model.get("objectId");k.doWait(q);o.getImpactedCA(r).then(function(u){if(u){o.getConfiguredObjectInfo(r).then(function(z){if(z&&z.contexts&&z.contexts.content&&z.contexts.content.results&&z.contexts.content.results.length>0){var x=UWA.Element("div",{"class":"error-msg-div",html:[{tag:"span","class":"fonticon fonticon-attention"},{tag:"span",html:m.ECM_CONFIGURED_DATA_ERR},]});s.ApprovalSummaryGroup.addContent(s.ApprovalSummaryGroupName);s.ApprovalSummaryGroup.addContent(x);q.addContent(s.ApprovalSummaryGroup);k.endWait(q);return q}p=u;var B=c.createModelForImpactedCA(p);var w=new (b._createView_CATile(r,B));var v=[];var y={};var C=[];var A=[];var v=[];setTimeout(function(){if(w){s.ApprovalSummaryCATile.addContent(w.render())}var E={};E.caId=B.get("id");var F=[];var D=o.getRouteFromChangeAction(E.caId).then(function(H){var G=H.lastApproveRoute;if(G){o.getRouteDetails(G).then(function(J){var I=o.getCompletedTaskDetails(E.caId).then(function(M){if(J&&J.routeInfo&&J.routeInfo.success){var L=J.routeInfo.data;L.forEach(function(R){var Q=R.id.replace("pid:","");var O=M.completedTaskDetail.inboxTasks;for(var N=0;N<O.length;N++){var T=O[N];if(T){var P=T.id.replace("pid:","");if(P===Q){y[Q]={id:Q,name:R.dataelements.name,title:R.dataelements.title,maturity:R.dataelements.current,comments:R.dataelements.comments,order:R.dataelements.taskOrder,approver:R.dataelements.taskAssignee,action:R.dataelements.taskAction,actualComplDate:T.actualCompletionDate};F.push(y);var S=c.createCAApprovalSumModel(y[Q]);v.push(S)}}}});var K=g._createView_ApprovalSummaryTable(v);if(K){s.ApprovalSummaryTable.addContent(K.render())}k.endWait(q);s.ApprovalSummaryCATileMain.addContent(s.ApprovalSummaryCATile);s.ApprovalSummaryGroup.addContent(s.ApprovalSummaryGroupName);s.ApprovalSummaryGroup.addContent(s.ApprovalSummaryCATileMain);s.ApprovalSummaryGroup.addContent(s.ApprovalSummaryTable);q.addContent(s.ApprovalSummaryGroup)}},function(K){k.endWait(q);return i.reject(K)})},function(I){k.endWait(q);return i.reject(I)})}},function(G){k.endWait(q);return i.reject(G)})},1000)},function(v){k.endWait(q);i.reject(v)})}else{k.endWait(q);var t=UWA.Element("div",{"class":"error-msg-div",html:[{tag:"span","class":"fonticon fonticon-attention"},{tag:"span",html:m.ECM_OBJECT_NOT_RELEASED_ERR},]});s.ApprovalSummaryGroup.addContent(s.ApprovalSummaryGroupName);s.ApprovalSummaryGroup.addContent(t);q.addContent(s.ApprovalSummaryGroup);return q}},function(t){k.endWait(s.ApprovalSummaryGroup);return i.reject(t)});return q},createModelForImpactedCA:function(p){var q={};q.caTileId=p;this.caImpactedModel=new l();this.caImpactedModel.fetch(q);return this.caImpactedModel},createCAApprovalSumModel:function(q){var p={};c.tableModel=new n();c.tableModel.parse(q);return c.tableModel},UpdateUIForCC:function(r){var q=this;if(r.CCValue=="none"||r.CCValue=="any"){q.checkbox.setClassName("ChangeReq_CheckBox");if(!q.CAContainer.hasClassName("hidden")){q.CAContainer.addClassName("hidden")}if(r.CCValue=="any"){q.checkbox.setCheck(true)}else{q.checkbox.setCheck(false)}}else{q.CAContainer.removeClassName("hidden");var p=d.getWebappsAssetUrl("ENOChgActionProp","icons/iconSmallChangeAction.png");q.CAContainer.setContent({tag:"div",html:r.ChangeData.name,},{tag:"img",src:p,"class":"CAIconContainer",})}}};return c});
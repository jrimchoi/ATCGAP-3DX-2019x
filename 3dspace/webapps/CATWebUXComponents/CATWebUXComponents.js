/*!  Copyright 2014 Dassault Systemes. All rights reserved. */
define("DS/CATWebUXComponents/CATWebUXNotification",["UWA/Class","DS/UIKIT/Alert"],function(a,c){var b=a.extend({init:function(){this._parent();var f,e;function d(){var g=document.querySelectorAll(".CATWebUXNotification");if(g.length){for(var h=0;h<g.length;h++){if(g[h].dsModel===f){if(e){clearTimeout(e);e=0}g[h].destroy();f=null}}}}this.build=function(k){d();var h=typeof k.autoHide==="boolean"?k.autoHide:true;var l=typeof k.duration==="number"?k.duration:3000;f=new c({className:"CATWebUXNotification",visible:true,hideDelay:l,autoHide:h,maximumVisibleMessages:1,messages:[{message:k.message,className:k.type||"primary"}]}).inject(k.body,"top");f.notifType=k.type||"primary";f.elements.container.dsModel=f;var j=0;if(f.elements.container.childNodes[0].offsetWidth&&f.elements.container.childNodes[0].offsetWidth!==0){j=f.elements.container.childNodes[0].offsetWidth}else{if(f.elements.container.childNodes[0].style.pixelWidth&&f.elements.container.childNodes[0].style.pixelWidth!==0){j=f.elements.container.childNodes[0].style.pixelWidth}}var i=j+35,g=parseFloat(k.body.getStyle("width"));f.elements.container.childNodes[0].setStyles({left:((g-i)/2<=0?10:(g-i)/2)+"px"});if(e){clearTimeout(e);e=0}if(h){e=setTimeout(function(){d(true)},(l)*1.5)}};this.destroy=function(){d()}}});return b});define("DS/CATWebUXComponents/CATWebUXThumbnail",["UWA/Core","UWA/Class","DS/VisuEvents/EventsManager","DS/UIKIT/Spinner","DS/Controls/Toggle","DS/WebappsUtils/WebappsUtils","css!DS/CATWebUXComponents/CATWebUXComponents.css"],function(h,c,a,d,g,e){var f=0;var b=c.extend({init:function(G){var G=G||{};this._parent(G);var n=this;var l,F=new Image();var K;var z=typeof G.width==="number"?G.width:144,k=typeof G.height==="number"?G.height:108;var j=z,A=k;var p=false;var Q,q=false,X;var P;var C=0;var M;var E=e.getWebappsAssetUrl("CATWebUXComponents","graphics/")+"DefaultPreview.png";var O=false;var D=G.title;f++;function w(){if(O&&p&&!S){S=true;v.setAttributes({contenteditable:true});window.getSelection().removeAllRanges();var aa=document.createRange();aa.selectNodeContents(v);window.getSelection().addRange(aa);v.focus();D=H(v);v.setStyles({textOverflow:"initial"});v.addEventListener("blur",s);v.addEventListener("keyup",I)}}function s(aa){if(S){S=false;v.removeEventListener("blur",s);v.removeEventListener("keyup",I);v.setAttributes({contenteditable:false});var ab=H(v);if(!ab){v.innerText=D;ab=D}if(ab!==D){G.onTitleEditedCB({title:ab})}n.setThumbnailTexts({title:ab})}if(aa){aa.preventDefault();aa.stopPropagation()}}function Z(aa){v.innerText=D;s(aa)}function I(aa){if(aa.key==="Enter"||aa.keyCode===13){s(aa)}if(aa.key==="Escape"||aa.keyCode===27){Z(aa)}}function H(ad){var ac="";var ab=(ad.innerText||"").split("\n");for(var aa=0;aa<ab.length;aa++){if(!ab[aa]&&aa===ab.length-1){continue}ab[aa]=ab[aa].replace("\r","");ac+=ab[aa]}return ac}this.setPreview=function(ab,aa){if(ab){M=ab;F.src=M;if(aa){N.setStyles({"background-color":aa})}if(!B()&&!P){P=setInterval(function(){if(B()){clearInterval(P);P=null}},10)}N.setStyles({backgroundImage:'url("'+M+'")'});this.hideSpinner()}else{this.displaySpinner()}};this.setThumbnailTexts=function(ab){if(!y){y=h.createElement("div",{"class":"CATWebUXThumbnailTextDiv"}).inject(J);y.setStyles({width:G.icon?"calc(100% - 45px)":"calc(100% - 25px)","margin-left":G.icon?"0":"15px"})}if(v){if(G.onTitleEditedCB){a.removeEvent(v,"onPrimaryPointerClick",w)}y.removeChild(v)}if(t){y.removeChild(t)}if(R){y.removeChild(R)}if(ab.title){v=h.createElement("p",{id:"thumbTitle"+G.id,"class":"CATWebUXThumbnailText CATWebUXThumbnailTitle",contenteditable:false}).inject(y);v.innerText=ab.title;v.title=ab.title;if(ab.titleIcon){var aa=h.createElement("img",{src:ab.titleIcon}).inject(y),ac;aa.onerror=function(){aa.destroy();clearInterval(ac)};ac=setInterval(function(){if(aa.naturalWidth>0){clearInterval(ac);aa.destroy();if(v){v.setStyles({"background-image":"url("+ab.titleIcon+")","background-size":aa.naturalWidth+"px "+aa.naturalHeight+"px","background-repeat":"no-repeat","background-position":"left center","padding-left":aa.naturalWidth+5+"px"})}}},10)}}if(ab.subtitle){t=h.createElement("p",{id:"thumbSubTitle"+G.id,"class":"CATWebUXThumbnailText CATWebUXThumbnailSubtitle"}).inject(y);t.innerText=ab.subtitle;t.title=ab.subtitle}if(ab.additionalText){R=h.createElement("p",{"class":"CATWebUXThumbnailText CATWebUXThumbnailAddText"}).inject(y);R.innerText=ab.additionalText;R.title=ab.additionalText}if(v){y.appendChild(v)}if(t){y.appendChild(t)}if(R){y.appendChild(R)}J.setStyles({height:t||R?"100px":""});if(G.onTitleEditedCB){a.addEvent(v,"onPrimaryPointerClick",w)}};this.setDisplayFlag=function(ab,aa){p=ab;i.setStyle("background-color",ab?(aa?"rgb(87, 184, 71)":"rgb(54, 142, 196)"):"rgba(255, 255, 255, 0)")};this.getDisplayFlag=function(){return p};this.getData=function(){return G.data};this.displaySpinner=function(){if(!l){l=new d({visible:true});l.inject(o);l.getContent().addClassName("CATWebUXThumbnailSpinner");o.setStyles({opacity:"1"})}};this.hideSpinner=function(){if(l){while(o.firstChild){o.removeChild(o.firstChild)}l.destroy();l=null}o.setStyles({opacity:"0"})};this.getThumbnailID=function(){return G.id};this.allowTitleEdition=function(aa){O=aa;if(!O&&S){Z()}};this.getContent=function(){return W};this.inject=function(aa){W.inject(aa);return this};this.clear=function(){if(x&&L){a.removeEvent(x,"onPrimaryPointerClick",L)}if(u){a.removeEvent(W,"onPrimaryPointerClick",u)}if(m){a.removeEvent(W,"onPrimaryPointerDoubleClick",m)}if(v&&w){a.removeEvent(v,"onPrimaryPointerClick",w)}this.hideSpinner();if(P){clearInterval(P)}F=m=u=L=null;T=i=N=o=J=r=y=v=t=R=null;x=V=null};var B=function(){if(!F||(F&&F.src===E)){return true}var ae=F.width,aa=F.height,ab=K===0?(j-10):54,ac=K===0?(A-10):54;if(ae>0&&aa>0&&ae!==50&&aa!==50){if(ae>ab||aa>ac){var ad=ae/aa;if(ad>(ab/ac)){aa=ac;ae=ac*ad}else{ae=ab;aa=ab/ad}}N.setStyles({"background-size":Math.round(ae)+"px "+Math.round(aa)+"px"});F.src=E;return true}return false};this.setDisplayType=function(aa){if(aa!==K){K=aa;j=K===0?z:285;A=K===0?k:84;if(K===1){if(N.hasClassName("CATWebUXThumbnailPreviewThumbDiv")){N.removeClassName("CATWebUXThumbnailPreviewThumbDiv")}if(J&&J.hasClassName("CATWebUXThumbnailThumbContentDiv")){J.removeClassName("CATWebUXThumbnailThumbContentDiv")}N.addClassName("CATWebUXThumbnailPreviewTileDiv");if(J){J.addClassName("CATWebUXThumbnailTileContentDiv");J.setStyles({top:""})}if(R){R.setStyles({display:""})}}else{if(N.hasClassName("CATWebUXThumbnailPreviewTileDiv")){N.removeClassName("CATWebUXThumbnailPreviewTileDiv")}if(J&&J.hasClassName("CATWebUXThumbnailTileContentDiv")){J.removeClassName("CATWebUXThumbnailTileContentDiv")}N.addClassName("CATWebUXThumbnailPreviewThumbDiv");if(J){J.addClassName("CATWebUXThumbnailThumbContentDiv");J.setStyles({top:(A-33)+"px",height:"100px"})}if(R){R.setStyles({display:"none"})}}T.setStyles({width:j+"px",height:A+"px"});if(M){F.src=M;if(!B()&&!P){P=setInterval(function(){if(B()){clearInterval(P);P=null}},10)}}}};this.getDisplayType=function(){return K};this.setIsCheckableFlag=function(aa){if(aa!==X){X=aa;x.setStyles({display:X?"":"none"})}};this.getIsCheckableFlag=function(){return X};this.setCheckFlag=function(ab,aa,ac){if(X&&ab!==Q){Q=ab;if(V){V.checkFlag=ab;if(!ac&&G.checkFlagChangedCB){G.checkFlagChangedCB({id:G.id,checkFlag:ab,data:G.data,event:aa})}}}if(K==="1"){T.setStyle("outline",X&&ab?"4px solid #368ec4":"1px solid #e2e4e3")}};this.isChecked=function(){return X?Q:false};var W=h.createElement("div",{id:"thumbnailView_"+f+"_"+G.id,"class":"CATWebUXThumbnailThumbContainer"});var T=h.createElement("div",{id:"thumbMainDiv"+f+"_"+G.id,"class":"CATWebUXThumbnailThumbMainDiv"}).inject(W);var i=h.createElement("div",{id:"thumbShading"+f+"_"+G.id,"class":"CATWebUXThumbnailColorDiv"}).inject(T);var N=h.createElement("div",{id:"thumbAppIcon"+f+"_"+G.id,"class":"CATWebUXThumbnailPreviewDiv"}).inject(T);var o=h.createElement("div",{"class":"CATWebUXThumbnailDisabledDiv"});N.appendChild(o);var J,r,y,v,t,R;if(G.icon||G.title||G.subtitle){J=h.createElement("div",{id:"thumbContent"+f+"_"+G.id}).inject(T);if(G.icon){r=h.createElement("div",{id:"thumbImg"+f+"_"+G.id,src:G.icon,"class":"CATWebUXThumbnailIcon"}).inject(J);r.setStyles({backgroundImage:'url("'+G.icon+'")'})}if(G.title||G.subtitle||G.additionalText){n.setThumbnailTexts(G)}}var x=h.createElement("div",{id:G.id+"_checkBoxDiv"+f+"_","class":"CATWebUXThumbnailCheckBoxDiv"}).inject(N);var V=new g({checkFlag:false}).inject(x);V.elements.container.addClassName("CATWebUXThumbnailCheckDiv");this.setIsCheckableFlag(typeof G.isCheckable==="boolean"?G.isCheckable:false);this.setCheckFlag(typeof G.checkFlag==="boolean"?G.checkFlag:false,null,true);this.setDisplayFlag(typeof G.displayFlag==="boolean"?G.displayFlag:false);this.setPreview(G.preview,G.backgroundColor);this.setDisplayType(typeof G.displayType==="number"?G.displayType:0);this.allowTitleEdition(typeof G.allowTitleEdition==="boolean"?G.allowTitleEdition:false);var S=false;var u,m;if(G.clickCB){u=function(aa){if(!S){setTimeout(function(){if(!q&&C===0){G.clickCB({id:G.id,data:G.data,event:aa})}q=false;if(C>0){C--}},G.doubleClickCB?200:10)}};a.addEvent(W,"onPrimaryPointerClick",u)}if(G.doubleClickCB){m=function(aa){setTimeout(function(){if(!q){C=2;G.doubleClickCB({id:G.id,data:G.data,event:aa})}q=false},5)};a.addEvent(W,"onPrimaryPointerDoubleClick",m)}var L=function(aa){if(X){q=true;n.setCheckFlag(!Q,aa.from[0].event)}};a.addEvent(x,"onPrimaryPointerClick",L);var Y=function(){setTimeout(function(){if(V&&X){V.checkFlag=Q}},0)};V.addEventListener("buttonclick",Y);if(t||R){var U=0;J.addEventListener("mouseenter",function(){U=setTimeout(function(){if(J&&K===0){J.setStyles({top:(A-58)+"px"})}},500)});J.addEventListener("mouseleave",function(){if(K===0){if(U){clearTimeout(U);U=0}J.setStyles({top:(A-33)+"px"})}})}}});b.THUMBNAIL=0;b.TILE=1;return b});define("DS/CATWebUXComponents/CATWebUXInfoFlag",["UWA/Core","UWA/Class","DS/Visualization/ThreeJS_DS","DS/VisuEvents/EventsManager","css!DS/CATWebUXComponents/CATWebUXComponents.css"],function(e,b,c,a){var d=b.extend({init:function(u){var u=u||{};if(!u.frameWindow||!u.viewer){return}this._parent(u);var g,n,l,s,t,j;var p=0;var h={};var q=false,m=true;var r=u.dockingSide&&(u.dockingSide==="left"||u.dockingSide==="right")?u.dockingSide:"right";this.display=function(v){if(v.dockingSide&&v.dockingSide!==r&&(v.dockingSide==="left"||v.dockingSide==="right")){r=v.dockingSide}if(!g){g=e.createElement("div",{"class":"CATWebUXInfoFlag"});u.frameWindow.getUIFrame().appendChild(g);n=e.createElement("div",{"class":"CATWebUXInfoFlagMainDiv"}).inject(g);s=e.createElement("img",{"class":"CATWebUXInfoFlagIcon"}).inject(n);l=e.createElement("p",{"class":"CATWebUXInfoFlagParagraph"}).inject(n);t=e.createElement("div",{"class":"CATWebUXInfoFlagIconDiv"}).inject(n);j=e.createElement("span",{"class":"fonticon CATWebUXInfoFlagIconButton"}).inject(t);if(!h.onBackgroundMod){h.onBackgroundMod=u.viewer.onBackgroundModify(f)}if(!h.onFreeZoneResize){u.frameWindow.getImmersiveFrame().addEventListener("freeZoneResize",k);h.onFreeZoneResize=1}}this.hide();if(v.className&&!g.hasClassName(v.className)){g.addClassName(v.className)}if(v.label){l.setStyles({display:""});l.innerText=v.label;l.title="";setTimeout(function(){if(l&&l.offsetWidth>190){l.title=v.label}},50)}else{l.setStyles({display:"none"})}if(v.icon){s.setStyles({display:""});s.src=v.icon}else{s.setStyles({display:"none"})}if(v.widgetType==="Accept"){if(j.hasClassName("fonticon-cancel")){j.removeClassName("fonticon-cancel")}j.addClassName("fonticon-check");j.setStyles({color:"rgb(30, 163, 98)"})}else{if(j.hasClassName("fonticon-check")){j.removeClassName("fonticon-check")}j.addClassName("fonticon-cancel");j.setStyles({color:"rgb(255, 50, 50)"})}h.onPointerDownCB=a.addEvent(g,"onPrimaryPointerDownUnique",function(x){var w=x.type?x.type:x.from[0].type;if(w.indexOf==="touch"!==-1){o();setTimeout(i,1000)}});if(v.onClickCB){h.onClickCB=a.addEvent(g,"onPrimaryPointerClick",v.onClickCB);n.addEventListener("mouseenter",o);n.addEventListener("mouseleave",i);i()}else{o()}f(u.viewer.backgroundColor);k();g.setStyles({display:m?"":"none"});g.setStyles({opacity:1});q=true};this.hide=function(){if(g&&q){q=false;g.setStyles({opacity:0});if(h.onClickCB){a.removeEventFromToken(h.onClickCB);h.onClickCB=null;n.removeEventListener("mouseenter",o);n.removeEventListener("mouseleave",i)}if(h.onPointerDownCB){a.removeEventFromToken(h.onPointerDownCB);h.onPointerDownCB=null}setTimeout(function(){if(!q&&g){g.setStyles({display:"none"})}},200)}};this.isDisplayed=function(){return q};this.setVisibleFlag=function(v){m=v;if(g){g.setStyles({display:m&&q?"":"none"})}};this.getVisibleFlag=function(){return m};this.clean=function(){this.hide();if(g){u.frameWindow.getUIFrame().removeChild(g)}if(h.onBackgroundMod&&u.viewer){u.viewer.unsubscribe(h.onBackgroundMod)}if(h.onFreeZoneResize&&u.frameWindow){u.frameWindow.getImmersiveFrame().removeEventListener("freeZoneResize",k)}g=l=s=t=j=null;h={}};var o=function(){if(t){t.setStyles({opacity:1})}};var i=function(){if(t){t.setStyles({opacity:0})}};var f=function(w){if(l){var v=new c.Color(w).getHSL().l*255;l.setStyles({color:v>120?"rgb(0,0,0)":"rgb(255, 255, 255)"})}};var k=function(){p=0;var A=u.frameWindow.getImmersiveFrame().getDockingElement(r==="left"?WUXDockAreaEnum.LeftDockArea:WUXDockAreaEnum.RightDockArea);var y=A.getContainedWindows();if(y&&y.length&&((y[0].isAWindowGroup()&&y[0].getEmbeddedWindows().length)||(!y[0].isAWindowGroup()))){var x=y[0].getEmbeddedWindows?y[0].getEmbeddedWindows():y;var z=false;for(var v=0;v<x.length;v++){if(x[v].visibleFlag){z=true}}if(z&&!A.collapseDockingZoneFlag){var w=A._collapserSize;p=A.dockingZoneSize+w}}else{if(A.interactiveDockAreaVisibleFlag){p=A.dockingZoneSize}}p+=20;if(g){g.setStyles(r==="left"?{left:p+"px"}:{right:p+"px"})}}}});return d});define("DS/CATWebUXComponents/CATWebUXSectionHeader",["UWA/Core","UWA/Class","DS/Controls/Toggle","DS/VisuEvents/EventsManager","DS/WebappsUtils/WebappsUtils","css!DS/CATWebUXComponents/CATWebUXComponents.css"],function(g,c,f,a,e){var d=c.extend({init:function(k){var k=k||{};this._parent(k);var h;var l=k.cmdData.id;var n=e.getWebappsAssetUrl("DMUControls","icons/22/");this.getid=function(){return l};this.setDisableFlag=function(o){i.setStyles({"pointer-events":o?"none":"auto"});i.getElement("img").src=o?n+"I_DMUDeleteSlidesOff.png":n+"I_DMUDeleteSlides.png"};this.inject=function(o){i.inject(o);return this};this.clear=function(){a.removeEvent(i,"onPrimaryPointerClick",h)};var i=g.createElement("div",{"class":"CATWebUXSectionHeaderCheckOptions"});if(k.cmdData&&k.cmdData.type==="button"){if(k.cmdData&&k.cmdData.icon){var j=g.createElement("img",{src:k.cmdData.icon}).inject(i);j.setStyles({width:"22px",height:"22px"});j.ondragstart=function(){return false}}h=function(){k.cmdData.cb();k.toggleFunc()}}var m=g.createElement("p").inject(i);m.innerHTML=k.cmdData?k.cmdData.nls:"";m.title=k.cmdData?k.cmdData.nls:"";a.addEvent(i,"onPrimaryPointerClick",h)}});var b=c.extend({init:function(t){var t=t||{};this._parent(t);var k=this;this.inject=function(u){i.inject(u);return this};this.getContent=function(){return i};this.clear=function(){if(t.doubleClickCB){a.removeEvent(m,"onPrimaryPointerDoubleClick",t.doubleClickCB)}for(var u=0;u<o.length;u++){o[u].clear()}o.splice(0,o.length);if(j){a.removeEvent(j,"onPrimaryPointerClick",n)}if(l&&l.length){for(var u=0;u<l.length;u++){a.removeEventFromToken(l[u])}}};this.closeContextualSectionHeader=function(){if(j&&j.hasClassName("CATWebUXSectionHeaderSectionBulletsActivated")){j.removeClassName("CATWebUXSectionHeaderSectionBulletsActivated");r.setStyle("height","0px")}};this.setHeaderLabel=function(u){if(s){s.innerHTML=u;if(t.displayTooltip===undefined||t.displayTooltip===true){s.title=u}}};var n=function(){if(j&&!j.hasClassName("CATWebUXSectionHeaderSectionBulletsActivated")){j.addClassName("CATWebUXSectionHeaderSectionBulletsActivated");var u=t.cmdList.length*40;r.setStyle("height",""+u+"px")}else{k.closeContextualSectionHeader()}};this.setCtxSectionHeaderDisableFlag=function(w,u){for(var v=0;v<o.length;v++){if(o[v].getid()===w){o[v].setDisableFlag(u);break}}};this.setAdditionalCommandsVisibility=function(u){if(h){for(var v=0;v<h.length;v++){h[v].setStyles({display:u?"":"none"})}}if(j){j.setStyles({display:u?"":"none"})}};this.setAdditionalCheckBoxActiveFlag=function(v,u){if(v>=0&&v<h.length&&typeof h[v].checkFlag==="boolean"){h[v].checkFlag=u;h[v].setStyles({color:u?"rgb(47, 166, 204)":""})}};var i=g.createElement("div",{"class":"CATWebUXSectionHeaderMainDiv"});var m=g.createElement("div",{"class":"CATWebUXSectionHeader"}).inject(i);if(t.fontIcon){g.createElement("div",{"class":"CATWebUXSectionHeaderIcon "+t.fontIcon}).inject(m)}var s=g.createElement("p",{"class":"CATWebUXSectionHeaderLabel"}).inject(m);var j,o=[],r;if(t.cmdList&&t.cmdList.length){j=g.createElement("span",{"class":"fonticon fonticon-menu CATWebUXSectionHeaderSectionBullets"}).inject(m);j.setStyles({"margin-right":"10px","margin-top":"8px"});r=g.createElement("div",{"class":"CATWebUXSectionHeaderContextualCmdSection"}).inject(m);r.setStyle("height","0px");a.addEvent(j,"onPrimaryPointerClick",n);for(var q=0;q<t.cmdList.length;q++){o.push(new d({cmdData:t.cmdList[q],toggleFunc:k.closeContextualSectionHeader}).inject(r))}}var h,l;if(t.quickAccessBtnList&&t.quickAccessBtnList.length){h=[];l=[];t.quickAccessBtnList.forEach(function(u){var v=g.createElement("span",{"class":u.fontIcon+" CATWebUXSectionHeaderSectionBullets"}).inject(m);if(u.type==="checkbox"){v.checkFlag=false}h.push(v);v.setStyles({"margin-right":"10px","margin-top":"8px"});l.push(a.addEvent(v,"onPrimaryPointerClick",function(){if(u.type==="checkbox"){v.checkFlag=!v.checkFlag;v.setStyles({color:v.checkFlag?"rgb(47, 166, 204)":""})}u.cb()}))})}var p=t.fontIcon?50:20;if((t.cmdList&&t.cmdList.length)||(t.quickAccessBtnList&&t.quickAccessBtnList.length)){p+=5}if(t.cmdList&&t.cmdList.length){p+=20}if(t.quickAccessBtnList&&t.quickAccessBtnList.length){p+=t.quickAccessBtnList.length*30}s.setStyles({width:"calc(100% - "+p+"px)","margin-left":t.fontIcon?"40px":"10px"});this.setHeaderLabel(t.sectionLabel);if(t.doubleClickCB){a.addEvent(m,"onPrimaryPointerDoubleClick",t.doubleClickCB)}}});return b});define("DS/CATWebUXComponents/CATWebUXComponents",[],function(){});
/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
define("DS/CATWebUXComponents/CATWebUXNotifBar",["UWA/Core","UWA/Controls/Abstract","UWA/Utils","DS/UIKIT/Spinner","css!DS/UIKIT/UIKIT","css!DS/CATWebUXComponents/CATWebUXComponents.css"],function(e,d,b,a){var c=d.extend({defaultOptions:{className:"",msgType:"primary",icon:true,autoHide:false,hideDelay:2000,closable:true},init:function(f){var f=f||{};f.className=f.className||"";this._parent(f);this.transitionTime=(f.animationOff||this._debugmode)?0:200;this.elements.container=e.createElement("ul",{"class":"CATWebUXNotifBar alert "+this.options.className})},add:function(l){var i=this,h,g,k=b.getUUID(),f,j;l.msgType=l.msgType||this.options.msgType;l.icon=(typeof l.icon==="boolean")?l.icon:this.options.icon;l.autoHide=(typeof l.autoHide==="boolean")?l.autoHide:this.options.autoHide;l.closable=(typeof l.closable==="boolean")?l.closable:this.options.closable;l.buttons=l.buttons||[];l.buttons=b.splat(l.buttons);j="fade in alert-message alert-"+l.msgType+((this.transitionTime===0)?" odtreplay":"");h=e.createElement("li",{id:k,"class":j,html:{tag:"p","class":"msg",text:l.message}});if(l.icon){h.addClassName("alert-has-icon");e.createElement("span",{"class":"icon fonticon"}).inject(h,"top")}g=e.createElement("div",{"class":"btn-grp-sep"}).inject(h);f={id:k,show:function(){h.show()},hide:function(){h.hide()},remove:function(){i.remove(k)},buttons:[]};if(l.buttons.length>0){l.buttons.forEach(function(m){var n;if(m.label&&m.onClick){m.className=m.className||"default";m.doClose=m.doClose||false;n=e.createElement("button",{"class":"btn btn-sm btn-"+m.className,text:m.label,events:{click:function(){m.onClick();if(m.doClose){i.remove(k)}}}});f.buttons.push({label:m.label,show:function(){n.show()},hide:function(){n.hide()}});n.inject(g)}else{if(m.className==="spinner"){n=new a({visible:true,animate:false});f.buttons.push({label:"spinner",show:function(){n.spin();n.show()},hide:function(){n.stop();n.hide()}});n.inject(g)}else{f.buttons.push(null)}}})}if(l.closable){h.addClassName("alert-closable");e.createElement("span",{"class":"fonticon fonticon-cancel close",events:{click:function(){i.remove(k)}}}).inject(g,"bottom")}this.elements[k]=h;h.inject(this.elements.container);if(l.autoHide){this._toggleAutoHide(true,k);h.addEvents({mouseover:i._toggleAutoHide.bind(i,false),mouseleave:i._toggleAutoHide.bind(i,true,k)})}return f},removeAll:function(i){var g,h=0,f=function(){h--;if(h===0&&typeof i==="function"){i()}};for(g in this.elements){if(g!=="container"&&this.elements.hasOwnProperty(g)){h++;this.remove(g,f)}}if(h===0&&typeof i==="function"){i()}},remove:function(i,h){var f=this,g=this.elements[i];if(g&&i!=="container"){g.removeClassName("in");setTimeout(function(){g.destroy();delete f.elements[i];if(typeof h==="function"){h()}},f.transitionTime)}else{if(typeof h==="function"){h()}}},getContainer:function(){return this.elements.container},_toggleAutoHide:function(f,h){var g=this;if(f&&h){this.hidingIntervalId=setTimeout(function(){g.remove(h)},g.options.hideDelay)}else{clearInterval(this.hidingIntervalId)}}});return c});define("DS/CATWebUXComponents/CATWebUXPanel",["UWA/Core","UWA/Class","DS/Windows/Panel","DS/UIKIT/Spinner","css!DS/CATWebUXComponents/CATWebUXComponents.css"],function(e,b,d,c){var a=d.extend({init:function(n){var n=n||{};n.floatableFlag=typeof n.floatableFlag==="boolean"?n.floatableFlag:true;n.snappableFlag=typeof n.snappableFlag==="boolean"?n.snappableFlag:true;n.autoDock=typeof n.autoDock==="boolean"?n.autoDock:true;n.closeButtonFlag=typeof n.closeButtonFlag==="boolean"?n.closeButtonFlag:false;n.autoCloseFlag=typeof n.autoCloseFlag==="boolean"?n.autoCloseFlag:true;n.resizableFlag=typeof n.resizableFlag==="boolean"?n.resizableFlag:true;n.horizontallyStretchableFlag=typeof n.horizontallyStretchableFlag==="boolean"?n.horizontallyStretchableFlag:true;n.verticallyStretchableFlag=typeof n.verticallyStretchableFlag==="boolean"?n.verticallyStretchableFlag:true;n.ensureHeightDefinitionOnHierarchy=true;this._parent(n);var g=true;var m=WUXDockAreaEnum.NoneDockArea;var j;var h=this;this.setPanelVisibilityFlag=function(p,q){if(p===this.visibleFlag&&!q){return}this.visibleFlag=p;if(this.visibleFlag&&this.getDockedFlag()&&q){var r=n.immersiveFrame.getDockingElement(this.currentDockArea).getContainedWindows();if(r.length===1&&r[0].isAWindowGroup()){r[0].currentWindows=[this]}var o=n.immersiveFrame.getDockingElement(this.currentDockArea);if(o.collapseDockingZoneFlag){o.collapseDockingZoneFlag=false}}};this.getPanelVisibilityFlag=function(){return this.visibleFlag};this.clean=function(){this.visibleFlag=false;this.destroy()};this.getPanelID=function(){return n.id};this.setWidth=function(r){if(n.widthStep){var q=r;var p=this.getMinWidth();var o=(q-p)/n.widthStep;var s=Math.floor(o);if((o-s)<0.7){q=p+s*n.widthStep}else{q=p+(s+1)*n.widthStep}if(this.getDockedFlag()){n.immersiveFrame.getDockingElement(this.currentDockArea).dockingZoneSize=q}this.width=q}else{if(this.getDockedFlag()){n.immersiveFrame.getDockingElement(this.currentDockArea).dockingZoneSize=r}this.width=r}};this.getWidth=function(){if(this.getDockedFlag()){return n.immersiveFrame.getDockingElement(this.currentDockArea).dockingZoneSize}else{return this.width}};this.setMinWidth=function(o){this.minWidth=o;if(this.minWidth>this.getWidth()){this.setWidth(this.minWidth)}};this.getMinWidth=function(){return this.minWidth};this.setHeight=function(s){if(n.heightStep){var o=s;var q=this.getMinHeight();var p=(o-q)/n.heightStep;var r=Math.floor(p);if((p-r)<0.7){o=q+r*n.heightStep}else{o=q+(r+1)*n.heightStep}this.height=o}else{if(!n.heightStep){this.height=s}}};this.getHeight=function(){return this.height};this.setMinHeight=function(o){this.minHeight=o;if(this.minHeight>this.getHeight()){this.setHeight(this.minHeight)}};this.getMinHeight=function(){return this.minHeight};this.setEnableFlag=function(o){if(g!==o){g=o;if(j===null){j=0;if(g){f.setStyles({visibility:"hidden",opacity:"0"})}else{f.setStyles({visibility:"visible",opacity:"1"})}}else{if(j!==0){clearTimeout(j);j=0}}j=setTimeout(function(){if(g){f.setStyles({visibility:"hidden",opacity:"0"})}else{f.setStyles({visibility:"visible",opacity:"1"})}j=0},100)}};this.getEnableFlag=function(){return g};this.setResizableFlag=function(o){if(this.resizableFlag!==o){if(!o){this.setWidth(this.getMinWidth());this.setHeight(this.getMinHeight())}this.resizableFlag=o}};this.getResizableFlag=function(){return this.resizableFlag};this.setPanelPosition=function(o){if(!o){return}this.position=o};var i=function(p){if(n.autoDock&&h.getDockedFlag()){var o=n.immersiveFrame.getDockingElement(p).getContainedWindows();if(o&&o.length>0){h.attachToWindow(o[0],WUXSnapAreaEnum.InsideArea)}}};var f=e.createElement("div",{id:"CATWebUXPanelDisabledDiv","class":"CATWebUXPanelDisabledDiv"}).inject(this.elements.container);var l=new c({visible:true});l.inject(f);l.getContent().addClassName("CATWebUXPanelSpinner");if(n.minWidth){this.setMinWidth(n.minWidth)}if(n.width){this.setWidth(n.width)}if(n.minHeight){this.setMinHeight(n.minHeight)}if(n.height){this.setHeight(n.height)}if(n.currentDockArea){m=n.currentDockArea;i(m)}if(n.className){this.elements.container.addClassName(n.className)}this.addEventListener("placeChange",function(){setTimeout(function(){if(h.currentDockArea!==m&&h.visibleFlag){m=h.currentDockArea;if(m!==WUXDockAreaEnum.NoneDockArea){i(m)}if(n.onPlaceChangedCB){n.onPlaceChangedCB({currentDockArea:m})}}},0)});if(n.widthStep||n.onPanelResizedCB){var k={width:0,height:0};this.addEventListener("startResize",function(){k.width=h.getWidth();k.height=h.getHeight()});this.addEventListener("stopResize",function(){if(n.widthStep){h.setWidth(h.getWidth())}if(n.heightStep){h.setHeight(h.getHeight())}if(h.visibleFlag&&(k.width!==h.getWidth()||k.height!==h.getHeight())&&n.onPanelResizedCB){n.onPanelResizedCB({width:h.getWidth(),height:h.getHeight(),widthModifiedInteractively:true,currentDockArea:m})}k={width:0,height:0}})}if(n.closePanelCB){this.addEventListener("close",n.closePanelCB)}}});return a});
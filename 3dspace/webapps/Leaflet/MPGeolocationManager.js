define("DS/Leaflet/MPGeolocationManager",["UWA/Class"],function(a){return a.extend({init:function(b){b=b||{};this._delegate=null;this._lastUpdate=null;this._enableHighAccuracy=(typeof b.enableHighAccuracy==="boolean")?b.enableHighAccuracy:true;this._timeout=(typeof b.timeout==="number")?b.timeout:5000;this._maximumAge=(typeof b.maximumAge==="number")?b.maximumAge:(15*60000);this._parent(b)},getDelegate:function(){return this._delegate},setDelegate:function(b){this._delegate=b},_locationHasChanged:function(b){if(this._delegate&&this._delegate.locationHasChanged){this._delegate.locationHasChanged(b)}},getCurrentLocation:function(b){var c=function(e){console.log("MPGeolocationManager::getCurrentLocation - "+e.message);if(b){b(null)}};if("geolocation" in navigator){var d=function(e){this._lastUpdate=e.timestamp;if(b){b(e)}};navigator.geolocation.getCurrentPosition(d.bind(this),c.bind(this),{enableHighAccuracy:this._enableHighAccuracy,timeout:this._timeout,maximumAge:this._maximumAge})}else{c({message:"Geolocation is unavailable on this navigator"})}},})});
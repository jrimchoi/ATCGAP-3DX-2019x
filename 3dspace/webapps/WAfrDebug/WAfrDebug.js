define("DS/WAfrDebug/mod_Performances",[],function(){function a(){this._private=Object.create(null);this._private._probes=[]}a.prototype.isProdMode=function(){var b=this._private._isProductionMode;var c=localStorage.getItem("wafr_log_performances");if(c==="true"){b=false}return b};a.prototype.start=function(e){if(this.isProdMode()){return}var c=this._private._probes,f=c.length,g=new Date().valueOf(),d={label:e,timestamp:g,start:performance.mark("b_"+e+"_"+g)},b=performance.getEntriesByName("b_"+e+"_"+g);d.start=b[b.length-1];c[f]=d;return f};a.prototype.stop=function(e){if(this.isProdMode()){return}var c=this._private._probes[e];if(c&&c.start){var d=c.label+"_"+c.timestamp;performance.mark("e_"+d);var b=performance.getEntriesByName("e_"+d);c.stop=b[b.length-1];performance.measure(d,"b_"+d,"e_"+d);b=performance.getEntriesByName(d);c.measure=b[b.length-1]}else{throw new Error("Trying to stop a measure without a corresponding start item")}};a.prototype.log=function(f){if(this.isProdMode()){return}var b=0,c=this._private._probes,e=c.length,d=null;for(b;b<e;++b){d=c[b];if(d.measure){f.log(d.measure)}}};return{Performances:a}});
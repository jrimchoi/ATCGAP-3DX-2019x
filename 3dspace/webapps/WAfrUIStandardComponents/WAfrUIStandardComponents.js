define("DS/WAfrUIStandardComponents/UIFrame",["UWA/Core","UWA/Element","DS/Controls/LayerSet","DS/Windows/ImmersiveFrame","DS/Utilities/Css"],function(f,c,b,d,a){var e=function(h){var g={height:"100%",minHeight:0};this.options=f.clone(f.extend(g,h));this.elements={}};e.prototype._buildView=function(){var g=this;this.elements.container=new f.Element("div",{"class":"wux-afr-framewindow wux-ui-ambiance-light",styles:{height:this.options.height,minHeight:this.options.minHeight,position:"relative"}});this.elements.viewerFrame=new f.Element("div",{styles:{width:"100%",height:"100%"}});this.elements.uiFrame=new f.Element("div",{"class":"wux-afr-framewindow-uiframe",dataType:"UI-Frame",styles:{}});this.elements.uiFrame3d=new f.Element("div",{"class":"wux-afr-framewindow-uiframe",dataType:"UI-Frame-3D",styles:{}});this.elements.layerSet=new b({styles:{position:"relative",height:"100%",minHeight:this.options.minHeight}});this.elements.layerSet.inject(this.elements.container);this.elements.layerSet.addLayer(this.elements.viewerFrame).setAttribute("data-type","viewer");var h=0;this.elements.layerSet.addLayer(this.elements.uiFrame3d,{top:0,bottom:h,left:0,right:0,pointerEvents:"none",zIndex:20000}).setAttribute("data-type","ui-frame-3d");this.elements.layerSet.addLayer(this.elements.uiFrame,{top:0,bottom:h,left:0,right:0,pointerEvents:"none",zIndex:30000}).setAttribute("data-type","ui-frame-2d");setTimeout(function(){if(g.elements.container){g.elements.container.addClassName("wux-ui-at-screen")}},0);var i=this.getExecutionContext();this.elements._immersiveFrame=new d({identifier:(i.getSourceApp()&&i.getSourceApp().getId())?i.getSourceApp().getId():i.getId(),_ActionBar_V3:true,dockingElementsPriority:[WUXDockAreaEnum.TopDockArea,WUXDockAreaEnum.BottomDockArea,WUXDockAreaEnum.LeftDockArea,WUXDockAreaEnum.RightDockArea]});this.elements._immersiveFrame.inject(this.elements.uiFrame);a.disableSelection(this.elements.container);a.disableSelection(this.getUIFrame())};e.prototype.initialize=function(){var g=this.getExecutionContext();if(!g){throw new Error("Execution context cannot be null here")}if(!this.elements.container){this._buildView();this.elements.container.inject(g.getUiContainer())}return f.Class.Promise.resolve()};e.prototype._enableBusyMode=function(){this.elements.container.addClassName("wux-ui-state-busy")};e.prototype._disableBusyMode=function(){this.elements.container.removeClassName("wux-ui-state-busy")};e.prototype.getUIFrame=function(){return this.elements.uiFrame};e.prototype.getContainer=function(){return this.elements.container};e.prototype.isDisplayedActionBar=function(){return false};e.prototype.getImmersiveFrame=function(){return this.elements._immersiveFrame};e.prototype.getExposedComponentCtor=function(){var g=function(){};var h=this;g.prototype.getImmersiveFrame=function(){return h.getImmersiveFrame()};g.prototype.getUIFrame=function(){return h.getUIFrame()};g.prototype.getViewerLayout=function(){return h.elements.viewerFrame};g.prototype.isDisplayedActionBar=function(){return h.isDisplayedActionBar()};g.prototype.addLayer=function(i,j){h.elements.layerSet.addLayer(i,j)};g.prototype.addRootClassName=function(i){h.elements.container.addClassName(i)};return g};e.prototype.destroy=function(){};e.DEFAULT_COMPONENT_NAME="AFR_UIFrameManager";return e});define("DS/WAfrUIStandardComponents/mod_HandlerProxyUtilities",[],function(){function c(m,l){l.getId=m.getId.bind(m);l.isAvailable=m.isAvailable.bind(m);l.onAvailabilityEvent=m.onAvailabilityEvent.bind(m);l.getI18n=m.getI18n.bind(m)}function f(m,l){c(m,l);l.getIcon=m.getIcon.bind(m);l.execute=m.execute.bind(m);l.onLifeCycleEvent=m.onLifeCycleEvent.bind(m)}function j(m,l){f(m,l)}function d(m,l){f(m,l);l.getState=m.getState.bind(m)}function b(o,m){c(o,m);m.onStateEvent=o.onStateEvent.bind(o);m.getState=o.getState.bind(o);m.setState=o.setState.bind(o);var l=o.getCheckHandler(),n=o.getUncheckHandler();m.onCheckHandler=l?h(l):null;m.onUncheckHandler=n?h(n):null}function k(o,n){c(o,n);var q=o.getElements(),r=q.length,l=0,m=[];for(l;l<r;++l){m.push(g(q[l]))}n.items=m;n.isUnselectAuthorized=o.isUnselectAuthorized.bind(o);n.getSelectedItem=function p(){var s=o.getSelectedItem(),t=null;if(s){t=g(s)}return t};n.getSelectedItemId=o.getSelectedItemId.bind(o);n.onItemStateEvent=o.onItemStateEvent.bind(o);n.getRadioItemState=o.getRadioItemState.bind(o);n.setRadioItemState=o.setRadioItemState.bind(o)}function h(m){var l={};f(m,l);return l}function i(m){var l={};j(m,l);return l}function a(m){var l={};d(m,l);return l}function g(m){var l={};b(m,l);return l}function e(m){var l={};k(m,l);return l}return{createActionHandlerProxy:i,createCommandHandlerProxy:a,createCheckHandlerProxy:g,createRadioHandlerProxy:e}});define("DS/WAfrUIStandardComponents/NotificationManager",["DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],function(b,c){var a=function(){c.setNotificationManager(b)};a.prototype.notifyError=function(d){if(!d){return}var e={level:"error",title:d.title,message:d.message,sticky:false};this.addNotif(e)};a.prototype.notifySuccess=function(d){var e={level:"info",title:d.title,message:d.message,sticky:false};this.addNotif(e)};a.prototype.addNotif=function(d){b.addNotif(d)};a.prototype.createExposedComponent=function(){return{notifyError:this.notifyError.bind(this),notifySuccess:this.notifySuccess.bind(this),addNotif:this.addNotif.bind(this)}};return a});define("DS/WAfrUIStandardComponents/mod_UIComponent",["UWA/Core","UWA/Class/Promise","DS/Tweakers/TypeRepresentationFactory","DS/Tree/TreeListView","DS/Windows/Panel","DS/Controls/Toolbar","DS/Controls/Button","DS/WAfrUIStandardComponents/UIFrame","DS/Utilities/TouchUtils","DS/WAfrUIModelManagers/MainUIComponentManager","DS/WAfrUIModelManagers/ContextualUIComponentManager","text!DS/WAfrTweakers/assets/WAfrTypeRepresentations.json","text!DS/WAfrTweakers/assets/WAfrTypeTemplates.json"],function(d,c,e,g,j,r,n,m,b,h,i,k,l){var q=new Object({});q.DEFAULT_COMPONENT_NAME="Afr_UIComponent";q.UIComponent=function(s){this._properties={};this._properties._typeRepFactory=new e();this._properties._typeRepFactory.registerTypeRepresentations(k);this._properties._typeRepFactory.registerTypeTemplates(l);this._properties.components={panels:[]};this._properties._mainComponentAvailability=true;this._properties._mainUIComponentManager=new h();this._properties._contextualUIComponentManager=new i()};q.UIComponent.DEFAULT_COMPONENT_NAME=q.DEFAULT_COMPONENT_NAME;q.UIComponent.prototype.createExposedComponent=function(){return{deactivateMainComponent:this.deactivateMainComponent.bind(this),activateMainComponent:this.activateMainComponent.bind(this),hideMainComponent:this.hideMainComponent.bind(this),showMainComponent:this.showMainComponent.bind(this),getContextualUIComponentManager:this.getContextualUIComponentManager.bind(this),activateSection:this.activateSection.bind(this),getActiveSections:this.getActiveSections.bind(this)}};q.UIComponent.prototype.destroy=function(){this._typeRepFactory=undefined;return c.resolve()};q.UIComponent.prototype.initialize=function(){this._properties._mainUIComponentManager.setContext({executionContext:this.getExecutionContext(),UIComponent:this.getExecutionContext().getComponent(this._private._identifier),UIFrame:this.getExecutionContext().getComponent(m.DEFAULT_COMPONENT_NAME)});if(this._properties._mainComponentAvailability){this._properties._mainUIComponentManager.generate({touchMode:b.getTouchMode()})}};q.UIComponent.prototype.configure=function(){var s=this.getExecutionContext();this._properties._contextualUIComponentManager.setContext({executionContext:s,UIComponent:(s===undefined)?undefined:s.getComponent(this._private._identifier),UIFrame:(s===undefined)?undefined:s.getComponent(m.DEFAULT_COMPONENT_NAME),Viewer:(s===undefined)?undefined:((s.getApplicationComponent("Viewer")===undefined)?undefined:s.getApplicationComponent("Viewer").get3DViewer())});return c.resolve()};q.UIComponent.prototype.clean=function(){var u=this;u._properties.flatModel=undefined;u._properties.tagList=undefined;u._properties._mainComponentAvailability=true;u._properties._mainUIComponentManager.clean();u._properties._contextualUIComponentManager.dispose();var w;var s=u.getExecutionContext().getComponent(m.DEFAULT_COMPONENT_NAME);if(s){w=s.getImmersiveFrame()}if(w&&u._properties.components&&u._properties.components.panels){var v,t;while(u._properties.components.panels.length!==0||u._properties.components.panels[0]!==undefined){t=u._properties.components.panels[0];u._properties.components.panels.splice(0,1);v=t.windowGroup;if(v){w.removeWindow(v);v.destroy()}if(t){w.removeWindow(t);t.destroy()}}}return c.resolve()};q.UIComponent.prototype.setGlobalFlatModel=function(s){this._properties.flatModel=s.model};q.UIComponent.prototype.setTagList=function(s){this._properties.tagList=s.tab};q.UIComponent.prototype.deactivateMainComponent=function(){this._properties._mainComponentAvailability=false;this.hideMainComponent()};q.UIComponent.prototype.activateMainComponent=function(){this._properties._mainComponentAvailability=true};q.UIComponent.prototype.activateSection=function(t){var s=this;if(s!==undefined&&s._properties!==undefined&&s._properties._mainUIComponentManager!==undefined){if(Array.isArray(t)){s._properties._mainUIComponentManager.activateSections(t)}else{s._properties._mainUIComponentManager.activateSection(t)}}};q.UIComponent.prototype.getActiveSections=function(){var s=this;if(s!==undefined&&s._properties!==undefined&&s._properties._mainUIComponentManager!==undefined){return s._properties._mainUIComponentManager.getActiveSections()}return null};q.UIComponent.prototype.hideMainComponent=function(){var s=this;if(s!==undefined&&s._properties!==undefined&&s._properties._mainUIComponentManager!==undefined){s._properties._mainUIComponentManager.hide()}};q.UIComponent.prototype.showMainComponent=function(){var s=this;if(s!==undefined&&s._properties!==undefined&&s._properties._mainUIComponentManager!==undefined){s._properties._mainUIComponentManager.show()}};q.UIComponent.prototype.setMainComponentActivatedCategory=function(t){var s=this;if(s!==undefined&&s._properties!==undefined&&s._properties._mainUIComponentManager!==undefined){s._properties._mainUIComponentManager.setActivatedCategory(t)}};q.UIComponent.prototype.setMainComponentCategoriesOrder=function(t){var s=this;if(s!==undefined&&s._properties!==undefined&&s._properties._mainUIComponentManager!==undefined){s._properties._mainUIComponentManager.setCategoriesOrder(t)}};q.UIComponent.prototype.getContextualUIComponentManager=function(){return this._properties._contextualUIComponentManager};q.UIComponent.prototype.setCategories=function(s){this._properties.categories=s};q.UIComponent.prototype.getCategories=function(){return this._properties.categories};function f(v){var w=v.that;var t=new d.Element("div",{});t.style.display="inline-block";var u=new j({title:"WAfr Test Utils",identifier:"WAfrTestUtils",content:t,immersiveFrame:v.immersiveFrame,resizableFlag:true,currentDockArea:WUXDockAreaEnum.RightDockArea,closeButtonFlag:false});var z=new n({label:"Show MainComponent",emphasize:"secondary"}).inject(t);z.getContent().style.margin=".5em";z.addEventListener("buttonclick",function(){w.showMainComponent()});var s=new n({label:"Hide MainComponent",emphasize:"secondary"}).inject(t);s.getContent().style.margin=".5em";s.addEventListener("buttonclick",function(){w.hideMainComponent()});var y=new n({label:"Activate MainComponent",emphasize:"secondary"}).inject(t);y.getContent().style.margin=".5em";y.addEventListener("buttonclick",function(){w.activateMainComponent()});var x=new n({label:"Deactivate MainComponent",emphasize:"secondary"}).inject(t);x.getContent().style.margin=".5em";x.addEventListener("buttonclick",function(){w.deactivateMainComponent()});w._properties.components.panels.push(u)}function a(s){if(s.event&&s.event.dsModel){return s.event.dsModel.value}}function o(v,u){var s=v.cellView;if(v.nodeModel&&v.nodeModel.options){var t=v.nodeModel.options.grid;u.that._properties._typeRepFactory.generateView(t.handler,{typePath:t.type,onViewCreated:function(w){if(w!==undefined){s.getContent().setContent(w)}}})}}function p(C){var B=C.that;if(B===undefined||B._properties===undefined||B._properties.flatModel===undefined){return}else{var t=B._properties.flatModel.getChildren();if(t===undefined||t.length===undefined||t.length===0){return}}var w={label:{typeRepresentation:"string",readOnly:true},type:{typeRepresentation:"string",readOnly:true},tweaker:{readOnly:true}};B._properties.tagList.forEach(function(D){w[D]={typeRepresentation:"string",readOnly:true}});var u=[{dataIndex:"tree",width:"30%"}];for(var y in w){u.push({text:y,dataIndex:y,typeRepresentation:w[y].typeRepresentation,isEditable:!w[y].readOnly,width:200,setValue:function(D){D.nodeModel.options.grid[D.dataIndex]=D.value;D.manager.updateRowViewWithException(D.nodeModel,D.dataIndex)}});if(y==="tweaker"){u[u.length-1].onCellRequest=function(D){o(D,{that:B})}}}var x=new g({apiVersion:2,expanderStyle:"triangle",columns:u,height:"auto",treeDocument:B._properties.flatModel,resize:{columns:true,rows:true},defaultCellHeight:52});x.getManager().enablePerformanceAnalysis();var z=B.getExecutionContext().getComponent(m.DEFAULT_COMPONENT_NAME);var s=document.body;if(z){s=z.getImmersiveFrame()}var A="WAfrUIModelTreeListView";var v=new j({title:"TreeListView - AfrModel",identifier:A,content:x,immersiveFrame:s,resizableFlag:true});B._properties.components.panels.push(v)}return q});define("DS/WAfrUIStandardComponents/mod_UIInterpreter",["UWA/Class/Promise","DS/WAfrUIStandardComponents/mod_UIComponent","DS/WAfrHandlers/mod_HandlerComponent","DS/Tree/TreeNodeModel","DS/TreeModel/TreeDocument","DS/WAfrUIStandardComponents/mod_HandlerProxyUtilities"],function(i,m,h,f,a,b){var n=b.createActionHandlerProxy;var d=b.createCommandHandlerProxy;var k=b.createCheckHandlerProxy;var j=b.createRadioHandlerProxy;function l(o){return new g()}function g(){this._treeDocument=undefined;this._uiComponent=undefined;this._tagList=[]}function c(o){var p=new f({label:o.elem.identifier,icon:"",grid:{label:o.elem.identifier,type:null,tweaker:null},useAsyncPreExpand:false});o.tagList.forEach(function(q){p.options.grid[q]=o.elem[q]});return p}g.prototype.interpret=function(q,t,w){if(q===undefined||t===undefined){return}this._executionContext=t;var o=m.DEFAULT_COMPONENT_NAME;this._uiComponent=t.getComponent(o);var r=this;var u=q.UIModel;this._treeDocument=new a();this._treeDocument.options.shouldBeSelected=function(x){return false};if(u&&u.handlerList){u.handlerList.forEach(function(y){for(var x in y){if(r._tagList.indexOf(x)<0){r._tagList.push(x)}}});u.handlerList.forEach(function(x){var y={tagList:r._tagList,elem:x};r._treeDocument.addChild(c(y))});if(u.mainComponent!==undefined){this._mainComponentAvailability=u.mainComponent.mainComponentAvailability;this._mainComponentDefaultCategory=u.mainComponent.defaultActivatedCategory;this._mainComponentCategoriesOrder=u.mainComponent.categoriesOrder}if(u.categories){var p=0;var s=u.categories.length;var v=null;this._categories={};for(p;p<s;++p){v=u.categories[p];this._categories[v.identifier]=v}}}return i.resolve()};g.prototype.commit=function(){var t=this;var p=h.DEFAULT_COMPONENT_NAME;t._handlerComponent=t._executionContext.getComponent(p);var r=t._handlerComponent._private._chkHdlrMap;var s=t._handlerComponent._private._radioHdlrMap;var o=t._handlerComponent.getLeafHandlerMaps();var u=o.actionHandlers;var v=o.commandHandlers;if(!this._handlerComponent){throw new Error("HandlerComponent not found")}var q=this._treeDocument.getChildren();this._treeDocument.prepareUpdate();q.forEach(function(y){var w=y.options.grid.identifier;var x="";if(u.hasOwnProperty(w)){y.options.grid.set!==undefined?x="commandFlyout":x="actionHandler";y.updateOptions({grid:{type:x,typeView:"actionHandler",handler:n(u[w])}})}else{if(v.hasOwnProperty(w)){y.options.grid.set!==undefined?x="commandFlyout":x="commandHandler";y.updateOptions({grid:{type:x,typeView:"commandHandler",handler:d(v[w])}})}else{if(r.hasOwnProperty(w)){y.options.grid.set!==undefined?x="commandFlyout":x="checkHandlerButton";y.updateOptions({grid:{type:x,typeView:"checkHandlerButton",handler:k(r[w])}})}else{if(s.hasOwnProperty(w)){y.options.grid.set!==undefined?x="commandFlyout":x="radioHandler";y.updateOptions({grid:{type:x,typeView:"radioHandler",handler:j(s[w])}})}}}}});t._treeDocument.pushUpdate();t._uiComponent.setTagList({tab:t._tagList});t._uiComponent.setGlobalFlatModel({model:t._treeDocument});if(t._mainComponentAvailability===false){t._uiComponent.deactivateMainComponent()}t._uiComponent.setMainComponentCategoriesOrder(t._mainComponentCategoriesOrder);t._uiComponent.setCategories(t._categories);return i.resolve()};var e=new Object;e.generateInterpreter=l;return e});
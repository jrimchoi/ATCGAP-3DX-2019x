define("DS/BookmarkCustomization/script/abstract",["UWA/Class"],function(a){return a.extend({getThumbnailUrlFromContentUri:function(b){throw new Error("This method should have been overridden.")}})});define("DS/BookmarkCustomization/script/source/3DSwym",["DS/BookmarkCustomization/script/abstract","UWA/Data","DS/WAFData/WAFData","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","UWA/Json"],function(d,c,a,b,e){function f(){return window.ds&&window.ds.env==="MOBILE"}return d.singleton({getThumbnailUrlFromContentUri:function(g,h,i){b.getServiceUrl({serviceName:"3DSwym",platformId:h?h:null,onComplete:function(l){var k=g.subjectUri,j,m;k=k.split(":");j=l+"/api/media/stream/model/"+k[k.length-2]+"/model_id/"+k[k.length-1]+"/type/thumb/key/";m={small:j+"s_thumb",medium:j+"m_thumb",large:j+"l_thumb"};Object.keys(m).forEach(function(n){if(f()){m[n]=c.proxifyUrl(m[n],{proxy:"passport"})}});i&&i(m)},onFailure:function(){console.error("Failed to get bookmark (comment) service url")}})}})});
define("DS/OptimizationPanel/KPIsettings/KPIList",["DS/OptimizationPanel/KPIsettings/KPIcomponent","DS/Controls/Button","DS/CoreEvents/ModelEvents","css!DS/OptimizationPanel/KPIsettings/PanelKPI.css"],function(a,b,d){var c=function(e){this._init(e)};c.prototype._init=function(e){this._listKPI=e&&e.listKPI?e.listKPI:["other1","other2"];this._modelEvents=e&&e.modelEvents?e.modelEvents:"other model events";this._id=e&&e.id?e.id:"other";this._kpiList=e&&e.modelC0.tabId[this._id].kpiList?e.modelC0.tabId[this._id].kpiList:{};this._kpiComponentStatus=[];this._initDom(e)};c.prototype._initDom=function(g){this._content=document.createElement("div");this._content.classList.add("kpi-list");this._content.setAttribute("myid",this._id);this._contentKPI=document.createElement("div");this._contentKPI.classList.add("kpi-container");this._content.appendChild(this._contentKPI);this._kpiObject=[];this._buttonGenerate=new b({label:"GENERATE CONFIGURATION",emphasize:"primary",disabled:true,allowUnsafeHTMLLabel:false});this._buttonGenerate.id="generate";this._buttonGenerate.inject(this._content);if(Object.keys(this._kpiList).length===0&&this._kpiList.constructor===Object){g.modelC0.tabId[this._id].kpiList={}}else{this._buttonGenerate.disabled=false;this._contentKPI.setAttribute("style","background-color: #f4f5f6; opacity:0.7; pointer-events: none;")}for(var e=0;e<this._listKPI.length;e++){this._kpiObject[e]=new a({name:this._listKPI[e],modelEvents:this._modelEvents,id:this._id,modelC0:g.modelC0});this._kpiObject[e].inject(this._contentKPI)}var f=this;this._buttonGenerate.addEventListener("buttonclick",function(i){var h=i.dsModel;f._modelEvents.publish({event:"kpilist-generate-configuration-pressed",data:f._id});h.elements.button.previousElementSibling.setAttribute("style","background-color: #f4f5f6; opacity:0.7; pointer-events: none;")});this._subscribeEvents(g)};c.prototype.inject=function(e){e.appendChild(this._content)};c.prototype._subscribeEvents=function(f){this._listSubscription=[];var e=this;e._listSubscription.push(e._modelEvents.subscribe({event:"kpi-component-onchange"},function(j){var h=0;for(var g in e._listKPI){if(f.modelC0.tabId[e._id]&&f.modelC0.tabId[e._id].kpiList[e._listKPI[g]]){h=h+1}}if(h!=0){e._buttonGenerate.disabled=false}else{e._buttonGenerate.disabled=true}}))};c.prototype.destroy=function(){this._content=null;var e=0;var f=this._listSubscription.length;for(e=0;e<f;e++){this._modelEvents.unsubscribe(this._listSubscription[e])}for(e=0;e<this._kpiObject.length;e++){this._kpiObject[e].destroy()}};return c});
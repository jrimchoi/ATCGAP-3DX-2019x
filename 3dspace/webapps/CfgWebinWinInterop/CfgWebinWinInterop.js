define("DS/CfgWebinWinInterop/scripts/CfgWIWUtility",["DS/CfgBaseUX/scripts/CfgUtility","i18n!DS/CfgBaseUX/assets/nls/CfgBaseUX"],function(a,c){var b={retrieveModeldetails:function(e){var d=this;var f=new Promise(function(m,l){var j="/search?xrequestedwith=xmlhttprequest";var n=function(o){m(o)};var k={with_indexing_date:true,with_nls:false,label:"model-info",locale:"en",select_predicate:["ds6w:label","ds6w:type","ds6w:description","ds6w:identifier","ds6w:modified","ds6w:created","ds6w:responsible","ds6w:lastModifiedBy","ds6wg:marketing_Name"],select_file:["icon","thumbnail_2d"],order_by:"desc",order_field:"relevance",nresults:1000,start:"0",source:[],tenant:enoviaServerFilterWidget.tenant};var g="";e.forEach(function(p,o){if(o==0){g="physicalid:"+p}else{g=g+" OR physicalid:"+p}});k.query=g;var k=JSON.stringify(k);var i=function(){l()};var h={isfederated:"true"};a.makeWSCall(j,"POST","enovia","application/json",k,n,i,true,h)});return f},convertSearchResponseToJson:function(d){var e=[];if(d&&d.results){d.results.forEach(function(h,f){var g={id:"temp",data:[],basicData:[],};g.basicData=h.attributes;h.attributes.forEach(function(j,i){if(j.name=="resourceid"){g.physicalID=j.value}if(j.name=="ds6w:label"){g.data.push({name:"Marketing Name",value:j.value})}if(j.name=="preview_url"){g.preview_url=j.value}if(j.name=="ds6w:who/ds6w:responsible"){g.basicData.push({name:"owner",value:j.value})}if(j.name=="ds6w:identifier"){g.basicData.push({name:"name",value:j.value})}if(j.name=="ds6w:what/ds6w:status"){g.basicData.push({name:"current",value:j.value.split("Model.")})}});e.push(g)})}return e},};return b});define("DS/CfgWebinWinInterop/scripts/CfgWIWDialogs",["DS/CfgBaseUX/scripts/CfgController","DS/CfgWebinWinInterop/scripts/CfgWIWUtility","DS/CfgBaseUX/scripts/CfgUtility","DS/CfgEvolutionUX/CfgEditEvolutionLayout","DS/CfgAuthoringContextUX/scripts/CfgAuthContextChangeView","UWA/Core","i18n!DS/CfgEvolutionUX/assets/nls/CfgEvolutionUX","css!DS/CfgWebinWinInterop/CfgWebinWinInterop.css"],function(a,d,b,f,c,h,e){var g={destroy:function(){widget.body.empty()},editEvolution:function(j){j.mode="Native";if(j.modelIds){j.modelIds=j.modelIds.split(",")}if(j.enabledAxis){j.enabledAxis=j.enabledAxis.split(",")}var i={feature:"false",productState:"false",unit:"false",contextualDate:"false",milestone:"false",manufacturingPlan:"false"};j.enabledAxis.forEach(function(n){n=n.replace(" ","");i[n]="true"});this.nativeOptions=j;var l=this;a.init("","",this.nativeOptions.mode);enoviaServerFilterWidget.tenant=this.nativeOptions.tenantID;enoviaServerFilterWidget.baseURL=this.nativeOptions.enoviaURL;enoviaServerFilterWidget.federatedURL=this.nativeOptions.federatedSearchURL;var j={tenant:l.nativeOptions.tenant,environment:l.nativeOptions.mode,mode:"EditEvolution",modelList:[],modelIds:l.nativeOptions.modelIds,enabledCritData:i,Access:{SetEvolutionEffectvity:"true"},dialogue:{okHandler:null,hasEffectivity:null,effExpressionXml:null,}};var k,m;if(l.nativeOptions.currentEffExp==""){k=false}else{console.log("Decoupled Evolution Effectivity");k=true;m=l.nativeOptions.currentEffExp}j.dialogue.hasEffectivity=k;j.dialogue.effExpressionXml=m;b.populateSecurityContext().then(function(){d.retrieveModeldetails(l.nativeOptions.modelIds).then(function(n){j.modelList=d.convertSearchResponseToJson(n);l.createEvolutionLayout(j)})})},createEvolutionLayout:function(j){widget.body.empty();widget.body.setStyle("height",document.body.parentElement.clientHeight+"px");widget.addEvent("onResize",function(){widget.body.setStyle("height",document.body.parentElement.clientHeight+"px")});var i=this.mainContent=new UWA.createElement("div",{id:"cfgNative-main-container","class":"cfgNative-main-container",});i.inject(widget.body);j.parent=this.mainContent;j.parentElement=this.mainContent;f.create(j)},createNativeLayout:function(j){widget.body.empty();widget.body.setStyle("height",document.body.parentElement.clientHeight+"px");widget.addEvent("onResize",function(){widget.body.setStyle("height",document.body.parentElement.clientHeight+"px")});var i=this.mainContent=new UWA.createElement("div",{id:"cfgNative-main-container","class":"cfgNative-main-container",});i.inject(widget.body)},initAuthContext:function(i){this.nativeOptions=i;var j=this;a.init("","",this.nativeOptions.mode);enoviaServerFilterWidget.tenant=this.nativeOptions.tenantID;enoviaServerFilterWidget.baseURL=this.nativeOptions.enoviaURL;enoviaServerFilterWidget.federatedURL=this.nativeOptions.federatedSearchURL;b.populateSecurityContext().then(function(){j.createNativeLayout(i);var l={};l.parent=j.mainContent;j.CfgAuthoringContextView=new c(l);if(j.CfgAuthoringContextView){if(j.nativeOptions.mode=="powerBy"||j.nativeOptions.mode=="Native"){var k={eventName:"cfgAuthoringContext",operation:"Init_Complete",operationVersion:"1.0",content:{}};b.sendNotificationWebInWin(k)}}})},setAuthContext:function(i){if(this.mainContent){this.mainContent.inject(widget.body)}if(!UWA.is(i)){console.log("setAuthContext | Options not set")}else{if(this.CfgAuthoringContextView){this.CfgAuthoringContextView.setContext(i)}}}};return g});
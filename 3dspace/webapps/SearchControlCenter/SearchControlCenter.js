define("DS/SNResultUX/views/EnterpriseDictionaryTab",["UWA/Element","UWA/Core","DS/Controls/ComboBox","DS/UIKIT/Input/Button","DS/UIKIT/Input/File","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","i18n!DS/SearchControlCenter/assets/nls/SearchControlCenter.json"],function(c,f,j,b,e,g,h,a,i){var d={comboBox:null,importButton:null,fileChooser:null,rendurStatus:false,xlsxReader:null,listOfTenants:[],onRenderFacet:function(o){var k=new UWA.Element("div",{styles:{"margin-top":"20px","margin-bottom":"20px",display:"flex"},"class":"enterprise-dictionary-tab",id:"enterprise-dictionary-tab-tenant"}).inject(o);var n=new UWA.Element("div",{"class":"enterprise-dictionary-tab",id:"enterprise-dictionary-tab-tenant-text",styles:{"align-self":"center",position:"relative"}}).inject(k);var q=new UWA.Element("div",{"class":"enterprise-dictionary-tab",id:"enterprise-dictionary-tab-tenant-combo",styles:{width:"50%",position:"relative","align-self":"center","margin-left":"10px",display:"inline-grid"}}).inject(k);new UWA.Element("p",{styles:{margin:"unset"},text:i.get("dictionary-for-platform.title")}).inject(n);a.getServiceUrl({serviceName:"search",onComplete:function(t){if(UWA.is(t,"array")){for(var s=0;s<t.length;s++){if(UWA.is(t[s].platformId,"string")){d.listOfTenants.push(t[s].platformId)}}d.comboBox=new j({elementsList:d.listOfTenants,nbDisplayedElements:d.listOfTenants.length,styles:{align:"left",},selectedIndex:0,touchMode:true,enableSearchFlag:true,}).inject(q)}},onFailure:function(s){console.log(s)}});if(window.notifs===undefined){window.notifs=g}h.setNotificationManager(window.notifs);var l=new UWA.Element("div",{"class":"enterprise-dictionary-tab",id:"enterprise-dictionary-tab-file",styles:{"margin-bottom":"20px",display:"flex"}}).inject(o);var r=new UWA.Element("div",{"class":"enterprise-dictionary-tab",id:"enterprise-dictionary-tab-file-chooser",styles:{width:"50%",position:"relative"}}).inject(l);var m=new UWA.Element("div",{"class":"enterprise-dictionary-tab",id:"enterprise-dictionary-tab-file-import",styles:{width:"50%",position:"relative","margin-left":"5px"}}).inject(l);d.fileChooser=new e({multiple:false,buttonBefore:false,name:"file-input",buttonClassName:"default",placeholder:"Upload the enterprise dictionary...",buttonText:"Browse..",events:{onChange:this._onFileInputChange.bind(this),}}).inject(r);var p=this;d.importButton=new b({id:"import_button_id",value:i.get("importButton.title"),disabled:true,className:"default",events:{onClick:function(t,s){p._OnImportClick();console.log("inside _OnImportClick() ")}}}).inject(m);d.rendurStatus=true},_onFileInputChange:function(m){var n=m.target.files[0].name;if(UWA.is(n,"string")){var k=n.slice((n.lastIndexOf(".")-1>>>0)+2);if((k==="xls")||(k==="xlsx")){if(typeof(FileReader)!="undefined"){d.xlsxReader=new FileReader();d.xlsxReader.readAsArrayBuffer(m.target.files[0]);d.importButton.enable()}}else{d.importButton.disable();d.fileChooser.clear();var l={level:"error",message:i.get("wrongFileTypeSelectionWarning"),sticky:false};window.notifs.addNotif(l)}}},_OnImportClick:function(){if(UWA.is(d.fileChooser)){var l=XLSX.read((d.xlsxReader.result),{type:"binary"});var k=l.SheetNames;k.forEach(function(q){var p=XLSX.utils.sheet_to_json(l.Sheets[q]);var u=(new DOMParser()).parseFromString("<SuggestDictionary/>","text/xml");var s=u.documentElement;if(UWA.is(p,"array")){for(var m=0;m<p.length;m++){if(UWA.is(p[m])){var n=u.createElement("SuggestDictEntry");n.setAttribute("display",p[m].display);n.setAttribute("score",p[m].score);n.setAttribute("entry",p[m].entry);s.appendChild(n);if(m===0){var t=u.getElementsByTagName("SuggestDictionary");if(UWA.is(t[m])){t[m].setAttribute("subString",p[m].subString);t[m].setAttribute("subExpr",p[m].subExpr);t[m].setAttribute("maxEntries",p[m].maxEntries)}}}}}var r=new XMLSerializer();var o=r.serializeToString(u)})}},getTabInputsToStore:function(k){},onResetTab:function(){},isCurrentTabRendered:function(){return d.rendurStatus}};return d});define("DS/SearchControlCenter/scripts/SearchcontrolCenterModel",["UWA/Element","UWA/Core","UWA/Class","UWA/Class/Debug",],function(e,c,d,a){var b=d.singleton(a,{_searchControlCenterSettingsJSON:{},_datasource_InternalName_Mapping:{},_types_InternalName_Mapping:{},_attributes_InternalName_Mapping:{},_local_AttributeDisplay_Cache_For_Types:[],gate_Local_Attribute_Cache:function(){return this._local_AttributeDisplay_Cache_For_Types},clear_Local_Attribute_Cache:function(){if(this._local_AttributeDisplay_Cache_For_Types.length>0){this._local_AttributeDisplay_Cache_For_Types=[]}},initiate_Local_Attribute_Cache:function(f){if(this._local_AttributeDisplay_Cache_For_Types.length>0){this._local_AttributeDisplay_Cache_For_Types=[]}if(f.length>0){this._local_AttributeDisplay_Cache_For_Types=f}},addTo_Local_Attribute_Cache:function(q){var v=this._local_AttributeDisplay_Cache_For_Types;var l=q.datasource;var o=q.type;var g=false;if(v.length>0){var f=q.attributes;if(c.is(v,"array")&&c.is(o,"string")&&c.is(l,"string")){for(var y=0;y<v.length;y++){var r=v[y];if(UWA.is(r)){if((o===r.uri)&&(l===r.source)){var u=[];for(var i=0;i<f.length;i++){var t={};t.uri=f[i];if(c.is(t.uri)){u.push(t)}}if(q.parentDIVID==="SearchAttributes_preferredAttr"){if(r.hasOwnProperty("predicates")){var n=r.predicates;if(n.length>0){var x=false;for(var h=0;h<n.length;h++){if(n[h].uri===u[0].uri){x=true}}if(x===false){n.push(u[0])}}else{r.predicates=u}}else{r.predicates=u}}else{if(q.parentDIVID==="SearchAttributes_moreAttr"){if(r.hasOwnProperty("excluded_predicates")){var n=r.excluded_predicates;if(n.length>0){var x=false;for(var h=0;h<n.length;h++){if(n[h].uri===u[0].uri){x=true}}if(x===false){n.push(u[0])}}else{r.excluded_predicates=u}}else{r.excluded_predicates=u}}}g=true}}}}}if(g===false){var w=[];var m={};m.source=l;m.uri=o;var u=[];for(var h=0;h<q.attributes.length;h++){var t={};t.uri=q.attributes[h];if(c.is(t.uri)){u.push(t)}}if(q.parentDIVID==="SearchAttributes_preferredAttr"){m.predicates=u}else{if(q.parentDIVID==="SearchAttributes_moreAttr"){m.excluded_predicates=u}}if(v.length>0){v.push(m)}else{w.push(m);this._local_AttributeDisplay_Cache_For_Types=w}}var p=this._searchControlCenterSettingsJSON},addTo_Local_Attribute_Cache_ForAllTypes:function(p){var t=this._local_AttributeDisplay_Cache_For_Types;var l=p.datasource;var g=false;if(t.length>0){var f=p.attributes;if(c.is(t,"array")&&c.is(l,"string")){for(var x=0;x<t.length;x++){var q=t[x];if(UWA.is(q)){if((l===q.source)){var u=[];for(var i=0;i<f.length;i++){var r={};r.uri=f[i];if(c.is(r.uri)){u.push(r)}}if(p.parentDIVID==="SearchAttributes_preferredAttr"){if(q.hasOwnProperty("predicates")){var n=q.predicates;if(n.length>0){var w=false;for(var h=0;h<n.length;h++){if(n[h].uri===u[0].uri){w=true}}if(w===false){n.push(u[0])}}else{q.predicates=u}}else{q.predicates=u}}else{if(p.parentDIVID==="SearchAttributes_moreAttr"){if(q.hasOwnProperty("excluded_predicates")){var n=q.excluded_predicates;if(n.length>0){var w=false;for(var h=0;h<n.length;h++){if(n[h].uri===u[0].uri){w=true}}if(w===false){n.push(u[0])}}else{q.excluded_predicates=u}}else{q.excluded_predicates=u}}}g=true}}}}}if(g===false){var v=[];var m={};m.source=l;var u=[];for(var h=0;h<p.attributes.length;h++){var r={};r.uri=p.attributes[h];if(c.is(r.uri)){u.push(r)}}if(p.parentDIVID==="SearchAttributes_preferredAttr"){m.predicates=u}else{if(p.parentDIVID==="SearchAttributes_moreAttr"){m.excluded_predicates=u}}if(t.length>0){t.push(m)}else{v.push(m);this._local_AttributeDisplay_Cache_For_Types=v}}var o=this._searchControlCenterSettingsJSON},update_Local_Attribute_Cache:function(k){var n=this._local_AttributeDisplay_Cache_For_Types;var h=k.datasource;var i=k.type;if(n.length>0){var f=k.attributes;if(c.is(n,"array")&&c.is(i,"string")&&c.is(h,"string")){for(var p=0;p<n.length;p++){var l=n[p];if(UWA.is(l)){if((i===l.uri)&&(h===l.source)){var o=[];for(var g=0;g<f.length;g++){var m={};m.uri=f[g];if(c.is(m.uri)){o.push(m)}}if(k.parentDIVID==="SearchAttributes_preferredAttr"){l.predicates=o}else{if(k.parentDIVID==="SearchAttributes_moreAttr"){l.excluded_predicates=o}}}}}}}},update_Local_Attribute_Cache_ForAllTypes:function(i){var m=this._local_AttributeDisplay_Cache_For_Types;var h=i.datasource;if(m.length>0){var f=i.attributes;if(c.is(m,"array")&&c.is(h,"string")){for(var o=0;o<m.length;o++){var k=m[o];if(UWA.is(k)){if((h===k.source)){var n=[];for(var g=0;g<f.length;g++){var l={};l.uri=f[g];if(c.is(l.uri)){n.push(l)}}if(i.parentDIVID==="SearchAttributes_preferredAttr"){k.predicates=n}else{if(i.parentDIVID==="SearchAttributes_moreAttr"){k.excluded_predicates=n}}}}}}}},setSettingsJSON:function(f){if(c.is(f)){this._searchControlCenterSettingsJSON=f}},gateSettingsJSON:function(){return this._searchControlCenterSettingsJSON},gateTabSettingJSON:function(f){var l;if(c.is(f,"string")){var k;if(c.is(b._searchControlCenterSettingsJSON,"string")){k=JSON.parse(b._searchControlCenterSettingsJSON)}else{k=b._searchControlCenterSettingsJSON}if(c.is(k)){var j=Object.keys(k);for(var g=0;g<j.length;g++){var i=j[g];if(c.is(i)&&k.hasOwnProperty(i)){if((i==="search_settings")&&f==="SearchControl_General"){var h=k.search_settings;if(c.is(h)){l=h;break}}else{if((i==="type_custo")&&(f==="SearchControl_SearchTypes")){var h=k.type_custo;if(c.is(h)){l=h;break}}else{if((i==="attribute_custo")&&(f==="SearchControl_SearchAttributes")){var h=k.attribute_custo;if(c.is(h)){l=h;break}}}}}}}}return l},updateSettingsJSON:function(f){var n,r,s;var h=false;if(c.is(f,"string")){n=JSON.parse(f)}else{n=f}if(!c.is(b._searchControlCenterSettingsJSON)){h=true}else{if(c.is(b._searchControlCenterSettingsJSON,"string")){r=JSON.parse(b._searchControlCenterSettingsJSON)}else{r=b._searchControlCenterSettingsJSON}if(UWA.is(r)){s=Object.keys(r)}}if(UWA.is(n)){var m=Object.keys(n);if(m.length>0){var p=m[0];if(UWA.is(p)&&n.hasOwnProperty(p)){if(p==="SearchControl_General"){var l=n.SearchControl_General;if((h===true)||(s.length==0)){b._searchControlCenterSettingsJSON.search_settings=l}else{r.search_settings=l}}else{if(p==="SearchControl_SearchTypes"){var u=n.SearchControl_SearchTypes;if((h===true)||(s.length==0)){b._searchControlCenterSettingsJSON.type_custo=u}else{if(s.length>0){var j=false;for(var t=0;t<s.length;t++){var q=s[t];if(UWA.is(q)&&r.hasOwnProperty(q)){if(q==="type_custo"){var g=r[q];g.type_display=u.type_display;g.easyTypeAccess=u.easyTypeAccess;g.excluded_types=u.excluded_types;g.default_datasourceandtype=u.default_datasourceandtype;j=true}}}if(j==false){r.type_custo=u}}}}else{if(p==="SearchControl_SearchAttributes"){var k=n.SearchControl_SearchAttributes;if((h===true)||(s.length==0)){b._searchControlCenterSettingsJSON.attribute_custo=k}else{if(s.length>0){var j=false;for(var t=0;t<s.length;t++){var q=s[t];if(UWA.is(q)&&r.hasOwnProperty(q)){if(q==="attribute_custo"){var i=r[q];i.attributes_display=k.attributes_display;var o=k["ds6w:type"];if(o.length>0){i["ds6w:type"]=o}j=true}}}if(j==false){r.attribute_custo=k}}}}}}}}}},setDatasourceInternalMapping:function(f){if(c.is(f)){this._datasource_InternalName_Mapping=f}},getDatasourceInternalMappingValue:function(h){var f=this._datasource_InternalName_Mapping;if(c.is(f)&&c.is(h,"string")){var i=Object.keys(f);for(var g=0;g<i.length;g++){if(f[i[g]]===h){return i[g]}}}},getDatasourceDisplayMappingValue:function(h){var f=this._datasource_InternalName_Mapping;if(c.is(f)&&c.is(h,"string")){var i=Object.keys(f);for(var g=0;g<i.length;g++){if(i[g]===h){return f[i[g]]}}}},setAttributesInternalMappingForAllDataSourcesAndTypes:function(g,f){if(c.is(f)){this._types_InternalName_Mapping[g]=f}},getAttributesInternalMappingValueForAllDataSourcesAndTypes:function(i,h){if(c.is(h,"string")&&c.is(i,"string")){var f=this._types_InternalName_Mapping[i];if(c.is(f)){var j=Object.keys(f);for(var g=0;g<j.length;g++){if(f[j[g]]===h){return j[g]}}}}},getAttributesDisplayMappingValueForAllDataSourcesAndTypes:function(i,h){if(c.is(h,"string")&&c.is(i,"string")){var j=Object.keys(this._types_InternalName_Mapping);for(var f=0;f<j.length;f++){if(i===j[f]){var g=this._types_InternalName_Mapping[i];return g[h]}}}},setTypeInternalMapping:function(g,f){if(c.is(f)){this._types_InternalName_Mapping[g]=f}},getTypeInternalMappingValue:function(i,h){if(c.is(h,"string")&&c.is(i,"string")){var f=this._types_InternalName_Mapping[i];if(c.is(f)){var j=Object.keys(f);for(var g=0;g<j.length;g++){if(f[j[g]]===h){return j[g]}}}}},getTypeDisplayMappingValue:function(i,h){if(c.is(h,"string")&&c.is(i,"string")){var j=Object.keys(this._types_InternalName_Mapping);for(var f=0;f<j.length;f++){if(i===j[f]){var g=this._types_InternalName_Mapping[i];return g[h]}}}},setAttributeInternalMapping:function(m,h,n){if(c.is(n)&&c.is(h,"string")&&c.is(m,"string")){var f={};f[h]=n;var l=Object.keys(this._attributes_InternalName_Mapping);if(l.length<=0){this._attributes_InternalName_Mapping[m]=f}else{var o=false;for(var j=0;j<l.length;j++){if(this._attributes_InternalName_Mapping[l[j]]===m){var g=this._attributes_InternalName_Mapping[l[j]];if(c.is(g)){g[h]=n;o=true;break}}}if(o===false){var k=this._attributes_InternalName_Mapping[m];if(c.is(k)){k[h]=n}}}}},getAttributeInternalMapping:function(n,j,h){if(c.is(n,"string")&&c.is(j,"string")&&c.is(h,"string")){var l=this._attributes_InternalName_Mapping[n];if(c.is(l)){var m=Object.keys(l);for(var o=0;o<m.length;o++){if(m[o]===j){var f=l[m[o]];var g=Object.keys(f);for(var k=0;k<g.length;k++){if(f[g[k]]===h){return g[k]}}}}}}}});return b});define("DS/SearchControlCenter/scripts/SearchControlCenterServices",["UWA/Element","UWA/Core","UWA/Promise","DS/UIKIT/Alert","DS/SearchControlCenter/scripts/SearchcontrolCenterModel","DS/SNInfraUX/SearchLogin","DS/SNInfraUX/SearchUtils","DS/SNInfraUX/SNVocabAccess","DS/i3DXSNDictionaryAPI/3DXSearchDictionaryAccess","DS/SNResultUX/utils/SearchViewOptions","i18n!DS/SearchControlCenter/assets/nls/SearchControlCenter.json","css!DS/SearchControlCenter/SearchControlCenter"],function(a,j,h,d,i,c,f,m,g,b,l,k){var e={parentCardDiv:null,draggedCardBlock:null,platformID:null,_language:null,_datasourceList:[],_datSourceToVocabID:{},_Service_Nls_promise:h.deferred(),_applyButton:null,_restoreButton:null,_buttonStatus:false,buildCardBlockRow:function(G){var n=G.cardDiv;var E=G.datasource;var y=null,C=null,o=null;if(j.is(G.type)){y=G.type}if(j.is(G.uri)){C=G.uri}if(j.is(G.tabName)){o=G.tabName}var w=UWA.createElement("div",{"class":"card-block search_center_general_display_flex card_block_design_elements",draggable:true,}).inject(n);w.appendChild(new UWA.Element("h3",{"class":"card-title search_center_font_and_color",text:G.textOnCard}));if(G.deleteOption===true){var D=UWA.createElement("div",{"class":"fonticon fonticon-clear fonticon-x search_center_delete_button_margin",});w.appendChild(D);D.setStyle("color","#b4b6ba");D.addEventListener("click",v,false);D.addEventListener("mouseover",z,false);D.addEventListener("mouseout",u,false)}if(!j.is(C)){if(j.is(y)){C=this.getAttributesInternalName(E,y,G.textOnCard)}else{C=this.getTypesInternalName(E,G.textOnCard)}}w.setAttribute("sccURI",C);w.setAttribute("sccDataSource",E);w.setAttribute("sccType",y);x(w);if(j.is(o)&&(o==="SearchControl_SearchAttributes")){var r=n.childElementCount;var s=[];s.push(w.getAttribute("sccURI"));if(E==="AllDataSourcesandTypes"){var q={datasource:E,attributes:s,operation:"add",parentDIVID:n.id};i.addTo_Local_Attribute_Cache_ForAllTypes(q)}else{var q={datasource:E,type:y,attributes:s,operation:"add",parentDIVID:n.id};i.addTo_Local_Attribute_Cache(q)}}function v(J){if(UWA.is(J.currentTarget.parentElement)){var H=J.currentTarget.parentElement.parentElement;J.currentTarget.parentElement.destroy();e.enableButtons();if(j.is(o)&&(o==="SearchControl_SearchAttributes")){var K=H.childElementCount;var M=[];for(var I=0;I<K;I++){M.push(H.children[I].getAttribute("sccURI"))}if(E==="AllDataSourcesandTypes"){var L={datasource:E,attributes:M,parentDIVID:n.id};i.update_Local_Attribute_Cache_ForAllTypes(L)}else{var L={datasource:E,type:y,attributes:M,parentDIVID:n.id};i.update_Local_Attribute_Cache(L)}}if(H.childElementCount===0){H.parentElement.parentElement.parentElement.children[0].addClassName("search_center_div search_center_margin search_center_general_display_flex")}}}function z(H){H.currentTarget.setStyle("color","#3d3d3d")}function u(H){H.currentTarget.setStyle("color","#b4b6ba")}function F(H){e.draggedCardBlock=this;H.dataTransfer.effectAllowed="move";H.dataTransfer.setData("text/html",this.outerHTML)}function t(H){if(H.preventDefault){H.preventDefault()}this.classList.add("over");H.dataTransfer.dropEffect="move"}function p(H){this.classList.remove("over")}function A(H){this.classList.remove("over")}function B(K){if(K.stopPropagation){K.stopPropagation()}if(e.draggedCardBlock!=this){this.parentNode.removeChild(e.draggedCardBlock);var O=K.dataTransfer.getData("text/html");this.insertAdjacentHTML("beforebegin",O);var I=this.previousSibling;x(I);I.children[1].addEventListener("click",v,false);I.children[1].addEventListener("mouseover",z,false);I.children[1].addEventListener("mouseout",u,false);if(j.is(o)&&(o==="SearchControl_SearchAttributes")){var L=this.parentNode.childElementCount;var N=[];for(var J=0;J<L;J++){N.push(this.parentNode.children[J].getAttribute("sccURI"))}var H=I.getAttribute("sccDataSource");if(H==="AllDataSourcesandTypes"){var M={datasource:H,attributes:N,parentDIVID:n.id};i.update_Local_Attribute_Cache_ForAllTypes(M)}else{var M={datasource:H,type:I.getAttribute("sccType"),attributes:N,parentDIVID:n.id};i.update_Local_Attribute_Cache(M)}e.enableButtons()}}this.classList.remove("over")}function x(H){H.addEventListener("dragstart",F,false);H.addEventListener("dragover",t,false);H.addEventListener("dragleave",p,false);H.addEventListener("drop",B,false);H.addEventListener("dragend",A,false)}},createWdgAlert:function(){var n=new d({closable:true,visible:true,autoHide:true,hideDelay:2500});return n},updateButtons:function(n,o){if(j.is(n)&&j.is(o)){this._applyButton=n;this._restoreButton=o}},isButtonDisabled:function(){this._buttonStatus=false;if(j.is(this._applyButton)&&j.is(this._restoreButton)){if((this._applyButton.isDisabled()==true)&&(this._restoreButton.isDisabled()==true)){this._buttonStatus=true}}return this._buttonStatus},disableButtons:function(){if(j.is(this._applyButton)&&j.is(this._restoreButton)){if(this._applyButton.isDisabled()==false){this._applyButton.setDisabled(true)}if(this._restoreButton.isDisabled()==false){this._restoreButton.setDisabled(true)}}},enableButtons:function(){if(j.is(this._applyButton)&&j.is(this._restoreButton)){if(this._applyButton.isDisabled()==true){this._applyButton.setDisabled(false)}if(this._restoreButton.isDisabled()==true){this._restoreButton.setDisabled(false)}}},getButtonStatus:function(){return this._buttonStatus},reSetButtonStatus:function(){this._buttonStatus=false},setPlatformID:function(n){if(UWA.is(n)){e.platformID=n}},getDataSourceList:function(){var r=[],q=[];if(this._datasourceList.length>0){return this._datasourceList}else{if(UWA.is(e.platformID)){var s=c.getAvailableSources(e.platformID);if(j.is(s)){var o={dataSources:s};var n=f.getValidDatasources(o);if(j.is(n)){if(j.is(n.dataSourceNames,"array")){q=n.dataSourceNames;for(var p=0;p<q.length;p++){e._datSourceToVocabID[q[p]]=m.getVocabularyName(q[p])}}if(j.is(n.dataSourceServices,"array")){r=n.dataSourceServices}}}if(r.length>0){this.getNLSValues(q,r,"ds6w:dataSource")}return e._Service_Nls_promise.promise}}},getNLSValues:function(u,q,o){var n={};n.dataSourceLists=u;var p=b.getNlsOfDataSources(n);if(UWA.is(p,"array")){var t={};t.AllDataSourcesandTypes=l.get("searchAttributes.DataSource.AllDataSourcesandTypes");for(var r=0;r<p.length;r++){t[u[r]]=p[r];e._datasourceList.push(p[r])}i.setDatasourceInternalMapping(t)}e._Service_Nls_promise.resolve(e._datasourceList)},getDatasourceInternalName:function(n){if(j.is(n)){return i.getDatasourceInternalMappingValue(n)}},getDatasourceDisplayName:function(n){if(j.is(n)){return i.getDatasourceDisplayMappingValue(n)}},updateAttributesMappingForAllDataSourcesAndTypes:function(o,n){if(j.is(o,"string")){i.setAttributesInternalMappingForAllDataSourcesAndTypes(o,n)}},getAttributesInternalNameForAllDataSourcesAndTypes:function(o,n){if(j.is(o)){return i.getAttributesInternalMappingValueForAllDataSourcesAndTypes(o,n)}},getAttributesDisplayNameForAllDataSourcesAndTypes:function(o,n){if(j.is(o)){return i.getAttributesDisplayMappingValueForAllDataSourcesAndTypes(o,n)}},updateTypesMapping:function(o,n){if(j.is(o,"string")){i.setTypeInternalMapping(o,n)}},getTypesInternalName:function(o,n){if(j.is(o)){return i.getTypeInternalMappingValue(o,n)}},getTypesDisplayName:function(o,n){if(j.is(o)){return i.getTypeDisplayMappingValue(o,n)}},updateAttributesMapping:function(p,n,o){if(j.is(p,"string")){i.setAttributeInternalMapping(p,n,o)}},getAttributesInternalName:function(p,o,n){if(j.is(p)){return i.getAttributeInternalMapping(p,o,n)}},getSettingsJSONFromTabName:function(n){if(j.is(n)){return i.gateTabSettingJSON(n)}},setLocalCacheForAttribute:function(n){if(j.is(n)){return i.initiate_Local_Attribute_Cache(n)}},getLocalCacheForAttribute:function(){return i.gate_Local_Attribute_Cache()},clearLocalCacheForAttribute:function(){return i.clear_Local_Attribute_Cache()},};return e});define("DS/SearchControlCenter/scripts/SearchControlCenterInfra",["UWA/Element","UWA/Core","UWA/Promise","DS/UIKIT/Input/Button","DS/UIKIT/Accordion","DS/UIKIT/Mask","DS/WAFData/WAFData","css!DS/SearchControlCenter/SearchControlCenter","i18n!DS/SearchControlCenter/assets/nls/SearchControlCenter.json","text!DS/SearchControlCenter/assets/3DSearchControl_UIsettings.json","DS/SNInfraUX/SearchLogin","DS/SNInfraUX/SearchSettings","DS/SNInfraUX/SearchControlCenterFetchService","DS/SearchControlCenter/scripts/SearchControlCenterServices","DS/SearchControlCenter/scripts/SearchcontrolCenterModel","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","DS/UIKIT/Alert","DS/SNInfraUX/SearchUtils"],function(m,o,d,a,e,s,c,f,h,q,p,k,g,l,r,j,i,b){var n={url3DSpacepromise:d.deferred(),CSVpromise:d.deferred(),_postURL:null,_listOfFacets:[],_listOfFacetNames:[],uiRefresh:function(){if(this._listOfFacetNames.length>0){this._OnResetClick()}else{this.init()}},init:function(){widget.setMetas({helpPath:"SearchControlCenter/assets/help"});var w=new UWA.Element("div",{"class":"search_center_main_coaintainer",id:"search-control-center-general",});w.inject(widget.body);var u=new UWA.Element("div",{"class":"search_center_scroll",id:"search-control-center-general",});u.inject(w);var v=this;s.mask(u);var t={onComplete:function(x){var y={tenantID:l.platformID,key:"SCC_UI"};g.getSearchSettings(y).then(function(U){var T;if(o.is(U,"string")){T=JSON.parse(U)}else{T=U}if(T.hasOwnProperty("attribute_custo")){var D=false;var S=T.attribute_custo;if(!S.hasOwnProperty("ds6w:type")){D=true}else{var B=S["ds6w:type"];var N={};var C=false;for(var Q=0;Q<B.length;Q++){var L=B[Q];if(L.source==="AllDataSourcesandTypes"){C=true;break}}if(C===false){D=true}}if(D===true){var H=[];var N={};N.source="AllDataSourcesandTypes";N.predicates=v._getDefaultPredicates();H.push(N);S["ds6w:type"]=H}}r.setSettingsJSON(T);var M=new e({className:"divided",items:[],exclusive:false});M.inject(u);var A;var F=JSON.parse(q);if(UWA.is(F)&&F.hasOwnProperty("facets")){if(UWA.is(F.facets,"array")){for(var Q=0;Q<F.facets.length;Q++){var P=F.facets[Q];if(UWA.is(P,"object")){var A=P.srcJS;if(UWA.is(A,"string")&&A.length>3){var J=new UWA.Element("div",{id:"search-center-general"+Q});J.inject(u);var O=h.get(P.facetID);n._listOfFacetNames.push(O);var K=P.iconName;var E='<span class= "'+K+'"></span>';M.addItem({title:E+O,selected:Q==0?true:false,content:J});var z={sourcePath:A,isTabRendered:false,divContainer:J,tabName:P.facetID};n._listOfFacets.push(z)}}}v._OnSelectTabCB(0)}}M.addEvent("onOpen",v._OnAccordionChange.bind(v));M.addEvent("onClose",v._OnAccordionClose.bind(v));var R=new UWA.Element("div",{"class":"search-control-buttonContainer",});R.inject(w);var I=new a({id:"id_in_app_apply",value:h.get("ApplyButton.title"),className:"default  primary in_app_search_center_btn",events:{onClick:function(W,V){v._OnApplyClick();console.log("inside _OnApplyClick() ")}}}).inject(R,"bottom");var G=new a({id:"id_in_app_restore",value:h.get("RestoreButton.title"),className:"default in_app_search_center_btn",events:{onClick:function(W,V){v._OnResetClick();console.log("inside _OnResetClick() ")}}}).inject(R);s.unmask(u);l.updateButtons(I,G);l.disableButtons()},function(z){s.unmask(u);var B=l.createWdgAlert();B.inject(widget.body);var A=h.get("SearchInfra.failuremsg");A=A+z;B.add({className:"error",message:A})})},onFailure:function(x){s.unmask(u);console.log("Login fails !!")}};t.tenantID=widget.getValue("x3dPlatformId");if(!UWA.is(t.tenantID)||(t.tenantID==="")){t.tenantID="OnPremise"}j.getServiceUrl({serviceName:"3DSearch",platformId:t.tenantID,onComplete:function(y){var x;if(UWA.is(y,"array")){x=y[0].url}else{if(UWA.is(y,"string")){x=y}}if(UWA.is(x)){t.fedSearchURL=x}if(UWA.is(t.tenantID,"string")){p.login(t);l.setPlatformID(t.tenantID)}},onFailure:function(x){s.unmask(u);var z=l.createWdgAlert();z.inject(widget.body);var y=h.get("SearchInfra.URLBuildError");y=y+x;z.add({className:"error",message:y})}})},_getDefaultPredicates:function(){var v=[];var t=k.getOption("relevant_tags",{tenant:l.platformID});var w=Object.keys(t);for(var u=0;u<w.length;u++){if((w[u]==="ds6w:who")||(w[u]==="ds6w:when")||(w[u]==="ds6w:what")||(w[u]==="ds6w:where")||(w[u]==="ds6w:why")||(w[u]==="ds6w:how")||(w[u]==="ds6w:project")||(w[u]==="ds6w:community")){continue}v.push({uri:w[u]})}return v},_OnAccordionChange:function(w,v){var t=w.title.textContent;if(UWA.is(n._listOfFacetNames,"array")){var u=n._listOfFacetNames.indexOf(t);if(u>=0){this._OnSelectTabCB(u)}}},_OnAccordionClose:function(v,u){var t=v;var u=u},_OnSelectTabCB:function(t){if(UWA.is(n._listOfFacets,"array")){if(UWA.is(n._listOfFacets[t]),"object"){var u=n._listOfFacets[t].sourcePath;require([u],function(z){if(n._listOfFacets[t].isTabRendered===false){n._listOfFacets[t].isTabRendered=true;var w=l.isButtonDisabled();var v=n._listOfFacets[t].divContainer;z.onRenderFacet(v);var y=n._listOfFacets[t].tabName;var x=l.getSettingsJSONFromTabName(y);z.onResetTab(x);if(w===true){l.disableButtons()}}})}}},_OnResetClick:function(){l.reSetButtonStatus();if(UWA.is(n._listOfFacets,"array")){for(var t=0;t<n._listOfFacets.length;t++){if(UWA.is(n._listOfFacets[t]),"object"){this._resetTab(n._listOfFacets[t],t)}}}},_resetTab:function(v,u){var t=v.sourcePath;require([t],function(z){var w=u;if(v.isTabRendered===true){var y=v.tabName;var x=l.getSettingsJSONFromTabName(y);z.onResetTab(x);l.disableButtons()}})},_FetchTheTabSettingsAndUpdateLocalCache:function(w,u,v){var t=w.sourcePath;require([t],function(A){if(w.isTabRendered===true){var z=A.getTabInputsToStore();if(UWA.is(z)){var y=w.tabName;var x={};x[y]=z;r.updateSettingsJSON(x)}}u[v].resolve()})},_OnApplyClick:function(){l.reSetButtonStatus();var w=this;var v=[];if(UWA.is(n._listOfFacets,"array")){for(var u=0;u<n._listOfFacets.length;u++){if(UWA.is(n._listOfFacets[u])){v[u]=d.deferred();(function(x){w._FetchTheTabSettingsAndUpdateLocalCache(n._listOfFacets[u],v,x)})(u)}}}var t=v.map(function(x){return x.promise});d.all(t).then(function(){l.disableButtons();j.getServiceUrl({serviceName:"3DSpace",platformId:l.platformID,onComplete:function(y){if(UWA.is(y,"string")){n._postURL=y+"/resources/SNAPI/infra_services/searchsettings";var z=r.gateSettingsJSON();var x={timeout:50000,method:"POST",data:JSON.stringify(z),type:"json",headers:{Accept:"application/json","Content-Type":"application/json"},onComplete:function(A){var C=l.createWdgAlert();C.inject(widget.body);var B=h.get("SearchInfra.successmsg");B=B+l.platformID+".";C.add({className:"success applyChangesAlert",message:B})},onFailure:function(A){var C=l.createWdgAlert();C.inject(widget.body);var B=h.get("SearchInfra.failuremsg");B=B+A;C.add({className:"error applyChangesAlert",message:B})},onTimeout:function(A){var C=l.createWdgAlert();C.inject(widget.body);var B=h.get("SearchInfra.timeoutmsg");B=B+A;C.add({className:"error applyChangesAlert",message:B})}};c.authenticatedRequest(n._postURL,x)}},onFailure:function(x){var z=l.createWdgAlert();z.inject(widget.body);var y=h.get("SearchInfra.URLBuildError");y=y+x;z.add({className:"error applyChangesAlert",message:y})}})})},check3DSpaceAvailablity:function(){var u=widget.getValue("x3dPlatformId");if(!UWA.is(u)||(u==="")){u="OnPremise"}var t=this;j.getServiceUrl({serviceName:"3DSpace",platformId:u,onComplete:function(v){if(UWA.is(v)){t.url3DSpacepromise.resolve(v)}else{var w=new Error("no platform");t.url3DSpacepromise.reject(w)}},onFailure:function(){var v=new Error("no platform");t.url3DSpacepromise.reject(v)}});return this.url3DSpacepromise.promise},checkCSVAvailability:function(){var t=this;b.getGrantedRoles(function(v){var w=false;for(var u=0;u<v.length;u++){if(v[u].id=="CSV"){w=true;break}}if(w){t.CSVpromise.resolve(v)}else{var x=new Error("no access");t.CSVpromise.reject(x)}});return this.CSVpromise.promise}};return n});define("DS/SearchControlCenter/scripts/SearchcontrolSearchTypes",["UWA/Element","UWA/Core","DS/Controls/Toggle","DS/Controls/ComboBox","DS/UIKIT/Popover","DS/UIKIT/Mask","DS/MessageBus/MessageBus","css!DS/SearchControlCenter/SearchControlCenter","i18n!DS/SearchControlCenter/assets/nls/SearchControlCenter.json","DS/i3DXSNDictionaryAPI/3DXSearchDictionaryAccess","DS/SearchControlCenter/scripts/SearchControlCenterServices","DS/SNInfraUX/SNVocabAccess"],function(a,h,i,m,g,d,c,j,l,f,e,k){var b={datasourceComboBox:null,typeComboBox:null,prefferedTypeDiv:null,moreTypeDiv:null,moreTypesdatasourceComboBox:null,moreTypestypeComboBox:null,defaultDatasourceComboBox:null,defaultTypeComboBox:null,checkboxTypeDisplay:null,preferredTypesCard:null,moreTypesCard:null,preferredTypesMap:{},excludeTypesMap:{},listofItemsArray:[],listofDatasourcesArray:[],_defaultDatasource:null,onRenderFacet:function(y){var x=this;var M=new UWA.Element("div",{"class":"search_center_main_div",id:"search-type-tab-view-mode",}).inject(y);var I=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin",id:"search-type-display"}).inject(M);var C=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"search-type-display-text",}).inject(I);var L=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"search-type-display-toggle",}).inject(I);b.checkboxTypeDisplay=new i({type:"checkbox",label:l.get("searchType.typeDisplay"),className:"primary",touchMode:"true"}).inject(L);new UWA.Element("p",{"class":"search_center_text",text:l.get("searchType.Title")}).inject(C);var K=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin search_center_disable search_center_bgcolor",id:"search-type-display"}).inject(M);var s=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex search_center_margin ",id:"search-type-display-text",}).inject(K);var E=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex search_center_margin",id:"search-type-display-combo",}).inject(K);b.defaultDatasourceComboBox=new m({placeholder:l.get("Choose_default_datasource"),touchMode:true,enableSearchFlag:true,}).inject(E);E.setStyle("display","grid");b.defaultDatasourceComboBox.elements.container.setStyle("max-width","unset");b.defaultDatasourceComboBox.addEventListener("change",function(R){e.enableButtons();var Q=l.get("General.None");if((b.defaultDatasourceComboBox.currentValue===Q)){b.defaultDatasourceComboBox.selectedIndex=-1}});new UWA.Element("p",{"class":"search_center_text_normal",text:l.get("SearchType.DefaultDataSource")}).inject(s);var n=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(s);n.setStyle("color","#b4b6ba");n.addEventListener("mouseover",N,false);n.addEventListener("mouseout",A,false);new g({target:n,trigger:"hover",animate:"true",position:"top",body:l.get("SearchType.DefaultDataSource.popover"),title:""});var J=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin search_center_disable search_center_bgcolor search_preferred_types",id:"search-type-display"}).inject(M);var D=new UWA.Element("div",{"class":"search_center_div_left search_center_margin search_center_general_display_flex",id:"search-type-display-text",}).inject(J);new UWA.Element("p",{"class":"search_center_text_normal",text:l.get("searchType.Prefferedtypes.Title")}).inject(D);var H=UWA.createElement("span",{"class":"fonticon fonticon-info search_center_tooltip_span"}).inject(D);H.setStyle("color","#b4b6ba");H.addEventListener("mouseover",N,false);H.addEventListener("mouseout",A,false);new g({target:H,trigger:"hover",animate:"true",position:"top",body:l.get("searchType.Prefferedtypes.popover"),title:""});var u=new UWA.Element("div",{"class":"search_center_div_right",id:"search-type-display-text",}).inject(J);var r=new UWA.Element("div",{"class":"search_center_div_card search_center_top_margin",id:"search-type-display-text",}).inject(u);b.preferredTypesCard=UWA.createElement("div",{"class":"card search_center_card_panel",id:"SearchTypes_preferredType"}).inject(r);var p=new UWA.Element("div",{"class":"search_center_div_datasource search_center_bottom_margin search_center_general_display_flex",id:"search-type-display-text",}).inject(u);var P=new UWA.Element("div",{"class":"search_center_div_type_combo search_center_general_display_flex",id:"search-type-display-text",}).inject(p);b.datasourceComboBox=new m({placeholder:l.get("Choose_data_source"),touchMode:true,}).inject(P);b.datasourceComboBox.addEventListener("change",function(R){b.typeComboBox.disabled=false;d.mask(b.prefferedTypeDiv);var Q=e.getDatasourceInternalName(b.datasourceComboBox.currentValue);var S={};S.vocabId=e._datSourceToVocabID[Q];S.tenantId=e.platformID;k.loadVocabularyClasses(S,function(W){if(W.classInfos.length>0){var X=[];var T={};for(var U=0;U<W.classInfos.length;U++){if(UWA.is(W.classInfos[U].nlsName,"string")&&UWA.is(W.classInfos[U].uri)){X.push(W.classInfos[U].nlsName);T[W.classInfos[U].uri]=W.classInfos[U].nlsName}}e.updateTypesMapping(Q,T);b.typeComboBox.elementsList=X}else{b.typeComboBox.disabled=true;var Y=e.createWdgAlert();var V=l.get("SearchType.NoTypesWarning");Y.inject(widget.body);Y.add({className:"warning applyChangesAlert",message:V})}d.unmask(b.prefferedTypeDiv)})});b.prefferedTypeDiv=new UWA.Element("div",{"class":"search_center_div_type_combo search_center_div_left_margin search_center_general_display_flex",id:"search-type-display-text",}).inject(p);b.typeComboBox=new m({placeholder:l.get("Add_preferred_types"),touchMode:true}).inject(b.prefferedTypeDiv);b.typeComboBox.disabled=true;b.typeComboBox.addEventListener("change",function(V){var Y=b.moreTypesCard.childNodes.length;var Q=[];for(var S=0;S<Y;S++){Q.push(b.moreTypesCard.childNodes[S].getAttribute("sccURI"))}var Z=b.preferredTypesCard.childNodes.length;var R=[];for(var S=0;S<Z;S++){R.push(b.preferredTypesCard.childNodes[S].getAttribute("sccURI"))}D.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";var aa=b.typeComboBox.currentValue;if(UWA.is(aa,"string")){var ab=e.getDatasourceInternalName(b.datasourceComboBox.currentValue);var ad=e.getTypesInternalName(ab,aa);var T=false;var ac=null;if(h.is(ad)){var U;if(Q.length>0){U=Q.indexOf(ad);if(U>-1){ac=l.get("SearchType.preferredTypeWarning");T=true}}if(R.length>0&&(T===false)){U=R.indexOf(ad);if(U>-1){ac=l.get("searchType.TypeWarning");T=true}}if(T===false){var X={cardDiv:b.preferredTypesCard,datasource:ab,textOnCard:aa,deleteOption:true};e.buildCardBlockRow(X);e.enableButtons()}else{var W=e.createWdgAlert();W.inject(widget.body);W.add({className:"warning applyChangesAlert",message:ac})}}b.typeComboBox.selectedIndex=-1}});var t=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_bgcolor search_center_margin search_center_disable search_excluded_types",id:"search-type-display"}).inject(M);var q=new UWA.Element("div",{"class":"search_center_div_left search_center_margin search_center_general_display_flex",id:"search-type-display-text",}).inject(t);new UWA.Element("p",{"class":"search_center_text_normal",text:l.get("searchType.Excludedtype.Title")}).inject(q);var O=UWA.createElement("span",{"class":"fonticon fonticon-info search_center_tooltip_span"}).inject(q);O.setStyle("color","#b4b6ba");O.addEventListener("mouseover",N,false);O.addEventListener("mouseout",A,false);new g({target:O,trigger:"hover",animate:"true",position:"top",body:l.get("searchType.Excludedtype.popover"),title:""});var F=new UWA.Element("div",{"class":"search_center_div_right",id:"search-type-display-text",}).inject(t);var B=new UWA.Element("div",{"class":"search_center_div_card search_center_top_margin",id:"search-type-display-text",}).inject(F);b.moreTypesCard=UWA.createElement("div",{"class":"card search_center_card_panel",id:"SearchTypes_moreType"}).inject(B);var z=new UWA.Element("div",{"class":"search_center_div_datasource search_center_bottom_margin search_center_general_display_flex",id:"search-type-display-text",}).inject(F);var w=new UWA.Element("div",{"class":"search_center_div_type_combo search_center_general_display_flex",id:"search-type-display-text",}).inject(z);b.moreTypesdatasourceComboBox=new m({placeholder:l.get("Choose_data_source"),touchMode:true,}).inject(w);b.moreTypesdatasourceComboBox.addEventListener("change",function(R){b.moreTypestypeComboBox.disabled=false;d.mask(b.moreTypeDiv);var Q=e.getDatasourceInternalName(b.moreTypesdatasourceComboBox.currentValue);var S={};S.vocabId=e._datSourceToVocabID[Q];S.tenantId=e.platformID;k.loadVocabularyClasses(S,function(W){if(W.classInfos.length>0){var X=[];var T={};for(var U=0;U<W.classInfos.length;U++){if(UWA.is(W.classInfos[U].nlsName,"string")&&UWA.is(W.classInfos[U].uri)){X.push(W.classInfos[U].nlsName);T[W.classInfos[U].uri]=W.classInfos[U].nlsName}}e.updateTypesMapping(Q,T);b.moreTypestypeComboBox.elementsList=X}else{b.moreTypestypeComboBox.disabled=true;var Y=e.createWdgAlert();var V=l.get("SearchType.NoTypesWarning");Y.inject(widget.body);Y.add({className:"warning applyChangesAlert",message:V})}d.unmask(b.moreTypeDiv)})});b.moreTypeDiv=new UWA.Element("div",{"class":"search_center_div_type_combo search_center_div_left_margin search_center_general_display_flex",id:"search-type-display-text",}).inject(z);b.moreTypestypeComboBox=new m({placeholder:l.get("Add_excluded_types"),touchMode:true,}).inject(b.moreTypeDiv);b.moreTypestypeComboBox.disabled=true;b.moreTypestypeComboBox.addEventListener("change",function(W){var aa=b.preferredTypesCard.childNodes.length;var S=[];for(var T=0;T<aa;T++){S.push(b.preferredTypesCard.childNodes[T].getAttribute("sccURI"))}var Z=b.moreTypesCard.childNodes.length;var R=[];for(var T=0;T<Z;T++){R.push(b.moreTypesCard.childNodes[T].getAttribute("sccURI"))}q.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";var ab=b.moreTypestypeComboBox.currentValue;if(UWA.is(ab,"string")){var Q=e.getDatasourceInternalName(b.moreTypesdatasourceComboBox.currentValue);var ad=e.getTypesInternalName(Q,ab);var U=false;var ac=null;if(h.is(ad)){var V;if(S.length>0){V=S.indexOf(ad);if(V>-1){ac=l.get("SearchType.excludeTypeWarning");U=true}}if(R.length>0&&(U===false)){V=R.indexOf(ad);if(V>-1){ac=l.get("searchType.TypeWarning");U=true}}if(U===false){var Y={cardDiv:b.moreTypesCard,datasource:Q,textOnCard:ab,deleteOption:true};e.buildCardBlockRow(Y);e.enableButtons()}else{var X=e.createWdgAlert();X.inject(widget.body);X.add({className:"warning applyChangesAlert",message:ac})}}b.moreTypestypeComboBox.selectedIndex=-1}});var G=[];G.push(l.get("General.None"));if(e._datasourceList.length>0){var o=e._datasourceList;if(UWA.is(o,"array")){var v=G.concat(o);b.defaultDatasourceComboBox.elementsList=v;if(h.is(b._defaultDatasource)){b.defaultDatasourceComboBox.currentValue=b._defaultDatasource}b.datasourceComboBox.elementsList=o;b.moreTypesdatasourceComboBox.elementsList=o}}else{e.getDataSourceList().then(function(R){if(UWA.is(R,"array")){var Q=G.concat(R);b.defaultDatasourceComboBox.elementsList=Q;if(h.is(b._defaultDatasource)){b.defaultDatasourceComboBox.currentValue=b._defaultDatasource;e.disableButtons()}b.datasourceComboBox.elementsList=R;b.moreTypesdatasourceComboBox.elementsList=R}})}b.checkboxTypeDisplay.addEventListener("change",function(Q){e.enableButtons();if(b.checkboxTypeDisplay.checkFlag===false){J.addClassName("search_center_disable");t.addClassName("search_center_disable");K.addClassName("search_center_disable")}else{J.removeClassName("search_center_disable");t.removeClassName("search_center_disable");K.removeClassName("search_center_disable")}}.bind(this));function N(Q){Q.currentTarget.setStyle("color","#3d3d3d")}function A(Q){Q.currentTarget.setStyle("color","#b4b6ba")}},getTabInputsToStore:function(){var w={type_display:b.checkboxTypeDisplay.checkFlag};var v=[];var n={};var t=e.getDatasourceInternalName(b.defaultDatasourceComboBox.currentValue);if(h.is(t)){n.source=t;v.push(n)}w.default_datasourceandtype=v;var p=[];var o=b.preferredTypesCard.childNodes.length;for(var z=0;z<o;z++){var r={};r.uri=b.preferredTypesCard.childNodes[z].getAttribute("sccURI");r.source=b.preferredTypesCard.childNodes[z].getAttribute("sccDataSource");if(h.is(r.uri)&&h.is(r.source)){p.push(r)}}w.easyTypeAccess=p;var q=[];var x=b.moreTypesCard.childNodes.length;for(var u=0;u<x;u++){var y={};y.uri=b.moreTypesCard.childNodes[u].getAttribute("sccURI");y.source=b.moreTypesCard.childNodes[u].getAttribute("sccDataSource");if(h.is(y.uri)&&h.is(y.source)){q.push(y)}}w.excluded_types=q;return w},onResetTab:function(N){var u=b.preferredTypesCard.childElementCount;for(var S=u-1;S>=0;S--){b.preferredTypesCard.childNodes[S].destroy()}b.preferredTypesCard.parentElement.parentElement.parentElement.children[0].addClassName("search_center_div search_center_general_display_flex");var F=b.moreTypesCard.childElementCount;for(var Q=F-1;Q>=0;Q--){b.moreTypesCard.childNodes[Q].destroy()}b.moreTypesCard.parentElement.parentElement.parentElement.children[0].addClassName("search_center_div search_center_general_display_flex");var n;if(h.is(N,"string")){n=JSON.parse(N)}else{n=N}if(UWA.is(n)){if(n.hasOwnProperty("type_display")){var G=n.type_display;if(h.is(G)){b.checkboxTypeDisplay.checkFlag=G}}if(n.hasOwnProperty("default_datasourceandtype")){var O=n.default_datasourceandtype;if(h.is(O)&&O.length>0){var o=O[O.length-1];var x=e.getDatasourceDisplayName(o.source);var q=b.defaultDatasourceComboBox.elementsList;if(q.length>0){b.defaultDatasourceComboBox.currentValue=x}else{b._defaultDatasource=x}}else{b.defaultDatasourceComboBox.selectedIndex=-1}}else{b.defaultDatasourceComboBox.selectedIndex=-1}var M=[],L=[],r=[],U=[];if(n.hasOwnProperty("easyTypeAccess")){var P=n.easyTypeAccess;if(h.is(P,"array")){for(var V=0;V<P.length;V++){var z=P[V].uri;var D=P[V].source;if(UWA.is(D)){L.push(D)}if(UWA.is(z)){M.push(z)}}}}if(n.hasOwnProperty("excluded_types")){var B=n.excluded_types;if(h.is(B,"array")){for(var V=0;V<B.length;V++){var z=B[V].uri;var D=B[V].source;if(UWA.is(D)){r.push(D)}if(UWA.is(z)){U.push(z)}}}}var J=M.concat(U);var w=L.concat(r);if((J.length>0)&&(w.length>0)&&(J.length===w.length)){var I=[];var R=true;for(var t=0;t<J.length;t++){var K=J[t];if(UWA.is(K)){var p=e.getTypesDisplayName(w[t],K);if(!UWA.is(p)){R=false}var T=K.indexOf(":");if(T>=0){var H=K.substr(T+1);I.push(H)}else{I.push(K)}}}if(R){var C=false;for(var E=0;E<M.length;E++){var v=e.getTypesDisplayName(L[E],M[E]);var y={cardDiv:b.preferredTypesCard,datasource:L[E],textOnCard:v,uri:M[E],deleteOption:true};e.buildCardBlockRow(y);C=true}if(C==true){b.preferredTypesCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";C=false}for(var A=0;A<U.length;A++){var v=e.getTypesDisplayName(r[A],U[A]);var y={cardDiv:b.moreTypesCard,datasource:r[A],textOnCard:v,uri:U[A],deleteOption:true};e.buildCardBlockRow(y);C=true}if(C==true){b.moreTypesCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex"}}else{f.getNlsOfPropertiesValues(JSON.stringify({"ds6w:type":I}),{tenantId:e.platformID,lang:e._language,onComplete:function(X){var ae=X["ds6w:type"];var W=false;for(var Y=0;Y<M.length;Y++){var aa=null;var Z=M[Y].indexOf(":");if(Z>=0){aa=M[Y].substr(Z+1)}else{aa=M[Y]}var ac=ae[aa];var ab={cardDiv:b.preferredTypesCard,datasource:L[Y],textOnCard:ac,uri:M[Y],deleteOption:true};e.buildCardBlockRow(ab);W=true}if(W==true){b.preferredTypesCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";W=false}for(var ad=0;ad<U.length;ad++){var aa=null;var Z=U[ad].indexOf(":");if(Z>=0){aa=U[ad].substr(Z+1)}else{aa=U[ad]}var ac=ae[aa];var ab={cardDiv:b.moreTypesCard,datasource:r[ad],textOnCard:ac,uri:U[ad],deleteOption:true};e.buildCardBlockRow(ab);W=true}if(W==true){b.moreTypesCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex"}},onFailure:function(aa){var Y=false;for(var X=0;X<M.length;X++){var W={cardDiv:b.preferredTypesCard,datasource:L[X],textOnCard:M[X],uri:M[X],deleteOption:true};e.buildCardBlockRow(W);Y=true}if(Y==true){b.preferredTypesCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";Y=false}for(var Z=0;Z<U.length;Z++){var W={cardDiv:b.moreTypesCard,datasource:r[Z],textOnCard:U[Z],uri:U[Z],deleteOption:true};e.buildCardBlockRow(W);Y=true}if(Y==true){b.moreTypesCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex"}}})}}}}};return b});define("DS/SearchControlCenter/scripts/Searchcontrol6WTagsFilter",["UWA/Element","UWA/Core","UWA/Promise","DS/Controls/SpinBox","DS/Controls/Toggle","DS/Controls/ComboBox","DS/Controls/LineEditor","DS/Controls/Slider","DS/Controls/Tooltip","DS/Controls/Tab","DS/UIKIT/Input/Button","DS/UIKIT/Popover","DS/WAFData/WAFData","css!DS/SearchControlCenter/SearchControlCenter","i18n!DS/SearchControlCenter/assets/nls/SearchControlCenter.json","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","DS/SearchControlCenter/scripts/SearchControlCenterServices"],function(o,q,e,i,g,j,r,h,p,m,a,c,b,f,k,l,n){var d={preferredPredicatesComboBox:null,preferredPredicatesCard:null,rendurStatus:false,onRenderFacet:function(w){var y=new UWA.Element("div",{"class":"search_center_general_tab_div",id:"search-type-display"}).inject(w);var v=new UWA.Element("div",{"class":"search_center_div_left",id:"search-type-display-text",}).inject(y);new UWA.Element("p",{"class":"search_center_general_tab_text",text:"Preferred predicates"}).inject(v);var t=new UWA.Element("div",{"class":"search_center_div_right",id:"search-type-display-text",}).inject(y);var z=new UWA.Element("div",{"class":"search_center_div_card_width",id:"search-type-display-text",}).inject(t);d.preferredPredicatesCard=UWA.createElement("div",{"class":"card search_center_card_panel",id:"SearchCntr6WTagsFilter_prefPred"}).inject(z);var s=new UWA.Element("div",{"class":"search_center_div_datasource search_center_div_type_combo search_center_only_grid",id:"search-type-display-text",}).inject(t);var u=[];d.preferredPredicatesComboBox=new j({elementsList:u,placeholder:k.get("SearchCenter6WTagsFilter.Add_predicates"),touchMode:true,mainElementVisibleFlag:true,}).inject(s);var x=this;x.getPredicatesObject().then(function(A){u=x.filter6WRootPredicates(A);d.preferredPredicatesComboBox.elementsList=u});d.preferredPredicatesComboBox.addEventListener("change",function(A){v.className="search_types_div";var B=d.preferredPredicatesComboBox.currentValue;if(UWA.is(B,"string")){n.buildCardBlockRow(d.preferredPredicatesCard,B,true);d.preferredPredicatesComboBox.selectedIndex=-1}});d.rendurStatus=true},isThisNotARootPredicates:function(s){return((s.subPropertyOf==="")?false:true)},filter6WRootPredicates:function(x){var s,u="ds6w";var w=[];if(x[u].properties.length>0){s=x[u].properties;var v=s.length;if(s!==undefined&&v>0){x[u].properties=s.filter(this.isThisNotARootPredicates);s.sort(function(A,y){var B=A.label;B=B.toUpperCase();var z=y.label;z=z.toUpperCase();if(B<z){return -1}else{if(B>z){return 1}else{return 0}}});for(var t=0;t<v;t++){w.push(s[t].label)}}}return w},getPredicatesObject:function(){var s=new e(function(u,t){var v={onComplete:function(w){UWA.log("Got a predicates result!"+w);u(w)},onFailure:function(w){UWA.log("predicates service request Fail!"+w);t(w)},tenantId:"OnPremise",lang:widget.lang,apiVersion:"R2019x"}});return s},getTabInputsToStore:function(){var s;var t=n.getCardNamesList(d.preferredPredicatesCard.id);s={preferred_predicates:t};return s},onResetTab:function(z){var t;if(q.is(z,"string")){t=JSON.parse(z)}else{t=z}if(UWA.is(t)){if(t.hasOwnProperty("preferred_predicates")){var v=t.preferred_predicates;if(q.is(v,"array")){var w=d.preferredPredicatesCard.childElementCount;for(var u=w-1;u>=0;u--){d.preferredPredicatesCard.childNodes[u].destroy()}for(var y=0;y<v.length;y++){var x=v[y];if(UWA.is(x,"string")){d.preferredPredicatesCard.parentElement.parentElement.parentElement.children[0].className="search_types_div";n.buildCardBlockRow(d.preferredPredicatesCard,x,true)}}}}}},getTabName:function(){var s="SearchControl_6WTagsFilter";return s},isCurrentTabRendered:function(){return d.rendurStatus}};return d});define("DS/SearchControlCenter/scripts/SearchcontrolSearchAttributes",["UWA/Element","UWA/Core","UWA/Promise","DS/Controls/Toggle","DS/Controls/ComboBox","DS/UIKIT/Popover","DS/UIKIT/Mask","DS/MessageBus/MessageBus","DS/SNInfraUX/SNVocabAccess","DS/FedDictionaryAccess/FedDictionaryAccessAPI","css!DS/SearchControlCenter/SearchControlCenter","i18n!DS/SearchControlCenter/assets/nls/SearchControlCenter.json","DS/SearchControlCenter/scripts/SearchControlCenterServices"],function(a,h,f,j,n,g,c,b,m,i,k,l,d){var e={checkboxAttributeDisplay:null,datasourceComboBox:null,selectTypeComboBox:null,preferredAttrCard:null,preferredAttrComboBox:null,moreAttrCard:null,moreAttrComboBox:null,_attributesMap:{},_SearchAttributes_promise:f.deferred(),getAttributesPromise:function(){return this._SearchAttributes_promise.promise},onRenderFacet:function(A){var Q=new UWA.Element("div",{"class":"search_center_main_div",id:"search-type-tab-view-mode",}).inject(A);var D=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin",id:"search-type-display"}).inject(Q);var H=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"search-type-display-text",}).inject(D);var C=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"search-type-display-combo",}).inject(D);e.checkboxAttributeDisplay=new j({type:"checkbox",label:l.get("searchAttributes.AttributeDisplay"),className:"primary",touchMode:"true"}).inject(C);new UWA.Element("p",{"class":"search_center_text",text:l.get("searchAttributes.CustomizedAttributes")}).inject(H);var o=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin search_center_disable",id:"search-type-display"}).inject(Q);var v=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"search-type-display-text",}).inject(o);var z=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"search-type-display-combo",}).inject(o);e.datasourceComboBox=new n({placeholder:l.get("Choose_data_source"),touchMode:true,enableSearchFlag:true}).inject(z);z.setStyle("display","grid");e.datasourceComboBox.elements.container.setStyle("max-width","unset");var T=[];T.push(l.get("searchAttributes.DataSource.AllDataSourcesandTypes"));var x=d.getDataSourceList();if(UWA.is(x,"array")){var y=x.length;for(var X=0;X<y;X++){T.push(x[X])}e.datasourceComboBox.elementsList=T}if(d._datasourceList.length>0){var x=d._datasourceList;if(UWA.is(x,"array")){var y=x.length;for(var X=0;X<y;X++){T.push(x[X])}e.datasourceComboBox.elementsList=T}}else{d.getDataSourceList().then(function(aa){if(UWA.is(aa,"array")){var Z=aa.length;for(var Y=0;Y<Z;Y++){T.push(aa[Y])}e.datasourceComboBox.elementsList=T}})}var G=this;e.datasourceComboBox.addEventListener("change",function(Z){d.enableButtons();if(e.datasourceComboBox.currentValue===l.get("searchAttributes.DataSource.AllDataSourcesandTypes")){c.mask(q);c.mask(u);e.selectTypeComboBox.disabled=true;e.selectTypeComboBox.elementsList=[];G.getPredicatesObject().then(function(an){G.cleanUpAttributeCards();var ah=G.filter6WRootPredicates(an);e.preferredAttrComboBox.disabled=false;e.moreAttrComboBox.disabled=false;e.preferredAttrComboBox.elementsList=ah.predicates;e.moreAttrComboBox.elementsList=ah.predicates;d.updateAttributesMappingForAllDataSourcesAndTypes("AllDataSourcesandTypes",ah.typeMap);var ai=d.getLocalCacheForAttribute();if(UWA.is(ai)&&ai.length>0){for(var af=0;af<ai.length;af++){var ag=ai[af];if(ag.source==="AllDataSourcesandTypes"){var ac=ag.predicates;if(UWA.is(ac)&&ac.length>0){U.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var ae=0;ae<ac.length;ae++){var ab=ag.predicates[ae].uri;var am=e._attributesMap[ab];var aj={cardDiv:e.preferredAttrCard,datasource:"AllDataSourcesandTypes",textOnCard:am,uri:ab,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(aj)}}var ak=ag.excluded_predicates;if(UWA.is(ak)&&ak.length>0){B.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var ad=0;ad<ak.length;ad++){var al=ag.excluded_predicates[ad].uri;var am=e._attributesMap[al];var aj={cardDiv:e.moreAttrCard,datasource:"AllDataSourcesandTypes",textOnCard:am,uri:al,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(aj)}}}}}c.unmask(q);c.unmask(u)})}else{e.selectTypeComboBox.disabled=false;e.preferredAttrComboBox.disabled=true;e.moreAttrComboBox.disabled=true;c.mask(W);G.cleanUpAttributeCards();var Y=d.getDatasourceInternalName(e.datasourceComboBox.currentValue);var aa={};aa.vocabId=d._datSourceToVocabID[Y];aa.tenantId=d.platformID;m.loadVocabularyClasses(aa,function(ae){if(ae.classInfos.length>0){var af=[];var ab={};for(var ac=0;ac<ae.classInfos.length;ac++){if(UWA.is(ae.classInfos[ac].nlsName,"string")&&UWA.is(ae.classInfos[ac].uri)){af.push(ae.classInfos[ac].nlsName);ab[ae.classInfos[ac].uri]=ae.classInfos[ac].nlsName}}d.updateTypesMapping(Y,ab);e.selectTypeComboBox.elementsList=af}else{e.selectTypeComboBox.disabled=true;var ag=d.createWdgAlert();var ad=l.get("SearchType.NoTypesWarning");ag.inject(widget.body);ag.add({className:"warning applyChangesAlert",message:ad})}c.unmask(W);e._SearchAttributes_promise.resolve()})}});new UWA.Element("p",{"class":"search_center_text",text:l.get("searchAttributes.DataSource")}).inject(v);var R=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(v);R.setStyle("color","#b4b6ba");R.addEventListener("mouseover",K,false);R.addEventListener("mouseout",F,false);new g({target:R,trigger:"hover",animate:"true",position:"top",body:l.get("searchAttributes.DataSource.popover"),title:""});var p=new UWA.Element("div",{"class":"search_center_disable",id:"search-type-display"}).inject(Q);var I=new UWA.Element("div",{"class":"search_center_general_tab_div",id:"search-type-display"}).inject(p);var V=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex"}).inject(I);new UWA.Element("p",{"class":"search_center_text",text:l.get("searchAttributes.selectType")}).inject(V);var L=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(V);L.setStyle("color","#b4b6ba");L.addEventListener("mouseover",K,false);L.addEventListener("mouseout",F,false);new g({target:L,trigger:"hover",animate:"true",position:"top",body:l.get("searchAttributes.selectType.popover"),title:""});var W=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"search-preferred_attrs_combo",}).inject(I);e.selectTypeComboBox=new n({placeholder:l.get("Choose_type"),touchMode:true,disabled:true,enableSearchFlag:true}).inject(W);W.setStyle("display","grid");e.selectTypeComboBox.elements.container.setStyle("max-width","unset");e.selectTypeComboBox.addEventListener("change",function(aa){d.enableButtons();c.mask(q);c.mask(u);var Z=d.getDatasourceInternalName(e.datasourceComboBox.currentValue);var Y=d.getTypesInternalName(Z,e.selectTypeComboBox.currentValue);var ab={};ab.className=Y;ab.tenantId=d.platformID;m.loadRelevantPredicates(ab,function(an){G.cleanUpAttributeCards();if(an.vocabularyPredicateInfo.length>0){an.vocabularyPredicateInfo.sort(function(at,aq){var au=at.nlsName;if(!UWA.is(au)){au=at.uri}au=au.toUpperCase();var ar=aq.nlsName;if(!UWA.is(ar)){ar=aq.uri}ar=ar.toUpperCase();if(au<ar){return -1}else{if(au>ar){return 1}else{return 0}}});e.preferredAttrComboBox.disabled=false;e.moreAttrComboBox.disabled=false;var ao=[];for(var ah=0;ah<an.vocabularyPredicateInfo.length;ah++){if(UWA.is(an.vocabularyPredicateInfo[ah].nlsName,"string")&&UWA.is(an.vocabularyPredicateInfo[ah].uri)){if((an.vocabularyPredicateInfo[ah].uri==="ds6w:label")||(an.vocabularyPredicateInfo[ah].uri==="ds6w:identifier")||(an.vocabularyPredicateInfo[ah].uri==="ds6w:modified")||(an.vocabularyPredicateInfo[ah].uri==="ds6w:description")||(an.vocabularyPredicateInfo[ah].uri==="ds6w:responsible")||(an.vocabularyPredicateInfo[ah].uri==="ds6w:created")){continue}ao.push(an.vocabularyPredicateInfo[ah].nlsName);e._attributesMap[an.vocabularyPredicateInfo[ah].uri]=an.vocabularyPredicateInfo[ah].nlsName}}d.updateAttributesMapping(Z,Y,e._attributesMap);e.preferredAttrComboBox.elementsList=ao;e.moreAttrComboBox.elementsList=ao;var aj=d.getLocalCacheForAttribute();if(UWA.is(aj)&&aj.length>0){for(var ag=0;ag<aj.length;ag++){var ai=aj[ag];if((Y===ai.uri)&&(Z===ai.source)){var ad=ai.predicates;if(UWA.is(ad)&&ad.length>0){U.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var af=0;af<ad.length;af++){var ac=ai.predicates[af].uri;var ap=e._attributesMap[ac];var ak={cardDiv:e.preferredAttrCard,datasource:Z,type:Y,textOnCard:ap,uri:ac,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(ak)}}var al=ai.excluded_predicates;if(UWA.is(al)&&al.length>0){B.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var ae=0;ae<al.length;ae++){var am=ai.excluded_predicates[ae].uri;var ap=e._attributesMap[am];var ak={cardDiv:e.moreAttrCard,datasource:Z,type:Y,textOnCard:ap,uri:am,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(ak)}}}}}}else{e.preferredAttrComboBox.disabled=true;e.moreAttrComboBox.disabled=true}c.unmask(q);c.unmask(u)})});var J=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin search_center_bgcolor",}).inject(p);var U=new UWA.Element("div",{"class":"search_center_div_left search_center_margin search_center_general_display_flex",}).inject(J);new UWA.Element("p",{"class":"search_center_text_normal",text:l.get("searchAttributes.Preffered_Attributes")}).inject(U);var N=UWA.createElement("span",{"class":"fonticon fonticon-info search_center_tooltip_span"}).inject(U);N.setStyle("color","#b4b6ba");N.addEventListener("mouseover",K,false);N.addEventListener("mouseout",F,false);new g({target:N,trigger:"hover",animate:"true",position:"top",body:l.get("searchAttributes.Preffered_Attributes.popover"),title:""});var O=new UWA.Element("div",{"class":"search_center_div_right",}).inject(J);var r=new UWA.Element("div",{"class":"search_center_div_card search_center_top_margin",}).inject(O);e.preferredAttrCard=UWA.createElement("div",{"class":"card search_center_card_panel",id:"SearchAttributes_preferredAttr"}).inject(r);var E=new UWA.Element("div",{"class":"search_center_div_datasource search_center_only_grid search_center_bottom_margin",}).inject(O);var q=new UWA.Element("div",{"class":"search_center_div_type_combo search_center_only_grid",id:"SearchAttributes-preferred_attrs_combo",}).inject(E);var M=["Datasource","Type","Title","Name","Modification date","Creation date"];e.preferredAttrComboBox=new n({elementsList:M,placeholder:l.get("searchAttributes.Add_preferredAttr"),touchMode:true,disabled:true,}).inject(q);e.preferredAttrComboBox.elements.container.setStyle("max-width","unset");e.preferredAttrComboBox.addEventListener("change",function(af){var ak=e.moreAttrCard.childNodes.length;var Y=[];for(var aa=0;aa<ak;aa++){Y.push(e.moreAttrCard.childNodes[aa].getAttribute("sccURI"))}var ai=e.preferredAttrCard.childNodes.length;var Z=[];for(var aa=0;aa<ai;aa++){Z.push(e.preferredAttrCard.childNodes[aa].getAttribute("sccURI"))}var aj=e.preferredAttrComboBox.currentValue;if(UWA.is(aj,"string")){var ac=d.getDatasourceInternalName(e.datasourceComboBox.currentValue);var ab=null;if(h.is(ac,"string")&&(ac==="AllDataSourcesandTypes")){ab=d.getAttributesInternalNameForAllDataSourcesAndTypes(ac,aj)}else{var am=d.getTypesInternalName(ac,e.selectTypeComboBox.currentValue);ab=d.getAttributesInternalName(ac,am,aj)}var ad=false;var al=null;if(h.is(ab)){var ae;if(Y.length>0){ae=Y.indexOf(ab);if(ae>-1){al=l.get("searchAttributes.preferredAttrWarning");ad=true}}if(Z.length>0&&(ad===false)){ae=Z.indexOf(ab);if(ae>-1){al=l.get("searchAttributes.AttributeWarning");ad=true}}if(ad===false){U.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";var ah={cardDiv:e.preferredAttrCard,datasource:ac,type:am,textOnCard:aj,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(ah);d.enableButtons()}else{var ag=d.createWdgAlert();ag.inject(widget.body);ag.add({className:"warning applyChangesAlert",message:al})}}e.preferredAttrComboBox.selectedIndex=-1}});var w=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_bgcolor",}).inject(p);var B=new UWA.Element("div",{"class":"search_center_div_left search_center_margin search_center_general_display_flex",}).inject(w);new UWA.Element("p",{"class":"search_center_text_normal",text:l.get("searchAttributes.More_Attributes")}).inject(B);var P=UWA.createElement("span",{"class":"fonticon fonticon-info search_center_tooltip_span"}).inject(B);P.setStyle("color","#b4b6ba");P.addEventListener("mouseover",K,false);P.addEventListener("mouseout",F,false);new g({target:P,trigger:"hover",animate:"true",position:"top",body:l.get("searchAttributes.More_Attributes.popover"),title:""});var t=new UWA.Element("div",{"class":"search_center_div_right",}).inject(w);var s=new UWA.Element("div",{"class":"search_center_div_card search_center_top_margin",}).inject(t);e.moreAttrCard=UWA.createElement("div",{"class":"card search_center_card_panel",id:"SearchAttributes_moreAttr"}).inject(s);var S=new UWA.Element("div",{"class":"search_center_div_datasource search_center_bottom_margin search_center_only_grid",}).inject(t);var u=new UWA.Element("div",{"class":"search_center_div_type_combo search_center_only_grid",id:"SearchAttributes_more_attrs_combo",}).inject(S);var M=["Datasource","Type","Title","Name","Modification date","Creation date"];e.moreAttrComboBox=new n({elementsList:M,placeholder:l.get("searchAttributes.Add_moreAttr"),nbDisplayedElements:M.length,touchMode:true,disabled:true}).inject(u);e.moreAttrComboBox.elements.container.setStyle("max-width","unset");e.moreAttrComboBox.addEventListener("change",function(af){var ai=e.preferredAttrCard.childNodes.length;var Z=[];for(var aa=0;aa<ai;aa++){Z.push(e.preferredAttrCard.childNodes[aa].getAttribute("sccURI"))}var ak=e.moreAttrCard.childNodes.length;var Y=[];for(var aa=0;aa<ak;aa++){Y.push(e.moreAttrCard.childNodes[aa].getAttribute("sccURI"))}var aj=e.moreAttrComboBox.currentValue;if(UWA.is(aj,"string")){var ac=d.getDatasourceInternalName(e.datasourceComboBox.currentValue);var ab=null;if(h.is(ac,"string")&&(ac==="AllDataSourcesandTypes")){ab=d.getAttributesInternalNameForAllDataSourcesAndTypes(ac,aj)}else{var am=d.getTypesInternalName(ac,e.selectTypeComboBox.currentValue);ab=d.getAttributesInternalName(ac,am,aj)}var ad=false;var al=null;if(h.is(ab)){var ae;if(Z.length>0){ae=Z.indexOf(ab);if(ae>-1){al=l.get("searchAttributes.excludeAttrWarning");ad=true}}if(Y.length>0&&(ad===false)){ae=Y.indexOf(ab);if(ae>-1){al=l.get("searchAttributes.AttributeWarning");ad=true}}if(ad===false){B.className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";var ah={cardDiv:e.moreAttrCard,datasource:ac,type:am,textOnCard:aj,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(ah);d.enableButtons()}else{var ag=d.createWdgAlert();ag.inject(widget.body);ag.add({className:"warning applyChangesAlert",message:al})}}e.moreAttrComboBox.selectedIndex=-1}});e.checkboxAttributeDisplay.addEventListener("change",function(Y){d.enableButtons();if(e.checkboxAttributeDisplay.checkFlag===false){o.addClassName("search_center_disable");p.addClassName("search_center_disable")}else{o.removeClassName("search_center_disable");p.removeClassName("search_center_disable")}}.bind(this));function K(Y){Y.currentTarget.setStyle("color","#3d3d3d")}function F(Y){Y.currentTarget.setStyle("color","#b4b6ba")}},getTabInputsToStore:function(){var o={attributes_display:e.checkboxAttributeDisplay.checkFlag};var z=[];var x=d.getLocalCacheForAttribute();if(h.is(x,"array")&&(x.length>0)){z=x}else{var r={};r.source=d.getDatasourceInternalName(e.datasourceComboBox.currentValue);r.uri=d.getTypesInternalName(r.source,e.selectTypeComboBox.currentValue);var t=[];var w=e.preferredAttrCard.childNodes.length;for(var A=0;A<w;A++){var p={};p.uri=e.preferredAttrCard.childNodes[A].getAttribute("sccURI");if(h.is(p.uri)){t.push(p)}}r.predicates=t;var v=[];var y=e.moreAttrCard.childNodes.length;for(var q=0;q<y;q++){var u={};u.uri=e.moreAttrCard.childNodes[q].getAttribute("sccURI");if(h.is(u.uri)){v.push(u)}}r.excluded_predicates=v;z.push(r)}o["ds6w:type"]=z;return o},isThisNotARootPredicates:function(o){return((o.subPropertyOf==="")?false:true)},filter6WRootPredicates:function(u){var p,r="ds6w";var v={};var o={};var t=[];if(u[r].properties.length>0){p=u[r].properties;var s=p.length;if(p!==undefined&&s>0){u[r].properties=p.filter(this.isThisNotARootPredicates);p.sort(function(y,w){var z=y.label;z=z.toUpperCase();var x=w.label;x=x.toUpperCase();if(z<x){return -1}else{if(z>x){return 1}else{return 0}}});for(var q=0;q<s;q++){if((p[q].curi==="ds6w:project")||(p[q].curi==="ds6w:community")){continue}t.push(p[q].label);o[p[q].curi]=p[q].label;e._attributesMap[p[q].curi]=p[q].label}}}v.predicates=t;v.typeMap=o;return v},getPredicatesObject:function(){var o=new f(function(q,p){var r={onComplete:function(s){UWA.log("Got a predicates result!"+s);q(s)},onFailure:function(s){UWA.log("predicates service request Fail!"+s);p(s)},tenantId:d.platformID,lang:widget.lang,apiVersion:"R2019x"};i.getFedProperties(r)});return o},cleanUpAttributeCards:function(){var q=e.preferredAttrCard.childElementCount;for(var p=q-1;p>=0;p--){e.preferredAttrCard.childNodes[p].destroy()}e.preferredAttrCard.parentElement.parentElement.parentElement.children[0].addClassName("search_center_div_left search_center_margin search_center_general_display_flex");var r=e.moreAttrCard.childElementCount;for(var o=r-1;o>=0;o--){e.moreAttrCard.childNodes[o].destroy()}e.moreAttrCard.parentElement.parentElement.parentElement.children[0].addClassName("search_center_div_left search_center_margin search_center_general_display_flex")},onResetTab:function(q){var u;if(h.is(q,"string")){u=JSON.parse(q)}else{u=q}d.clearLocalCacheForAttribute();var v=this;v.cleanUpAttributeCards();if(UWA.is(u)){if(u.hasOwnProperty("attributes_display")){var x=u.attributes_display;if(h.is(x)){e.checkboxAttributeDisplay.checkFlag=x}}if(u.hasOwnProperty("ds6w:type")){var t=u["ds6w:type"];if(h.is(t,"array")){var A=UWA.clone(t,true);d.setLocalCacheForAttribute(A);var w=t.length;var y=t[w-1];var p=y.source;var s=y.uri;var B=y.predicates;var z=y.excluded_predicates;var r=d.getDatasourceDisplayName(p);var o=e.datasourceComboBox.elementsList;if(o.length>0){e.datasourceComboBox.currentValue=r;if(p==="AllDataSourcesandTypes"){v.getPredicatesObject().then(function(D){v.cleanUpAttributeCards();if(UWA.is(B)&&B.length>0){e.preferredAttrCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var F=0;F<B.length;F++){var I=B[F].uri;var H=e._attributesMap[I];var C={cardDiv:e.preferredAttrCard,datasource:p,type:s,textOnCard:H,uri:I,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(C)}}if(UWA.is(z)&&z.length>0){e.moreAttrCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var E=0;E<z.length;E++){var G=z[E].uri;var H=e._attributesMap[G];var C={cardDiv:e.moreAttrCard,datasource:p,type:s,textOnCard:H,uri:G,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(C)}}})}else{e.getAttributesPromise().then(function(){if(e.selectTypeComboBox.elementsList.length>0){var G=d.getTypesDisplayName(p,s);if(G===e.selectTypeComboBox.currentValue){if(UWA.is(B)&&B.length>0){e.preferredAttrCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var E=0;E<B.length;E++){var I=B[E].uri;var H=e._attributesMap[I];var C={cardDiv:e.preferredAttrCard,datasource:p,type:s,textOnCard:H,uri:I,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(C)}}if(UWA.is(z)&&z.length>0){e.moreAttrCard.parentElement.parentElement.parentElement.children[0].className="search_center_set_left_div search_center_top_margin search_center_general_display_flex";for(var D=0;D<z.length;D++){var F=z[D].uri;var H=e._attributesMap[F];var C={cardDiv:e.moreAttrCard,datasource:p,type:s,textOnCard:H,uri:F,tabName:"SearchControl_SearchAttributes",deleteOption:true};d.buildCardBlockRow(C)}}}else{e.selectTypeComboBox.currentValue=G;if(d.getButtonStatus()===true){d.disableButtons()}}}})}}}}}}};return e});define("DS/SearchControlCenter/scripts/SearchcontrolGeneralTab",["UWA/Element","UWA/Core","DS/Controls/Toggle","DS/Controls/ComboBox","DS/Controls/Editor","DS/UIKIT/Popover","DS/MessageBus/MessageBus","DS/SearchControlCenter/scripts/SearchControlCenterServices","css!DS/SearchControlCenter/SearchControlCenter","i18n!DS/SearchControlCenter/assets/nls/SearchControlCenter.json","i18n!DS/SNResultUX/assets/nls/SNResultUX.json","DS/SNInfraUX/SearchSettings","DS/SNResultUX/utils/SearchViewOptions"],function(a,i,j,n,l,h,c,e,k,m,g,d,b){var f={viewModeComboBox:null,deltaTimeComboBox:null,dateModeComboBox:null,revisionComboBox:null,checkboxAbbreviatedcount:null,checkboxAccessPLMParameters:null,checkboxSuggestions:null,checkboxSnippets:null,_viewModeObject:{},_dateModeObject:{},_revisionObject:{},onRenderFacet:function(J){var L=d.getOption("OneSearch");var u=new UWA.Element("div",{"class":"search_center_main_div",id:"general-tab-view-mode",}).inject(J);var H=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_top_margin",id:"general-tab-view-mode"}).inject(u);var F=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-view-mode-text",}).inject(H);var U=new UWA.Element("div",{"class":"search_center_div_right",id:"general-tab-view-mode-combo",}).inject(H);new UWA.Element("p",{"class":"search_center_text",text:m.get("Default_View_Mode_After_CacheCleaning")}).inject(F);var y=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(F);y.setStyle("color","#b4b6ba");y.addEventListener("mouseover",ad,false);y.addEventListener("mouseout",S,false);new h({target:y,trigger:"hover",animate:"true",position:"top",body:m.get("Default_View_Mode_After_CacheCleaning.popover"),title:""});var af=[];var P=L;var C=true;f._viewModeObject=b.getAvailableViews({simple_search_experience:P,getAllViews:C});if(i.is(f._viewModeObject)&&(f._viewModeObject.length>0)){for(var ag=0;ag<f._viewModeObject.length;ag++){var G={};var s=f._viewModeObject[ag];G.labelItem=s.title;G.iconItem=s.icon;af.push(G)}}f.viewModeComboBox=new n({elementsList:af,nbDisplayedElements:af.length,currentValue:af[0],touchMode:true,enableSearchFlag:false,}).inject(U);U.setStyle("display","grid");f.viewModeComboBox.elements.container.setStyle("max-width","unset");var Q=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin",id:"general-tab-recent-time"}).inject(u);var ab=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-recent-time-text",}).inject(Q);var R=new UWA.Element("div",{"class":"search_center_div_right",id:"general-tab-recent-time-combo",}).inject(Q);new UWA.Element("p",{"class":"search_center_text",text:m.get("Recent_Content_Delta_Time")}).inject(ab);var Z=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(ab);Z.setStyle("color","#b4b6ba");Z.addEventListener("mouseover",ad,false);Z.addEventListener("mouseout",S,false);new h({target:Z,trigger:"hover",animate:"true",position:"top",body:m.get("Recent_Content_Delta_Time.popover"),title:""});var ae=["5"+m.get("Minutes"),"10"+m.get("Minutes"),"15"+m.get("Minutes"),"20"+m.get("Minutes"),"25"+m.get("Minutes"),"30"+m.get("Minutes")];f.deltaTimeComboBox=new n({elementsList:ae,nbDisplayedElements:ae.length,currentValue:ae[0],touchMode:true,enableSearchFlag:true,}).inject(R);R.setStyle("display","grid");f.deltaTimeComboBox.elements.container.setStyle("max-width","unset");f._dateModeObject=d.getOption("date_display_mode_array");if(i.is(f._dateModeObject,"array")&&(f._dateModeObject.length>0)){f._dateModeObject.splice(0,1);var r=[];for(var ag=0;ag<f._dateModeObject.length;ag++){var A=f._dateModeObject[ag];if(i.is(A,"object")&&i.is(A.id,"string")){r.push(g.get(A.id+".title"))}else{console.error("Bad definition of date_display_mode_array !!!",f._dateModeObject)}}if(r.length>0){var X=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_top_margin",id:"general-tab-date-mode"}).inject(u);var Y=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-date-mode-text",}).inject(X);var O=new UWA.Element("div",{"class":"search_center_div_right",id:"general-tab-date-mode-combo",}).inject(X);new UWA.Element("p",{"class":"search_center_text",text:g.get("Default_Date_Mode")}).inject(Y);f.dateModeComboBox=new n({elementsList:r,nbDisplayedElements:r.length,currentValue:r[0],touchMode:true,enableSearchFlag:false,}).inject(O);O.setStyle("display","grid");f.dateModeComboBox.elements.container.setStyle("max-width","unset")}}f._revisionObject=d.getOption("show_search_results_revision_array");if(i.is(f._revisionObject)&&(f._revisionObject.length>0)){var t=[];for(var ag=0;ag<f._revisionObject.length;ag++){var q=f._revisionObject[ag];if(i.is(q,"object")&&i.is(q.id,"string")){t.push(g.get(q.id+".title"))}else{Logger.error("Bad definition of show_search_results_revision_array !!!",f._revisionObject)}}if(t.length>0){var v=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_top_margin",id:"general-tab-revision"}).inject(u);var w=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-revision-type-text",}).inject(v);var V=new UWA.Element("div",{"class":"search_center_div_right",id:"general-tab-revision-type-combo",}).inject(v);new UWA.Element("p",{"class":"search_center_text",text:g.get("Show_Search_Results")}).inject(w);f.revisionComboBox=new n({elementsList:t,nbDisplayedElements:t.length,currentValue:t[0],touchMode:true,enableSearchFlag:false,}).inject(V);V.setStyle("display","grid");f.revisionComboBox.elements.container.setStyle("max-width","unset")}}var x=new UWA.Element("div",{"class":"search_center_general_tab_div search_center_margin",id:"general-tab-abbreviated-count"}).inject(u);var D=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-abbreviated-count-text",}).inject(x);var M=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"general-tab-abbreviated-count-toggle",}).inject(x);f.checkboxAbbreviatedcount=new j({type:"checkbox",label:m.get("QuantityDisplay.Abbreviated_count_display"),className:"primary",touchMode:"true"}).inject(M);new UWA.Element("p",{"class":"search_center_text",text:m.get("QuantityDisplay.title")}).inject(D);var o=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(M);o.setStyle("color","#b4b6ba");o.addEventListener("mouseover",ad,false);o.addEventListener("mouseout",S,false);new h({target:o,trigger:"hover",animate:"true",position:"top",body:m.get("QuantityDisplay.Abbreviated_count_display.popover"),title:""});function ad(aj){aj.currentTarget.setStyle("color","#3d3d3d")}function S(aj){aj.currentTarget.setStyle("color","#b4b6ba")}var aa=new UWA.Element("div",{"class":"search_center_general_tab_div",id:"general-tab-access-PLMParameters"}).inject(u);var ah=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-access-PLMParameters-text",}).inject(aa);var z=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"general-tab-access-PLMParameters-toggle",}).inject(aa);f.checkboxAccessPLMParameters=new j({type:"checkbox",className:"primary",touchMode:"true"}).inject(z);new UWA.Element("p",{"class":"search_center_text",text:m.get("Advancedsearch.Access_to_plmparameters.title")}).inject(ah);var ac=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(ah);ac.setStyle("color","#b4b6ba");ac.addEventListener("mouseover",ad,false);ac.addEventListener("mouseout",S,false);new h({target:ac,trigger:"hover",animate:"true",position:"top",body:m.get("Advancedsearch.Access_to_plmparameters.popover"),title:""});var p=d.getOption("OneSearchOFF");if(i.is(L)&&L===true&&p!==true){var W=new UWA.Element("div",{"class":"search_center_general_tab_div",id:"general-tab-suggestions"}).inject(u);var B=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-access-Suggestions-text",}).inject(W);var K=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"general-tab-access-Suggestions-toggle",}).inject(W);f.checkboxSuggestions=new j({type:"checkbox",className:"primary",touchMode:"true"}).inject(K);new UWA.Element("p",{"class":"search_center_text",text:m.get("suggestion.title")}).inject(B);var T=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(B);T.setStyle("color","#b4b6ba");T.addEventListener("mouseover",ad,false);T.addEventListener("mouseout",S,false);new h({target:T,trigger:"hover",animate:"true",position:"top",body:m.get("suggestion.popover"),title:""});var E=new UWA.Element("div",{"class":"search_center_general_tab_div",id:"general-tab-snippets"}).inject(u);var N=new UWA.Element("div",{"class":"search_center_div_left search_center_general_display_flex",id:"general-tab-access-Snippets-text",}).inject(E);var I=new UWA.Element("div",{"class":"search_center_div_right search_center_general_display_flex",id:"general-tab-access-Snippets-toggle",}).inject(E);f.checkboxSnippets=new j({type:"checkbox",className:"primary",touchMode:"true"}).inject(I);new UWA.Element("p",{"class":"search_center_text",text:m.get("search_snippets.title")}).inject(N);var ai=UWA.createElement("span",{"class":"fonticon fonticon-info"}).inject(N);ai.setStyle("color","#b4b6ba");ai.addEventListener("mouseover",ad,false);ai.addEventListener("mouseout",S,false);new h({target:ai,trigger:"hover",animate:"true",position:"top",body:m.get("search_snippets.popover"),title:""});f.checkboxSuggestions.addEventListener("change",function(aj){e.enableButtons()});f.checkboxSnippets.addEventListener("change",function(aj){e.enableButtons()})}f.viewModeComboBox.addEventListener("change",function(aj){e.enableButtons()});f.deltaTimeComboBox.addEventListener("change",function(aj){e.enableButtons()});f.checkboxAbbreviatedcount.addEventListener("change",function(aj){e.enableButtons()});f.checkboxAccessPLMParameters.addEventListener("change",function(aj){e.enableButtons()});f.dateModeComboBox.addEventListener("change",function(aj){e.enableButtons()});f.revisionComboBox.addEventListener("change",function(aj){e.enableButtons()})},getTabInputsToStore:function(){var x=f.deltaTimeComboBox.currentValue;if(i.is(x)){x=x.replace(m.get("Minutes"),"")}var r=f.viewModeComboBox.currentValue;if(i.is(r)){for(var s=0;s<f._viewModeObject.length;s++){var w=f._viewModeObject[s];if(r===w.title){r=w.id;break}}}var q=f.dateModeComboBox.currentValue;if(i.is(q)){for(var s=0;s<f._dateModeObject.length;s++){var o=f._dateModeObject[s];if(q===g.get(o.id+".title")){q=o;break}}}var v=f.revisionComboBox.currentValue;if(i.is(v)){for(var s=0;s<f._revisionObject.length;s++){var u=f._revisionObject[s];if(v===g.get(u.id+".title")){v=u;break}}}var y={defaultViewModeAfterCacheCleaning:r,defaultDateMode:q,defaultRevision:v,Recent_Content_Delta_Time:x,preciseCount:f.checkboxAbbreviatedcount.checkFlag===true?false:true,enablePLM:f.checkboxAccessPLMParameters.checkFlag,};var p=d.getOption("OneSearch");var t=d.getOption("OneSearchOFF");if(i.is(p)&&p===true&&t!==true){y.suggest_admin=f.checkboxSuggestions.checkFlag;y.search_snippet_admin=f.checkboxSnippets.checkFlag}return y},onResetTab:function(B){var t;if(i.is(B,"string")){t=JSON.parse(B)}else{t=B}if(UWA.is(t)){if(t.hasOwnProperty("defaultViewModeAfterCacheCleaning")){var x=t.defaultViewModeAfterCacheCleaning;if(i.is(x)){for(var s=0;s<f._viewModeObject.length;s++){var A=f._viewModeObject[s];if(x===A.id){x=A.title;break}}f.viewModeComboBox.currentValue=x}}if(t.hasOwnProperty("Recent_Content_Delta_Time")){var w=t.Recent_Content_Delta_Time;if(i.is(w)){w=w+m.get("Minutes");f.deltaTimeComboBox.currentValue=w}}if(t.hasOwnProperty("defaultDateMode")){var v=t.defaultDateMode;if(i.is(v)){for(var s=0;s<f._dateModeObject.length;s++){var p=f._dateModeObject[s];if(v.id===p.id){v=g.get(p.id+".title");break}}f.dateModeComboBox.currentValue=v}}else{if(i.is(f._dateModeObject)&&i.is(f._dateModeObject[0])){f.dateModeComboBox.currentValue=g.get(f._dateModeObject[0].id+".title")}}if(t.hasOwnProperty("defaultRevision")){var D=t.defaultRevision;if(i.is(D)){for(var s=0;s<f._revisionObject.length;s++){var z=f._revisionObject[s];if(D.id===z.id){D=g.get(z.id+".title");break}}f.revisionComboBox.currentValue=D}}else{f.revisionComboBox.currentValue=g.get(f._revisionObject[0].id+".title")}if(t.hasOwnProperty("preciseCount")){var y=t.preciseCount;if(i.is(y)){f.checkboxAbbreviatedcount.checkFlag=(y===true?false:true)}}if(t.hasOwnProperty("enablePLM")){var q=t.enablePLM;if(i.is(q)){f.checkboxAccessPLMParameters.checkFlag=q}}var r=d.getOption("OneSearch");var u=d.getOption("OneSearchOFF");if(i.is(r)&&r===true&&u!==true){if(t.hasOwnProperty("suggest_admin")){var o=t.suggest_admin;if(i.is(o)){f.checkboxSuggestions.checkFlag=o}}else{f.checkboxSuggestions.checkFlag=true}if(t.hasOwnProperty("search_snippet_admin")){var C=t.search_snippet_admin;if(i.is(C)){f.checkboxSnippets.checkFlag=C}}else{f.checkboxSnippets.checkFlag=true}}}}};return f});
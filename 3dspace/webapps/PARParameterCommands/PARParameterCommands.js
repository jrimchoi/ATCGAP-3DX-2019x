define("DS/PARParameterCommands/commands/ManageParamCmd/ActionBar_ManageParamCmd",["DS/ApplicationFrame/Command","DS/PARParameterComponent/popup/PARPopup","DS/PADUtils/PADContext","i18n!DS/PARParameterCommands/assets/nls/PARParameterCommandsNls.json"],function(b,a,e,d){var c=b.extend({init:function(f){this._parent(f,{isAsynchronous:true});this.manageParam=null;this.popup=null;if(e.get()){this._check_select();e.get().getPADTreeDocument().getXSO().onChange(this._check_select.bind(this))}},execute:function(){var f=this;require(["DS/WidgetServices/securityContextServices/SecurityContextServices","DS/PADUtils/views/PADAlert"],function(i,g){var k=e.get();var m={context:k};i.getInstance(m).getSecurityContext();var h=k.getSelectedNodes(),j=[],n="";console.log("selected nodes "+h);if(h.length){if(h.length>1){g.displayNotification({msg:d.multiselectedobjects,eventID:"error"})}else{var o=h[0];if(o.options.reqKindOf=="Requirement"&&(o.options.externalObject===undefined||!o.options.externalObject)){var l=false;if(f.popup!==null&&f.popup!==undefined){if(f.popup.fakeFloatingPanel!==null&&f.popup.fakeFloatingPanel!==undefined){l=f.popup.fakeFloatingPanel.isVisible}}if(l){f.end()}else{f.popup=new a({context:k,parentid:o.getID(),tenant:o.tenant!==undefined&&o.tenant!==""?o.tenant:"OnPremise"});f.popup.show()}}else{g.displayNotification({msg:d.no_requirement_object,eventID:"error"})}}}})},_check_select:function(){var f=e.get().getPADTreeDocument().getXSO().get().length?true:false;if(f===true){this.enable()}else{this.disable()}}});return c});
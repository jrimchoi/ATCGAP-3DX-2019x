define("DS/CfgResizableTable/CfgResizableTable",["DS/ENOXSplitViewVertical/js/ENOXSplitViewVertical","css!DS/CfgResizableTable/CfgResizableTable.css","css!DS/CfgResizableTable/CfgResizableTable_ellipsis.css","css!DS/UIKIT/UIKIT.css"],function(b,g,e){var c=false;var j=true;var d=110;var k=50;var a=300;var f=50;var h=function(){};h.prototype.init=function(n,m,q,l){this._treeListView=m;this._jsonModel=n;this._privateChannel=q;this._splitViewVertical=new b();console.log("nbtop");var p=this._jsonModel.title_columns.length*f+5;var o={originalTop:p,sizeType:"px",modelEvents:q,resizable:true,withoverflowhidden:true};this._splitViewVertical.init(o);this._privateChannel.publish({event:"splitview-vertical-set-max-top-size",data:p});this._rightColumnsWidth=[];this._leftColumnsWidth=[];this._options={};this._options.resizable=l.resizable===false||l.resizable===true?l.resizable:true;this._options.classification=l.classification===false||l.classification===true?l.classification:false;this._options.cell_height=l.cell_height?l.cell_height:f;this._options.cell_width=l.cell_width?l.cell_width:d;this._options.cell_minwidth=l.cell_minwidth?l.cell_minwidth:k;this._options.cell_maxwidth=l.cell_maxwidth?l.cell_maxwidth:a;this._initDivs()};h.prototype._initDivs=function(){this._container=document.createElement("div");this._container.classList.add("cfg-resizable-table");this._arrayTopRightResizer=[];this._arrayTopRightCells=[];this._arrayLeftCells=[];this._arrayTopLeftResizer=[];this._generateTopLeftHeader();this._generateTopRightHeader();this._generateBotLeftHeader();this._generateBotRightContainer();this._resizeLeftAndRight(2*this._options.cell_width);this._initScrollerSync();this._splitViewVertical.inject(this._container);this._splitViewVertical.getTop().appendChild(this._topLeftContainer);this._splitViewVertical.getTop().appendChild(this._topRightContainer);this._splitViewVertical.getBot().appendChild(this._botLeftContainer);this._splitViewVertical.getBot().appendChild(this._botRightContainer);this._container.querySelector(".bot-container").style.maxHeight=(this._jsonModel.lines.length*f)+17+"px"};h.prototype.inject=function(l){l.appendChild(this._container)};h.prototype.destroy=function(){};h.prototype._generateTopLeftHeader=function(){this._topLeftContainer=document.createElement("div");this._topLeftContainer.classList.add("mr-top-left");this._topLeftTable=document.createElement("div");this._topLeftContainer.appendChild(this._topLeftTable);this._topLeftTable.classList.add("mr-top-left-table");var p=0;for(p=0;p<this._jsonModel.title_columns.length;p+=1){var o=document.createElement("div");o.classList.add("mr-row");var n=this._generateTopLeftEmptyCell();if(p===0){this._leftColumnsWidth.push(this._options.cell_width)}var m=this._generateTopLeftResizerEmpty();var q=this._generateTopLeftCell(p);if(p===0){this._leftColumnsWidth.push(this._options.cell_width)}var l=this._generateTopLeftResizerOnName(p);o.appendChild(n);o.appendChild(m);o.appendChild(q);o.appendChild(l);this._topLeftTable.appendChild(o)}};h.prototype._generateTopLeftEmptyCell=function(){var l=this;var n=document.createElement("div");n.classList.add("mr-cell-header");n.classList.add("mr-cell-empty");n.style.width=this._options.cell_width+"px";n.classList.add("ellipsis");var m=document.createElement("p");m.innerHTML="";n.appendChild(m);n.onclick=function(){if(j){console.log("daaaang : nothing on an empty cell dude")}};if(!this._arrayLeftCells[0]){this._arrayLeftCells[0]=[]}this._arrayLeftCells[0].push(n);return n};h.prototype._generateTopLeftCell=function(l){var m=this;var o=document.createElement("div");o.classList.add("mr-cell-header");o.style.width=this._options.cell_width+"px";o.classList.add("ellipsis");o.classList.add("mr-cell-criteria");var n=document.createElement("p");n.innerHTML=this._jsonModel.title_columns[l].value;n.setAttribute("title",this._jsonModel.title_columns[l].value);o.appendChild(n);o.onclick=function(){if(j){console.log("daaaang : "+m._jsonModel.title_columns[l].value)}};if(!this._arrayLeftCells[1]){this._arrayLeftCells[1]=[]}this._arrayLeftCells[1].push(o);return o};h.prototype._generateTopLeftResizerEmpty=function(){var y=document.createElement("div");y.classList.add("mr-resizer");y.style.left=this._options.cell_width-5+"px";y.onclick=function(){if(debug){console.log(i)}};if(!this._arrayTopLeftResizer[0]){this._arrayTopLeftResizer[0]=[]}this._arrayTopLeftResizer[0].push(y);var s=this;var n=null;var r=null;var m=null;var u=false;var q=null;var x=null;var p=null;var l=null;var w=false;var o=function(z){x=z.target;p=parseInt(s._topLeftContainer.style.width);n=z.target.previousSibling.offsetWidth;q=z.target.previousSibling;l=parseInt(s._arrayLeftCells[0][0].style.width);m=z.clientX?z.clientX:z.touches[0].clientX;if(c){console.log("beginX : "+m)}u=true;s.__pauseEvent(z);if(z.type==="touchstart"){document.addEventListener("touchmove",v);document.addEventListener("touchend",t)}else{if(z.type==="mousedown"){document.addEventListener("mousemove",v);document.addEventListener("mouseup",t)}}s._container.classList.add("resizing")};var v=function(B){w=true;var z=B.clientX?B.clientX:B.touches[0].clientX;if(u){r=n+(z-m);if(c){console.log(r)}if(Math.abs(r-n)<5){w=false;return}if(r<s._options.cell_minwidth){r=s._options.cell_minwidth}else{if(r>s._options.cell_maxwidth){r=s._options.cell_maxwidth}}s._resizeLeftAndRight(p+(r-n));var A=0;for(A=0;A<s._arrayLeftCells[0].length;A+=1){if(s._arrayLeftCells[0][A].classList.contains("mr-cell-header-option")){s._arrayLeftCells[0][A].style.width=p+(r-n)+"px"}else{s._arrayLeftCells[0][A].style.width=l+(r-n)+"px"}}}};var t=function(B){if(c){console.log("stop resize")}s._container.classList.remove("resizing");u=false;if(B.type==="touchend"){document.removeEventListener("touchmove",v);document.removeEventListener("touchend",t)}else{if(B.type==="mouseup"){document.removeEventListener("mousemove",v);document.removeEventListener("mouseup",t)}}if(!w){return}s._container.style.maxWidth=parseInt(s._container.style.maxWidth)+(r-n)+"px";var A,z;for(A=0;A<=1;A+=1){for(z=0;z<s._arrayTopLeftResizer[A].length;z+=1){s._arrayTopLeftResizer[A][z].style.left=parseInt(s._arrayTopLeftResizer[A][z].style.left)+(r-n)+"px"}}};y.addEventListener("mousedown",o);y.addEventListener("touchstart",o);return y};h.prototype._generateTopLeftResizerOnName=function(s){var A=document.createElement("div");A.classList.add("mr-resizer");A.style.left=2*this._options.cell_width-5+"px";A.onclick=function(){if(j){console.log(s)}};if(!this._arrayTopLeftResizer[1]){this._arrayTopLeftResizer[1]=[]}this._arrayTopLeftResizer[1].push(A);var t=this;var n=null;var r=null;var m=null;var v=false;var q=null;var z=null;var p=null;var y=null;var l=null;var x=false;var o=function(B){p=parseInt(t._topLeftContainer.style.width);y=parseInt(t._arrayLeftCells[1][0].style.width);l=parseInt(t._arrayLeftCells[0][0].style.width);z=B.target;n=B.target.previousSibling.offsetWidth;q=B.target.previousSibling;m=B.clientX?B.clientX:B.touches[0].clientX;if(c){console.log("beginX : "+m)}v=true;t.__pauseEvent(B);if(B.type==="touchstart"){document.addEventListener("touchmove",w);document.addEventListener("touchend",u)}else{if(B.type==="mousedown"){document.addEventListener("mousemove",w);document.addEventListener("mouseup",u)}}t._container.classList.add("resizing")};var w=function(D){var B=D.clientX?D.clientX:D.touches[0].clientX;x=true;if(v){r=n+(B-m);if(c){console.log(r)}console.log(r-n);if(Math.abs(r-n)<5){x=false;return}}if(r<t._options.cell_minwidth){r=t._options.cell_minwidth}else{if(r>t._options.cell_maxwidth){r=t._options.cell_maxwidth}}t._resizeLeftAndRight(p+(r-n));var C=0;for(C=0;C<t._arrayLeftCells[1].length;C+=1){if(t._arrayLeftCells[1][C].classList.contains("mr-cell-header-option")){t._arrayLeftCells[1][C].style.width=l+y+(r-n)+"px"}else{t._arrayLeftCells[1][C].style.width=y+(r-n)+"px"}}};var u=function(C){if(c){console.log("stop resize")}t._container.classList.remove("resizing");v=false;if(C.type==="touchend"){document.removeEventListener("touchmove",w);document.removeEventListener("touchend",u)}else{if(C.type==="mouseup"){document.removeEventListener("mousemove",w);document.removeEventListener("mouseup",u)}}if(!x){return}t._container.style.maxWidth=parseInt(t._container.style.maxWidth)+(r-n)+"px";var B=0;for(B=0;B<t._arrayTopLeftResizer[1].length;B+=1){t._arrayTopLeftResizer[1][B].style.left=parseInt(t._arrayTopLeftResizer[1][B].style.left)+(r-n)+"px"}};A.addEventListener("mousedown",o);A.addEventListener("touchstart",o);return A};h.prototype._generateTopRightHeader=function(){this._topRightContainer=document.createElement("div");this._topRightContainer.classList.add("mr-top-right");this._topRightTable=document.createElement("div");this._topRightContainer.appendChild(this._topRightTable);this._topRightTable.classList.add("mr-top-right-table");var p=0,o=0,m=0;var l=(this._jsonModel.columns&&this._jsonModel.columns.length>0)?this._jsonModel.columns[0].length:0;for(o=0;o<l;o++){var n=document.createElement("div");n.classList.add("mr-row");for(p=0;p<this._jsonModel.columns.length;p+=1){if(m===0){this._rightColumnsWidth.push(this._options.cell_width)}var r=this._generateTopRightCell(p,o);var q=this._generateTopRightResizer(p);n.appendChild(r);n.appendChild(q)}m++;this._topRightTable.appendChild(n)}this._topRightTable.style.width=this._options.cell_width*this._jsonModel.columns.length+"px";this._container.style.maxWidth=this._options.cell_width*(2+this._jsonModel.columns.length)+17+5+"px"};h.prototype._generateTopRightCell=function(m,l){var o=document.createElement("div");o.classList.add("mr-cell-header");o.style.width=this._options.cell_width+"px";o.classList.add("ellipsis");var n=document.createElement("p");n.innerHTML=this._jsonModel.columns[m][l];n.setAttribute("title",this._jsonModel.columns[m][l]);o.appendChild(n);o.onclick=function(){if(j){console.log("i : "+m," - j : "+l)}};if(!this._arrayTopRightCells[m]){this._arrayTopRightCells[m]=[]}this._arrayTopRightCells[m].push(o);return o};h.prototype._generateTopRightResizer=function(q){var x=document.createElement("div");x.classList.add("mr-resizer");x.setAttribute("data-resizer-idx",q);x.style.left=this._options.cell_width*(q+1)-5+"px";x.onclick=function(){if(j){console.log("clicked on resizer : "+q)}};if(!this._arrayTopRightResizer[q]){this._arrayTopRightResizer[q]=[]}this._arrayTopRightResizer[q].push(x);var r=this;var m=null;var p=null;var l=null;var t=false;var o=null;var w=null;var y=null;var v=false;var n=function(z){y=parseInt(r._topRightTable.style.width);w=z.target;m=z.target.previousSibling.offsetWidth;o=z.target.previousSibling;l=z.clientX?z.clientX:z.touches[0].clientX;if(c){console.log("beginX : "+l)}t=true;r.__pauseEvent(z);if(z.type==="touchstart"){document.addEventListener("touchmove",u);document.addEventListener("touchend",s)}else{if(z.type==="mousedown"){document.addEventListener("mousemove",u);document.addEventListener("mouseup",s)}}r._container.classList.add("resizing")};var u=function(F){v=true;var B=F.clientX?F.clientX:F.touches[0].clientX;if(t){p=m+(B-l);if(c){console.log(p);console.log(p-m)}if(Math.abs(p-m)<5){v=false;return}}if(p<r._options.cell_minwidth){p=r._options.cell_minwidth}else{if(p>r._options.cell_maxwidth){p=r._options.cell_maxwidth}}r._topRightTable.style.width=y+(p-m)+"px";var D=0,C=0;var A=w.getAttribute("data-resizer-idx");var E=r._arrayTopRightCells[A];r._rightColumnsWidth[A]=p;for(C=0;C<E.length;C+=1){r._arrayTopRightCells[A][C].style.width=r._rightColumnsWidth[A]+"px"}var z=0;for(D=0;D<parseInt(A);D++){z+=r._rightColumnsWidth[D]}for(D=parseInt(A);D<r._jsonModel.columns.length;D+=1){z+=r._rightColumnsWidth[D];E=r._arrayTopRightResizer[D];for(C=0;C<E.length;C+=1){r._arrayTopRightResizer[D][C].style.left=z-5+"px"}}};var s=function(C){if(c){console.log("stop resize")}r._container.classList.remove("resizing");t=false;if(C.type==="touchend"){document.removeEventListener("touchmove",u);document.removeEventListener("touchend",s)}else{if(C.type==="mouseup"){document.removeEventListener("mousemove",u);document.removeEventListener("mouseup",s)}}if(p<r._options.cell_minwidth){p=r._options.cell_minwidth}else{if(p>r._options.cell_maxwidth){p=r._options.cell_maxwidth}}if(!v){return}var z=w.getAttribute("data-resizer-idx");var B=0,A=0;r._container.style.maxWidth=parseInt(r._topLeftContainer.style.width)+y+(p-m)+17+5+"px";r._botRightTable.style.width=parseInt(r._botRightTable.style.width)+(p-m)+"px";if(r._treeListView){r._treeListView.getManager().setColumnWidth("col"+z,r._rightColumnsWidth[z])}if(c){console.log(r._rightColumnsWidth)}};x.addEventListener("mousedown",n);x.addEventListener("touchstart",n);return x};h.prototype._generateBotLeftHeader=function(){this._botLeftContainer=document.createElement("div");this._botLeftContainer.classList.add("mr-bot-left");this._botLeftTable=document.createElement("div");this._botLeftTable.classList.add("mr-bot-left-table");this._botLeftContainer.appendChild(this._botLeftTable);var l=0;for(l=0;l<this._jsonModel.lines.length;l+=1){var m=this._generateBotLeftRow(l);this._botLeftTable.appendChild(m)}};h.prototype._generateBotLeftRow=function(o){var n=document.createElement("div");n.classList.add("mr-row");if(this._jsonModel.lines[o].type==="option"){var q=document.createElement("div");q.classList.add("ellipsis");q.classList.add("mr-cell-header");q.classList.add("mr-cell-header-option");q.style.width=2*this._options.cell_width+"px";var p=document.createElement("p");p.innerHTML=this._jsonModel.lines[o].value;p.setAttribute("title",this._jsonModel.lines[o].value);q.appendChild(p);q.onclick=function(){if(j){console.log("i : "+o)}};n.appendChild(q);if(!this._arrayLeftCells[1]){this._arrayLeftCells[1]=[]}this._arrayLeftCells[1].push(q);if(!this._arrayLeftCells[0]){this._arrayLeftCells[0]=[]}this._arrayLeftCells[0].push(q)}else{var r=this._jsonModel.lines[o].value;var m=document.createElement("div");m.classList.add("mr-cell-header");m.classList.add("mr-cell-criteria");m.classList.add("ellipsis");m.style.width=this._options.cell_width+"px";p=document.createElement("p");p.innerHTML=r;p.setAttribute("title",r);m.appendChild(p);m.onclick=function(){if(j){console.log("i : "+o)}};var l=document.createElement("div");l.classList.add("mr-cell-header");l.classList.add("ellipsis");l.style.width=this._options.cell_width+"px";p=document.createElement("p");p.innerHTML=this._jsonModel.lines[o].variantValue;p.setAttribute("title",this._jsonModel.lines[o].variantValue);l.appendChild(p);l.onclick=function(){if(j){console.log("i : "+o)}};n.appendChild(m);n.appendChild(l);if(!this._arrayLeftCells[0]){this._arrayLeftCells[0]=[]}this._arrayLeftCells[0].push(m);if(!this._arrayLeftCells[1]){this._arrayLeftCells[1]=[]}this._arrayLeftCells[1].push(l)}return n};h.prototype._generateBotRightContainer=function(){this._botRightContainer=document.createElement("div");this._botRightContainer.classList.add("mr-bot-right");this._botRightTable=document.createElement("div");this._botRightTable.classList.add("mr-bot-right-table");this._botRightTable.style.height=(this._jsonModel.lines.length*f)+"px";this._botRightContainer.appendChild(this._botRightTable);this._botRightTable.style.width=this._options.cell_width*this._jsonModel.columns.length+5+"px";this._fillBotRightTable()};h.prototype.__pauseEvent=function(l){if(l.stopPropagation){l.stopPropagation()}if(l.preventDefault){l.preventDefault()}l.cancelBubble=true;l.returnValue=false;return false};h.prototype._resizeLeftAndRight=function(l){this._topLeftContainer.style.width=l+"px";this._topRightContainer.style.width="calc(100% - "+l+"px)";this._botLeftContainer.style.width=l+"px";this._botRightContainer.style.width="calc(100% - "+l+"px)";this.__leftWidth=l};h.prototype._initScrollerSync=function(){var m=this;var n=function(){m._botLeftContainer.scrollTop=m._botRightContainer.scrollTop;m._topRightContainer.scrollLeft=m._botRightContainer.scrollLeft};var l=function(){m._topLeftContainer.scrollTop=m._topRightContainer.scrollTop};m._botRightContainer.addEventListener("scroll",n);m._topRightContainer.addEventListener("scroll",l)};h.prototype._fillBotRightTable=function(){if(this._treeListView){this._treeListView.getManager().enablePerformanceAnalysis();this._treeListView.inject(this._botRightTable);this._botRightTable.querySelector(".wux-tree-treelistview").style.height="100%";this._botRightTable.querySelector(".wux-datagrid").style.height="100%";this._botRightTable.querySelector(".wux-layouts-gridengine").style.height="100%"}};h.prototype.getTreeListView=function(){return this._treeListView};h.prototype.getResizableModel=function(){return this._jsonModel};return h});
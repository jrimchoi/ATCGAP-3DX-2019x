define("DS/Logger/Logger",["module","DS/WebappsUtils/Console"],function(e,j){var h="ROOT",p=function(){},o=["debug","log","info","warn","error"],c=new Function("return this")(),a=e.config().logPrefix||c.dsLogPrefix||"",n=e.config().logStacks,m=e.config().loggerConfig,k=null,g=typeof WeakMap==="function"?new WeakMap():{get:function(q){return new d(q)},set:p,has:p},b={},i={log:p,info:p,warn:p,error:p,debug:p,levels:{ALL:10,DEBUG:23,LOG:31,INFO:42,WARN:51,ERROR:64,OFF:100}};function l(q){return Object.prototype.toString.call(q).slice(8,-1).toLowerCase()}i.setEnabled=function(q){o.forEach(function(r){i[r]=q?j[r]:p})};i.getLogger=function(q){if(["object","function"].indexOf(l(q))!==-1){if(!g.has(q)){g.set(q,new d(q))}return g.get(q)}return new d(q)};i.addAppender=function(r,q){if(q&&q.append){b[r]=q}};function f(r){var q=k[r],s=r;while(!q&&s){q=k[s];s=s.substring(0,Math.max(s.lastIndexOf("/"),s.lastIndexOf(".")))}q=q||k[h];return q}function d(r){if(r){this.name=""+((typeof r.loggerName==="function"?r.loggerName():r.loggerName)||r.id||r.name||(r.prototype?r.prototype.name:null)||r)}else{this.name=h}var q=f(this.name),s=q.level.toUpperCase();if(i.levels[s]){this.level=i.levels[s]}else{throw new Error("Unsupported level :"+s)}}d.prototype.setLevel=function(q){if("string"===l(q)&&i.levels[q.toUpperCase()]){this.level=i.levels[q.toUpperCase()]}else{throw new Error("Unsupported level :"+q)}};o.forEach(function(q){d.prototype[q]=function(){if(this.level>i.levels[q.toUpperCase()]){return}var t=Array.prototype.slice.call(arguments),r={timestamp:+(new Date()),type:q,origin:a,name:this.name,messageArgs:t,stack:null};if(t.length>1&&l(t[t.length-1])==="error"&&"stack" in t[t.length-1]){r.stack=t[t.length-1]}else{if(n){r.stack=(new Error()).stack}}for(var s in b){if(b.hasOwnProperty(s)){b[s].append(r)}}}});i.addAppender("console",{append:function(r){var q,s=r.origin?r.origin+": ":"",t=r.name?r.name+": ":"",u=s+t;if(l(r.messageArgs[0])==="string"){q=["%s"+r.messageArgs[0],u].concat(r.messageArgs.slice(1))}else{q=[u].concat(r.messageArgs)}if(r.stack){q.push(r.messageArgs)}switch(r.type){case"info":i.info.apply(i.info,q);break;case"warn":i.warn.apply(i.warn,q);break;case"error":i.error.apply(i.error,q);break;case"debug":i.debug.apply(i.debug,q);break;case"log":default:i.log.apply(i.log,q);break}}});(function(){var r;try{r=c.sessionStorage&&c.sessionStorage.getItem&&JSON.parse(c.sessionStorage.getItem(e.id+".loggerConfig"))}catch(q){}k=r||m||{};k[h]=k[h]||{level:"LOG"}})();i.setEnabled(!(e.config().disableLog));return i});define("DS/Logger/Appenders/GelfHttp",["module"],function(b){var c={debug:7,log:6,info:5,warn:4,error:3},a={append:function(f){var d=(function(){try{return JSON.stringify(f.messageArgs)}catch(j){return"failed to serialize message: "+j.message}})(),h={version:"1.1",host:"wp-"+(f.origin||"unknown"),short_message:d,full_message:f.stack,timestamp:f.timestamp/1000,level:c[f.type],_loggerName:f.name};try{var i=new XMLHttpRequest();i.open("POST",b.config().logUrl,true);i.setRequestHeader("Content-type","text/plain");i.send(JSON.stringify(h))}catch(g){}}};return a});define("DS/Logger/Appenders/Quake",["module"],function(c){var d=function(){},b={append:d,toggle:d};function f(l){var i=new Date(l);var g=i.getHours();var j=i.getMinutes();var k=i.getSeconds();var h=i.getMilliseconds();return(g<10?"0":"")+g+":"+(j<10?"0":"")+j+":"+(k<10?"0":"")+k+"."+(h<100?(h<10?"00":"0"):"")+h}function e(i){try{var h=JSON.stringify(i);return h.substring(1,h.length-1)}catch(g){return i+" (failed to serialize arguments)"}}if(typeof document!=="undefined"){var a=document.createElement("pre");a.setAttribute("style","z-index:1042; position:fixed; top:0; left:0; right:0; bottom: 50%; background:rgba(0, 0, 0, 0.7); color: #fff; display:none;");document.body.appendChild(a);b.append=function(g){if((c.config().loggedLevels||["warn","error","info"]).indexOf(g.type)!==-1){a.innerHTML+='<span class="'+g.type+'">'+f(g.timestamp)+" ["+g.type.toUpperCase()+"] "+g.name+": "+e(g.messageArgs)+(g.stack?"<br />"+g.stack:"")+"</span>\n"}};b.toggle=function(){a.style.display=a.style.display==="none"?"block":"none"}}return b});
define("DS/3DPlaySocialPanel/3DPlaySocialPanel",[],function(){});define("DS/3DPlaySocialPanel/3DPlaySocialPanelManager",["UWA/Class","DS/Windows/Panel","DS/WebSystem/Settings","DS/WebappsUtils/WebappsUtils"],function(a,c,b,d){return a.extend({init:function(e){this._parent(e);this._frameWindow=e.frameWindow;this._buildPanel({assetId:e.assetId,tenantId:e.tenantId,serviceUrl:e.serviceUrl,assetProvider:e.assetProvider,onClickCB:e.onCommentClick})},_buildPanel:function(e){var f=this;var g="DS/SocialToolbar/SocialToolbar";require([g],function(j){var i=new UWA.Element("div",{styles:{"background-color":"white"}});var l=f._frameWindow.getImmersiveFrame();var k=WUXDockAreaEnum.RightDockArea;var h=e.serviceUrl;if(e.assetProvider&&((e.assetProvider=="3DDRIVE")||(e.assetProvider=="3DSPACE"))){h=e.serviceUrl+"/resources"}f.commentPanel=new j({subjectURI:e.assetId,tenantId:e.tenantId,serviceURL:h,enableShare:false,events:{onMediaClick:e.onClickCB}});f.commentPanel.inject(i);f._dockingElement=l.getDockingElement(k);f.panel=new c({titleBarVisibleFlag:false,icon:d.getWebappsAssetUrl("3DPlaySpecTree","icons/32/")+"I_3DPlaySpecTree.png",title:"",content:i,immersiveFrame:l,resizableFlag:true,movableFlag:false,currentDockArea:k,width:400,verticallyStretchableFlag:true,usePaddingFlag:false,closeButtonFlag:false,floatableFlag:false,expandedFlag:true,ensureHeightDefinitionOnHierarchy:true})},function(h){console.log("Require failed for SocialToolbar")})},hide:function(){if(this._dockingElement){this._dockingElement.visibleDockingZoneFlag=false;this._dockingElement.collapseDockingZoneFlag=true;return true}else{return false}},show:function(){if(this._dockingElement){this._dockingElement.visibleDockingZoneFlag=true;this._dockingElement.collapseDockingZoneFlag=false;return true}else{return false}},postComment:function(e,g){if(this.commentPanel){var f={media:[{type:"annotation",file:g,data:{annotationFile:e}}]};this.commentPanel.setActiveFieldContent(f)}},dispose:function(){this.panel.destroy();this.panel=undefined}})});
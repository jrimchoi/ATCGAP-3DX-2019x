(function(){var e=(function(){var g={getPoint:function(i,h){h=h||"client";if(i&&i.touches){i=i.touches[0]}return{x:i[h+"X"],y:i[h+"Y"]}},getDistance:function(k,i){var j=g.getPoint(k),h=g.getPoint(i);return Math.sqrt(Math.pow(h.x-j.x,2)+Math.pow(h.y-j.y,2))},getTarget:function(m,i,j){i=i||g.getSameOriginTop().document;j=j||{x:0,y:0};var h=g.getTopCoordinates(g.getPoint(m)),k=i.elementFromPoint(h.x-j.x,h.y-j.y),l;while(k&&getComputedStyle(k).pointerEvents==="none"){k=k.parentElement}try{if(k&&k.nodeName==="IFRAME"&&k.contentDocument){l=k.getBoundingClientRect();return g.getTarget(m,k.contentDocument,{x:j.x+l.left,y:j.y+l.top})}}catch(m){}return k},getTopCoordinates:function(i,k){k=k||window;try{if(!k.frameElement){return i}}catch(j){return i}var h=k.frameElement.getBoundingClientRect();return g.getTopCoordinates({x:i.x+h.left,y:i.y+h.top},k.parent)},copyStyle:function(l,m){var h,j,k;for(j=0;j<m.attributes;++j){k=m.attributes[j];if(["id","class","style","draggable"].indexOf(k.name)!==-1||k.name.indexOf("on")===0){m.removeAttribute(k.name)}}if(l instanceof HTMLCanvasElement){m.width=l.width;m.height=l.height;m.getContext("2d").drawImage(l,0,0)}h=getComputedStyle(l);[].forEach.call(h,function(i){if(i.indexOf("transition")!==-1){return}m.style[i]=h[i]});m.style.pointerEvents="none";[].forEach.call(l.children,function(n,i){g.copyStyle(n,m.children[i])})},getSameOriginTop:function(i){i=i||window;try{if(i===i.parent||!i.parent){return i}i.parent.document;return g.getSameOriginTop(i.parent)}catch(h){return i}}};return g}());var d=(function(){function h(){this.dropEffect="move";this.effectAllowed="all";Object.defineProperty(this,"_data",{value:{},configurable:true,writable:true,enumerable:false});Object.defineProperty(this,"_image",{value:null,configurable:true,writable:true,enumerable:false})}function g(i){i=i.toLowerCase();switch(i){case"text":return"text/plain";case"url":return"text/uri-list";default:return i}}Object.defineProperty(h.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:true,configurable:true});h.prototype.clearData=function(i){if(i!=null){delete this._data[g(i)]}else{this._data={}}};h.prototype.getData=function(i){return this._data[g(i)]||""};h.prototype.setData=function(i,j){this._data[g(i)]=j};h.prototype.setDragImage=function(j,i,k){this._image={element:j,offsets:{x:i||0,y:k||0}}};return h}());var c=(function(){function g(j){var n=j.source,m=j.offsets,l,h,k,i;this._offsets=JSON.parse(JSON.stringify(m));this.element=n.cloneNode(true);l=n.getBoundingClientRect();i=n.style.transform;n.style.transform="";h=n.getBoundingClientRect();n.style.transform=i;this._offsets.x-=l.left-h.left;this._offsets.y-=l.top-h.top;e.copyStyle(n,this.element);k=this.element.style;k.left="-9999px";k.opacity="0.5";k.position="absolute";k.pointerEvents="none";k.zIndex="999999"}g.prototype.move=function(h){requestAnimationFrame((function(){if(!this.element){return}var i=e.getPoint(h,"page"),j=this.element.style;j.left=Math.round(i.x+this._offsets.x)+"px";j.top=Math.round(i.y+this._offsets.y)+"px"}).bind(this))};g.prototype.destroy=function(){if(!this.element||!this.element.parentElement){return}this.element.parentElement.removeChild(this.element);this.element=null;this._offsets=null};return g}());var b=(function(){var s=300,j=15,m=15,i=1000,w,h=null,u=null,v=null,t=null,q=null,g=false,r=-1;function l(x){return x&&!x.defaultPrevented&&x.touches&&x.touches.length<2}function p(x){var B=x.source,C=x.target,z=x.type,A,y;A=document.createEvent("Event");y=B.touches?B.touches[0]:B;A.initEvent(z,true,true);A.button=0;A.which=A.buttons=1;["altKey","ctrlKey","metaKey","shiftKey"].forEach(function(D){A[D]=B[D]});["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(function(D){A[D]=y[D]});A.dataTransfer=t;C.dispatchEvent(A);return A}function k(A){var x=e.getTopCoordinates({x:0,y:0}),z=e.getTopCoordinates(h.getBoundingClientRect()),y=e.getPoint(A);q=new c({source:(t._image||{}).element||h,container:document.body,offsets:t._image?{x:x.x-t._image.offsets.x,y:x.y-t._image.offsets.y,}:{x:z.x-y.x,y:z.y-y.y}});q.move(A);e.getSameOriginTop().document.body.appendChild(q.element)}function o(x){while(x&&!(x.hasAttribute("draggable")&&x.draggable)){x=x.parentElement}return x}function n(){q&&q.destroy();q=null;h=null;t=new d();g=false;u=null;v=null;clearTimeout(r)}w={touchstart:function(z){var y=z.target,x;if(!l(z)){return}n();x=o(y);if(!x){return}h=x;u=z;setTimeout(function(){if(h!==x||e.getDistance(z,u)>m){return}p({source:z,type:"contextmenu",target:x})},i);r=setTimeout(function(){g=true;w.touchmove(z)},s)},touchmove:function(y){var A=u?e.getDistance(u,y):0,x,z;if(!g){if(A>j){n()}return}if(!h||!(y&&y.touches&&y.touches.length>0)){return}x=e.getTarget(y);if(!q){z=p({source:y,type:"dragstart",target:h});if(z.defaultPrevented){return n()}k(y);p({source:y,type:"dragenter",target:x})}u=y;y.preventDefault();if(x!==v){if(v){p({source:u,type:"dragleave",target:v});x&&p({source:y,type:"dragenter",target:x})}v=x}q.move(y);x&&p({source:y,type:"dragover",target:x})},touchend:function(x){if(!l(x)||!u){n();return}if(q){q.destroy()}else{h=null}if(h){if(v&&x.type.indexOf("cancel")===-1){p({source:u,type:"drop",target:v})}p({source:u,type:"dragend",target:h})}n()}};return w}());var a=(function(){function g(h){this.window=h||self}g.prototype={constructor:g,isIOS:function(){return/ip(hone|od|ad)/i.test(this.window.navigator.userAgent)},getIOSVersion:function(){return this.window.navigator.userAgent.match(/([0-9_]+) like Mac OS X/)[1].replace(/_/g,".")},isAndroid:function(){return/android/i.test(this.window.navigator.userAgent)},isChromium:function(){return/chrom(e|ium)/i.test(this.window.navigator.userAgent)},getChromiumVersion:function(){return this.window.navigator.userAgent.match(/chrom(e|ium)\/([0-9]+)\./i)[2]},isFirefox:function(){return/firefox/i.test(this.window.navigator.userAgent)},isMobileEmulator:function(){return this.isIOS()&&!/ip(hone|od|ad)/i.test(this.window.navigator.platform)||this.isAndroid()&&!/android/i.test(this.window.navigator.platform)},supportsDragEvents:function(){var h=this.window.document.documentElement;return"ondragstart" in h&&"draggable" in h},supportsTouchEvents:function(){return"ontouchstart" in this.window.document.documentElement},supportsTouchDragAndDrop:function(){var i=75,h=11;return this.supportsDragEvents()&&!(this.isAndroid()&&this.isChromium()&&parseInt(this.getChromiumVersion())<i||this.isIOS()&&(!/ipad|simulator/i.test(this.window.navigator.platform)||parseFloat(this.getIOSVersion())<h)||!this.isAndroid()&&!this.isIOS()&&(this.isChromium()||this.isFirefox())&&this.supportsTouchEvents()||this.isMobileEmulator()&&this.supportsTouchEvents())},supportsPassiveEvents:function(){var i={},h=false;Object.defineProperty(i,"passive",{get:function(){h=true;return true}});this.window.document.addEventListener("test",function(){},i);return h}};return g}());var f=(function(){function g(j){var i=new a(),h;if(!j&&i.supportsTouchDragAndDrop()){return}h=i.supportsPassiveEvents()?{passive:false,capture:false}:false;document.addEventListener("touchstart",b.touchstart,h);document.addEventListener("touchmove",b.touchmove,h);document.addEventListener("touchend",b.touchend);document.addEventListener("touchcancel",b.touchend)}return g}());window.TouchDragAndDropPolyfill||f();window.TouchDragAndDropPolyfill=window.DebugTouchDragAndDropPolyfill?{Utils:e,DataTransfer:d,Preview:c,Events:b,FeatureDetector:a,polyfill:f}:true}());
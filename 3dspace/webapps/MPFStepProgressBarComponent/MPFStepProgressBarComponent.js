define("DS/MPFStepProgressBarComponent/StepProgressBarComponent",["UWA/Class/View","UWA/Core","DS/MPFView/GuidanceHelper","css!DS/MPFStepProgressBarComponent/MPFStepProgressBarComponent"],function(d,c,b){var a=d.extend({className:"mpf-step-progress-bar",setup:function(e){e||(e={});this._parent(e);this.steps=e.steps||[];this.activeStep=e.activeStep||0;this.infoSteps=e.infoSteps||[];this._stepsItems=this._buildStepItems();this._emptyProgressBar=this._buildEmptyProgressBar();this._filledProgressBar=this._buildFilledProgressBar();this._progressBarContainer=this._buildProgressBarContainer()},render:function(){this.container.setContent([this._stepsItems,this._progressBarContainer]);return this},_buildProgressBarContainer:function(){var f;var e=100/this.steps.length;f=c.createElement("div",{"class":"progress-bar-container",html:[this._filledProgressBar,this._emptyProgressBar]});f.setStyle("margin","0px "+(e/2).toString()+"%");return f},_buildEmptyProgressBar:function(){var e;e=c.createElement("div",{"class":"progress-bar"});e.setStyle("width","100%");return e},_buildFilledProgressBar:function(){var e;var f;e=c.createElement("div",{"class":"progress-bar fill"});f=(100/(this.steps.length-1))*this.activeStep;e.setStyle("width",f.toString()+"%");return e},_buildStepItems:function(){var h=this;var e=[];var g;var f;f=100/this.steps.length;this.steps.forEach(function(j,i){g=c.createElement("li",{"class":i<=h.activeStep?"step-item active":"step-item",html:[c.createElement("div",{"class":"step-name",text:j}),c.createElement("div",{"class":"step-icon"})]});g.setStyle("width",f.toString()+"%");if(c.is(h.infoSteps[i])&&h.infoSteps[i]!==""){new b({target:g,content:h.infoSteps[i]})}e.push(g)});return c.createElement("ul",{"class":"steps",html:e})}});return a});define("DS/MPFStepProgressBarComponent/CartStepProgressBarComponent",["DS/MPFStepProgressBarComponent/StepProgressBarComponent","DS/MPFServices/ObjectService","DS/MPFCartModel/CartModel","i18n!DS/MPFStepProgressBarComponent/assets/nls/CartStepProgressBarComponent"],function(a,b,c,e){var f={};f.SUBMITTED="SUBMITTED";f.WAITING_PAYMENT="WAITING_PAYMENT";f.PAID="PAID";f.PROCESSING="PROCESSING";f.READY="READY";f.SHIPPED="SHIPPED";f.DELIVERED="DELIVERED";var d=a.extend({setup:function(g){g||(g={});b.requiredOfPrototype(g.cart,c,"options.cart must be a CartModel");this.cart=g.cart;this.isShipTo=this.cart.get("ShipTo")!=="";g.steps=[e.get(f.SUBMITTED.toLowerCase()),e.get(f.WAITING_PAYMENT.toLowerCase()),e.get(f.PAID.toLowerCase()),e.get(f.PROCESSING.toLowerCase()),this.isShipTo?e.get(f.SHIPPED.toLowerCase()):e.get(f.READY.toLowerCase()),e.get(f.DELIVERED.toLowerCase())];g.activeStep=g.steps.indexOf(e.get(this.cart.getGlobalState().toLowerCase()));g.infoSteps=[e.get("submittedInfo"),e.get("waitingPaymentInfo"),e.get("paidInfo"),e.get("processingInfo"),this.isShipTo?e.get("shippedInfo"):e.get("readyInfo"),e.get("deliveredInfo")];this._parent(g)}});return d});
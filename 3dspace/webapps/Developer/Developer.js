define("DS/Developer/HistoryManager",["UWA/Core","UWA/Event","UWA/Controls/Abstract","DS/Core/Core","UWA/Class","DS/CoreEvents/ModelEvents"],function(g,a,f,e,b,d){var c=b.singleton({init:function(h){this._parent();this._modelEvents=new d();var j=window.parent||window;var i=this;j.onpopstate=function(k){i._modelEvents.publish({event:"STATE_CHANGE",data:k})}},newState:function(j,i){var h={pid:0,p:null};j=g.extend(h,j);var m=window.parent||window;var k="";for(var l in j){if(j[l]!==null){k=k+l+"/"+j[l]+"/"}}m.history.pushState(j,undefined,"#!/"+k);if(i){m.onpopstate.call(m,{state:j})}},onChange:function(h){this._modelEvents.subscribe({event:"STATE_CHANGE"},function(i){h(i)})},loadFromHash:function(){var o=window.parent||window;var m=o.location.hash.substring(3);var n=m.split("/");var j={};var h=(n.length%2)===0?n.length:(n.length-1);for(var k=0;k<h;k++){if(k%2!==0){j[n[k-1]]=n[k]}}c.newState(j,true)},getCurrentState:function(){var h=window.parent||window;return h.history.state}});return c});define("DS/Developer/ReleaseNotes",["UWA/Core","UWA/Event","UWA/Controls/Abstract","DS/Core/Core","DS/WebappsUtils/WebappsUtils"],function(f,a,e,d,c){var b=e.extend({defaultOptions:{file:"assets/ReleaseNotes.json"},init:function(g){this._parent(g);this._buildView()},_buildView:function(){var h=this;var g=c.getWebappsBaseUrl()+this.options.file;this.elements.container=f.Element("div",{"class":"wux-ReleaseNotes"});f.Ajax.request(g,{type:"json",cors:true,onComplete:function(i){i=f.Json.decode(i);i.versions.forEach(function(j){var k=new f.Element("h1",{html:"Version "+j.number});var l=new f.Element("div",{html:k,styles:{fontSize:24,marginBottom:20,margin:"0 40px"}});j.updates.forEach(function(s){var o;switch(s.type){case"add":o={html:"+",styles:{backgroundColor:"#7BE02C"}};break;case"update":o={html:"!",styles:{backgroundColor:"#FFB810"}};break;case"remove":o={html:"-",styles:{backgroundColor:"F86084"}};break}var m={styles:{borderRadius:10,width:14,height:14,lineHeight:"14px",verticalAlign:"center",padding:2,display:"inline-block",textAlign:"center",color:"black",marginRight:10,border:"1px solid white",fontWeight:"bold"}};f.extend(m,o,true);var p=new f.Element("div",m);var q=new f.Element("span",{html:"- "+s.desc});var n=new f.Element("div",{html:[p,q],styles:{fontSize:14,lineHeight:"20px",marginLeft:40,marginBottom:8}});n.inject(l);var r=new f.Element("div",{styles:{fontSize:12,minHeight:40,marginLeft:40}}).inject(l);if(s.classes){s.classes.forEach(function(t){var u=new f.Element("span",{"class":"wux-showroom-keywords-class",html:t});u.inject(r)})}});h.elements.container.addContent(l)})}})}});return b});define("DS/Developer/SandBoxIframe",["UWA/Core","UWA/Event","UWA/Controls/Abstract","DS/Core/Core","DS/WebappsUtils/WebappsUtils","DS/Utilities/Dom"],function(UWA,Event,Abstract,WUX,WebappsUtils,DomUtils){var SandBoxIframe=Abstract.extend({defaultOptions:{code:{js:[]},template:null,command:null},init:function(options){this.options=UWA.extend(options,this.defaultOptions);this._parent(this.options);if(!this.options.targetIframe){this._createIframe()}else{this._sandboxIframe=this.options.targetIframe;this._sandbox=this.options.targetIframe.contentWindow}},_createIframe:function(){this._sandboxIframe=new UWA.Element("iframe");this._sandbox=this._sandboxIframe.contentWindow;if(!this._sandbox.eval&&this._sandbox.execScript){this._sandbox.execScript("null")}},evaluate:function(options){var command=options.command;if(options.template){this._sandboxIframe.setAttribute("src",options.template)}var me=this;setTimeout(function(){if(options.baseUrl){me.defineBaseurl(options.baseUrl)}if(options.code&&options.code.js){me.loadJS(options.code.js)}if(options.code&&options.code.css){me.loadCSS(options.code.css)}return me._sandbox.eval?me._sandbox.eval(command):me.get("fallback")?eval(command):new Error("Can't evaluate inside the iframe - please report this bug along with your browser information!")},1000)},loadJS:function(listOfScript){var me=this;listOfScript.forEach(function(scriptsrc){me.load(scriptsrc)})},loadCSS:function(url){var link=this._sandboxIframe.contentDocument.createElement("link");link.type="text/css";link.rel="stylesheet";link.href=url;this._sandboxIframe.contentDocument.getElementsByTagName("head")[0].appendChild(link)},load:function(src){var script=this._sandboxIframe.contentDocument.createElement("script");script.type="text/javascript";script.src=src;if(this._sandbox){return this._sandboxIframe?this._sandboxIframe.contentDocument.getElementsByTagName("head")[0].appendChild(script):new Error("sandbox: iframe has not been created yet, cannot load "+src)}else{return document.body.appendChild(script)}},defineBaseurl:function(src){var script=this._sandboxIframe.contentDocument.createElement("base");script.href=src;if(this._sandbox){return this._sandboxIframe?this._sandboxIframe.contentDocument.getElementsByTagName("head")[0].appendChild(script):new Error("sandbox: iframe has not been created yet, cannot load "+src)}else{return document.body.appendChild(script)}}});return SandBoxIframe});define("DS/Developer/UnsafeHTMLDisplay",["DS/Utilities/Utils","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],function(d,c,a){var e=500;var b={startUnsafeHTMLDisplay:function(){if(!this._unsafeHTMLDisplayInterval){var f=this;f._displayUnsafeHTMLRunning=false;this._unsafeHTMLDisplayInterval=window.setInterval(function(){if(f._displayUnsafeHTMLRunning===true){return}f._applyUnsafeHTMLDisplay(true);f._displayUnsafeHTMLRunning=false},e);var g={level:"info",title:"Start displaying Unsafe HTML",subtitle:"Surrounding dynamically all fields containing unsafe HTML.",message:"To stop this debug feature, you can type WUX.stopUnsafeHTMLDisplay() in your browser console.",sticky:false};a.setNotificationManager(c);a.setFadeOutPolicy(WUXNotificationsOnScreenFadeOutPolicy.Slow);c.addNotif(g)}},stopUnsafeHTMLDisplay:function(){this._displayUnsafeHTMLRunning=false;if(this._unsafeHTMLDisplayInterval){window.clearInterval(this._unsafeHTMLDisplayInterval);delete this._unsafeHTMLDisplayInterval;this._applyUnsafeHTMLDisplay(false);var f={level:"info",title:"Stop displaying Unsafe HTML",subtitle:"Removing unsafe HTML feedback.",message:"Warning : residual unsafe feedback can remain after cleaning. You may need to refresh your session to remove them.",sticky:false};a.setNotificationManager(c);a.setFadeOutPolicy(WUXNotificationsOnScreenFadeOutPolicy.Slow);c.addNotif(f)}},_applyUnsafeHTMLDisplayToFrame:function(f,h){this._displayUnsafeHTMLRunning=true;var m=[];var q="allowUnsafe";var l=f.getElementsByTagName("*");for(var j=0;j<l.length;j++){var n=l[j].dsModel;var t=l[j].layoutDsModel;var g=false;var s;var o=t?t:n;if(o){var r=false;var k=(o.options&&Object.keys(o.options).length>0)?o.options:o;for(var p in k){if(p.indexOf(q)!==-1){r=true;g=k[p];s=p;break}}if(!r){continue}}else{if(l[j]._allowUnsafeHTMLContent===true||[j]._allowUnsafeHTMLContent===false){g=l[j]._allowUnsafeHTMLContent}else{continue}}l[j].removeClassName("wux-controls-unsafe-default-html-debug-display");l[j].removeClassName("wux-controls-unsafe-html-debug-display");l[j].removeClassName("wux-controls-safe-text-debug-display");l[j].removeClassName("wux-controls-safe-default-text-debug-display");if(h===true){if(s&&o){var i=d.getXSSDefaultBehavior();if(g===true){l[j].addClassName("wux-controls-unsafe-html-debug-display")}else{if(g===false){l[j].addClassName("wux-controls-safe-text-debug-display")}else{if(i==="safe"){l[j].addClassName("wux-controls-safe-default-text-debug-display")}else{l[j].addClassName("wux-controls-unsafe-default-html-debug-display")}}}}else{l[j].addClassName("wux-controls-unsafe-html-debug-display")}m.push(l[j].innerHTML)}}},_applyUnsafeHTMLDisplay:function(g){this._displayUnsafeHTMLRunning=true;b._applyUnsafeHTMLDisplayToFrame(document,g);var h=document.getElementsByTagName("iframe");for(var i=0;i<h.length;i++){var f=h[i].contentDocument;if(!f){continue}b._applyUnsafeHTMLDisplayToFrame(f,g)}}};return b});define("DS/Developer/Portal",["UWA/Drivers/Alone","UWA/Core","UWA/Element","DS/Core/Core","UWA/Controls/Abstract","DS/WebappsUtils/WebappsUtils","DS/Developer/HistoryManager"],function(c,g,a,f,d,b,k){var e=80;var j=40;var i="0s";window._flagFrameIsLoaded=[];var h=function(m){if(m.indexOf("http://")===0||m.indexOf("https://")===0){return m}else{return b.getWebappsBaseUrl()+m}};var l=d.extend({defaultOptions:{title:"Web<b>UX</b> for Developers",menu:[]},init:function(m){this._parent(m);this._buildLayout();var n=this;k.onChange(function(o){if(o.state){n.goToPageID(o.state.pid,false)}});this._buildMenu();setTimeout(function(){var o=k.getCurrentState();if(o){n.goToPageID(o.pid,false)}else{n.goToPageID(0,false)}n.elements.selection.show()},500)},_buildLayout:function(){this.elements.container=new c.Element("div",{"class":"wux-welcome"});this.elements.top=new c.Element("div",{"class":"wux-welcome-top",html:this.options.title,styles:{height:e,lineHeight:e+"px"}}).inject(this.elements.container);this.elements.menu=new c.Element("div",{"class":"wux-welcome-menu",styles:{height:j-1,transition:"all "+i+" ease-in-out",lineHeight:j+"px"}}).inject(this.elements.container);this.elements.contentView=new c.Element("div",{"class":"wux-welcome-content-view",styles:{top:j+e+2}}).inject(this.elements.container);this.elements.contentViewContainer=new c.Element("div",{"class":"wux-welcome-content-view-container",styles:{transition:"all "+i+" ease-in-out"}}).inject(this.elements.contentView);this.elements.credits=new c.Element("div",{html:this.options.credits,"class":"wux-welcome-credits"}).inject(this.elements.container)},_buildMenu:function(){var m=this;this._lastSelectedContentIndex=null;this._selectedContentIndex=0;this.elements.selection=new c.Element("div",{"class":"wux-welcome-menu-item-selection",styles:{transition:"all "+i+" ease-in-out"}}).inject(this.elements.menu).hide();this.elements.menuItems=[];this.options.menu.forEach(function(s,p){m.elements.menuItems.push(new c.Element("div",{html:s.title,"class":"wux-welcome-menu-item",styles:{transition:"all "+i+" ease-in-out"},events:{click:function(t){m.goToPageID(p)}}}));m.elements.menuItems[p].inject(m.elements.menu);var r;if(typeof s.content==="string"){r=new c.Element("iframe",{src:h(s.content),frameborder:0,onload:"window._flagFrameIsLoaded["+p+"]=true",styles:{width:"100%",position:"absolute",top:0,bottom:0,height:"100%"}});var n=0;var o=window.setInterval(function(){n++;if(n>20){window.clearInterval(o);if(s.contentError){r.src=h(s.contentError)}}},100)}else{r=s.content;if(r&&r.setStyles){r.setStyles({padding:40})}}var q=new c.Element("div",{html:r,"class":"wux-welcome-page",styles:s.styles});q.inject(m.elements.contentViewContainer)})},goToPageID:function(n,m){if(m===undefined){m=true}var o=this;o._lastSelectedContentIndex=o._selectedContentIndex;o._selectedContentIndex=n;if(o._lastSelectedContentIndex!==null&&o.elements.menuItems[o._lastSelectedContentIndex]){o.elements.menuItems[o._lastSelectedContentIndex].removeClassName("wux-ui-state-active")}var p=o.elements.menuItems[n];var q=(-n*100)+"%";o.elements.contentViewContainer.setStyles({transform:"translate3d("+q+", 0, 0)"});o.elements.selection.setStyles({transform:"translate3d("+p.getPosition().x+"px, "+p.getPosition().y+"px, 0)",backgroundColor:o.options.menu[n].bgColor||"#3CF",height:p.getDimensions().height,width:p.getDimensions().width});o.elements.menu.setStyles({borderBottom:"2px solid "+(o.options.menu[n].bgColor||"#3CF")});p.addClassName("wux-ui-state-active");if(m){k.newState({p:encodeURIComponent(o.options.menu[n].title),pid:n})}}});return l});
define("DS/xPortfolioQueryServices/js/infra/xPortfolioInfra",["UWA/Data","DS/WAFData/WAFData","DS/i3DXCompassServices/i3DXCompassServices","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","DS/CfgAuthoringContextUX/scripts/CfgAuthoringContext","DS/WidgetServices/securityContextServices/SecurityContextServices","text!DS/xPortfolioQueryServices/assets/xPortfolioQueryServicesConstants.json"],function(k,j,b,c,i,f,d){var g=JSON.parse(d);var h={urlEndPoint:"http://vbo1win764plp:8090/enovia/resources/v1/",solverEndPoint:"",authorizationTicket:"Basic dmJvMTp2Ym8x",securityContext:"VPLMProjectLeader.Company Name.DemoStandard"};var l=120000;if(localStorage["xmodel-app-timeout"]){l=localStorage["xmodel-app-timeout"]}var e=false;var m=g.getResourceWSURL;var a={_securityContext:null,_serviceUrl:null,_integratedEnv:true,createBasicRequestParam:function(n,o){return{url:o,async:n.async==false?n.async:true,data:n.data?n.data:undefined,onComplete:n.onComplete&&UWA.is(n.onComplete,"function")?n.onComplete:function(p){if(e){console.log("Service call successful:  "+p)}return p},onFailure:n.onFailure&&UWA.is(n.onFailure,"function")?n.onFailure:function(p){if(e){console.log("Service call failed!!!:  "+p)}}}},getUserId:function(){return new UWA.Promise(function(o,n){c.getUser({onComplete:function(p){o(p.id)},onFailure:function(p){n(p)}})})},getURLCatalog:function(){if(this._integratedEnv){return{urlEndPoint:this._serviceUrl+m,solverEndPoint:""}}else{return h}},setURLCatalog:function(n){if(!n||!n.urlEndPoint){this._integratedEnv=true}else{this._integratedEnv=false;h.urlEndPoint=n.urlEndPoint;h.authorizationTicket=n.authorizationTicket;h.securityContext=n.securityContext;h.solverEndPoint=n.solverEndPoint}},fetchDataRequest:function(n,p,q){var r=this;p=p||{};var o=new UWA.Promise(function(t,s){var u={data:p+"&timestamp="+(new Date()).getTime(),url:n,onComplete:function(){t.apply(this,arguments)},onFailure:function(){s.apply(this,arguments)}};q=q||{};UWA.merge(u,q);r._intiateRequest("GET",u)});return o},patchDataRequest:function(n,o,p){var q=this;o=o||{};return new UWA.Promise(function(s,r){var t={data:o,url:n,onComplete:function(){s.apply(this,arguments)},onFailure:function(){r.apply(this,arguments)}};p=p||{};UWA.merge(t,p);q._intiateRequest("PATCH",t)})},updateDataRequest:function(n,o,p){var q=this;o=o||{};return new UWA.Promise(function(s,r){var t={data:o,url:n,onComplete:function(){s.apply(this,arguments)},onFailure:function(){r.apply(this,arguments)}};p=p||{};UWA.merge(t,p);q._intiateRequest("POST",t)})},deleteDataRequest:function(n,o,p){var q=this;o=o||{};return new UWA.Promise(function(s,r){var t={data:o,url:n,onComplete:function(){s.apply(this,arguments)},onFailure:function(){r.apply(this,arguments)}};p=p||{};UWA.merge(t,p);q._intiateRequest("POST",t)})},createDataRequest:function(n,o,p){var q=this;o=o||{};return new UWA.Promise(function(s,r){var t={data:o,url:n,onComplete:function(){s.apply(this,arguments)},onFailure:function(){r.apply(this,arguments)}};p=p||{};UWA.merge(t,p);q._intiateRequest("POST",t)})},initiateRequest:function(n,o,p){var q=this;o=o||{};return new UWA.Promise(function(r,s){var t={data:o,url:n,onComplete:function(){r.apply(this,arguments)},onFailure:function(){s.apply(this,arguments)}};p=p||{};UWA.merge(t,p);q._intiateRequest("POST",t)})},_requestInitiatorHelper:function(x,y){var z;var t=this;var o=t.getURLCatalog();var v=o.urlEndPoint+y.url;var w;var s=y.data;if(x==="POST"||x==="PATCH"){w="application/json";s=UWA.is(s,"object")?JSON.stringify(s):s}var u=t._integratedEnv?j.authenticatedRequest:j.proxifiedRequest;var r={method:x,async:y.async==false?y.async:true,type:y.dataFormat?y.dataFormat:"json",timeout:y.timeout?y.timeout:l,data:s?s:{},headers:t._integratedEnv?{SecurityContext:(t._securityContext)?t._securityContext:"","Content-Type":y.contentType?y.contentType:w}:{"Content-Type":y.contentType?y.contentType:w,Authorization:o.authorizationTicket?o.authorizationTicket:"",SecurityContext:o.securityContext?o.securityContext:""},onComplete:function(A){z=A;if(e){console.log("Success!!!")}if(y.onComplete){y.onComplete(A)}},onFailure:function(C,A){if(e){console.log("Failure!!!"+C)}z=C;if(y.onFailure){var B=C;if(UWA.is(A,"object")&&A.message){B=A.message}y.onFailure(B)}}};if(i){try{var q=i.get();if(q.change.id.length>0){r.headers["DS-Change-Authoring-Context"]="pid:"+q.change.id}}catch(p){if(e){console.log("Change action is empty")}}}var n=u(v,r)},_intiateRequest:function(o,n){if(this._integratedEnv){if((this._securityContext==null||this._securityContext==undefined)&&(this._serviceUrl==null||this._serviceUrl==undefined)){this.setSecurityContext(this._requestInitiatorHelper,o,n)}else{this._requestInitiatorHelper(o,n)}}else{this._requestInitiatorHelper(o,n)}},setServiceUrlAndSecurityContext:function(o,n){this._serviceUrl=o;this._securityContext=n;f.getInstance({context:{getSecurityContext:function(){return{SecurityContext:n}}}}).getSecurityContext()},getBlobObject:function(n,p){var o=this._integratedEnv?j.authenticatedRequest:j.proxifiedRequest;o(n,{method:"GET",responseType:"blob",onload:p,onFailure:function(){},onComplete:function(){}})},setSecurityContext:function(p,t,n){var r=this;var s=function(){var w=null;if(r._securityContext){return}var B=widget.getValue("SC");if((B!=null)&&(B!=undefined)&&(B!="")){w="ctx::"+B;r._securityContext=w}else{var x;var A=(new Date()).getTime();var y=widget.getValue("x3dPlatformId");if(y===undefined||y===""){widget.setValue("x3dPlatformId","OnPremise")}var v=(y&&y!=="")?y:"OnPremise";x="/resources/modeler/pno/person?current=true&select=collabspaces&select=preferredcredentials&tenant="+v;x+=("&timestamp="+A);var u=function(D){w=D.SecurityContext;if(!w||w==null){var C=D.preferredcredentials;if(C&&C.role&&C.organization&&C.collabspace){var E="ctx::";E+=C.role.name+"."+C.organization.name+"."+C.collabspace.name;console.info("Setting security Context: "+w);r._securityContext=E}else{console.log("Error!! Unable to get preferred security context!!!")}}else{if(D!=null&&D!=""&&D.hasOwnProperty("SecurityContext")){var F="";if(D.SecurityContext.indexOf("ctx::")!=0){F="ctx::";w=F+D.SecurityContext}}if(e){console.log("Setting security Context: "+w)}console.info("Setting security Context: "+w);r._securityContext=D.SecurityContext}};var z=function(C){if(e){console.log("getSecurityContext:Failure..."+C)}};j.authenticatedRequest(r._serviceUrl+x,{method:"GET",type:"json",async:false,onComplete:u,onFailure:z,timeout:5000})}};if(r._serviceUrl==null){var q={serviceName:"3DSpace",platformId:widget.getValue("x3dPlatformId"),async:false,onComplete:function(u){if(typeof u==="string"){r._serviceUrl=u}else{r._serviceUrl=u[0].url}s(r);if(UWA.is(p,"function")){p.call(r,t,n)}},onFailure:function(){if(e){console.log("Service initialization failed...")}}};var o=b.getServiceUrl(q)}else{s(r);if(UWA.is(p,"function")){p.call(r,t,n)}}},getSecurityContext:function(){return this._securityContext||""},getModelVersionsFromIds:function(r,o,n){var q=this;var t="dspfl/dspfl:ModelVersion/getItems?$mask=dsmvpfl:ModelVersionUIMask";var s=q.getURLCatalog();var p=q._integratedEnv?j.authenticatedRequest:j.proxifiedRequest;r=UWA.is(r,"string")?r:JSON.stringify(r);p(s.urlEndPoint+t,{method:"POST",data:r,type:"json",async:true,headers:q._integratedEnv?{SecurityContext:(q._securityContext)?q._securityContext:"","Content-Type":"application/json"}:{"Content-Type":"application/json",Authorization:s.authorizationTicket?s.authorizationTicket:"",SecurityContext:s.securityContext?s.securityContext:""},onComplete:o,onFailure:n,timeout:l})},recentItemsIds:function(q,o,p){var s=this;var r=widget.getValue("x3dPlatformId");if(r===undefined||r===""){widget.setValue("x3dPlatformId","OnPremise")}var n=(r&&r!=="")?r:"OnPremise";var t="";if(p){t="/resources/AppsMngt/user/setPreferences?name="+n+"_xModelUserItemsPref&value="+p}else{t="/resources/AppsMngt/user/getPreferences?name="+n+"_xModelUserItemsPref"}j.authenticatedRequest(s._serviceUrl+t,{method:"GET",type:"text",async:true,onComplete:q,onFailure:o,timeout:l})},addRecentItemsIds:function(p,o,r){var s=this;var q=widget.getValue("x3dPlatformId");if(q===undefined||q===""){widget.setValue("x3dPlatformId","OnPremise")}var n=(q&&q!=="")?q:"OnPremise";var u="/resources/AppsMngt/user/getPreferences?name="+n+"_xModelUserItemsPref";var t=function(y){var w;try{w=JSON.parse(y)}catch(x){w=[]}var v=w.indexOf(r);if(v>=0){w.splice(v,1)}while(w.length>=6){w.pop()}w.unshift(r);s.recentItemsIds(p,o,encodeURIComponent(JSON.stringify(w)))};j.authenticatedRequest(s._serviceUrl+u,{method:"GET",type:"text",async:true,onComplete:t,onFailure:o,timeout:l})}};return a});define("DS/xPortfolioQueryServices/js/xPortfolioModel",["DS/xPortfolioQueryServices/js/infra/xPortfolioInfra","text!DS/xPortfolioQueryServices/assets/xPortfolioQueryServicesConstants.json"],function(d,b){var c=JSON.parse(b);var a={getModelVersions:function(f){var e=c.serviceHandler+c.MODEL_VERSION;f=c.MASK+c.MODEL_UI_MASK;return d.fetchDataRequest(e,f)},getModelDetails:function(f){var e=c.serviceHandler+c.MODEL_VERSION+"/"+f.id;f=c.MASK+c.MODEL_UI_MASK;return d.fetchDataRequest(e,f)},getMyModelVersions:function(f){var e=c.invokeService+c.getMyModelVersions;return d.initiateRequest(e,f)},createModel:function(f){var e=c.serviceHandler+c.MODEL_VERSION+"?"+c.MASK+c.MODEL_UI_MASK;return d.createDataRequest(e,f)},patchModelVersion:function(g,f){var e=c.serviceHandler+c.MODEL_VERSION+"/"+g+"?"+c.MASK+c.MODEL_UI_MASK;return d.patchDataRequest(e,f)},patchModel:function(g,f){var e=c.serviceHandler+c.MODEL+"/"+g+"?"+c.MASK+c.MODEL_MASK;return d.patchDataRequest(e,f)},createModelVersion:function(f){var e=c.invokeService+c.createModelVersion;return d.createDataRequest(e,f)},updateModelVersion:function(f){var e=c.invokeService+c.updateModelVersion;return d.updateDataRequest(e,f)},deleteModelVersions:function(f){var e=c.invokeService+c.deleteModelVersions;return d.deleteDataRequest(e,f)},duplicateModelVersion:function(f){var e=c.invokeService+c.cloneModelVersion;return d.initiateRequest(e,f)},createLocalRule:function(f){var e=c.serviceHandler+c.RULE+"?"+c.MASK+c.RULE_UI_MASK;return d.createDataRequest(e,f)},patchRule:function(f,g){var e=c.serviceHandler+c.RULE+"/"+f+"?"+c.MASK+c.RULE_UI_MASK;return d.patchDataRequest(e,g)},deleteRuleVersions:function(f){var e=c.invokeService+c.deleteRuleVersions;return d.deleteDataRequest(e,f)},getLocalRuleVersions:function(f){var g=f.id;var e=c.serviceHandler+c.MODEL_VERSION+"/"+g;f=c.MASK+c.LOCAL_RULES_UI_MASK;return d.fetchDataRequest(e,f)},getRuleDetails:function(f){var e=c.serviceHandler+c.RULE+"/"+f.id;f=c.MASK+c.RULE_UI_MASK;return d.fetchDataRequest(e,f)},getRuleDefinition:function(f){var e=c.invokeService+c.getRuleDefinition;return d.initiateRequest(e,f)},updateRuleVersion:function(f){var e=c.invokeService+c.updateRule;return d.updateDataRequest(e,f)},getDocuments:function(f){var e=c.invokeService+c.getDocuments;return d.initiateRequest(e,f)},removeDocuments:function(f){var e=c.invokeService+c.removeDocuments;return d.initiateRequest(e,f)},getConfigurationVersions:function(f){var e=c.serviceHandler+c.MODEL_VERSION+"/"+f.parentId;f=c.MASK+c.COMMON_MODEL_VERSION_PCS_UI_MASK;return d.fetchDataRequest(e,f)},getConfigurationDetails:function(f){var g=f.id;var e=c.serviceHandler+c.PRODUCT_CONFIGURATION+"/"+g;f=c.MASK+c.PRODUCT_CONFIGURATION_UI_MASK;return d.fetchDataRequest(e,f)},getCriteriaConfigurationInstances:function(f){var e=c.invokeService+c.getCriteriaConfigurationInstances;return d.initiateRequest(e,f)},createCriteriaConfigurationInstances:function(f){var e=c.serviceHandler+c.criteriaConfigurationInstance;return d.createDataRequest(e,f)},patchProductConfiguration:function(f,g){var e=c.serviceHandler+c.PRODUCT_CONFIGURATION+"/"+f+"?"+c.MASK+c.PRODUCT_CONFIGURATION_UI_MASK;return d.patchDataRequest(e,g)},updateProductConfiguration:function(f){var e=c.invokeService+c.updateConfiguration;return d.initiateRequest(e,f)},createProductConfiguration:function(f){var e=c.invokeService+c.createConfiguration;return d.initiateRequest(e,f)},createConfiguration:function(f){var e=c.serviceHandler+c.PRODUCT_CONFIGURATION+"?"+c.MASK+c.PRODUCT_CONFIGURATION_UI_MASK;return d.createDataRequest(e,f)},deleteConfigurationVersions:function(f){var e=c.invokeService+c.deleteConfigurations;return d.initiateRequest(e,f)},getModelPhysicalItems:function(f){var e=c.invokeService+c.getModelPhysicalItems;return d.initiateRequest(e,f)},copyModelVersionVariability:function(f){var e=c.invokeService+c.copyModelVersionVariability;return d.initiateRequest(e,f)},isParametersEnabled:function(f){var e=c.invokeService+c.isParameterEnabled;return d.initiateRequest(e,f)}};return a});define("DS/xPortfolioQueryServices/js/xEnterpriseDictionary",["DS/xPortfolioQueryServices/js/infra/xPortfolioInfra","text!DS/xPortfolioQueryServices/assets/xPortfolioQueryServicesConstants.json"],function(f,a){var d="dspfl:";var e=JSON.parse(a);var c="";var b={getVariabilityDefinition:function(h){var g=e.invokeService+e.getVariabilityDefinition;return f.initiateRequest(g,h)},get_Variants:function(){var g=e.serviceHandler+e.VARIANT;var h=e.MASK+e.VARIANT_UI_MASK;return f.fetchDataRequest(g,h)},patchVariant:function(h,i){var g=e.serviceHandler+e.VARIANT+"/"+h+"?"+e.MASK+e.VARIANT_UI_MASK;return f.patchDataRequest(g,i)},patchVariantValue:function(h,i){var g=e.serviceHandler+e.VARIANT_VALUE+"/"+h+"?"+e.MASK+e.VALUE_UI_MASK;return f.patchDataRequest(g,i)},patchVariabilityGroup:function(i,h){var g=e.serviceHandler+e.VARIABILITY_GROUP+"/"+i+"?"+e.MASK+e.VARIABILITY_GROUP_UI_MASK;return f.patchDataRequest(g,h)},patchOption:function(i,h){var g=e.serviceHandler+e.OPTION+"/"+i+"?"+e.MASK+e.OPTION_UI_MASK;return f.patchDataRequest(g,h)},patchParameter:function(h,i){var g=e.serviceHandler+e.PARAMETER+"/"+h+"?"+e.MASK+e.PARAMETER_MASK;return f.patchDataRequest(g,i)},isNameUnique:function(h){var g=e.invokeService+e.isNameUnique;return f.initiateRequest(g,h)},getOptions:function(){var g=e.invokeService+e.getVariabilityOptions;return f.initiateRequest(g)},getVariantValues:function(h){var i=h.id;var g=e.serviceHandler+e.VARIANT+"/"+i;h=e.MASK+e.VARIANT_VALUES_UI_MASK;return f.fetchDataRequest(g,h)},getParameters:function(){var g=e.serviceHandler+e.PARAMETER;var h=e.MASK+e.PARAMETER_MASK;return f.fetchDataRequest(g,h)},getAllDimension:function(){var g=e.invokeService+e.getAllDimension;return f.initiateRequest(g,c)},createVariantClass:function(h){var g=e.serviceHandler+e.VARIANT+"?"+e.MASK+e.VARIANT_UI_MASK;return f.createDataRequest(g,h)},createVariant:function(h){var g=e.serviceHandler+e.VARIANT_VALUE+"?"+e.MASK+e.VALUE_UI_MASK;return f.createDataRequest(g,h)},createOption:function(h){var g=e.serviceHandler+e.OPTION+"?"+e.MASK+e.OPTION_UI_MASK;return f.createDataRequest(g,h)},createParameter:function(h){var g=e.serviceHandler+e.PARAMETER+"?"+e.MASK+e.PARAMETER_MASK;return f.createDataRequest(g,h)},updateVariantClass:function(h){var g=e.invokeService+e.updateVariant;return f.updateDataRequest(g,h)},updateVariant:function(h){var g=e.invokeService+e.updateVariantValue;return f.updateDataRequest(g,h)},updateOption:function(h){var g=e.invokeService+e.updateVariabilityOption;return f.updateDataRequest(g,h)},updateParameter:function(h){var g=e.invokeService+e.updateParameter;return f.updateDataRequest(g,h)},deleteVariantClasses:function(h){var g=e.invokeService+e.deleteVariants;return f.deleteDataRequest(g,h)},deleteVariants:function(h){var g=e.invokeService+e.deleteVariantValues;return f.deleteDataRequest(g,h)},deleteOptions:function(h){var g=e.invokeService+e.deleteVariabilityOptions;return f.deleteDataRequest(g,h)},deleteParameters:function(h){var g=e.invokeService+e.deleteParameters;return f.deleteDataRequest(g,h)},createVariantClassVariabilityInstances:function(h){var g=e.serviceHandler+e.VARIANT_INSTANCE;return f.createDataRequest(g,h)},createVariantVariabilityInstances:function(h){var g=e.serviceHandler+e.VARIANT_VALUE_INSTANCE;return f.createDataRequest(g,h)},createOptionVariabilityInstances:function(h){var g=e.serviceHandler+e.OPTION_INSTANCE;return f.createDataRequest(g,h)},createParameterVariabilityInstances:function(h){var g=e.serviceHandler+e.PARAMETER_INSTANCE;return f.createDataRequest(g,h)},updateVariantClassVariabilityInstance:function(h){var g=e.invokeService+e.updateVariantInstance;return f.updateDataRequest(g,h)},deleteVariantClassVariabilityInstances:function(h){var g=e.invokeService+e.deleteVariantInstances;return f.deleteDataRequest(g,h)},deleteVariantVariabilityInstances:function(h){var g=e.invokeService+e.deleteVariantValueInstances;return f.deleteDataRequest(g,h)},deleteOptionVariabilityInstances:function(h){var g=e.invokeService+e.deleteVariabilityOptionInstances;return f.deleteDataRequest(g,h)},deleteParameterInstances:function(h){var g=e.invokeService+e.deleteParameterInstances;return f.deleteDataRequest(g,h)},updateVariabilityInstanceDetails:function(h){var g=e.invokeService+e.updateVariabilityInstanceDetails;return f.updateDataRequest(g,h)},getVariantClassDetails:function(h){var g=e.serviceHandler+e.VARIANT+"/"+h.id;h=e.MASK+e.VARIANT_UI_MASK;return f.fetchDataRequest(g,h)},getOptionDetails:function(h){var g=e.serviceHandler+e.OPTION+"/"+h.id;h=e.MASK+e.OPTION_UI_MASK;return f.fetchDataRequest(g,h)},getParameterDetails:function(h){var g=e.serviceHandler+e.PARAMETER+"/"+h.id;h=e.MASK+e.PARAMETER_MASK;return f.fetchDataRequest(g,h)},getVariantDetails:function(h){var g=e.serviceHandler+e.VARIANT_VALUE+"/"+h.id;h=e.MASK+e.VALUE_UI_MASK;return f.fetchDataRequest(g,h)},getVariabilityGroups:function(){var g=e.serviceHandler+e.VARIABILITY_GROUP;var h=e.MASK+e.VARIABILITY_GROUP_UI_MASK;return f.fetchDataRequest(g,h)},getVariabilityGroupOptions:function(h){var g=e.serviceHandler+e.VARIABILITY_GROUP+"/"+h.id;h=e.MASK+e.VARIABILITY_GROUP_OPTIONS_UI_MASK;return f.fetchDataRequest(g,h)},createVariabilityGroup:function(h){var g=e.serviceHandler+e.VARIABILITY_GROUP+"?"+e.MASK+e.VARIABILITY_GROUP_UI_MASK;return f.createDataRequest(g,h)},deleteVariabilityGroups:function(h){var g=e.invokeService+e.deleteVariabilityGroups;return f.deleteDataRequest(g,h)},getVariabilityGroupDetails:function(h){var g=e.invokeService+e.getVariabilityDefinition;return f.initiateRequest(g,h)}};return b});
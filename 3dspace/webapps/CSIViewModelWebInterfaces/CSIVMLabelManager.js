define("DS/CSIViewModelWebInterfaces/CSIVMLabelManager",["DS/CSICommandBinder/CSICommandBinder"],function(b){var j=false;var f=function(m,l){var k="version";m.writeInt32(k,l[k]);k="solver";m.writeString(k,l[k]);k="label";m.writeString(k,l[k])};var e=function(l){var m={};var k="version";m[k]=l.readInt32(k);k="solver";m[k]=l.readString(k);k="label";m[k]=l.readString(k);return m};var d=function(m,l){var k="version";m.writeInt32(k,l[k]);k="treekey";m.writeString(k,l[k]);k="labelType";m.writeInt32(k,l[k]);k="initPath";if(l[k]!=undefined){m.writeObject(k,"CSISelectionObject",l[k])}k="labelPathes";m.writeObjectArray(k,"CSIVMInternalLabel",l[k])};var c=function(l){var m={};var k="version";m[k]=l.readInt32(k);k="treekey";m[k]=l.readString(k);k="labelType";m[k]=l.readInt32(k);k="initPath";m[k]=l.readObject(k,"CSISelectionObject");k="labelPathes";m[k]=l.readObjectArray(k,"CSIVMInternalLabel");return m};if(!j){b.declareType({type:"CSIVMInternalLabel",serialize:f,unserialize:e});b.declareType({type:"CSIVMLabel",serialize:d,unserialize:c})}function g(k){return JSON.parse(k)}function h(l){var m={};m.status=l.readBool("commandHasSucceeded");var k=l.readObject("label","CSIVMLabel");m.label=JSON.stringify(k);this._onBuildAnswer(m)}function i(k){var l={};l.status=k.readBool("commandHasSucceeded");l.selectionObjects=k.readObjectArray("selectionObjects","CSISelectionObject");this._onSolveAnswer(l)}function a(){}a.prototype.getVMLabelFromSelectionObject=function(m){this._onBuildAnswer=m.onAnswer;var l=m.node.createRequest({destinationNodeId:m.serverNodeId,command:"CSIVMLabelBuildCommand",version:1,onAnswer:h.bind(this)});var k=new b.Parameters();k.writeObject("selectionObject","CSISelectionObject",m.selectionObject);k.writeInt32("labelType",1);l.send(null,k,null)};a.prototype.getSelectionObjectFromVMLabel=function(n){this._onSolveAnswer=n.onAnswer;var m=n.node.createRequest({destinationNodeId:n.serverNodeId,command:"CSIVMLabelSolveCommand",version:1,onAnswer:i.bind(this)});var l=g(n.label);var k=new b.Parameters();k.writeObject("label","CSIVMLabel",l);m.send(null,k,null)};return a});
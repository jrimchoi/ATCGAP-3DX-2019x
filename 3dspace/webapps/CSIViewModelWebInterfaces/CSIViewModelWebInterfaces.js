define("DS/CSIViewModelWebInterfaces/CSIVMClientDelegateInterface",[],function(){function a(){}a.prototype.createTransaction=function(b){return undefined};a.prototype.createPathElement=function(b){return undefined};a.prototype.createIdentifiedObjectsArray=function(b){return undefined};a.prototype.addView=function(b,c){return undefined};a.prototype.removeView=function(b){return undefined};return a});define("DS/CSIViewModelWebInterfaces/CSIVMClientManagerList",[],function(){var a=function(){};a._Managers=[];return a});define("DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels",[],function(){var a={UnknownType:1,AddNode:2,AddBody:3,AddCells:4,AddCustomNode:5,AddExistingNode:6,AddExistingCell:7,RemoveExistingNode:8,RemoveExistingCell:9,RemoveAll:10,ModifyCustomNode:11,AddGroups:12,ApplyGP:13,CreateRoot:14,AddSemanticNode:15,ModifySemanticNode:16,CreateSemanticRoot:17,ApplyAttributes:18,ModifyBody:19};var c={AddNode:a.AddNode,AddBody:a.AddBody,AddCells:a.AddCells,AddCustomNode:a.AddCustomNode,AddExistingNode:a.AddExistingNode,AddExistingCell:a.AddExistingCell,RemoveExistingNode:a.RemoveExistingNode,RemoveExistingCell:a.RemoveExistingCell,RemoveAll:a.RemoveAll,ModifyCustomNode:a.ModifyCustomNode,AddGroups:a.AddGroups,ApplyAttr:a.ApplyAttributes,ModifyBody:a.ModifyBody};var b={viewVersion:"viewVersion",viewStatus:"viewStatus",idPatterns:"idPatterns",graphicProperties:"GraphicProperties",materialMessage:"MaterialMessage",treeUpdates:"treeUpdates",viewStatusTemporary:"temporary",viewStatusPermanent:"permanent",viewStatusCommit:"commit",viewStatusAbort:"abort",showMode:"ShowMode",pickMode:"PickMode",staticMaterial:"StaticMaterial",staticLook:"StaticLook",staticPickPriority:"StaticPickPriority",pickParent:"PickParent",excludeFromBounding:"ExcludeFromBounding",staticGeomType:"StaticGeomType",RGBO:"RGBO",Material:"Material",LineicProperty:"LineicProperty",R:"R",G:"G",B:"B",O:"O",DefaultRGB:"NoRGB",DefaultO:"NoOP",Layer:"Layer",Inherit:"Inherit",DefaultMaterial:"NoMaterial",MaterialID:"MaterialID",LineType:"LineType",LineWidth:"LineWidth",PointType:"PointType",DefaultLineType:"NoLineType",DefaultLineWidth:"NoLineWidth",DefaultPointType:"NoPointType",id:"id",idSpace:"idSpace",idContext:"idContext",shared:"shared",valueMatrix:"matrix",treeKey:"treeKey",csiTreeKey:"csiTreeKey",tokens:"tokens",appliedGas:"AppliedGraphicProperties",appliedGP:"AppliedGP",uuid:"uuid",viewType:"viewType",nameSpaceId:"nameSpaceId",node:"Node",shortIds:"ShortIDs",globalIds:"GlobalIDs",targetsInContext:"TargetsInContext",idGP:"IdGP",value:"value",localIdInt:"localId_Int",localIdString:"localId_String",localIdIntDual:"localIdDual_Int",localIdStringDual:"localIdDual_String",idPattern:"idPattern",parent:"parent",previous:"previous",valueOperations:a,valueTab:c,valueBoundingSphere:"bs",valueBoundingBox:"bbox",valueInitializers:"inits",valueDimension:"dim",valueHasInfiniteGeometry:"hasInfiniteGeometry",valueCustomData:"customdata",valueGroups:"groups",valueAttribute:"Attr",valueGeometry:"geometry",valueGeometries:"geometries",valueInfiniteGeometry:"infiniteGeometry",valueInfiniteGeometries:"infiniteGeometries",valueMultipleViewElts:"MultipleViewElts",valueHasGeomDecorations:"hasGeomDecorations",valueOffset:"offset",valueByteLength:"bytelength",valueBytePerElement:"bpe",valueDrawGroups:"dgs",valueInfiniteDrawGroups:"infdgs",valueStart:"start",valueCount:"count",valueGeomType:"geomType",valueInfiniteGeomType:"infiniteGeomType",valuePrimitives:"primitives",valueBuffer:"buffer",valueBufferPartitions:"bufferPartitions",valueBufferPartition:["vertexPositionArray","vertexIndexArray","vertexColorArray","vertexNormalArray","vertexBinormalArray","vertexTangentArray","vertexUvArray","vertexUv2Array","primitiveDecorationArray"],valueInfiniteBufferPartitions:"infiniteBufferPartitions",valueInfiniteBufferPartition:["infiniteGeometryArray","additionalDataArray"],valueGeomTypeValue:["UNKNOWN","EDGE","WIRE_EDGE","BOUNDARY_EDGE","SHARP_EDGE","SMOOTH_EDGE","BOUNDARY_POINT","SHARP_POINT","SMOOTH_POINT","SURFACIC_POINT","FREE_POINT","INFINITE_FACE","FACE","HIDDEN_SEAM_EDGE","HIDDEN_SEAM_POINT"],valueInfiniteGeomTypeValue:["UNKNOWN","ORIGIN","AXIS","INFINITE_PLANE","TEXT","POINTS"],valueRadius:"rad",valueRadiusMM:"radMM",valueState:"state",valueStateValue:["EMPTY","NORMAL","INIFINITE","CONTAIN"],valueX1:"x1",valueY1:"y1",valueZ1:"z1",valueX2:"x2",valueY2:"y2",valueZ2:"z2",shortId:"shortId",idPath:"idPath",valueBinaryFormat:"binaryformat",valueClientModule:"clientmodule",valueData:"Data",valueBinaryFormatValue:["Bin","Sem","Cgr"],valueAlias:"Alias",valueTypeId:"TypeId",valueSubTypeId:"SubTypeId",valueIconName:"IconName",valueIconModule:"IconModule",valueEditCommandName:"CmdName",valueErrors:"Errors",valueStates:"States",errorType:"ErrorType",errorID:"ErrorID",stateType:"StateType",stateValue:"StateValue",groupedElements:"GroupElements",targetsContext:"TargetsContext",targets:"Targets",valueMatBufData:"data",valueMatBufLength:"bytelength",valueMatBufName:"name",valueJSON:"JSON",MaterialJSON:"MaterialJSON",MaterialBuffers:"MaterialBuffers"};return b});define("DS/CSIViewModelWebInterfaces/CSIVMLabelManager",["DS/CSICommandBinder/CSICommandBinder"],function(b){var j=false;var f=function(m,l){var k="version";m.writeInt32(k,l[k]);k="solver";m.writeString(k,l[k]);k="label";m.writeString(k,l[k])};var e=function(l){var m={};var k="version";m[k]=l.readInt32(k);k="solver";m[k]=l.readString(k);k="label";m[k]=l.readString(k);return m};var d=function(m,l){var k="version";m.writeInt32(k,l[k]);k="treekey";m.writeString(k,l[k]);k="labelType";m.writeInt32(k,l[k]);k="initPath";if(l[k]!=undefined){m.writeObject(k,"CSISelectionObject",l[k])}k="labelPathes";m.writeObjectArray(k,"CSIVMInternalLabel",l[k])};var c=function(l){var m={};var k="version";m[k]=l.readInt32(k);k="treekey";m[k]=l.readString(k);k="labelType";m[k]=l.readInt32(k);k="initPath";m[k]=l.readObject(k,"CSISelectionObject");k="labelPathes";m[k]=l.readObjectArray(k,"CSIVMInternalLabel");return m};if(!j){b.declareType({type:"CSIVMInternalLabel",serialize:f,unserialize:e});b.declareType({type:"CSIVMLabel",serialize:d,unserialize:c})}function g(k){return JSON.parse(k)}function h(l){var m={};m.status=l.readBool("commandHasSucceeded");var k=l.readObject("label","CSIVMLabel");m.label=JSON.stringify(k);this._onBuildAnswer(m)}function i(k){var l={};l.status=k.readBool("commandHasSucceeded");l.selectionObjects=k.readObjectArray("selectionObjects","CSISelectionObject");this._onSolveAnswer(l)}function a(){}a.prototype.getVMLabelFromSelectionObject=function(m){this._onBuildAnswer=m.onAnswer;var l=m.node.createRequest({destinationNodeId:m.serverNodeId,command:"CSIVMLabelBuildCommand",version:1,onAnswer:h.bind(this)});var k=new b.Parameters();k.writeObject("selectionObject","CSISelectionObject",m.selectionObject);k.writeInt32("labelType",1);l.send(null,k,null)};a.prototype.getSelectionObjectFromVMLabel=function(n){this._onSolveAnswer=n.onAnswer;var m=n.node.createRequest({destinationNodeId:n.serverNodeId,command:"CSIVMLabelSolveCommand",version:1,onAnswer:i.bind(this)});var l=g(n.label);var k=new b.Parameters();k.writeObject("label","CSIVMLabel",l);m.send(null,k,null)};return a});define("DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv",[],function(){var a;if(a==undefined){a={_newCSIIdentification:false,_performanceTraces:false,CSITrue:"TRUE",CSIFalse:"FALSE",CSIShow:"Show",CSINoShow:"NoShow",CSIPick:"Pick",CSINoPick:"NoPick"};a.activateNewCSIIdentification=function(){this._newCSIIdentification=true},a.isNewCSIIdentificationActivated=function(){return this._newCSIIdentification},a.activatePerformanceTraces=function(){this._performanceTraces=true},a.isPerformanceTracesActivated=function(){return this._performanceTraces},a.startPerfo=function(b){window.performance.mark(b+".start")};a.endPerfo=function(b){window.performance.mark(b+".end");window.performance.measure(b,b+".start",b+".end")}}return a});define("DS/CSIViewModelWebInterfaces/CSIVMClientTransaction",[],function(){function a(){}a.prototype.doOperation=function(b){return undefined};a.prototype.executeEnd=function(){return undefined};a.prototype.commit=function(){return undefined};a.prototype.abort=function(){return undefined};return a});define("DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObjectAdvanced",["DS/CSICommandBinder/CSICommandBinder"],function(c){function b(e){this.rootSelectionObject=e.rootSelectionObject||null;this.subElementsId=e.subElementsId||[];this.context=e.context||""}b.prototype.getPathElementTab=function(){var h=[];var r=this.rootSelectionObject.getModelElementTab();var g=r.length;var m=r[g-1];var p=this.rootSelectionObject.getModelAccessData();var u=p.notifier;var l=p.curKey;var e=m.stateMode.TempoOrPermanent;var q=m.getChildrenWithId(l,e,this.subElementsId);var n=q.length;var s=[];var o=0;for(o=0;o<g;++o){var j=r[o].getAssociatedViewElt(l);if(j){s.push(j)}}var i,f;for(i=0;i<n;++i){f=q[i].getAssociatedViewElt(l);if(f){s[o]=f;h.push(u.createPathElement(s))}}if(h.length==0){var t=u.createPathElement(s);h.push(t)}return h};var d=function(f,e){f.writeObject("body","CSISelectionObject",e.rootSelectionObject);f.writeStringArray("nodes",e.subElementsId);f.writeString("context",e.context);return true};var a=function(e){var f={rootSelectionObject:e.readObject("body","CSISelectionObject"),context:e.readString("context"),subElementsId:e.readStringArray("nodes"),};return new b(f)};b.prototype.declareType=function(){c.declareType({type:"CSISelectionObjectAdvanced",serialize:d,unserialize:a})};b.prototype.declareType();return b});define("DS/CSIViewModelWebInterfaces/CSIVMClientStateMode",[],function(){var a={Unknown:1,Tempo:2,Permanent:3,TempoOrPermanent:4};return a});define("DS/CSIViewModelWebInterfaces/CSIVMClientParameterVersion",[],function(){var a={currentVersion:1};return a});define("DS/CSIViewModelWebInterfaces/CSIVMClientRequestWithView",["DS/CSICommandBinder/CSICommandBinder"],function(a){function d(e,j){this.stackOfCallBack=[];this.defaultCallBack=e.command.defaultCallback;this.node=e.node.index_;var g=this;var h=function(l){var k=g.stackOfCallBack.shift();if(k===undefined){k=g.defaultCallBack}if(k){k(l)}};var f=c[this.node];if(f!==undefined){if(f.hasBegan()&&!f.isFinished()){f.End(undefined,true)}}var i={command:e.command.command,version:e.command.version,onComplete:h.bind(this)};c[this.node]=new b(e.node,e.serverNodeId,i,j)}var b=function(g,f,h,e){this.beginState=false;this.doState=false;this.endState=false;this.viewRequest_=g.createIterativeRequest({destinationNodeId:f,command:"CSIViewCommand",version:1,onComplete:e});h.destinationNodeId=f;this.applicativeRequest_=g.createIterativeRequest(h)};b.prototype.isFinished=function(){return(this.beginState&&this.endState)};b.prototype.hasBegan=function(){return this.beginState};b.prototype.Begin=function(e){this.applicativeRequest_.begin(e);this.viewRequest_.begin();this.beginState=true};b.prototype.Do=function(e){this.applicativeRequest_.send(e);this.viewRequest_.send()};b.prototype.End=function(g,f){var e=undefined;this.doState=true;if(f){e=new a.Parameters();e.writeBool("isCanceled",f);if(g===undefined){g=e}else{g.writeBool("isCanceled",f)}}this.applicativeRequest_.end(g);this.viewRequest_.end(e);this.endState=true};var c={};d.prototype.begin=function(g,f){var e=c[this.node];if(!e.beginState){this.stackOfCallBack.push(f);e.Begin(g)}};d.prototype.send=function(g,f){var e=c[this.node];if(!e.doState&&e.beginState){this.stackOfCallBack.push(f);e.Do(g)}};d.prototype.end=function(h,g,f){var e=c[this.node];if(!e.endState&&e.beginState){this.stackOfCallBack.push(g);e.End(h,f)}};return d});define("DS/CSIViewModelWebInterfaces/CSIVMClientCustomDataParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,d){function e(f){this._binFormat=f.binFormat||this.binFormatValues.unknown;this._module=f.module||"";this._data=f.data||null}e.prototype.binFormatValues={unknown:1,bin:2,sem:3,cgr:4};e.prototype.getBinFormat=function(){return this._binFormat};e.prototype.getModule=function(){return this._module};e.prototype.getData=function(){return this._data};var c=function(){return false};var a=function(f){var g={binFormat:(d.valueBinaryFormatValue.indexOf(f.readString(d.valueBinaryFormat))+2),module:f.readString(d.valueClientModule),data:f.readObject(d.valueData,"Parameters")};return new e(g)};e.prototype.declareType=function(){b.declareType({type:"CSICustomDataParam",serialize:c,unserialize:a})};return e});define("DS/CSIViewModelWebInterfaces/CSIVMClientGroup",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,e){function c(f){this._stringElements=f}c.prototype.getGroupedElements=function(){return this._groupedElements};var d=function(){return false};var a=function(g){var f=new c(g.readStringArray(e.groupedElements));return f};c.prototype.declareType=function(){b.declareType({type:"CSIViewModelGroup",serialize:d,unserialize:a})};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientSelectionObject",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientManagerList","DS/CSIViewModelWebInterfaces/CSIViewModelWebEnv","DS/CSIViewModelWebInterfaces/CSIVMClientStateMode"],function(e,a,g,f,b){var h=false;function c(k){this.treeKey=k.treeKey||"";this.idPath="";if(k.idPath!==undefined){this.idPath=k.idPath.replace(/CATPrtCont#(?!STR_|UID_)./g,function j(l){return l.replace("CATPrtCont#","CATPrtCont#UID_")})}}c.prototype.fromPathElement=function(k){var l=undefined;var q=[];var n=null;var r=null;var j=null;var p=k.getLength();for(var o=0;(o<p);o++){n=null;var m=k.getElement(o);if(m&&m.getIdentificationObject){n=m.getIdentificationObject()}if(n!=null){q.push(n);if(!r){r=n.getKey(m);j=n.getNameSpace();if(!r||!j){break}}}}if(r!=null&&j!=null){this.idPath=j.buildGlobalId(q);this.treeKey=r.getUUID();l=this}return l};c.prototype.getModelAccessData=function(){var k=null;var o=null;var m=null;var n={};var l=g._Managers.length;for(var j=0;j<l&&!o;j++){k=g._Managers[j]._impl.getModel();o=k.getTreeKey(this.treeKey);if(o!=undefined){m=g._Managers[j]._impl.getNotifier(o.getViewType())}}n.curModel=k;n.curKey=o;n.notifier=m;return n};c.prototype.getPathElement=function(){var p=undefined;var l=null;var o=null;var m=null;var n=this.getModelAccessData();l=n.curModel;o=n.curKey;m=n.notifier;var k=undefined;if(o!=undefined){var j=l.getNameSpace(o);k=j.decodeGlobalIdToViewObjects(null,o,this.idPath,b.TempoOrPermanent);p=m.createPathElement(k)}return p};c.prototype.getModelElementTab=function(){var n=undefined;var k=null;var m=null;var l=this.getModelAccessData();m=l.curKey;k=l.curModel;if(m!=undefined){var j=k.getNameSpace(m);n=j.decodeGlobalId({Node:null,Id:this.idPath,State:b.TempoOrPermanent})}return n};var i=function(k,j){k.writeString(a.treeKey,j.treeKey);k.writeString(a.idPath,j.idPath);return true};var d=function(j){var k={treeKey:j.readString(a.treeKey),idPath:j.readString(a.idPath)};return new c(k)};c.declareType=function(j,k){if(k==="CSISelectionObject"&&!h&&f.isNewCSIIdentificationActivated()){h=true;return j.declareType({type:"CSISelectionObject",serialize:i,unserialize:d})}return true};c.prototype._declareType=function(){return c.declareType(e,"CSISelectionObject")};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientBinaryRangeParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,d){function e(f){this._offset=f.offset||0;this._byteLength=f.byteLength||0;this._bpe=f.bpe||0}e.prototype.getOffset=function(){return this._offset};e.prototype.getByteLength=function(){return this._byteLength};e.prototype.getBytePerElement=function(){return this._bpe};var c=function(){return false};var a=function(f){var g={offset:f.readUint32(d.valueOffset),byteLength:f.readUint32(d.valueByteLength),bpe:f.readUint32(d.valueBytePerElement)};return new e(g)};e.prototype.declareType=function(){b.declareType({type:"CSIBinaryRangeParam",serialize:c,unserialize:a})};return e});define("DS/CSIViewModelWebInterfaces/CSIVMClientMaterialParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,d){function e(f){this._Material=f||undefined}e.prototype.getMaterialDefinition=function(){return this._Material};var c=function(){return false};var a=function(f){var g={DefaultMaterial:f.readBool(d.DefaultMaterial),Layer:f.readUint32(d.Layer)||0,Inherit:f.readUint32(d.Inherit)||0,Index:f.readUint32(d.MaterialID)||0,JSON:undefined,Buffers:undefined};return new e(g)};e.prototype.declareType=function(){b.declareType({type:"CSIViewModelMaterial",serialize:c,unserialize:a})};return e});define("DS/CSIViewModelWebInterfaces/CSIVMClientBoundingSphereParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,e){function c(f){this._radius=f.radius||0;this._radiusMM=f.radiusMM||0;this._centerX=f.centerX||0;this._centerY=f.centerY||0;this._centerZ=f.centerZ||0;this._state=f.state||this.stateValues.empty}c.prototype.stateValues={empty:1,normal:2,infinite:3,contain:4};c.prototype.getRadius=function(){return this._radius};c.prototype.getRadiusMM=function(){return this._radiusMM};c.prototype.getCenterX=function(){return this._centerX};c.prototype.getCenterY=function(){return this._centerY};c.prototype.getCenterZ=function(){return this._centerZ};c.prototype.getState=function(){return this._state};var d=function(){return false};var a=function(f){var g={radius:f.readFloat(e.valueRadius),radiusMM:f.readFloat(e.valueRadiusMM),centerX:f.readDouble(e.valueX1),centerY:f.readDouble(e.valueY1),centerZ:f.readDouble(e.valueZ1),state:(e.valueStateValue.indexOf(f.readString(e.valueState))+1)};return new c(g)};c.prototype.declareType=function(){b.declareType({type:"CSIBoundingSphereParam",serialize:d,unserialize:a})};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientBoundingBoxParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientBoundingSphereParameter"],function(b,f,c){function d(g){this._minX=g.minX||0;this._minY=g.minY||0;this._minZ=g.minZ||0;this._maxX=g.maxX||0;this._maxY=g.maxY||0;this._maxZ=g.maxZ||0;this._state=g.state||c.prototype.stateValues.empty}d.prototype.getMinX=function(){return this._minX};d.prototype.getMinY=function(){return this._minY};d.prototype.getMinZ=function(){return this._minZ};d.prototype.getMaxX=function(){return this._maxX};d.prototype.getMaxY=function(){return this._maxY};d.prototype.getMaxZ=function(){return this._maxZ};d.prototype.getState=function(){return this._state};var e=function(){return false};var a=function(g){var h={minX:g.readDouble(f.valueX1),minY:g.readDouble(f.valueY1),minZ:g.readDouble(f.valueZ1),maxX:g.readDouble(f.valueX2),maxY:g.readDouble(f.valueY2),maxZ:g.readDouble(f.valueZ2),state:(f.valueStateValue.indexOf(g.readString(f.valueState))+1)};return new d(h)};d.prototype.declareType=function(){b.declareType({type:"CSIBoundingBoxParam",serialize:e,unserialize:a});c.prototype.declareType()};return d});define("DS/CSIViewModelWebInterfaces/CSIVMClientError",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,d){function e(f,g){this._errorType=f;this._id=g}e.prototype.getID=function(){return this._id};e.prototype.getErrorType=function(){return this._errorType};e.prototype.ErrorType={Unknown:1,Critical:2,Fatal:3,Warning:4,Information:5};var c=function(){return false};var a=function(g){var h=g.readInt8(d.errorType);var i=g.readString(d.errorID);var f=new e(h+1,i);return f};b.declareType({type:"CSIViewModelError",serialize:c,unserialize:a});return e});define("DS/CSIViewModelWebInterfaces/CSIVMClientMaterialJSON",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,e){function c(f){this._json=f.json||"";if(this._json!==""){this._json=JSON.parse(this._json)}}c.prototype.getJSON=function(){return this._json};var d=function(){return false};var a=function(g){var h={json:g.readString(e.valueJSON),};var f=new c(h);return f};c.prototype.declareType=function(){b.declareType({type:"CSIViewModelMaterialJSON",serialize:d,unserialize:a})};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientColorOpacityParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,d){function e(f){this._RGBO=f||undefined}e.prototype.getRGBO=function(){return this._RGBO};var c=function(){return false};var a=function(f){var g={DefaultRGB:f.readBool(d.DefaultRGB),R:f.readUint8(d.R),G:f.readUint8(d.G),B:f.readUint8(d.B),DefaultO:f.readBool(d.DefaultO),O:f.readUint8(d.O),};return new e(g)};e.prototype.declareType=function(){b.declareType({type:"CSIViewModelColorOpacity",serialize:c,unserialize:a})};return e});define("DS/CSIViewModelWebInterfaces/CSIVMClientEltState",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,e){function c(f,g){this._type=f;this._value=g}c.prototype.getType=function(){return this._type};c.prototype.getValue=function(){return this._value};c.prototype.StateType={Unknown:1,Suppress:2,Hidden:3,UpToDate:4,InWorkObject:5,Fixed:6,Published:7,Linear:8};var d=function(){return false};var a=function(h){var g=h.readInt8(e.stateType);var i=h.readBool(e.stateValue);var f=new c(g,i);return f};b.declareType({type:"CSIViewModelEltState",serialize:d,unserialize:a});return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientLineicPropertyParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,d){function e(f){this._LP=f||undefined}e.prototype.getLineicValues=function(){return this._LP};var c=function(){return false};var a=function(f){var g={DefaultLineType:f.readBool(d.DefaultLineType),LineType:f.readUint8(d.LineType),DefaultLineWidth:f.readBool(d.DefaultLineWidth),LineWidth:f.readUint8(d.LineWidth),DefaultPointType:f.readBool(d.DefaultPointType),PointType:f.readUint8(d.PointType)};return new e(g)};e.prototype.declareType=function(){b.declareType({type:"CSIViewModelLineicProperty",serialize:c,unserialize:a})};return e});define("DS/CSIViewModelWebInterfaces/CSIVMClientGraphicPropertyParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientColorOpacityParameter","DS/CSIViewModelWebInterfaces/CSIVMClientMaterialParameter","DS/CSIViewModelWebInterfaces/CSIVMClientLineicPropertyParameter"],function(b,e,g,h,f){function c(i){this._id=i.id||0;this._showMode=i.showMode||"";this._pickMode=i.pickMode||"";this._staticMaterial=i.staticMaterial||"";this._staticLook=i.staticLook||"";this._staticPickPriority=i.staticPickPriority||"";this._colorAndOpacity=i.colorOpacity||undefined;this._material=i.material||undefined;this._lineicProperty=i.lineicProperty||undefined;this._pickParent=i.pickParent||"";this._excludeFromBounding=i.excludeFromBounding||"";this._staticGeomType=i.staticGeomType||""}c.prototype.getShowMode=function(){return this._showMode};c.prototype.getPickMode=function(){return this._pickMode};c.prototype.getPickParent=function(){return this._pickParent};c.prototype.getExcludeFromBounding=function(){return this._excludeFromBounding};c.prototype.getStaticMaterial=function(){return this._staticMaterial};c.prototype.getStaticLook=function(){return this._staticLook};c.prototype.getStaticPickPriority=function(){return this._staticPickPriority};c.prototype.getColorAndOpacity=function(){return this._colorAndOpacity};c.prototype.getMaterial=function(){return this._material};c.prototype.getLineicProperty=function(){return this._lineicProperty};c.prototype.getStaticGeomType=function(){return this._staticGeomType};c.prototype.getId=function(){return this._id};var d=function(){return false};var a=function(i){var j={id:i.readUint32(e.idGP),showMode:i.readString(e.showMode),pickMode:i.readString(e.pickMode),staticMaterial:i.readString(e.staticMaterial),staticLook:i.readString(e.staticLook),staticPickPriority:i.readString(e.staticPickPriority),colorOpacity:i.readObject(e.RGBO,"CSIViewModelColorOpacity"),material:i.readObject(e.Material,"CSIViewModelMaterial"),lineicProperty:i.readObject(e.LineicProperty,"CSIViewModelLineicProperty"),pickParent:i.readString(e.pickParent),excludeFromBounding:i.readString(e.excludeFromBounding),staticGeomType:i.readString(e.staticGeomType)};return new c(j)};c.prototype.declareType=function(){b.declareType({type:"CSIViewModelGraphicProperty",serialize:d,unserialize:a});g.prototype.declareType();h.prototype.declareType();f.prototype.declareType()};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientDrawGroupParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,d){function e(f){this._geomType=f.geomType||this.geomTypeValues.unknown;this._start=f.start||0;this._count=f.count||0;this._primitives=f.primitives||null}e.prototype.geomTypeValues={unknown:0,edge:1,wire_Edge:2,boundary_Edge:3,sharp_Edge:4,smooth_Edge:5,hidden_Seam_Edge:6,boundary_Point:7,sharp_Point:8,smooth_Point:9,hidden_Seam_Point:10,surfacic_Point:11,free_Point:12,infinite_Face:13,face:14};e.prototype.getStart=function(){return this._start};e.prototype.getCount=function(){return this._count};e.prototype.getGeomType=function(){return this._geomType};e.prototype.getPrimitives=function(){return this._primitives};var c=function(){return false};var a=function(f){var g={geomType:d.valueGeomTypeValue.indexOf(f.readString(d.valueGeomType)),start:f.readUint32(d.valueStart),count:f.readUint32(d.valueCount),primitives:f.readObject(d.valuePrimitives,"CSIBinaryRangeParam")};return new e(g)};e.prototype.declareType=function(){b.declareType({type:"CSIDrawGroupParam",serialize:c,unserialize:a})};return e});define("DS/CSIViewModelWebInterfaces/CSIVMClientGeometryParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientBinaryRangeParameter","DS/CSIViewModelWebInterfaces/CSIVMClientDrawGroupParameter"],function(b,d,e,f){function g(h){this._buffers=h.buffers||[];this._dgs=h.dgs||[];this._binaryBuffer=h.binaryBuffer||null}g.prototype.bufferPartitionValues={unknown:1,vertexPositionArray:2,vertexIndexArray:3,vertexColorArray:4,vertexNormalArray:5,vertexBinormalArray:6,vertexTangentArray:7,vertexUvArray:8,vertexUv2Array:9,primitiveDecorationArray:10};g.prototype.getBufferPartition=function(h){return this._buffers[h-2]};g.prototype.getBuffer=function(){return this._binaryBuffer};g.prototype.getDrawGroups=function(){return this._dgs};var c=function(){return false};var a=function(m){var j=new Array(d.valueBufferPartition.length);for(var l=0;l<d.valueBufferPartition.length;l++){var k=d.valueBufferPartition[l];var h=m.readObject(k,"CSIBinaryRangeParam");if(h){j[l]=h}}var n={buffers:j,dgs:m.readObjectArray(d.valueDrawGroups,"CSIDrawGroupParam"),binaryBuffer:m.readBuffer(d.valueBuffer)};return new g(n)};g.prototype.declareType=function(){b.declareType({type:"CSIGeometryParam",serialize:c,unserialize:a});e.prototype.declareType();f.prototype.declareType()};return g});define("DS/CSIViewModelWebInterfaces/CSIVMClientSemanticDataParameter",["DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientError","DS/CSIViewModelWebInterfaces/CSIVMClientEltState"],function(b,c,a){function d(e){this._alias=e[b.valueAlias]||"";this._iconName=e[b.valueIconName]||"";this._iconModule=e[b.valueIconModule]||"";this._typeId=e[b.valueTypeId]||"";this._subTypeId=e[b.valueSubTypeId]||"";this._editCommandName=e[b.valueEditCommandName]||"";this._errors=e[b.valueErrors]||[];this._states=e[b.valueStates]||[]}d.prototype.getTypeId=function(){return this._typeId};d.prototype.getSubTypeId=function(){return this._subTypeId};d.prototype.getAlias=function(){return this._alias};d.prototype.getIconName=function(){return this._iconName};d.prototype.getIconModule=function(){return this._iconModule};d.prototype.getEditCommandName=function(){return this._editCommandName};d.prototype.getErrors=function(){return this._errors};d.prototype.getStates=function(){return this._states};return d});define("DS/CSIViewModelWebInterfaces/CSIVMClientOperation",["DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientParameterVersion","DS/CSIViewModelWebInterfaces/CSIVMClientSemanticDataParameter"],function(f,d,c){function a(){this._CreatedObjectsWithID=[];this._OperatedSubElements=[]}a.prototype.OperationType=f.valueOperations;function b(k,i,j,m,h,l,g){this._boundingSphere=k;this._initializers=i;this._geometries=j;this._dimension=m||this.dimensionValues.undefined;this._version=h||d.currentVersion;this._hasInfiniteGeometry=l||false;this._hasGeomDecorations=g||false}b.prototype.dimensionValues={undefined:-1,point:0,wire:1,surface:2,volume:3};b.prototype.getBoundingSphere=function(){return this._boundingSphere};b.prototype.getInitializers=function(){return this._initializers};b.prototype.getGeometries=function(){return this._geometries};b.prototype.getDimension=function(){return this._dimension};b.prototype.getVersion=function(){return this._version};b.prototype.hasInfiniteGeometry=function(){return this._hasInfiniteGeometry};b.prototype.hasGeomDecorations=function(){return this._hasGeomDecorations};a.prototype.GeometricalData=b;a.prototype.SemanticData=c;function e(g){this._matrix=g}e.prototype.getPositionMatrix=function(){return this._matrix};a.prototype.Attributes=e;a.prototype.getType=function(){return this._type};a.prototype.getOperatedObject=function(){return this._OperatedObject};a.prototype.getOperatedSubElements=function(){return this._OperatedSubElements};a.prototype.getOperandObject=function(){return this._OperandObject};a.prototype.getPreviousObject=function(){return this._PreviousObject};a.prototype.getGraphicProperties=function(){return this._GraphicProperties};a.prototype.getCustomData=function(){return this._CustomData};a.prototype.getGeometricalData=function(){return this._GeometricalData};a.prototype.getSemanticData=function(){return this._SemanticData};a.prototype.getSelectionGroups=function(){return this._Groups};a.prototype.getAttributes=function(){return this._Attributes};a.prototype.setCreatedObject=function(g){this._CreatedObject=g};a.prototype.addCreatedObjectWithID=function(g,h){this._CreatedObjectsWithID.push({object:g,ident:h})};return a});define("DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteDrawGroupParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,e){function c(f){this._infiniteGeomType=f.infiniteGeomType||this.infiniteGeomTypeValues.unknown;this._start=f.start||0;this._count=f.count||0}c.prototype.infiniteGeomTypeValues={unknown:0,origin:1,axis:2,infinite_plane:3,text:4,points:5};c.prototype.getStart=function(){return this._start};c.prototype.getCount=function(){return this._count};c.prototype.getInfiniteGeomType=function(){return this._infiniteGeomType};var d=function(){return false};var a=function(f){var g={infiniteGeomType:e.valueInfiniteGeomTypeValue.indexOf(f.readString(e.valueInfiniteGeomType)),start:f.readUint32(e.valueStart),count:f.readUint32(e.valueCount),};return new c(g)};c.prototype.declareType=function(){b.declareType({type:"CSIInfiniteDrawGroupParam",serialize:d,unserialize:a})};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteGeometryParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientBinaryRangeParameter","DS/CSIViewModelWebInterfaces/CSIVMClientInfiniteDrawGroupParameter"],function(b,f,g,d){function c(h){this._infiniteBuffers=h.infiniteBuffers||[];this._infdgs=h.infdgs||[];this._binaryBuffer=h.binaryBuffer||null}c.prototype.infiniteBufferPartitionValues={unknown:1,infiniteGeometryArray:2,additionalDataArray:3};c.prototype.getInfiniteBufferPartition=function(h){return this._infiniteBuffers[h-2]};c.prototype.getBuffer=function(){return this._binaryBuffer};c.prototype.getInfiniteDrawGroups=function(){return this._infdgs};var e=function(){return false};var a=function(l){var n=new Array(f.valueInfiniteBufferPartition.length);for(var k=0;k<f.valueInfiniteBufferPartition.length;k++){var j=f.valueInfiniteBufferPartition[k];var h=l.readObject(j,"CSIBinaryRangeParam");if(h){n[k]=h}}var m={infiniteBuffers:n,infdgs:l.readObjectArray(f.valueInfiniteDrawGroups,"CSIInfiniteDrawGroupParam"),binaryBuffer:l.readBuffer(f.valueBuffer)};return new c(m)};c.prototype.declareType=function(){b.declareType({type:"CSIInfiniteGeometryParam",serialize:e,unserialize:a});d.prototype.declareType()};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientMaterialBinaryBuffer",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(b,e){function c(f){this._data=f.data||null;this._bytelength=f.bytelength||0;this._name=f.name||""}c.prototype.getData=function(){return this._data};c.prototype.getByteLength=function(){return this._bytelength};c.prototype.getName=function(){return this._name};var d=function(){return false};var a=function(h){var g=h.readUint32(e.valueMatBufLength);var i={bytelength:g,data:h.readBuffer(e.valueMatBufData,g),name:h.readString(e.valueMatBufName)};var f=new c(i);return f};c.prototype.declareType=function(){b.declareType({type:"CSIViewModelMaterialBinaryBuffer",serialize:d,unserialize:a})};return c});define("DS/CSIViewModelWebInterfaces/CSIVMClientMaterialMessageParameter",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels","DS/CSIViewModelWebInterfaces/CSIVMClientMaterialJSON","DS/CSIViewModelWebInterfaces/CSIVMClientMaterialBinaryBuffer"],function(b,f,d,c){function g(h){this._MaterialMessage=h||undefined}g.prototype.getMaterialJSON=function(){return this._MaterialMessage.matJSON};g.prototype.getMaterialBuffers=function(){return this._MaterialMessage.matBuffers};var e=function(){return false};var a=function(h){var i={matJSON:h.readObject(f.MaterialJSON,"CSIViewModelMaterialJSON"),matBuffers:h.readObjectArray(f.MaterialBuffers,"CSIViewModelMaterialBinaryBuffer")||[]};return new g(i)};g.prototype.declareType=function(){b.declareType({type:"CSIViewModelMaterialMessage",serialize:e,unserialize:a});d.prototype.declareType();c.prototype.declareType()};return g});define("DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey",["DS/CSICommandBinder/CSICommandBinder","DS/CSIViewModelWebInterfaces/CSIVMClientParameterLabels"],function(c,e){function b(g,f){this._uuid=g;this._viewType=f}b.prototype.getUUID=function(){return this._uuid};b.prototype.getViewType=function(){return this._viewType};b.prototype.getNameSpaceId=function(){return this._nameSpaceId};b.prototype.ViewType={ViewUnknown:1,View3D:2,ViewSpecTree:3,ViewSpecTree2:4};b.prototype.process=function(i){var h=i.getProcessor();var g=h.getModel();var f=g.getOrCreateTreeKey(this._uuid,this._viewType);f._nameSpaceId=this._nameSpaceId;return f};var d=function(){return false};var a=function(i){var h=i.readString(e.uuid);var f=i.readInt8(e.viewType);var j=i.readString(e.nameSpaceId);var g=new b(h,f);g._nameSpaceId=j;return g};c.declareType({type:"CSIViewTreeKey",serialize:d,unserialize:a});return b});define("DS/CSIViewModelWebInterfaces/CSIVMCrossViewRequest",["DS/CSIViewModelWebInterfaces/CSIVMClientManagerList","DS/CSIViewModelWebInterfaces/CSIVMClientTreeKey"],function(e,b){function c(i){var h;if(i&&i.getIdentificationObject){h=i.getIdentificationObject()||undefined}return h}function f(k){var j=[];if(k!==undefined){var i=k.getNameSpace();j=i.getAllTreeKeys();var h=k.getDualObject();if(h!==undefined){i=h.getNameSpace();j=j.concat(i.getAllTreeKeys())}}return j}function a(j,k,i){if(j===undefined){false}var l={belongs:false,index:k.indexOf(j)};if(l.index!==-1){l.belongs=true}else{var h=j.getParents(i,j.stateMode.Tempo);h.forEach(function(n){var m=a(n,k,i);if(m.belongs){l.belongs=true;if((l.index===-1)||(m.index<l.index)){l.index=m.index}}})}return l}function g(C,l,x,y,m,t){if(C===undefined){return}var o=t;x.push(C);var p=C.getMainObject();if(!p){p=C}else{o=false}var r=p.getAdditionalObjects();var s=[];if(Array.isArray(r)&&r.length){s=r.concat(p);o=false}else{s.push(p)}var v;var n=s.length;var B=0,A=0;for(B=0;B<n;B++){v=s[B];if(v.getViewData(m)){var D=v.getParents(m,v.stateMode.Tempo);if(D&&D.length){var E=[];if(D.length>1&&o){var z=-1;D.forEach(function(i){var j=a(i,l,m);if(j.belongs&&(z===-1||j.index<=z)){if(j.index<z){E=[i]}else{E.push(i)}z=j.index}})}else{E=D}for(A=0;A<E.length;A++){g(E[A],l,x,y,m,o)}}else{if(!(v.isRoot())){throw"error : ident object with no parent but not root"}var h=[];for(A=x.length-1;A>=0;A--){var u=x[A].getAssociatedViewElt(m,v.stateMode.Tempo);if(u===undefined){throw"error : no view object associated with ident object"}h.push(u)}if(!h.length){throw"error : path vide"}var w;for(A=0;A<e._Managers.length&&!w;A++){var q=e._Managers[A]._impl.getModel();if((q.getTreeKey(m.getUUID()))!=undefined){w=e._Managers[A]._impl.getNotifier(m.getViewType())}}if(w===undefined){throw"error : no notifier found"}var k=w.createPathElement(h);if(k===undefined){throw"error : no pathElement returned by the notifier"}y.push(k)}}}x.pop()}function d(h){Object.defineProperty(this,"_pathElt",{value:h,configurable:false,writable:false})}Object.defineProperty(d.prototype,"diagnosisValues",{value:{succeeded:1,failed:2,noRepresentationInView:3},configurable:false,writable:false});Object.defineProperty(d.prototype,"getAvailableTreeKeys",{value:function(){var h,l;var n=this._pathElt.getLength();var k=0;for(k=0;(k<n)&&(l===undefined);k++){h=this._pathElt.getElement(k);l=c(h)}var m=f(l);if(m.length===1&&k<n){var j=m[0];if(j.getViewType()===b.prototype.ViewType.View3D){h=this._pathElt.getElement(k);l=c(h);if(l!==undefined){m=f(l)}}}return m},configurable:false,writable:false});Object.defineProperty(d.prototype,"getPathElementsInView",{value:function(m){var i=[];var h=[];var k=[];var o=this.diagnosisValues.failed;var l=m.treeKey.getViewType();var j,r,q;var n=this._pathElt.getLength();var p=n-1;while(j=this._pathElt.getElement(p)){r=c(j);if(r!==undefined){q=r.getDualObject(l);if(q!==undefined){r=q}k.push(r)}else{if(p===n-1){break}}p--}if(k.length){g(k.shift(),k,h,i,m.treeKey,true);if(i.length){o=this.diagnosisValues.succeeded}else{o=this.diagnosisValues.noRepresentationInView}}m.onAnswer({diagnosisValues:o,pathElements:i})},configurable:false,writable:false});return d});
define("DS/CfgCommons/CfgTraces",[],function(){var b={};b.typeMessage={CRITICAL_ERROR:5,ERROR:4,WARNING:3,INFO:2,DEBUG:1,};var f=true;var c=b.typeMessage.DEBUG;b.critical_error=function(g){if(c<=b.typeMessage.CRITICAL_ERROR){b.log(g,b.typeMessage.CRITICAL_ERROR)}};b.error=function(g){if(c<=b.typeMessage.ERROR){b.log(g,b.typeMessage.ERROR)}};b.warning=function(g){if(c<=b.typeMessage.WARNING){b.log(g,b.typeMessage.WARNING)}};b.info=function(g){if(c<=b.typeMessage.INFO){b.log(g,b.typeMessage.INFO)}};b.debug=function(g){if(c<=b.typeMessage.DEBUG){b.log(g,b.typeMessage.DEBUG)}};b.isDebugEnabled=function(){return f};b.getLevel=function(){return c};b.setLevel=function(g){c=g;b.info("logger at level "+d(g))};b.enable=function(){b.log("enabling LOGGER",b.typeMessage.INFO);f=true};b.disable=function(){b.log("disabling LOGGER",b.typeMessage.WARNING);f=false};b.log=function(g,i){if(!f){return}var h="";h=a(i);switch(i){case b.typeMessage.CRITICAL_ERROR:if(typeof(g)==="string"){console.error(Date.now()+" ----- "+h+" ----- "+g)}else{console.error(Date.now()+" ----- "+h+" ----- ");console.error(g)}break;case b.typeMessage.ERROR:if(typeof(g)==="string"){console.error(Date.now()+" ----- "+h+" ----- "+g)}else{console.error(Date.now()+" ----- "+h+" ----- ");console.error(g)}break;case b.typeMessage.WARNING:if(typeof(g)==="string"){console.warn(Date.now()+" ----- "+h+" ----- "+g)}else{console.warn(Date.now()+" ----- "+h+" ----- ");console.warn(g)}break;case b.typeMessage.INFO:if(typeof(g)==="string"){console.info(Date.now()+" ----- "+h+" ----- "+g)}else{console.info(Date.now()+" ----- "+h+" ----- ");console.info(g)}break;case b.typeMessage.DEBUG:if(typeof(g)==="string"){console.debug(Date.now()+" ----- "+h+" ----- "+g)}else{console.debug(Date.now()+" ----- "+h+" ----- ");console.debug(g)}break}};var e=[];b.getListMessages=function(){return e};b.setListMessages=function(g){e=g};b.pushMessage=function(g){e.push(g)};b.logDebugPurpose=function(g,i){b.log(g,i);var h=" ----- "+a(i)+" ----- "+g;b.pushMessage(h)};b.saveTraces=function(g){};var a=function(h){var g="";switch(h){case b.typeMessage.CRITICAL_ERROR:g="CRIT_ERROR";break;case b.typeMessage.ERROR:g="  ERROR   ";break;case b.typeMessage.WARNING:g="  WARNING ";break;case b.typeMessage.INFO:g="  INFO    ";break;case b.typeMessage.DEBUG:g="  DEBUG   ";break;default:break}return g};var d=function(h){var g="";switch(h){case b.typeMessage.CRITICAL_ERROR:g="CRITICAL_ERROR";break;case b.typeMessage.ERROR:g="ERROR";break;case b.typeMessage.WARNING:g="WARNING";break;case b.typeMessage.INFO:g="INFO";break;case b.typeMessage.DEBUG:g="DEBUG";break;default:break}return g};return b});define("DS/CfgCommons/Models/CfgPortfolioTemplate",["UWA/Class"],function(a){});define("DS/CfgCommons/CfgServicesUrlsCatalog",[],function(){var d="http://VBO1WIN764PLP.dsone.3ds.com:8080/3DRDF/";var g=d+"service/";var h=14;var c=g+"sparql?query=";var f=g+(h>=12?"rdfQL":"newMQL");var a="https://vdevpril604dsy.ux.dsone.3ds.com/3DSpace/resources/pfl/portfolio/solver/";var e="https://vdevpril604dsy.ux.dsone.3ds.com/3DSpace/resources/rulesolver/solver/";var b={};b.urlPath=d;b.urlEndPoint=d+"service/";b.urlSPARQLEndPoint=c;b.urlNEWMQLEndPoint=f;b.solverUrlEndPoint=a;b.solverUrlEndPoint_newLib=e;return b});define("DS/CfgCommons/CfgUtils",["DS/UIKIT/Mask","UWA/Drivers/Alone"],function(c,a){var b={};b.hasClass=function(e,d){return(" "+e.className+" ").indexOf(" "+d+" ")>-1};b.maskContainer=function(d){UWA.extendElement(d);c.mask(d)};b.unmaskContainer=function(d){UWA.extendElement(d);c.unmask(d)};b.mergeJSON=function(g,f){var d={};for(var e in g){d[e]=g[e]}for(var e in f){d[e]=f[e]}return d};b.selectHasOption=function(d,g){try{var f=0;for(f=0;f<d.childElementCount;f+=1){if(d.childNodes[f].getAttribute("value")===g){return true}}return false}catch(h){console.error("error while calling selectHasOption method - "+h.message);return false}};b.deepCompare=function(){var e,d,f,h;function g(i,k){var j;if(isNaN(i)&&isNaN(k)&&typeof i==="number"&&typeof k==="number"){return true}if(i===k){return true}if((typeof i==="function"&&typeof k==="function")||(i instanceof Date&&k instanceof Date)||(i instanceof RegExp&&k instanceof RegExp)||(i instanceof String&&k instanceof String)||(i instanceof Number&&k instanceof Number)){return i.toString()===k.toString()}if(!(i instanceof Object&&k instanceof Object)){return false}if(i.isPrototypeOf(k)||k.isPrototypeOf(i)){return false}if(i.constructor!==k.constructor){return false}if(i.prototype!==k.prototype){return false}if(f.indexOf(i)>-1||h.indexOf(k)>-1){return false}for(j in k){if(k.hasOwnProperty(j)!==i.hasOwnProperty(j)){return false}else{if(typeof k[j]!==typeof i[j]){return false}}}for(j in i){if(k.hasOwnProperty(j)!==i.hasOwnProperty(j)){return false}else{if(typeof k[j]!==typeof i[j]){return false}}switch(typeof(i[j])){case"object":case"function":f.push(i);h.push(k);if(!g(i[j],k[j])){return false}f.pop();h.pop();break;default:if(i[j]!==k[j]){return false}break}}return true}if(arguments.length<1){return true}for(e=1,d=arguments.length;e<d;e++){f=[];h=[];if(!g(arguments[0],arguments[e])){return false}}return true};b.arrayContainsElement=function(g,f){var d=-1;var e=0;for(e=0;e<g.length;e+=1){if(b.deepCompare(g[e],f)){return e}}return d};b.arrayContainAttrElement=function(g,f,d){var e=0;if(!f[d]){return -1}for(e=0;e<g.length;e+=1){if(g[e][d]==f[d]){return e}}return -1};return b});var SERVER_UPLOAD_LOCATION_FOLDER="C://RDF/uploaded/";var SERVER_DOWNLOAD_LOCATION_FOLDER="C://RDF/downloaded/";var TOMCAT_URL="https://lenov188dsy.dsone.3ds.com:8443/PortfolioService/rest/portfolio";var predefinedProcedures=true;define("DS/CfgCommons/CfgQueryServices",["DS/CfgCommons/CfgStore","DS/CfgCommons/Models/CfgPortfolioTemplate","UWA/Data"],function(c,a,b){});define("DS/CfgCommons/Components/CfgViewSearch/CfgViewSearch",["UWA/Class/View","DS/Core/ModelEvents","DS/UIKIT/Input/Toggle","DS/UIKIT/DropdownMenu","DS/UIKIT/Autocomplete","DS/UIKIT/Scroller","DS/CfgCommons/Components/CfgViewSearch/CfgViewSearch"],function(f,d,g,b,c,a){var e=f.extend({init:function(i){var h=UWA.clone(i,false);var j=this;var k={searchTextBox:"",enableCache:false,allowMultipleSearch:false,attributeSelected:{},selectedAttrContainer:"",data:{searchValue:""},currentSearchItems:[],};UWA.merge(h,k);this.modelEvent=new d();this.options=h;if(h.enableCache){this.options.data.savedAttributes=[]}this.modelEvent.subscribe({event:"onSaveInCache"},function(o){if(h.enableCache){if(UWA.typeOf(o.searchValue)=="array"){var l,n=false;for(var m=0;m<o.searchValue.length;m++){var p=j.isSaved(j.options.data.savedAttributes,o.searchValue[m],o.searchAttribute.id);if(!p){if(!n){l=j.getAttributeContainer(o.searchAttribute);n=true}j.saveSearch(o.searchValue[m],o.searchAttribute,l)}}}else{var p=j.isSaved(j.options.data.savedAttributes,o.searchValue,o.searchAttribute.id);if(!p){if(o.searchValue.length>0){j.saveSearch(o.searchValue,o.searchAttribute,null)}}}}});if(UWA.is(h.onSearch,"function")){this.modelEvent.subscribe({event:"OnSearchValueChange"},h.onSearch)}this._parent()},isSaved:function(k,l,i){for(var h=0;h<k.length;h++){if(k[h].attribute==i){if(this.options.allowMultipleSearch){if(k[h].value.indexOf(l.toLowerCase())!=-1){return true}}else{if((k[h].value.toString().toLowerCase()==l.toLowerCase())){return true}}}}return false},render:function(){var l=UWA.createElement("div",{"class":"searchContainer"});var k=UWA.createElement("div",{"class":"defaultContainer"}).inject(l);if(this.options.typeFilter){var h=UWA.createElement("div",{"class":"checksContainer"}).inject(l);this.createCheckbox(this.options.typeFilter,h)}var j=UWA.createElement("div",{"class":"textboxContainer"}).inject(k);this.createSearchBox().inject(j);this.textboxContainer=j;this.options.savedAttrContainer=(UWA.createElement("div",{"class":"selectedAttrContainer",styles:{"min-height":"20px","max-height":"75px",padding:"2px","margin-top":"5px"}}).inject(j));this.options.savedAttrContainer.hide();this.options.selectedAttrContainer=(UWA.createElement("div",{"class":"selectedAttrContainer"}));this.options.savedAttrContainer.setContent(this.options.selectedAttrContainer);this.options.savedSearchScroll=new a({element:this.options.savedAttrContainer}).inject(j);if(this.options.attributeFilter){var i=UWA.createElement("span",{"class":"fonticon fonticon-xx fonticon-menu attributeContainer"}).inject(k);this.createAttributeFilter(i)}return l},createSearchBox:function(){var i=this;var j=UWA.createElement("span",{"class":"fonticon fonticon-xx fonticon-cancel clearSpan"});j.addEvents({click:function(){i.resetInput(j)}});this.options.searchTextBox=new c({placeholder:"Search",noResultsMessage:""});this.options.searchTextBox.elements.inputContainer.addContent(j);this.options.searchTextBox.elements.inputContainer.addClassName("search-input");j.hide();this.getSearchBoxPlaceholder(this.options.attributeSelected,true);var h="";this.options.searchTextBox.elements.input.onkeyup=function(m){if(m.key=="Enter"){i.publishSaveInCache()}else{if(m.target.value.length>0){j.show();i.options.data.searchValue=m.target.value.trim();if(i.options.allowMultipleSearch){var l=i.getToken(m.target.value.trim());i.options.data.searchValue=JSON.parse(JSON.stringify(i.options.currentSearchItems));if(!l){i.options.data.searchValue.push(m.target.value.trim())}if(m.key==";"){m.currentTarget.addClassName("search-autocomplete-input");i.options.searchTextBox.resetInput();i.createTokenContainer(l,m.currentTarget.getParent());j.hide();i.getSearchBoxPlaceholder(i.options.attributeSelected,true)}}}else{if(i.options.allowMultipleSearch&&h.length==0&&(i.options.data.searchValue!=""||i.options.data.searchValue.length!=0)){if(m.key=="Backspace"){var k=m.target.parentElement.childNodes;i.removeToken(k[k.length-1]);k[k.length-1].remove();i.publishSearch()}}else{i.resetInput(j)}}i.publishSearch()}h=m.target.value.trim()};return this.options.searchTextBox},createAttributeFilter:function(h){var i=this;var j=new b({target:h,items:[],events:{onClick:function(l,k){i.setSelectedAttribute(j.items);i.publishSearch()}}});this.setSelectedAttribute(this.options.attributeFilter);j.addItem(this.options.attributeFilter);h.setStyles({color:"#368ec4",opacity:"1"});return j},getToken:function(h){var i=[];if(h.contains(";")){i=h.split(";");this.options.currentSearchItems.push(i[0])}return i[0]},removeToken:function(j){var i;if(j.valueOf()==MouseEvent){i=j.previousSibling.getText()}else{i=j.textContent}var h=this.options.currentSearchItems.indexOf(i);this.options.currentSearchItems.splice(h,1);this.options.data.searchValue.splice(h,1)},createTokenContainer:function(i,h){var l=this;var m=UWA.createElement("div",{"class":"tokenContainer"}).inject(h);var j=UWA.createElement("span",{text:i,"class":"tokenTextSpan"}).inject(m);var k=UWA.createElement("span",{"class":"fonticon fonticon fonticon-cancel clearSpan search-token-cancel"}).inject(m);k.addEvents({click:function(n){l.removeToken(n.currentTarget);n.currentTarget.parentElement.remove();l.publishSearch()}})},createSaveSearchTokenContainer:function(i,h){var l=this;var m=UWA.createElement("div",{"class":"savedTokenContainer"}).inject(h);var j=UWA.createElement("span",{text:i,"class":"saved-token-text-span"}).inject(m);var k=UWA.createElement("span",{"class":"fonticon fonticon fonticon-cancel clearSpan search-token-cancel"}).inject(m);k.hide();k.addEvents({click:function(o){l.removeSavedSearch(o.currentTarget.parentElement,h);if(h.children.length==0){var n=Array.prototype.indexOf.call(l.options.selectedAttrContainer.childNodes,h.parentElement.parentElement);l.options.data.savedAttributes.splice(n,1);parent=h.getParent();parent.parentElement.remove();l.setScrollbarHeight()}l.publishSearch()}});m.addEvents({mouseover:function(n){n.currentTarget.children[1].show()},mouseout:function(n){n.currentTarget.children[1].hide()}})},saveSearch:function(n,k,i){var m=this;if(this.options.allowMultipleSearch){this.options.data.savedAttributes[this.options.data.savedAttributes.length-1].value.push(n);this.createSaveSearchTokenContainer(n,i);this.options.savedSearchScroll.scrollToElement(i)}else{var h=n;if(k.text!=undefined){n=n+" ("+k.text+")"}var o=UWA.createElement("div",{"class":"itemContainer"}).inject(this.options.selectedAttrContainer);var l=UWA.createElement("span",{text:n,"class":"itemSelectionSpan"}).inject(o);var p=UWA.createElement("span",{"class":"fonticon fonticon-xx fonticon-cancel clearSpan clearSelectionSpan"}).inject(o);this.options.savedSearchScroll.scrollToElement(o);this.options.data.savedAttributes.push({value:h,attribute:k.id});var j=this.options.selectedAttrContainer.getChildren();j.forEach(function(q){q.lastChild.addEvents({click:function(r){m.removeSavedSearch(r.currentTarget.parentElement,m.options.selectedAttrContainer);m.publishSearch()}})})}this.options.savedAttrContainer.show();this.setScrollbarHeight();this.publishSearch()},getAttributeContainer:function(l){var k=this;var i=UWA.createElement("div",{"class":"itemContainer"}).inject(this.options.selectedAttrContainer);var j=UWA.createElement("div",{"class":"itemContainer"}).inject(i);var h=UWA.createElement("div",{id:"cid"+(this.options.data.savedAttributes.length+1),"class":"search-saved-container"}).inject(j);var n=UWA.createElement("div",{text:"("+l.text+")","class":"search-saved-text"}).inject(j);this.options.data.savedAttributes.push({value:[],attribute:l.id});var m=UWA.createElement("span",{"class":"fonticon fonticon-xx fonticon-cancel clearSpan clearSelectionSpan"}).inject(i);m.addEvents({click:function(p){var o=Array.prototype.indexOf.call(k.options.selectedAttrContainer.childNodes,h.parentElement.parentElement);k.options.data.savedAttributes.splice(o,1);p.currentTarget.parentElement.remove();k.setScrollbarHeight();k.publishSearch()}});return h},removeSavedSearch:function(m,h){var l=h.getChildren();for(var k=0;k<l.length;k++){if(m.getChildren()[0].getText()==l[k].getText()){if(this.options.allowMultipleSearch){var j=Array.prototype.indexOf.call(this.options.selectedAttrContainer.childNodes,h.parentElement.parentElement);this.options.data.savedAttributes[j].value.splice(k,1)}else{this.options.data.savedAttributes.splice(k,1)}}}m.remove();this.setScrollbarHeight()},setScrollbarHeight:function(){var h=((this.options.data.savedAttributes.length)*30)+"px";this.options.savedAttrContainer.setStyles({height:h});if(h=="0px"){this.options.savedAttrContainer.hide()}},getSearchBoxPlaceholder:function(i,h){var j="Search";if(h==true&&i!=null){if(i.text!=undefined){j=j+" ("+i.text+")"}}this.options.searchTextBox.elements.input.placeholder=j},publishSaveInCache:function(){this.modelEvent.publish({event:"onSaveInCache",data:{searchValue:this.options.data.searchValue,searchAttribute:this.options.attributeSelected}})},publishSearch:function(){this.modelEvent.publish({event:"OnSearchValueChange",data:this.options.data,})},resetInput:function(h){if(this.options.currentSearchItems.length==0){this.options.data.searchValue=""}else{this.options.data.searchValue=JSON.parse(JSON.stringify(this.options.currentSearchItems))}this.options.searchTextBox.resetInput();h.hide();this.getSearchBoxPlaceholder(this.options.attributeSelected,true);this.publishSearch()},setSelectedAttribute:function(j){this.options.data.searchAttribute="";this.options.attributeSelected=null;for(var h=0;h<j.length;h++){if(j[h].selectable==undefined){j[h]["selectable"]=true;j[h].name=j[h].id}if(j[h].selected==undefined){j[h]["selected"]=false}if(j[h].selected){this.options.attributeSelected=j[h];this.options.data.searchAttribute=j[h].name}}if(this.options.attributeSelected==null){this.options.data.searchAttribute=j[0].name;j[0].selected=true;this.options.attributeSelected=j[0]}this.getSearchBoxPlaceholder(this.options.attributeSelected,true)},createCheckbox:function(i,h){this.options.data.typeFilter={};var l=[],k=this;for(var j=0;j<i.length;j++){if(!i[j].selected){i[j].selected=false}l[j]=new g({type:"checkbox",className:"primary toggle-viewSearch",value:i[j].text,label:i[j].text,checked:i[j].selected,id:i[j].id,events:{onClick:function(m){k.options.data.typeFilter[m.target.id]=m.target.checked;k.publishSearch()},}}).inject(h);this.options.data.typeFilter[l[j].options.id]=l[j].options.checked}return l},getCurrentSearchText:function(){return this.options.data.searchValue},getCurrentAttribute:function(){if(this.options.attributeFilter){return this.options.attributeSelected}else{return undefined}},getTypeFilters:function(){if(this.options.typeFilter){return this.options.data.typeFilter}else{return undefined}}});return e});
define("DS/VisuEvents/ScreenEvent",["UWA/Class","DS/Visualization/ThreeJS_DS","DS/CoreEvents/Events"],function(c,d,a){var b=c.extend({init:function(e){this.type="Screen";this.view=null;this.path=null;this.event=e;this.isPrimary=false;this.state=b.State.NONE;this.startTime=0;this.currentTime=0;this.startPosition=new d.Vector2();this.currentPosition=new d.Vector2();this.lastPosition=new d.Vector2();this.deltaPosition=new d.Vector2();this.offsetPosition=new d.Vector2();this._startPosition=new d.Vector2();this._currentPosition=new d.Vector2();this._lastPosition=new d.Vector2();this._deltaPosition=new d.Vector2();this._offsetPosition=new d.Vector2();this.updateView(e);return this},setPrimary:function(e){this.isPrimary=e},update:function(e){this.currentTime=new Date().getTime();this.event=e;switch(e.type){case"mousedown":case"touchstart":case"mousewheel":case"DOMMouseScroll":this.state=b.State.BEGIN;this.startTime=this.currentTime;break;case"keydown":if(this.state===b.State.NONE){this.state=b.State.BEGIN;this.startTime=this.currentTime}break;case"mousemove":case"touchmove":this.state=b.State.MOVE;this.updateView(e);break;case"keyup":case"mouseup":case"touchend":this.state=b.State.END;break;case"mouseleave":case"mouseout":case"touchcancel":this.state=b.State.CANCEL;break;default:break}},updateView:function(e){var f;if(e.path&&e.path.length){f=e.path[0].__impl4cf1e782hg__||e.path[0].impl||e.path[0];this.path=e.path}else{if(e.target){f=e.target}else{if(e.srcElement){f=e.srcElement}}}if(this.view){this.startPosition.copy(this.getRelativePositionToView(this.startPosition,f));this.currentPosition.copy(this.getRelativePositionToView(this.currentPosition,f));this.lastPosition.copy(this.getRelativePositionToView(this.lastPosition,f))}this.view=f},nextState:function(){switch(this.state){case b.State.BEGIN:case b.State.MOVE:this.state=b.State.IDLE;break;case b.State.END:case b.State.CANCEL:default:this.state=b.State.NONE;break}},getType:function(){return this.type},getState:function(){return this.state},getView:function(){return this.view},getJSEvent:function(){return this.event},isInView:function(g){var e=g;if(!(g instanceof Array)){e=[g]}if(this.path){for(var k=0;k<e.length;k++){for(var h=0;h<this.path.length;h++){var l=this.path[h].__impl4cf1e782hg__||this.path[h].impl||this.path[h];var f=e[k].__impl4cf1e782hg__||e[k].impl||e[k];if(l===f){return true}}}}else{for(var k=0;k<e.length;k++){var m=this.view;while(m){if(m===e[k]){return true}m=m.parentNode}}}return false},getStartPosition:function(e){if(e){return this.getRelativePositionToView2(this._startPosition,e)}else{return this.getRelativePositionToView2(this._startPosition,this.view)}},getCurrentPosition:function(e){if(e){return this.getRelativePositionToView2(this._currentPosition,e)}else{return this.getRelativePositionToView2(this._currentPosition,this.view)}},getLastPosition:function(e){if(e){return this.getRelativePositionToView2(this._lastPosition,e)}else{return this.getRelativePositionToView2(this._lastPosition,this.view)}},getOffsetPosition:function(){return this._offsetPosition.clone()},getDeltaPosition:function(){return this._deltaPosition.clone()},getRelativePositionToView:function(i,e){var h,f;try{h=this.view.getBoundingClientRect()}catch(g){h={left:0,top:0}}try{f=e.getBoundingClientRect()}catch(g){f={left:0,top:0}}return new d.Vector2(i.x+h.left-f.left,i.y+h.top-f.top)},getRelativePositionToView2:function(h,e){var f;try{f=e.getBoundingClientRect()}catch(g){f={left:0,top:0}}return new d.Vector2(h.x-f.left,h.y-f.top)},});b.State={NONE:0,BEGIN:1,IDLE:2,MOVE:3,END:4,CANCEL:5};b.MouseButton={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2,WHEEL:3};b.KeyboardKey={SHIFT:16,CTRL:17,S:83};b.printMouseButton=function(e){switch(e){case b.MouseButton.LEFT:return"Left";case b.MouseButton.MIDDLE:return"Middle";case b.MouseButton.RIGHT:return"Right";case b.MouseButton.NONE:default:return""}};return UWA.namespace("THREEDS/Events/ScreenEvent",b)});define("VisuEvents/ScreenEvent",["DS/VisuEvents/ScreenEvent","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("VisuEvents/ScreenEvent");return b});define("DS/VisuEvents/MouseEvent",["DS/Visualization/ThreeJS_DS","DS/VisuEvents/ScreenEvent"],function(c,a){var b=a.extend({init:function(d,e){this._parent(e);this.type="Mouse";this.button=d;return this},update:function(g){this._parent(g);var f;try{f=this.view.getBoundingClientRect()}catch(e){f={left:0,top:0}}switch(g.type){case"mousedown":case"mousewheel":case"DOMMouseScroll":this.currentPosition.set(g.clientX-f.left,g.clientY-f.top);this.startPosition.copy(this.currentPosition);this.lastPosition.copy(this.currentPosition);this.deltaPosition.set(0,0);this.offsetPosition.set(0,0);this._currentPosition.set(g.clientX,g.clientY);this._startPosition.copy(this._currentPosition);this._lastPosition.copy(this._currentPosition);this._deltaPosition.set(0,0);this._offsetPosition.set(0,0);if(this.button===a.MouseButton.LEFT){this.setPrimary(true)}break;case"mousemove":var d=new c.Vector2(g.clientX-f.left,g.clientY-f.top);this.lastPosition.copy(this.currentPosition);this.deltaPosition.subVectors(d,this.currentPosition);this.currentPosition.copy(d);this.offsetPosition.subVectors(this.currentPosition,this.startPosition);d.set(g.clientX,g.clientY);this._lastPosition.copy(this._currentPosition);this._deltaPosition.subVectors(d,this._currentPosition);this._currentPosition.copy(d);this._offsetPosition.subVectors(this._currentPosition,this._startPosition);break;case"mouseup":case"mouseleave":case"mouseout":var d=new c.Vector2(g.clientX-f.left,g.clientY-f.top);this.lastPosition.copy(this.currentPosition);this.deltaPosition.subVectors(d,this.currentPosition);this.currentPosition.copy(d);this.offsetPosition.subVectors(this.currentPosition,this.startPosition);d.set(g.clientX,g.clientY);this._lastPosition.copy(this._currentPosition);this._deltaPosition.subVectors(d,this._currentPosition);this._currentPosition.copy(d);this._offsetPosition.subVectors(this._currentPosition,this._startPosition);break;default:break}},getButton:function(){return this.button}});return UWA.namespace("THREEDS/Events/MouseEvent",b)});define("VisuEvents/MouseEvent",["DS/VisuEvents/MouseEvent","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("VisuEvents/MouseEvent");return b});define("DS/VisuEvents/KeyboardEvent",["DS/Visualization/ThreeJS_DS","DS/VisuEvents/ScreenEvent"],function(b,a){var c=a.extend({init:function(d,e){this._parent(e);this.type="Keyboard";this.key=d;return this},update:function(d){this._parent(d)},getKey:function(){return this.key}});return UWA.namespace("THREEDS/Events/KeyboardEvent",c)});define("VisuEvents/KeyboardEvent",["DS/VisuEvents/KeyboardEvent","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("VisuEvents/KeyboardEvent");return b});define("DS/VisuEvents/TouchEvent",["DS/Visualization/ThreeJS_DS","DS/VisuEvents/ScreenEvent"],function(b,a){var c=a.extend({init:function(f,e,d){this._parent(e);this.type="Touch";this.identifier=f;this._traveledDist=0;if(this.event.touches&&this.event.touches[d]){this.view=this.event.touches[d].target}return this},update:function(d){this._parent(d);var g=null;for(var h=0;h<d.changedTouches.length;h++){var l=d.changedTouches[h];if(l.identifier===this.identifier){g=l;break}}var e;try{e=this.view.getBoundingClientRect()}catch(f){e={left:0,top:0}}switch(d.type){case"touchstart":this.currentPosition.set(g.clientX-e.left,g.clientY-e.top);this.startPosition.copy(this.currentPosition);this.lastPosition.copy(this.currentPosition);this.deltaPosition.set(0,0);this.offsetPosition.set(0,0);this._currentPosition.set(g.clientX,g.clientY);this._startPosition.copy(this._currentPosition);this._lastPosition.copy(this._currentPosition);this._deltaPosition.set(0,0);this._offsetPosition.set(0,0);this._traveledDist=0;break;case"touchmove":var j=new b.Vector2(g.clientX-e.left,g.clientY-e.top);this.lastPosition.copy(this.currentPosition);this.deltaPosition.subVectors(j,this.currentPosition);this.currentPosition.copy(j);this.offsetPosition.subVectors(this.currentPosition,this.startPosition);j.set(g.clientX,g.clientY);this._lastPosition.copy(this._currentPosition);this._deltaPosition.subVectors(j,this._currentPosition);this._currentPosition.copy(j);this._offsetPosition.subVectors(this._currentPosition,this._startPosition);var m=this._currentPosition.clone();m.sub(this._lastPosition);this._traveledDist+=m.length();break;case"touchend":case"touchcancel":var j=new b.Vector2(g.clientX-e.left,g.clientY-e.top);this.lastPosition.copy(this.currentPosition);this.deltaPosition.subVectors(j,this.currentPosition);this.currentPosition.copy(j);this.offsetPosition.subVectors(this.currentPosition,this.startPosition);j.set(g.clientX,g.clientY);this._lastPosition.copy(this._currentPosition);this._deltaPosition.subVectors(j,this._currentPosition);this._currentPosition.copy(j);this._offsetPosition.subVectors(this._currentPosition,this._startPosition);var k=new b.Vector2(this._currentPosition.x,this._currentPosition.y);k.sub(this._lastPosition);this._traveledDist+=k.length();break;default:break}},getIdentifier:function(){return this.identifier},getTraveledDistance:function(){return this._traveledDist}});return UWA.namespace("THREEDS/Events/TouchEvent",c)});define("VisuEvents/TouchEvent",["DS/VisuEvents/TouchEvent","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("VisuEvents/TouchEvent");return b});define("DS/VisuEvents/EventsManager",["UWA/Class","DS/CoreEvents/Events","DS/Visualization/ThreeJS_DS","DS/VisuEvents/ScreenEvent","DS/VisuEvents/MouseEvent","DS/VisuEvents/TouchEvent","DS/VisuEvents/KeyboardEvent","DS/Gestures/ClickGesture","DS/Gestures/HoldGesture","DS/Gestures/HoldMouseDownGesture","DS/Gestures/LongHoldGesture","DS/Gestures/EditGesture","DS/Gestures/LongEditGesture","DS/Gestures/SmartEditGesture","DS/Gestures/KeyDownGesture","DS/Gestures/KeyUpGesture","DS/Gestures/MouseDownGesture","DS/Gestures/MouseUpGesture","DS/Gestures/MouseMoveGesture","DS/Gestures/MouseOutGesture","DS/Gestures/MouseWheelGesture","DS/Gestures/TouchGesture","DS/Gestures/ReleaseGesture","DS/Gestures/TapGesture","DS/Gestures/PinchGesture","DS/Gestures/PanGesture","DS/Gestures/RotateGesture","DS/Gestures/PinchPanRotateGesture","DS/Gestures/SwipeGesture","DS/Gestures/SpreadGesture","DS/Gestures/DragGesture","DS/Gestures/PinchTapGesture","DS/Gestures/PrimaryPointerDownUniqueGesture","DS/Gestures/PrimaryPointerMoveUniqueGesture","DS/Gestures/PrimaryPointerUpUniqueGesture","DS/Gestures/PrimaryPointerClickGesture","DS/Gestures/PrimaryPointerDoubleClickGesture","DS/Gestures/DoubleClickGesture","DS/Gestures/DoubleTapGesture","DS/Gestures/DoublePinchTapGesture","DS/WebRecordEnabler/Adapter","DS/Gestures/BasicGesture","DS/Gestures/MediumHoldGesture"],function(b,i,L,d,z,x,E,o,Q,f,U,q,t,O,r,p,P,K,H,g,R,T,y,j,G,l,c,B,I,e,s,v,S,N,C,k,D,u,F,n,A,M,m){var J=0;var w=b.singleton({options:{},init:function(W){this._recordViewTable={};this._maxViewIndex=-1;this.options=this.defaultOptions;UWA.extend(this.options,W);this._parent(W);this._screenEvents=[];this._currentEvents=[];this._primaryTouches=[];this.debugEvents=0;this._currentTime=0;this._gestureRecognizers=[];this._gesturesNeedSort=false;this._gesturesMap=[];this._customGesturesMap=[];this._gesturesToRemove=[];this._ODTMode=false;this._ODTPiouPiouEvents=null;this._ODTPiouPiouDragsTab=[];this.nbGesturesToLoad=0;this.simulateTouch=false;this.simulateTouchCB=false;this.fingerDivs=[];this.fingers=[];this.fingerDst=new L.Vector2(100,100);this._leftButtonPressed=false;this._shiftKeyPressed=false;this._staticKeyPressed=false;var Z=this;this.isTouch=("ontouchstart" in window);this._isTouchSupported=!!window.TouchEvent;this.isPointer=!!window.PointerEvent;var V=false;try{var X=Object.defineProperty({},"passive",{get:function(){V=true}});window.addEventListener("test",null,X)}catch(Y){V=false}this.supportsPassive=V;this.currentButtons=0;this._onKeyDown=function(aa){Z._keyDown.call(Z,aa)};this._onKeyUp=function(aa){Z._keyUp.call(Z,aa)};this._onMouseMove=function(aa){Z._mouseMove.call(Z,aa)};this._onMouseDown=function(aa){Z._mouseDown.call(Z,aa)};this._onMouseUp=function(aa){Z._mouseUp.call(Z,aa)};this._onMouseOut=function(aa){Z._mouseOut.call(Z,aa)};this._onMouseWheel=function(aa){Z._mouseWheel.call(Z,aa)};this._onTouchMove=function(aa){Z._touchMove.call(Z,aa)};this._onTouchStart=function(aa){Z._touchStart.call(Z,aa)};this._onTouchEnd=function(aa){Z._touchEnd.call(Z,aa)};this._onPointerDown=function(aa){Z._pointerDown.call(Z,aa)};this._onPointerMove=function(aa){Z._pointerMove.call(Z,aa)};this._onPointerUp=function(aa){Z._pointerUp.call(Z,aa)};this._onPointerCancel=function(aa){Z._pointerCancel.call(Z,aa)};this.touchDetached=true;this.pointerDetached=true;this._isIE11=((new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!=null));this._isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;this._attachEvents();this._isInit=true;this.holdTime=500;this.mediumHoldTime=750;this.longHoldTime=1000},_attachEvents:function(){if(A.isReplaying()){return}UWA.Element.addEvent.call(document,"mouseleave",this._onMouseOut);document.addEventListener("mousedown",this._onMouseDown,true);document.addEventListener("mousemove",this._onMouseMove,true);document.addEventListener("mouseup",this._onMouseUp,true);document.addEventListener("mousewheel",this._onMouseWheel,this.supportsPassive?{passive:false,capture:true}:true);document.addEventListener("DOMMouseScroll",this._onMouseWheel,true);if(this._isTouchSupported){this._attachTouchEvents()}else{if(this.isPointer){this._attachPointerEvents()}}document.addEventListener("keydown",this._onKeyDown,true);document.addEventListener("keyup",this._onKeyUp,true);document.addEventListener("contextmenu",this._contextMenu,true);this._screenEvents=[]},_detachEvents:function(){if(A.isReplaying()){return}UWA.Element.removeEvent.call(document,"mouseleave",this._onMouseOut);document.removeEventListener("mousedown",this._onMouseDown,true);document.removeEventListener("mousemove",this._onMouseMove,true);document.removeEventListener("mouseup",this._onMouseUp,true);document.removeEventListener("mousewheel",this._onMouseWheel,this.supportsPassive?{passive:false,capture:true}:true);document.removeEventListener("DOMMouseScroll",this._onMouseWheel,true);this._detachTouchEvents();this._detachPointerEvents();document.removeEventListener("keydown",this._onKeyDown,true);document.removeEventListener("keyup",this._onKeyUp,true);document.removeEventListener("contextmenu",this._contextMenu,true);this._screenEvents=[]},_attachTouchEvents:function(){var V=this.supportsPassive?{capture:true,passive:false}:true;if(this.touchDetached){document.addEventListener("touchmove",this._onTouchMove,V);document.addEventListener("touchstart",this._onTouchStart,V);document.addEventListener("touchend",this._onTouchEnd,V);document.addEventListener("touchcancel",this._onTouchCancel,V);this.touchDetached=false}},_attachPointerEvents:function(){if(this.pointerDetached){document.addEventListener("pointerdown",this._onPointerDown,true);document.addEventListener("pointermove",this._onPointerMove,true);document.addEventListener("pointerup",this._onPointerUp,true);document.addEventListener("pointercancel",this._onPointerCancel,true);this.pointerDetached=false}},_detachTouchEvents:function(){var V=this.supportsPassive?{capture:true,passive:false}:true;if(!this.touchDetached){document.removeEventListener("touchmove",this._onTouchMove,V);document.removeEventListener("touchstart",this._onTouchStart,V);document.removeEventListener("touchend",this._onTouchEnd,V);document.removeEventListener("touchcancel",this._onTouchCancel,V);this.touchDetached=true}},_detachPointerEvents:function(){if(!this.pointerDetached){document.removeEventListener("pointerdown",this._onPointerDown,true);document.removeEventListener("pointermove",this._onPointerMove,true);document.removeEventListener("pointerup",this._onPointerUp,true);document.removeEventListener("pointercancel",this._onPointerCancel,true);this.pointerDetached=true}},setDebugEvents:function(V){this.debugEvents=V;for(var X=0;X<this._gestureRecognizers.length;X++){var W=this._gestureRecognizers[X];W.setDebugEvents(V)}},setSimulateTouch:function(V){this.simulateTouch=V;if(V&&!this.simulateTouchCB){var W=this;i.subscribe({event:"/VISU/onBasicEvent"},function(X){var Z=(X.from&&X.from.length)?X.from[0]:null;if(Z===null){return}if(Z.getType()==="Keyboard"){var Y=Z.getKey();if(Z.getState()===d.State.BEGIN){switch(Y){case d.KeyboardKey.SHIFT:W._shiftKeyPressed=true;break;case d.KeyboardKey.S:W._staticKeyPressed=true;break;default:break}}else{if(Z.getState()===d.State.END){switch(Y){case d.KeyboardKey.SHIFT:W._shiftKeyPressed=false;break;case d.KeyboardKey.S:W._staticKeyPressed=false;break;default:break}}}}});this.simulateTouchCB=true}},_setHoldTime:function(V){this.holdTime=V},_setMediumHoldTime:function(V){this.mediumHoldTime=V},_setLongHoldTime:function(V){this.longHoldTime=V},getHoldTime:function(){return this.holdTime},getMediumHoldTime:function(){return this.mediumHoldTime},getLongHoldTime:function(){return this.longHoldTime},getScreenEvents:function(){return this._screenEvents},getMouseEvents:function(aa,X,ab){var V=[];for(var Z=0;Z<this._screenEvents.length;Z++){var W=this._screenEvents[Z];if(!(W instanceof z)){continue}if(ab&&(W.getButton()===d.MouseButton.NONE)){continue}if((aa!==undefined)&&(aa!==null)&&(W.getButton()!==aa)){continue}if(X){if(X instanceof Array){if(X.length){for(var Y=0;Y<X.length;Y++){if(this._isInView(W,X[Y])){break}}if(Y===X.length){continue}}}else{if(!this._isInView(W,X)){continue}}}V.push(W)}return V},getMouseEventsByStates:function(ad,Y,Z){var ac=this.getMouseEvents(Y,Z);var ab=[];for(var X=0;X<ac.length;X++){var aa=ac[X];for(var W=0;W<ad.length;W++){var V=ad[W];if(aa.getState()===V){ab.push(aa);break}}}return ab},getPrimaryPointerEventsByStates:function(X,V){var W=this.getMouseEventsByStates(X,d.MouseButton.LEFT,V);var Z=this.getTouchEventsByStates(X,V);for(var Y=0;Y<Z.length;Y++){if(Z[Y].isPrimary){W.push(Z[Y])}}return W},getKeyboardEvents:function(Y){var V=[];for(var X=0;X<this._screenEvents.length;X++){var W=this._screenEvents[X];if(!(W instanceof E)){continue}if((Y!==undefined)&&(W.getKey()!==Y)){continue}V.push(W)}return V},getTouchEvents:function(X){var V=[];for(var Z=0;Z<this._screenEvents.length;Z++){var W=this._screenEvents[Z];if(!(W instanceof x)){continue}if(X){if(X instanceof Array){if(X.length){for(var Y=0;Y<X.length;Y++){if(this._isInView(W,X[Y])){break}}if(Y===X.length){continue}}}else{if(!this._isInView(W,X)){continue}}}V.push(W)}return V},getTouchEventsByStates:function(Y,X){var V=[];for(var aa=0;aa<this._screenEvents.length;aa++){var W=this._screenEvents[aa];if(!(W instanceof x)){continue}if(X){if(X instanceof Array){if(X.length){for(var Z=0;Z<X.length;Z++){if(this._isInView(W,X[Z])){break}}if(Z===X.length){continue}}}else{if(!this._isInView(W,X)){continue}}}for(var Z=0;Z<Y.length;Z++){var ab=Y[Z];if(W.getState()===ab){V.push(W);break}}}return V},getTouchEventById:function(X){for(var W=0;W<this._screenEvents.length;W++){var V=this._screenEvents[W];if(!(V instanceof x)){continue}if(V.identifier===X){return V}}return null},getGestureRecognizers:function(){return this._gestureRecognizers},addGestureRecognizer:function(W,V){if(V){W.setView(V)}this._gestureRecognizers.push(W);this._gesturesNeedSort=true;return W.id},removeGestureRecognizer:function(W){var V=this._gestureRecognizers.indexOf(W);if(V===-1){return false}this._gestureRecognizers.splice(V,1);return true},addCustomGesture:function(V,X,W){if(!X){return false}if(!V&&(V==="")){return false}this._customGesturesMap[V]={gst:X,params:W};return true},addEvent:function(V,X,Y){if(!V){return}var W=this._getGesture(V,X);if(W){return W.addCallback(Y)}return null},removeEvent:function(V,Y,Z){if(!V){return false}var X=false;var W=this._getGesture(V,Y,true);if(W){X=W.removeCallback(Z);X&&this._gesturesToRemove.push({view:V,action:Y,gst:W})}return X},removeEventFromToken:function(Y){var Z=Y.split("_");if(Z.length!==2){return false}var X=false;var W=null;for(var V=0;V<this._gestureRecognizers.length;V++){var aa=this._gestureRecognizers[V];if(aa.id===parseInt(Z[0])){W=aa;break}}if(W){X=W.removeCallbackFromToken(Y);X&&this._gesturesToRemove.push({view:W.view[0],action:W.action,gst:W})}return X},_getGesture:function(W,aa,ab){if(A.isActive()){if(typeof W==="string"){W=this._getViewFromRecordId(W);if(!W){return null}}else{this._registerRecordView(W)}}var Y=null;var Z=this._gesturesMap[aa];if(Z){if(W.id){Y=Z[W.id]}}if(!Y&&!ab){if(!W.id||(W.id==="")){W.id="___view___"+J;J++}var ac=w.GESTURES_MAP[aa];if(!ac){ac=this._customGesturesMap[aa];if(!ac){return}var X=this._loadCustomGesture(W,aa,ac.gst,ac.params);iCb(X);return}if(ac.require){var V=this._getGesture(W,ac.require);Y=this._loadGesture(W,aa,ac.gestureName,ac.params);Y.requireGesture(V)}else{Y=this._loadGesture(W,aa,ac.gestureName,ac.params)}}else{if(Y&&!ab){Y.setView(W)}}return Y},_loadGesture:function(W,Y,V,Z){if(!this._gesturesMap[Y]){this._gesturesMap[Y]=[]}var X=this._gesturesMap[Y][W.id];if(X){return X}if(Z.length){X=new V(Z[0])}else{X=new V()}X.setAction(Y);X.setView(W);X.setDebugEvents(this.debugEvents);this._gesturesMap[Y][W.id]=X;this.addGestureRecognizer(X);return X},_loadCustomGesture:function(V,X,Z,Y){if(!this._gesturesMap[X]){this._gesturesMap[X]=[]}var W=this._gesturesMap[X][V.id];if(W){return W}if(Y.length){W=new Z(Y[0])}else{W=new Z()}W.setAction(X);W.setView(V);W.setDebugEvents(this.debugEvents);this._gesturesMap[X][V.id]=W;this.addGestureRecognizer(W);return W},_isInView:function(aa,W){var Z=aa.getView();if(aa.path){for(var X=0;X<aa.path.length;X++){var Y=aa.path[X].__impl4cf1e782hg__||aa.path[X].impl||aa.path[X];var V=W.__impl4cf1e782hg__||W.impl||W;if(Y===V){return true}}}else{while(Z){if(Z===W){return true}Z=Z.parentNode}}return false},_addEvent:function(V){this._screenEvents.push(V)},_removeEvent:function(V){var W=this._screenEvents.indexOf(V);if(W===-1){return false}this._screenEvents.splice(W,1)},_removeEvents:function(W){for(var X=0;X<W.length;X++){var V=W[X];this._removeEvent(V)}},_detectGestures:function(){var W;this._sortGestures();for(W=0;W<this._gestureRecognizers.length;W++){var V=this._gestureRecognizers[W];V.detect(this._currentEvents)}for(W=0;W<this._gestureRecognizers.length;W++){var V=this._gestureRecognizers[W];V.execute()}for(W=0;W<this._gestureRecognizers.length;W++){var V=this._gestureRecognizers[W];V.update()}this._cleanRemovedGestures()},_cleanRemovedGestures:function(){if(this._gesturesToRemove.length){var W;var X=this;for(W=0;W<this._gesturesToRemove.length;W++){var V=this._gesturesToRemove[W];if(V.gst){V.gst._dispose(function(){if(!this.view.length||!this.view[0]){return}if(!this.view[0].id||(this.view[0].id==="")){return}if(!X._gesturesMap[this.action]){return}X.removeGestureRecognizer(this);delete X._gesturesMap[this.action][this.view[0].id]})}}this._gesturesToRemove=[]}},_dispose:function(){this._cleanRemovedGestures();this._screenEvents=[]},_sortGestures:function(){var aa=this._gesturesNeedSort;if(!aa){for(var Z=0;Z<this._gestureRecognizers.length;Z++){var Y=this._gestureRecognizers[Z];if(Y._needsUpdate){Y._needsUpdate=false;aa=true}}}if(aa){this._gestureRecognizers.sort(function(ac,ab){return ac.priority-ab.priority});for(var Z=0;Z<this._gestureRecognizers.length;Z++){this._gestureRecognizers[Z]._order=Z}for(var Z=0;Z<this._gestureRecognizers.length;Z++){var Y=this._gestureRecognizers[Z];if(Y.gestures.length){for(var W=0;W<Y.gestures.length;W++){var V=Y.gestures[W];if(Y._order<V._order){var X=V._order;V._order=Y._order;Y._order=X}}}}this._gestureRecognizers.sort(function(ac,ab){return ac._order-ab._order});this._gesturesNeedSort=false}},_triggerEvent:function(X,V){var Y={eventChannel:"/VISU/",eventType:"@onBasicEvent",eventID:"",from:X};i.publish({event:"/VISU/onBasicEvent",data:Y});if(((this.debugEvents===1)||(this.debugEvents===6))&&X){for(var W=0;W<X.length;W++){console.log(Y.eventType+" | "+X[W].getType()+" | "+X[W].getState())}}},_getMouseButton:function(V){switch(V){case -1:return d.MouseButton.NONE;case 0:return d.MouseButton.LEFT;case 1:return d.MouseButton.MIDDLE;case 2:return d.MouseButton.RIGHT;default:break}return false},_contextMenu:function(V){V.preventDefault()},_nextStateEvents:function(W){for(var V=0;V<W.length;V++){W[V].nextState()}},_keyDown:function(X){if(this._ODTMode&&!X._simul){return}if(this._ODTPiouPiouEnabled("keyboard")&&X.keyCode!==32){var W=this._ODTPiouPiouDragsTab.length&&this._ODTPiouPiouDragsTab[this._ODTPiouPiouDragsTab.length-1];if(!W||W.type!=="keyDown"||W.keyCode!==X.keyCode){this._ODTPiouPiouDragsTab.push({type:"keyDown",keyCode:X.keyCode})}}if(this._ODTPiouPiouDragsTab.length>0&&X.keyCode===32){console.log("DRAG DUMP:\n"+JSON.stringify(this._ODTPiouPiouDragsTab))}this._currentTime=new Date().getTime();var V=this.getKeyboardEvents(X.which);if(V.length){return;this._currentEvents=V}else{this._currentEvents=[new E(X.which,X)];this._addEvent(this._currentEvents[0])}this._currentEvents[0].update(X);this._triggerEvent(this._currentEvents,X);this._detectGestures();this._nextStateEvents(this._currentEvents);if(this.simulateTouch){this._simulateTouchEvent("start",X)}},_keyUp:function(W){if(this._ODTMode&&!W._simul){return}if(this._ODTPiouPiouEnabled("keyboard")&&W.keyCode!==32){this._ODTPiouPiouDragsTab.push({type:"keyUp",keyCode:W.keyCode})}this._currentTime=new Date().getTime();var V=this.getKeyboardEvents(W.which);if(V.length){this._currentEvents=V}this._currentEvents[0].update(W);this._triggerEvent(this._currentEvents,W);this._detectGestures();this._removeEvents(this._currentEvents);this._nextStateEvents(this._currentEvents);if(this.simulateTouch){this._simulateTouchEvent("end",W)}},_mouseDown:function(Y){if(this._ODTMode&&!Y._simul){return}if(this.simulateTouch){this._simulateTouchEvent("start",Y);return}if(this._isEventSimulatedFromTouch(Y)){return true}var X=this._getMouseButton(Y.button);this._currentTime=new Date().getTime();var W=this.getMouseEvents(X);if(W.length){this._currentEvents=[W[0]]}else{this._currentEvents=[new z(X,Y)];this._addEvent(this._currentEvents[0])}this._currentEvents[0].update(Y);this._triggerEvent(this._currentEvents,Y);this._detectGestures();this._nextStateEvents(this._currentEvents);if(this._ODTPiouPiouEnabled("mousedrag")){var V=this._currentEvents[0].getCurrentPosition(Y.target);this._ODTPiouPiouMouseDrag=[{x:V.x,y:V.y,timeStamp:0,button:Y.button}];this._ODTPiouPiouDragStart=(new Date()).getTime()}},_mouseMove:function(Z){if(this._ODTMode&&!Z._simul){return}if(this.simulateTouch){this._simulateTouchEvent("move",Z);return}if(this._isEventSimulatedFromTouch(Z)){return}this._currentTime=new Date().getTime();var X=this.getMouseEvents();if(!X.length){this._currentEvents=[new z(d.MouseButton.NONE,Z)];this._addEvent(this._currentEvents[0])}else{var aa=this.getMouseEvents(d.MouseButton.NONE);if(!aa.length){aa=new z(d.MouseButton.NONE,Z);this._addEvent(aa);X.push(aa)}this._currentEvents=X}for(var Y=0;Y<this._currentEvents.length;Y++){this._currentEvents[Y].update(Z)}this._triggerEvent(this._currentEvents,Z);this._detectGestures();this._nextStateEvents(this._currentEvents);if(this._ODTPiouPiouMouseDrag){var W=(new Date()).getTime()-this._ODTPiouPiouDragStart;var V=this._currentEvents[0].getCurrentPosition(Z.target);this._ODTPiouPiouMouseDrag.push({x:V.x,y:V.y,timeStamp:W,button:Z.button})}},_mouseUp:function(Z){if(this._ODTMode&&!Z._simul){return}if(this.simulateTouch){this._simulateTouchEvent("end",Z);return}if(this._isEventSimulatedFromTouch(Z)){return}this._currentTime=new Date().getTime();var Y=this._getMouseButton(Z.button);var X=this.getMouseEvents(Y);if(X.length){this._currentEvents=[X[0]];X[0].update(Z)}this._triggerEvent(this._currentEvents,Z);this._detectGestures();this._removeEvent(X[0]);this._nextStateEvents(this._currentEvents);if(this._ODTPiouPiouMouseDrag){var W=(new Date()).getTime()-this._ODTPiouPiouDragStart;var V=this._currentEvents[0].getCurrentPosition(Z.target);this._ODTPiouPiouMouseDrag.push({x:V.x,y:V.y,timeStamp:W,button:Z.button});this._ODTPiouPiouDragsTab.push(this._ODTPiouPiouMouseDrag);delete (this._ODTPiouPiouMouseDrag);delete (this._ODTPiouPiouDragStart)}},_mouseOut:function(X){if(this._ODTMode&&!X._simul){return}if(this.simulateTouch){return}if(this._isEventSimulatedFromTouch(X)){return}this._currentTime=new Date().getTime();var W=this._getMouseButton(-1);var V=this.getMouseEvents(W);if(!V.length){this._currentEvents=[new z(W,X)];this._addEvent(this._currentEvents[0])}else{this._currentEvents=[V[0]]}this._currentEvents[0].update(X);this._triggerEvent(this._currentEvents,X);this._detectGestures();this._nextStateEvents(this._currentEvents)},_mouseWheel:function(W){if(this._ODTMode&&!W._simul){return}if(this.simulateTouch){return}this._currentTime=new Date().getTime();var V=this.getMouseEvents(d.MouseButton.WHEEL);if(!V.length){this._currentEvents=[new z(d.MouseButton.WHEEL,W)];this._addEvent(this._currentEvents[0])}else{this._currentEvents=V}this._currentEvents[0].update(W);this._triggerEvent(this._currentEvents,W);this._detectGestures();this._removeEvent(this._currentEvents[0]);this._nextStateEvents(this._currentEvents)},_touchStart:function(Y,V){if(this._ODTMode&&!Y._simul){return}this._currentEvents=[];this._currentTime=new Date().getTime();if(!V){this._cancelBrokenTouches(Y)}var Z=Y.changedTouches;for(var W=0;W<Z.length;W++){var X=this.getTouchEventById(Z[W].identifier);if(X===null){X=new x(Z[W].identifier,Y,W);if(!this.getTouchEvents().length){X.setPrimary(true)}this._addEvent(X)}this._currentEvents.push(X);X.update(Y);this._detectFalseMouseEvents(X)}this._triggerEvent(this._currentEvents,Y);this._detectGestures();this._nextStateEvents(this._currentEvents)},_touchMove:function(X){if(this._ODTMode&&!X._simul){return}this._currentEvents=[];this._currentTime=new Date().getTime();var Y=X.changedTouches;for(var V=0;V<Y.length;V++){var Z=Y[V].identifier;var W=this.getTouchEventById(Z);this._currentEvents.push(W);W.update(X);this._detectFalseMouseEvents(W)}this._triggerEvent(this._currentEvents,X);this._detectGestures();this._nextStateEvents(this._currentEvents)},_touchEnd:function(X){if(this._ODTMode&&!X._simul){return}this._currentEvents=[];this._currentTime=new Date().getTime();var Y=X.changedTouches;for(var V=0;V<Y.length;V++){var Z=Y[V].identifier;var W=this.getTouchEventById(Z);this._currentEvents.push(W);W.update(X);this._detectFalseMouseEvents(W)}this._triggerEvent(this._currentEvents,X);this._detectGestures();this._removeEvents(this._currentEvents);this._nextStateEvents(this._currentEvents)},_touchCancel:function(X){if(this._ODTMode&&!X._simul){return}this._currentEvents=[];this._currentTime=new Date().getTime();var Y=X.changedTouches;for(var V=0;V<Y.length;V++){var Z=Y[V].identifier;var W=this.getTouchEventById(Z);this._currentEvents.push(W);W.update(X);this._detectFalseMouseEvents(W)}this._triggerEvent(this._currentEvents,X);this._detectGestures();this._removeEvents(this._currentEvents);this._nextStateEvents(this._currentEvents)},_pointerDown:function(V){var W={target:V.target,clientX:V.clientX,clientY:V.clientY};if(V._simul){W._simul=true}switch(V.pointerType){case"mouse":case"pen":return;W.type="mousedown";W.button=V.button;this.currentButtons=V.buttons;this._mouseDown(W);break;case"touch":W.type="touchstart";W.changedTouches=[{identifier:V.pointerId,clientX:V.clientX,clientY:V.clientY,target:V.target}];W.touches=[{identifier:V.pointerId,clientX:V.clientX,clientY:V.clientY,target:V.target}];this._touchStart(W,true);break}},_pointerMove:function(W){var X={target:W.target,clientX:W.clientX,clientY:W.clientY};if(W._simul){X._simul=true}switch(W.pointerType){case"mouse":case"pen":return;if(W.buttons!==this.currentButtons){if((W.buttons&1)>(this.currentButtons&1)){var V={type:"mousedown",button:0,target:W.target,clientX:W.clientX,clientY:W.clientY};this._mouseDown(V)}else{if((W.buttons&1)<(this.currentButtons&1)){var V={type:"mouseup",button:0,target:W.target,clientX:W.clientX,clientY:W.clientY};this._mouseUp(V)}}if((W.buttons&2)>(this.currentButtons&2)){var V={type:"mousedown",button:2,target:W.target,clientX:W.clientX,clientY:W.clientY};this._mouseDown(V)}else{if((W.buttons&2)<(this.currentButtons&2)){var V={type:"mouseup",button:2,target:W.target,clientX:W.clientX,clientY:W.clientY};this._mouseUp(V)}}if((W.buttons&4)>(this.currentButtons&4)){var V={type:"mousedown",button:1,target:W.target,clientX:W.clientX,clientY:W.clientY};this._mouseDown(V)}else{if((W.buttons&4)<(this.currentButtons&4)){var V={type:"mouseup",button:1,target:W.target,clientX:W.clientX,clientY:W.clientY};this._mouseUp(V)}}this.currentButtons=W.buttons}X.type="mousemove";this._mouseMove(X);break;case"touch":X.type="touchmove";X.changedTouches=[{identifier:W.pointerId,clientX:W.clientX,clientY:W.clientY,target:W.target}];X.touches=[{identifier:W.pointerId,clientX:W.clientX,clientY:W.clientY,target:W.target}];this._touchMove(X);break}},_pointerUp:function(V){var W={target:V.target,clientX:V.clientX,clientY:V.clientY};if(V._simul){W._simul=true}switch(V.pointerType){case"mouse":case"pen":return;W.type="mouseup";W.button=V.button;this.currentButtons=V.buttons;this._mouseUp(W);break;case"touch":W.type="touchend";W.changedTouches=[{identifier:V.pointerId,clientX:V.clientX,clientY:V.clientY,target:V.target}];W.touches=[{identifier:V.pointerId,clientX:V.clientX,clientY:V.clientY,target:V.target}];this._touchEnd(W);break}},_pointerCancel:function(V){var W={target:V.target,clientX:V.clientX,clientY:V.clientY};if(V._simul){W._simul=true}switch(V.pointerType){case"mouse":case"pen":return;case"touch":W.type="touchcancel";W.changedTouches=[{identifier:V.pointerId,clientX:V.clientX,clientY:V.clientY,target:V.target}];W.touches=[{identifier:V.pointerId,clientX:V.clientX,clientY:V.clientY,target:V.target}];this._touchCancel(W);break}},_detectFalseMouseEvents:function(X){var Y=this._primaryTouches;if(X.isPrimary){var V={x:X._startPosition.x,y:X._startPosition.y};Y.push(V);var W=(function(ab,Z){var aa=ab.indexOf(Z);if(aa>-1){ab.splice(aa,1)}}).bind(null,Y,V);setTimeout(W,2500)}},_isEventSimulatedFromTouch:function(X){var ab=this._primaryTouches;var V=X.clientX,ac=X.clientY;for(var aa=0;aa<ab.length;aa++){var Z=ab[aa];var Y=Math.abs(V-Z.x),W=Math.abs(ac-Z.y);if(Y<=25&&W<=25){return true}}},_cancelBrokenTouches:function(W){var aa=W.touches;var Y=this.getTouchEvents();var Z=[];if(Y.length>=aa.length){for(var X=0;X<Y.length;X++){var V=Y[X];if(!this._findTouchById(aa,V.getIdentifier())){Z.push(V);console.log("Broken touch event id="+V.getIdentifier())}}this._removeEvents(Z)}},_findTouchById:function(W,X){for(var V=0;V<W.length;V++){if(W[V].identifier===X){return true}}},_ODTPiouPiouEnabled:function(V){if(!this._ODTPiouPiouEvents){return false}if(this._ODTPiouPiouEvents==V||(this._ODTPiouPiouEvents instanceof Array&&this._ODTPiouPiouEvents.indexOf(V)>=0)){return true}return false},_simulateTouchEvent:function(ad,Y){var af={type:"touch"+ad};af.touches=[];af.changedTouches=[];af.pageX=Y.pageX;af.pageY=Y.pageY;af.offsetX=Y.offsetX;af.offsetY=Y.offsetY;af.target=Y.target;af.currentTarget=Y.currentTarget;if(Y.button===0){if(Y.type==="mousedown"){this._leftButtonPressed=true}else{if(Y.type==="mouseup"){this._leftButtonPressed=false}}}if((Y.type==="mousedown")&&(Y.button===0)){var ae={clientX:Y.clientX,clientY:Y.clientY,identifier:1,target:Y.target};this.fingers=[];this.fingers.push(ae);af.touches.push(ae);af.changedTouches.push(ae)}if((Y.type==="mouseup")&&(Y.button===0)){for(var ac=0;ac<this.fingers.length;ac++){af.changedTouches.push(this.fingers[ac])}this.fingers=[]}if((Y.type==="keydown")&&this._shiftKeyPressed&&(this.fingers.length===1)){af.touches.push(this.fingers[0]);var ae={clientX:this.fingers[0].clientX+this.fingerDst.x,clientY:this.fingers[0].clientY+this.fingerDst.y,identifier:2,target:this.fingers[0].target};this.fingers.push(ae);af.touches.push(ae);af.changedTouches.push(ae)}else{if(Y.type==="keydown"){return}else{if((Y.type==="keyup")&&!this._shiftKeyPressed&&(this.fingers.length===2)){af.changedTouches.push(this.fingers[1]);this.fingers.pop()}}}if((ad==="move")&&this._leftButtonPressed){var ae={clientX:Y.clientX,clientY:Y.clientY,identifier:1,target:this.fingers[0].target};if(this._staticKeyPressed){if(this.fingers[1]){this.fingerDst.set(this.fingers[1].clientX-ae.clientX,this.fingers[1].clientY-ae.clientY)}this.fingers[0]=ae}else{this.fingers[0]=ae;for(var ac=1;ac<this.fingers.length;ac++){this.fingers[ac].clientX=ae.clientX+this.fingerDst.x;this.fingers[ac].clientY=ae.clientY+this.fingerDst.y}}for(var ac=0;ac<this.fingers.length;ac++){af.touches.push(this.fingers[ac]);af.changedTouches.push(this.fingers[ac])}}var X=this.fingers.length;var aa=this.fingerDivs.length;for(var ac=0;ac<Math.max(aa,X);ac++){var ab=this.fingers[ac];var Z=this.fingerDivs[ac];if(ac<X){if(Z){Z.style.display="block"}else{var W="position:absolute; z-index:9999; left:0; top:0; width:14px; height:14px; border:solid 2px #777;background:rgba(255,255,255,.7); border-radius:20px; pointer-events:none;margin-top:-9px; margin-left:-9px;";Z=document.createElement("div");Z.setAttribute("style",W);document.body.appendChild(Z);this.fingerDivs[ac]=Z}Z.style.left=ab.clientX+"px";Z.style.top=ab.clientY+"px"}else{Z.style.display="none"}}if(af.touches.length||af.changedTouches.length){var V="_touch";V+=ad.charAt(0).toUpperCase();V+=ad.substr(1);this[V](af)}},disconnectFrom:function(X){for(var W=this._gestureRecognizers.length-1;W>=0;--W){var V=this._gestureRecognizers[W];if(V){V.removeView(X)}}},_registerRecordView:function(W){if(!W){return}var V=W._viewRecordId;if(V===undefined){V=W.nodeName+(this._maxViewIndex++);W._viewRecordId=V;this._recordViewTable[V]=W}},_getViewFromRecordId:function(V){return this._recordViewTable[V]},_record_registerObject:function(V,X,Y){var W=V._recordRegisterName;if(!W){W=X+"_"+(V.uniqueName||V.id);V._recordRegisterName=W;console.log("_record_registerObject: '"+W+"'");this._registeredObjects.push({name:W,object:V,elements:Y||[]})}if(X==="WebGLV6Viewer"){console.log("this._viewerList.push(viewer#"+V.id+");");this._viewerList.push(V)}return W}});w.EVENTS_MAP={touchstart:"pointerdown",mousedown:"pointerdown",touchend:"pointerup",mouseup:"pointerup",touchmove:"pointermove",mousemove:"pointermove"};w.GESTURES_MAP={onLeftClick:{gestureName:o,params:[d.MouseButton.LEFT]},onMiddleClick:{gestureName:o,params:[d.MouseButton.MIDDLE]},onRightClick:{gestureName:o,params:[d.MouseButton.RIGHT]},onHold:{gestureName:Q,params:[]},onHoldLeftMouseDown:{gestureName:f,params:[d.MouseButton.LEFT]},onHoldMiddleMouseDown:{gestureName:f,params:[d.MouseButton.MIDDLE]},onHoldRightMouseDown:{gestureName:f,params:[d.MouseButton.RIGHT]},onEdit:{gestureName:q,params:[]},onLongEdit:{gestureName:t,params:[]},onSmartEdit:{gestureName:O,params:[]},onKeyDown:{gestureName:r,params:[]},onKeyUp:{gestureName:p,params:[]},onLongHold:{gestureName:U,params:[]},onLeftMouseDown:{gestureName:P,params:[d.MouseButton.LEFT]},onMiddleMouseDown:{gestureName:P,params:[d.MouseButton.MIDDLE]},onRightMouseDown:{gestureName:P,params:[d.MouseButton.RIGHT]},onMouseMove:{gestureName:H,params:[]},onMouseOut:{gestureName:g,params:[]},onLeftMouseUp:{gestureName:K,params:[d.MouseButton.LEFT]},onMiddleMouseUp:{gestureName:K,params:[d.MouseButton.MIDDLE]},onRightMouseUp:{gestureName:K,params:[d.MouseButton.RIGHT]},onMouseWheel:{gestureName:R,params:[]},onPan:{gestureName:l,params:[]},onPinch:{gestureName:G,params:[]},onPinchPanRotate:{gestureName:B,params:[]},onSpread:{gestureName:e,params:[]},onPinchTap:{gestureName:v,params:[]},onRelease:{gestureName:y,params:[]},onRotate:{gestureName:c,params:[]},onSwipe:{gestureName:I,params:[]},onDrag:{gestureName:s,params:[]},onTap:{gestureName:j,params:[]},onTouch:{gestureName:T,params:[]},onPrimaryPointerDownUnique:{gestureName:S,params:[]},onPrimaryPointerMoveUnique:{gestureName:N,params:[]},onPrimaryPointerUpUnique:{gestureName:C,params:[]},onPrimaryPointerClick:{gestureName:k,params:[]},onPrimaryPointerDoubleClick:{gestureName:D,params:[],require:"onPrimaryPointerClick"},onLeftDoubleClick:{gestureName:u,params:[d.MouseButton.LEFT],require:"onLeftClick"},onMiddleDoubleClick:{gestureName:u,params:[d.MouseButton.MIDDLE],require:"onMiddleClick"},onRightDoubleClick:{gestureName:u,params:[d.MouseButton.RIGHT],require:"onRightClick"},onDoublePinchTap:{gestureName:n,params:[],require:"onPinchTap"},onDoubleTap:{gestureName:F,params:[],require:"onTap"},onMediumHold:{gestureName:m,params:[]}};if(window.DSWebRecord){w._registeredObjects=[];w._viewerList=[];A.TraceManager.setLevel(5);if(window.DSWebRecord.env.ADL_ODT_ViewerWait){var h=A.WaitManager.addWaitCondition(1000*1000,"Waiting for start");window.goRoger=function(){A.WaitManager.removeWaitCondition(h)}}var a=document.createElement("div");a.myName="customDiv";a.style.position="absolute";a.style.left="-100px";a.style.top="-100px";a.style.width="1px";a.style.height="1px";a.setAttribute("data-rec-id","WebGLV6ViewerEventsManager");document.body.appendChild(a);A.registerComparator("DS/WebVisuRecord/SceneGraphDumpWebVisuComparator");A.private_WebVisuRecordTarget=a;A.registerElement(a,"DS/WebVisuRecord/WebGLV6ViewerRec",true,function(){w._recordReplayReady=true;console.log("Adapter.registerElement CB!!")});setTimeout(function(){w._recordReplayReady=true},2000)}return UWA.namespace("THREEDS/VisuEventsManager",w)});define("VisuEvents/EventsManager",["DS/VisuEvents/EventsManager","DS/DSMigration/DSMigration"],function(b,a){a.deprecateModule("VisuEvents/EventsManager");return b});
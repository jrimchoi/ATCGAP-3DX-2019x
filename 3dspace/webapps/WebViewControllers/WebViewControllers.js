define("DS/WebViewControllers/WebMasterAndDetailViewController",["DS/WebViewControllersInfra/WebViewController","DS/WebViewControllersInfra/WebViewControllersSegue","css!DS/WebViewControllers/WebMasterAndDetailViewController.css"],function(c,b,a){var d=c.extend({layoutStyleTypes:{sidePanel:"SidePanelPresentationStyle",leftRight:"LeftRightPresentationStyle",rightLeft:"RightLeftPresentationStyle",topBottom:"TopBottomPresentationStyle"},init:function(f,e){this._parent(f,e);this._masterViewController=null;this._detailViewController=null;this._sidePanelController=null;this._masterView=null;this._presentationStyle=e.presentationStyle||this.layoutStyleTypes.leftRight;this._presentationStyleParams=e.presentationStyleParams||{};if(e){if(e.iVCTab){this._setMasterViewController(e.iVCTab[0]);this._setDetailViewController(e.iVCTab[1])}}},clean:function(){this._setMasterViewController(null);this._setDetailViewController(null);this._detailViewController=null;this._masterViewController=null;this._sidePanelController=null},view:function(){if(!this._view){this._view=UWA.createElement("div",{"class":"master-and-detail-container"})}return this._view},getTitle:function(){if(this._masterViewController){return this._masterViewController.getTitle()}else{return this._parent()}},getTabBarItem:function(){if(this._masterViewController){return this._masterViewController.getTabBarItem()}else{return this._parent()}},masterViewController:function(){return this._masterViewController},_setMasterViewController:function(e){if(this._masterViewController){this.removeChildViewController(this._masterViewController);this._masterViewController=null}if(null==this._masterViewController&&e){this.addChildViewController(e);this._masterViewController=e}},detailViewController:function(){return this._detailViewController},_setDetailViewController:function(e){if(this._detailViewController){this.removeChildViewController(this._detailViewController);this._detailViewController=null}if(null==this._detailViewController&&e){this.addChildViewController(e);this._detailViewController=e}},load:function(e){this._createMasterView();this.showViewController(this._masterViewController,e);this._createSideView();this.showDetailViewController(this._detailViewController,e);this._parent(e)},unload:function(){this._unloadMasterViewControllerView();this._destroyView(this._masterView);this._masterView=null;this._unloadDetailViewControllerView();if(this._presentationStyle==this.layoutStyleTypes.sidePanel){this._sidePanelController=null}else{if(this._presentationStyle==this.layoutStyleTypes.leftRight||this._presentationStyle==this.layoutStyleTypes.rightLeft||this._presentationStyle==this.layoutStyleTypes.topBottom){this._destroyView(this._rightView);this._rightView=null}}this._parent()},onResize:function(e){},_createSideView:function(){if(this._presentationStyle==this.layoutStyleTypes.leftRight){if(null==this._rightView){this._rightView=UWA.createElement("div",{styles:{width:this._presentationStyleParams.rightWidthPercent||"50%"},"class":"mad-detail-view",});this._rightView.inject(this.view())}}else{if(this._presentationStyle==this.layoutStyleTypes.rightLeft){if(null==this._rightView){this._rightView=UWA.createElement("div",{"class":"mad-detail-view",styles:{width:this._presentationStyleParams.rightWidthPercent||"50%",transform:"translateX(-100%)"},});this._rightView.inject(this.view())}}else{if(this._presentationStyle==this.layoutStyleTypes.topBottom){if(null==this._rightView){this._rightView=UWA.createElement("div",{styles:{width:"100%",height:"auto",display:"block"},});this._rightView.inject(this.view())}}}}},_destroySidePanelLayout:function(){},_createMasterView:function(){if(null==this._masterView){if(this._presentationStyle==this.layoutStyleTypes.sidePanel){this._masterView=UWA.createElement("div",{styles:{width:"100%",},"class":"master-view"})}else{if(this._presentationStyle==this.layoutStyleTypes.leftRight){this._masterView=UWA.createElement("div",{styles:{width:this._presentationStyleParams.leftWidthPercent||"50%",},"class":"master-view"})}else{if(this._presentationStyle==this.layoutStyleTypes.rightLeft){this._masterView=UWA.createElement("div",{styles:{width:this._presentationStyleParams.leftWidthPercent||"50%",transform:"translateX(100%)"},"class":"master-view"})}else{if(this._presentationStyle==this.layoutStyleTypes.topBottom){this._masterView=UWA.createElement("div",{styles:{width:"100%",height:"auto",display:"block"},})}}}}this._masterView.inject(this.view())}},_destroyView:function(e){if(e){this.view().removeChild(e);e=null}},_unloadMasterViewControllerView:function(){if(this._masterView&&this._masterViewController){this._masterViewController._presentingViewController=null}},showViewController:function(h,g){if(h){if(h!=this._masterViewController){var f=this._masterViewController;var e=false;if(f&&f._presentingViewController){var e=true}this._setMasterViewController(h);this._masterViewController._presentingViewController=this;if(e){this._replaceViewControllerInView(f,h,this._masterView,g)}else{this._replaceViewControllerInView(null,h,this._masterView,g)}}else{if(null==this._masterViewController._presentingViewController){this._masterViewController._presentingViewController=this;this._replaceViewControllerInView(null,this._masterViewController,this._masterView,g)}}}},_unloadDetailViewControllerView:function(){if(this._detailViewController){this._detailViewController._presentingViewController=null}},showDetailViewController:function(i,h){if(i){if(i!=this._detailViewController){var f=this._detailViewController;var e=false;if(f&&f._presentingViewController){var e=true}this._setDetailViewController(i);this._detailViewController._presentingViewController=this;if(this._presentationStyle==this.layoutStyleTypes.sidePanel){var j=new b("showDetailViewController  segue performed Programmatically by WebMasterAndDetailViewController",f,this._detailViewController);this._detailViewController.prepareForSegue(j);f.unload();this._detailViewController.load(h);var g=this._detailViewController.view();this._sidePanelController.setContent(g)}else{if(this._presentationStyle==this.layoutStyleTypes.leftRight||this._presentationStyle==this.layoutStyleTypes.rightLeft||this._presentationStyle==this.layoutStyleTypes.topBottom){if(e){this._replaceViewControllerInView(f,i,this._rightView,h)}else{this._replaceViewControllerInView(null,i,this._rightView,h)}}}}else{if(null==this._detailViewController._presentingViewController){this._detailViewController._presentingViewController=this;if(this._presentationStyle==this.layoutStyleTypes.sidePanel){if(this._sidePanelController){this._detailViewController.load(h);var g=this._detailViewController.view();this._sidePanelController.setContent(g)}}else{if(this._presentationStyle==this.layoutStyleTypes.leftRight||this._presentationStyle==this.layoutStyleTypes.rightLeft||this._presentationStyle==this.layoutStyleTypes.topBottom){this._replaceViewControllerInView(null,this._detailViewController,this._rightView,h)}}}}}},addChildViewController:function(e){e.setMasterAndDetailViewController(this);this._parent(e)},removeChildViewController:function(e){e.setMasterAndDetailViewController(null);this._parent(e)},});return d});define("DS/WebViewControllers/WebPushViewControllersSegue",["DS/WebViewControllersInfra/WebViewControllersSegue",],function(b){var a=b.extend({performSegue:function(d){this._parent();if(this._sourceViewController&&this._destinationViewController){var c=this._sourceViewController.navigationController();if(c){c.showViewController(this._destinationViewController,d)}else{console.log("performSegue:  no Navigation controller in the source VC");this._sourceViewController._replaceViewControllerInView(this._sourceViewController,this._destinationViewController,this._sourceViewController.view().parentNode,d,null)}}},});return a});define("DS/WebViewControllers/WebStackViewController",["DS/WebViewControllersInfra/WebViewController"],function(b){var a=b.extend({presentationStyleTypes:{vertical:"vertical",},init:function(f,e){this._parent(f,e);this._presentationStyle=this.presentationStyleTypes.vertical;this._datasForVC=[];if(e){if(e.viewControllers){var d=null;for(var c=0;c<e.viewControllers.length;c++){d=e.viewControllers[c];if(d){this.addChildViewController(d)}}}}},view:function(){if(!this._view){this._view=new UWA.Element("div",{"class":"stack-vc"})}return this._view},load:function(e){e=e||{};if(e){if(e.datasForVC){this._datasForVC=e.datasForVC}}this.view().empty();for(var d=0;d<this._viewControllers.length;d++){var c=d<this._datasForVC.length?this._datasForVC[d]:null;this._viewControllers[d].load(c);this._viewControllers[d].view().inject(this.view())}this._parent(e)},unload:function(){if(this._viewControllers){for(var d=0;d<this._viewControllers.length;d++){var c=this._viewControllers[d];if(c){c.unload()}}}this._parent()},presentationStyle:function(){return this._presentationStyle},setPresentationStyle:function(c){this._presentationStyle=c},});return a});define("DS/WebViewControllers/WebNextableViewController",["DS/WebViewControllersInfra/WebViewController","i18n!DS/WebViewControllers/assets/nls/WebNextableViewController"],function(b,a){var c=b.extend({init:function(e,d){this._parent(e,d);this._viewController=null;this._isBackable=false;this._isNextable=false;this._isLastStep=false;this._onBackCB=null;this._onNextCB=null;this._buttons=null;this._lastStepData=null;if(d){if(d.viewController){this._viewController=d.viewController;this.addChildViewController(this._viewController)}if(d.isBackable!=undefined){this._isBackable=d.isBackable}if(d.isNextable!=undefined){this._isNextable=d.isNextable}if(d.isLastStep!=undefined){this._isLastStep=d.isLastStep}if(d.onBackCB){this._onBackCB=d.onBackCB}if(d.onNextCB){this._onNextCB=d.onNextCB}if(d.lastStepData){this._lastStepData=d.lastStepData}}},getTitle:function(){return this._viewController.getTitle()},getTabBarItem:function(){return this._viewController.getTabBarItem()},load:function(d){this._viewController.load(d);this._createLayout();this._parent(d)},unload:function(){if(this._buttons){this._buttons.empty();this._buttons.remove()}this._parent()},_createLayout:function(){var h=[];var i=[];if(this._isBackable){h.push({tag:"div","class":"btn btn-default",html:[{tag:"span","class":"fonticon fonticon-left-open",styles:{"float":"none"}},{tag:"span",html:a.back,}],styles:{minWidth:"0px",fontSize:"14px",margin:"5px",marginRight:"0px",paddingLeft:"8px",width:"90px"},events:{click:function(){if(this._onBackCB){if(this._viewController&&this._viewController.canChangeTab){this._viewController.canChangeTab(this._onBackCB)}else{this._onBackCB()}}}.bind(this)}})}if(this._isNextable&&!this._isLastStep){h.push({tag:"div","class":"btn btn-default",html:[{tag:"span",html:this._isLastStep?a.finish:a.next,},{tag:"span","class":"fonticon fonticon-right-open",styles:{"float":"none",marginRight:"0px",marginLeft:"14px",}},],styles:{minWidth:"0px",fontSize:"14px",margin:"5px",marginLeft:"10px",marginRight:"0px",paddingRight:"0px",width:"90px"},events:{click:function(){if(this._onNextCB){this._onNextCB()}}.bind(this)}})}if(this._isLastStep&&this._lastStepData&&this._lastStepData.createButton){var e=this._lastStepData.createButton();e.addEvent("click",function(){if(this._onNextCB){this._onNextCB()}}.bind(this));h.push(e)}h.push({tag:"span",styles:{content:"",display:"block",height:"0",clear:"both",overflow:"hidden",visibility:"hidden"}});i.push({tag:"span",styles:{content:"",display:"block",height:"0",clear:"both",overflow:"hidden",visibility:"hidden"}});this._buttons=new UWA.Element("div",{id:"nextableVcButtons",styles:{margin:"auto",position:"relative",maxWidth:"1170px"},html:{tag:"div",styles:{position:"absolute",bottom:"130px",right:"10",},html:[{tag:"div",html:i},{tag:"div","class":"pull-right",html:h}]}});var d=document.getElementsByClassName("wp-tabview-panel");if(d&&d[0]){this._buttons.inject(d[0])}else{this._buttons.inject(document.body)}var g=document.getElementsByClassName("wp-tab-panel selected");var f=document.getElementsByClassName("module moduleUwa windowed-view");if(g&&g[0]){g[0].style.minHeight="100%";g[0].style.position="relative"}else{if(f&&f[0]){f[0].style.position="relative"}}var j=new UWA.Element("div",{styles:{marginBottom:"180px"},html:[this._viewController.view(),]});j.inject(this.view())},});return c});define("DS/WebViewControllers/WebTabBar",["DS/WebViewControllersInfra/WebViewController","css!DS/WebViewControllers/WebInfraUI.css"],function(c,a){var b=c.extend({init:function(d){this._parent(d);this._items=[];this._onOptionChange=this._onOptionChange.bind(this);this._activeIndex=-1;this._onOptionChangeCB=null;if(d){this._onClickCB=d.onClickCB;this._onOptionChangeCB=d.onOptionChange}},load:function(h){this._parent(h);var j=this._activeIndex!=-1?this._activeIndex:0;if(h){j=h.activeIndex!=undefined?h.activeIndex:0;if(h.items){this._items=h.items}}var e=this;var g=[];for(var f=0;f<this._items.length;f++){this._items[f].setOnOptionChangeCallback(this._onOptionChange);g.push({tag:"div","class":"tab-bar-item"+(j==f?" current":""),html:this._items[f],events:{click:function(i){e._onClick(i,this)}}})}var d=UWA.createElement("div",{"class":"tab-bar-view-3dprint",styles:{width:"250px",height:"100%",},html:g});d.inject(this.view())},unload:function(){this._items=[];this._parent()},setActiveTab:function(d){this._activeIndex=d;var e=this.view().querySelector(".tab-bar-item.current");if(e){e.removeClassName("current")}if(d!=-1){if(this.view().querySelector(".tab-bar-item:nth-child("+(d+1)+")")){this.view().querySelector(".tab-bar-item:nth-child("+(d+1)+")").addClassName("current")}}},_onClick:function(f,d){if(this._onClickCB){this._onClickCB([].indexOf.call(d.parentNode.children,d))}},_onOptionChange:function(d){if(this._onOptionChangeCB){this._onOptionChangeCB()}},});return b});define("DS/WebViewControllers/WebTopBottomViewControllersSegue",["DS/WebViewControllersInfra/WebViewControllersSegue",],function(b){var a=b.extend({performSegue:function(d){this._parent();if(this._sourceViewController&&this._destinationViewController){var c=this._sourceViewController.navigationController();if(c){d.animationType="TopBottom";d.animationFunction=this._runAnimation;c.showViewController(this._destinationViewController,d)}else{console.log("performSegue:  no Navigation controller in the source VC")}}},_runAnimation:function(d,m,e,l){var h=m.view();var j=d.view();e.style.overflow="hidden";var f=300;var c=null;var g=j.clientHeight/f;j.style.transform="translate(0,"+(-j.clientHeight)+"px)";h.style.transform="translate(0,"+(-j.clientHeight)+"px)";var k=-j.clientHeight;var i=function(o){var n;if(c===null){c=o}n=o-c;j.style.transform="translate(0,"+(k+(g*n))+"px)";h.style.transform="translate(0,"+(k+(g*n))+"px)";if(n<f){requestAnimationFrame(i)}else{if(e){m.view().remove();j.style.transform="";e.style.overflow="visible"}if(l){l()}}};requestAnimationFrame(i)},});return a});define("DS/WebViewControllers/WebLeftRightViewControllersSegue",["DS/WebViewControllersInfra/WebViewControllersSegue",],function(a){var b=a.extend({performSegue:function(d){d=d||{};this._parent();if(this._sourceViewController&&this._destinationViewController){var c=this._sourceViewController.navigationController();if(c){d.animationType="LeftRight";d.animationFunction=this._runAnimation;c.showViewController(this._destinationViewController,d)}else{console.log("performSegue:  no Navigation controller in the source VC")}}},_runAnimation:function(d,m,e,l){var h=m.view();h.style.position="";var j=d.view();j.style.position="relative";j.style.transform="translate("+(-j.clientWidth)+"px, "+(-h.clientHeight)+"px)";e.style.overflow="hidden";var f=300;var c=null;var g=j.clientWidth/f;var k=j.clientWidth;var i=function(o){var n;if(c===null){c=o}n=o-c;j.style.transform="translate("+(-k+(g*n))+"px, "+(-h.clientHeight)+"px)";h.style.transform="translate("+(g*n)+"px,0px)";if(n<f){requestAnimationFrame(i)}else{if(e){j.style.transform="";e.style.overflow="visible"}if(l){l()}}};requestAnimationFrame(i)},});return b});define("DS/WebViewControllers/WebTabBarItem",["UWA/Controls/Abstract"],function(b){var a=b.extend({init:function(c){this._parent(c);this._className="";if(c){if(this.options.className){this._className=this.options.className||""}}},setOption:function(c,d){this._onOptionChange(c,d)},setOnOptionChangeCallback:function(c){this._onOptionChangeCB=c},_onOptionChange:function(c,d){if(this._onOptionChangeCB){this._onOptionChangeCB({option:c,value:d})}}});return a});define("DS/WebViewControllers/WebRightLeftViewControllersSegue",["DS/WebViewControllersInfra/WebViewControllersSegue",],function(a){var b=a.extend({performSegue:function(d){this._parent();if(this._sourceViewController&&this._destinationViewController){var c=this._sourceViewController.navigationController();if(c){d.animationType="RightLeft";d.animationFunction=this._runAnimation;c.showViewController(this._destinationViewController,d)}else{console.log("performSegue:  no Navigation controller in the source VC")}}},_runAnimation:function(d,m,e,l){var h=m.view();h.style.position="";var j=d.view();j.style.position="relative";j.style.transform="translate("+h.clientWidth+"px, "+-h.clientHeight+"px)";e.style.overflow="hidden";var f=300;var c=null;var g=j.clientWidth/f;var k=j.clientWidth;var i=function(o){var n;if(c===null){c=o}n=o-c;j.style.transform="translate("+(k-(g*n))+"px, "+-h.clientHeight+"px)";h.style.transform="translate("+(-(g*n))+"px,0px)";if(n<f){requestAnimationFrame(i)}else{if(e){m.view().remove();j.style.transform="";e.style.overflow="visible"}if(l){l()}}};requestAnimationFrame(i)},});return b});define("DS/WebViewControllers/WebBottomTopViewControllersSegue",["DS/WebViewControllersInfra/WebViewControllersSegue",],function(b){var a=b.extend({performSegue:function(d){this._parent();if(this._sourceViewController&&this._destinationViewController){var c=this._sourceViewController.navigationController();if(c){d.animationType="BottomTop";d.animationFunction=this._runAnimation;c.showViewController(this._destinationViewController,d)}else{console.log("performSegue:  no Navigation controller in the source VC")}}},_runAnimation:function(d,l,e,k){var h=l.view();var j=d.view();e.style.overflow="hidden";var f=300;var c=null;var g=j.offsetTop/f;var i=function(n){var m;if(c===null){c=n}m=n-c;j.style.transform="translate(0,"+-g*m+"px)";h.style.transform="translate(0,"+-g*m+"px)";if(m<f){requestAnimationFrame(i)}else{if(e){l.view().remove();j.style.transform="";e.style.overflow="visible"}if(k){k()}}};requestAnimationFrame(i)},});return a});define("DS/WebViewControllers/WebNavigationController",["DS/WebViewControllersInfra/WebViewController","DS/Web2DViews/WebNavigationBar","DS/WebViewControllers/WebLeftRightViewControllersSegue"],function(c,b,d){var a=c.extend({layoutStyleTypes:{absoluteNavBar:"absoluteNavBarPresentationStyle",relativeNavBar:"relativeNavBarPresentationStyle",},init:function(h,g){this._parent(h,g);this._topViewController=null;this._navigationBar=null;this._NavBarBackButtonToken=null;this._rootViewController=null;this._navigationBarHidden=false;this._presentationStyle=this.layoutStyleTypes.absoluteNavBar;this._navBarClassName="";if(g){if(g.presentationStyle){this._presentationStyle=g.presentationStyle}if(g.navBarClassName){this._navBarClassName=g.navBarClassName}if(g.iVCTab&&g.iVCTab.length>=1){var f=null;var e=0;var j=g.iVCTab.length;for(e=0;e<j;e++){f=g.iVCTab[e];if(f){this.addChildViewController(f)}}}}this._updateNavigationBar()},clean:function(){this._rootViewController=null;this._topViewController=null;this._parent()},rootViewController:function(){return this._rootViewController},topViewController:function(){return this._topViewController},load:function(e){if(this._rootViewController){this.showViewController(this._rootViewController,e)}else{UWA.log("Navigation Controller: startNavigationController error")}this._parent(e)},unload:function(){var e=this.topViewController();if(e){this._UnloadViewController(e)}if(this._navigationBar){this._navigationBar.unsubscribe(this._NavBarBackButtonToken)}if(this._navigationBar&&this._navigationBar.view()&&this._navigationBar.view().parentNode){this.view().removeChild(this._navigationBar.view())}this._parent()},onRefresh:function(e){this.unload();var f={};this.load(e,f)},onResize:function(e){var f=this.topViewController();if(f){f.onResize(e)}else{UWA.log("Navigation Controller: onResize no ViewControllers")}},showViewController:function(h,g){g=g||{};if(this._viewControllers&&h&&h!=this._topViewController){var f=this._topViewController;var e=this._viewControllers.lastIndexOf(h);if(-1==e){this.addChildViewController(h)}else{this._viewControllers.splice(e,1);this._viewControllers.push(h)}this._replaceViewControllerInView(f,h,this.view(),g,{animationType:g.animationType,animationFunction:g.animationFunction});if(f){f._presentingViewController=null;this._presentedViewController=null}h._presentingViewController=this;this._presentedViewController=h;this._topViewController=h;if(this._topViewController){var i=this._topViewController.shouldDisplayNavigationBar();this.setNavigationBarHidden(!i)}this._updateNavigationBar()}},_UnloadViewController:function(e){if(e&&e==this._topViewController){this._replaceViewControllerInView(e,null,this.view());e._presentingViewController=null;this._presentedViewController=null;this._topViewController=null}},popViewController:function(){var i=this._viewControllers.length;if(i>0&&this._rootViewController!=this._topViewController){var h=this._viewControllers.length;var e=h-1;var g=this._viewControllers[e];var f=h-2;var j=this.getViewControllerFromIndex(f);var g=this._topViewController;var e=this._viewControllers.length-1;if(g&&g!=j&&e>0){this._viewControllers.splice(e,1);this._viewControllers.unshift(g)}var k=new d("NavigationControllerBackSegue",g,j);k.performSegue()}},addChildViewController:function(e){if(this._viewControllers.length==0){this._rootViewController=e}e.setNavigationController(this);this._parent(e)},removeChildViewController:function(e){e.setNavigationController(null);this._parent(e)},_updateNavigationBar:function(){this._manageNavigationBar()},setNavigationBarHidden:function(e){this._navigationBarHidden=e},_displayNavigationBar:function(){if(!this._navigationBar){this._navigationBar=new b({presentationStyle:this._presentationStyle,className:this._navBarClassName});if(this._navigationBar){this._navigationBar.view().inject(this.view())}if(this._navigationBar){var e=this;this._NavBarBackButtonToken=this._navigationBar.onBackButtonPressed(function(){e.popViewController()})}}},_hideNavigationBar:function(){if(this._navigationBar){if(this._NavBarBackButtonToken){this._navigationBar.unsubscribe(this._NavBarBackButtonToken);this._NavBarBackButtonToken=null}if(this._navigationBar.view()&&this._navigationBar.view().parentNode){this.view().removeChild(this._navigationBar.view())}this._navigationBar.destroy();this._navigationBar=null}},_manageNavigationBar:function(){if(this._navigationBarHidden==true){this._hideNavigationBar()}else{this._displayNavigationBar();this.updateNavigationBarTitle();this._managePreviousButton()}},_managePreviousButton:function(){if(this._navigationBar){var e=true;if(this._rootViewController==this._topViewController){e=false}this._navigationBar.displayPreviousButton(e)}},updateNavigationBarTitle:function(){if(this._topViewController){var e=this._topViewController.getTitle();this._navigationBar.setTitle(e)}},onShareButtonPressed:function(e){var f=this.topViewController();if(f&&f.onShareButtonPressed){if(f&&f.onShareButtonPressed){f.onShareButtonPressed(e)}}}});return a});define("DS/WebViewControllers/WebTabBarItemWithState",["DS/WebViewControllers/WebTabBarItem"],function(b){var a=b.extend({init:function(c){this._parent(c);this._title="";this._state=a.NONE;this._stateIsBlocked=false;this._stateAfterUnblock=null;this._stateTimeoutId=0;if(c){if(this.options.title){this._title=c.title}if(this.options.state!=undefined){this._state=c.state}}this._buildSkeleton();this.setState(this._state)},_buildSkeleton:function(){this._stateDiv=new UWA.Element("span",{});this.elements.container=UWA.Element("div",{"class":"list-cell-state-3dprint "+this._className,html:[this._stateDiv,{tag:"span","class":"tab-bar-item-text",html:this._title}]})},setState:function(d){if(this._stateIsBlocked&&d!==a.LOADING){this._stateAfterUnblock=d}else{if(d===a.CHECKED){this._stateDiv.className="state fonticon fonticon-check valid"}else{if(d===a.UNCHECKED){this._stateDiv.className="state unchecked fonticon fonticon-record "}else{if(d===a.LOADING){this._stateDiv.className="state fonticon fonticon-arrows-ccw loading";if(this._stateIsBlocked){clearTimeout(this._stateTimeoutId)}var c=2000;this._stateIsBlocked=true;this._stateTimeoutId=setTimeout(function(){this._stateIsBlocked=false;if(this._stateAfterUnblock!=null){this.setState(this._stateAfterUnblock);this._stateAfterUnblock=null}}.bind(this),c)}else{this._stateDiv.className=""}}}}this._state=d},getState:function(){return this._state},_onOptionChange:function(c,d){if(c==="state"){this.setState(d)}this._parent(c,d)}});a.NONE=0;a.CHECKED=1;a.UNCHECKED=2;a.LOADING=3;return a});define("DS/WebViewControllers/WebTabBarViewController",["DS/WebViewControllersInfra/WebViewController","DS/WebViewControllers/WebTabBar","DS/WebViewControllers/WebMasterAndDetailViewController","DS/WebViewControllers/WebTopBottomViewControllersSegue","DS/WebViewControllers/WebBottomTopViewControllersSegue","css!DS/WebViewControllers/WebTabBarVC.css"],function(f,c,g,d,b,a){var e=f.extend({presentationStyleTypes:{left:"left"},init:function(l,k){this._parent(l,k);this._presentationStyle=this.presentationStyleTypes.left;this._tabBarView=null;this._tabBarItems=[];this._datasForVC=[];this._detailView=new UWA.Element("div");this._onTabChange=null;this._activeIndex=-1;this._onTabBarOptionChangeCB=null;if(k){if(k.viewControllers){var j=null;for(var h=0;h<k.viewControllers.length;h++){j=k.viewControllers[h];if(j){this.addChildViewController(j)}}}if(k.onTabChange){this._onTabChange=k.onTabChange}if(k.onTabBarOptionChangeCB){this._onTabBarOptionChangeCB=k.onTabBarOptionChangeCB}}this._tabBarView=new c({onClickCB:this._onTabBarItemClick.bind(this),onOptionChange:this._onTabBarOptionChange.bind(this)})},_onTabBarOptionChange:function(h){if(this._onTabBarOptionChangeCB){this._onTabBarOptionChangeCB(this._tabBarItems)}},clean:function(){this._tabBarView=null;this._detailView=null;this._parent()},view:function(){if(!this._view){this._menuDiv=new UWA.Element("div",{html:this._tabBarView.view(),"class":"tab-bar-view"});this._view=new UWA.Element("div",{"class":"tab-bar-vc",html:[{tag:"div",html:[{tag:"span","class":"fonticon fonticon-menu",events:{click:this._onMenuClick.bind(this)}}],"class":"tab-bar-burger"},this._menuDiv,{tag:"div",html:this._detailView,"class":"detail-view"}]})}return this._view},_onMenuClick:function(){if(this._menuDiv.className==="tab-bar-view"){this._menuDiv.className+=" responsive"}else{this._menuDiv.className="tab-bar-view"}},load:function(j){j=j||{};var l=this._activeIndex!=-1?this._activeIndex:0;if(j){l=j.activeIndex!=undefined?j.activeIndex:0;if(j.datasForVC){this._datasForVC=j.datasForVC}}for(var h=0;h<this._viewControllers.length;h++){var k=this._viewControllers[h].getTabBarItem();this._tabBarItems.push(k)}this._tabBarView.load({items:this._tabBarItems,activeIndex:l});this._changeActiveTab(l);this._parent(j)},unload:function(){this._tabBarView.unload();this._tabBarItems=[];this._datasForVC=[];var h=this.getViewControllerFromIndex(this._activeIndex);if(h){h.unload()}this._detailView.empty();this._parent()},onResize:function(){},onRefresh:function(h){this.unload();this.load(h)},presentationStyle:function(){return this._presentationStyle},setPresentationStyle:function(h){this._presentationStyle=h},_onTabBarItemClick:function(h){this.setActiveTab(h)},_changeActiveTab:function(i){var h=this.getViewControllerFromIndex(this._activeIndex);if(h&&h.canChangeTab){h.canChangeTab(this._onChangeActiveTab.bind(this,i))}else{this._onChangeActiveTab(i)}},_onChangeActiveTab:function(j){var n=this._activeIndex;this._activeIndex=j;this._tabBarView.setActiveTab(j);var i=(n!=this._activeIndex)?this.getViewControllerFromIndex(n):null;var h=j<this._datasForVC.length?this._datasForVC[j]:{};var l=this.getViewControllerFromIndex(j);var k;var m;if(j>n&&i&&l){k="BottomTop";m=new b("TabBarVCBottomTopSegue",i,l);this._replaceViewControllerInView(i,l,this._detailView,h)}else{if(i&&l){k="TopBottom";m=new d("TabBarVCTopBottomSegue",i,l);this._replaceViewControllerInView(i,l,this._detailView,h)}else{this._replaceViewControllerInView(i,l,this._detailView,h)}}l.viewDidAppear();if(this._onTabChange){this._onTabChange(j)}},getActiveIndex:function(){return this._activeIndex},setActiveTab:function(h){this._menuDiv.className="tab-bar-view";if(this._activeIndex!=h){this._changeActiveTab(h)}},goToPreviousTab:function(){if(this._activeIndex>0){this._changeActiveTab(this._activeIndex-1)}},goToNextTab:function(){if(this._activeIndex<this._viewControllers.length-1){this._changeActiveTab(this._activeIndex+1)}},addChildViewController:function(h){h.setTabBarViewController(this);this._parent(h)},removeChildViewController:function(h){h.setTabBarViewController(null);this._parent(h)},});return e});define("DS/WebViewControllers/WebTabBarItemImage",["DS/WebViewControllers/WebTabBarItem"],function(b){var a=b.extend({init:function(c){this._parent(c);this._image="";this._tooltip="";this._badge=null;if(c){if(this.options.image!=undefined){this._image=c.image}if(this.options.tooltip){this._tooltip=c.tooltip}if(this.options.badge){this._badge=c.badge}}this._buildSkeleton();this.setBadge(this._badge)},_buildSkeleton:function(){this._badgeDiv=new UWA.Element("div",{"class":"badge",});this.elements.container=UWA.Element("div",{"class":"list-cell-image-3dprint "+this._className,html:[{tag:"img",src:this._image,title:this._tooltip},this._badgeDiv]})},setBadge:function(c){if(c!=null){this._badgeDiv.innerHTML=c}},_onOptionChange:function(c,d){if(c==="badge"){this.setBadge(d)}}});return a});
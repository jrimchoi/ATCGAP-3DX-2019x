define("DS/ResultWebInWin/ResultWebInWinAction",["UWA/Core","UWA/Class","UWA/Class/Debug","UWA/Class/Events","DS/SNInfraUX/SearchCom"],function(b,f,a,d,c){var e=f.singleton(d,a,{myWebInWinActionSocket:null,executeAction:function(n,k){b.log("Execute action: "+k);if(!b.is(this.myWebInWinActionSocket)){this.myWebInWinActionSocket=c.createSocket({socket_id:"search_WebInWinAction_"+Math.floor((Math.random()*100000)+1)})}if(!b.is(k)){throw ("No options given to executeAction method !")}var j;var h=false;if(b.is(k,"array")){h=true}var m=false;if(b.is(n,"array")){m=true}if(m==true){if(!b.is(n[0])){throw ("No selectedModels given to executeAction method !")}if(!b.is(n.action_id)){throw ("No selectedModels.action_id given to executeAction method !")}var g=n.length;j={action:n.action_id,objectIds:[]};for(var l=0;l<g;l++){if(!b.is(n[l].id)){throw ("No selectedModels.id given to executeAction method !")}j.objectIds.push(n[l].id)}}else{if(h===false){if(!b.is(n)){throw ("No selectedModels given to executeAction method !")}if(!b.is(n.action_id)){throw ("No selectedModels.action_id given to executeAction method !")}j={action:n.action_id,objectIds:[]};j.objectIds.push(n.id)}else{if(!b.is(k[0])){throw ("No options given to executeAction method !")}if(!b.is(k[0].action_id)){throw ("No options.action_id given to executeAction method !")}j={action:k[0].action_id,objectIds:[]};for(var l=0;l<k.length;l++){if(!b.is(k[l].action_id)){throw ("No options.action_id given to executeAction method !")}if(!b.is(k[l].object_id)){throw ("No options.object_id given to executeAction method !")}j.objectIds.push(k[l].object_id)}}}this.myWebInWinActionSocket.dispatchEvent("onDispatchToWin",{notif_name:"onCtxMenuClick",notif_parameters:JSON.stringify(j)},"search_web_in_win")},});return e});window.onload=function(){if(window.location.search.indexOf("no_jsnotif=true")===-1){sendNotificationWebInWin("PageLoaded","done")}window.parent.postMessage("search_web_in_win_ready","*");require(["UWA/Core","UWA/Drivers/Alone","i18n!DS/SNResultUX/assets/nls/SNResultUX.json"],function(c,b,e){var a=window.document.getElementById("temp-search-msg-span");if(c.is(a)){var d=c.extendElement(a);if(UWA.is(d)){d.setHTML(e.get("webinwin_search_loading"))}}})};define("DS/ResultWebInWin/ResultWebInWin",["UWA/Drivers/Alone","UWA/Core","UWA/Class/Debug","UWA/Controls/Abstract","UWA/Class/Listener","DS/MessageBus/MessageBus","DS/SNResultUX/SNResultMgt","DS/SNResultUX/SNTabbedResultMgt","DS/SNInfraUX/SearchRessources","DS/SNInfraUX/SearchSettings","DS/SNInfraUX/SearchCom","text!DS/SNResultUX/assets/WebInWin_settings.json","DS/SNResultUX/utils/WildcardMgr","DS/SNInfraUX/PredefinedQueries","DS/SNInfraUX/SWFiltering","DS/SNInfraUX/SearchUtils","DS/UIKIT/Mask","i18n!DS/SNResultUX/assets/nls/SNResultUX.json"],function(a,n,r,k,e,p,b,g,f,j,d,h,l,m,o,c,s,i){var q=k.extend(r,e,{name:"DS_ResultWebInWin_ResultWebInWin",_searchResult:null,_searchcom_socket:null,_listAccelerator:{},snTabManager:null,_widget_id:null,_socket_id:"search_web_in_win",init:function(u){var x=this;this.setDebugMode(j.getDebugMode());this._widget_id="web_in_win";UWA.Element.addEvent.call(document,"keydown",function(A){var z=UWA.Event.whichKey(A);var y=UWA.Event.getElement(A)?UWA.Event.getElement(A).getTagName():"unknown";if(((z==="backspace")||(z==="alt+left"))&&(["input","select"].indexOf(y)===-1)){UWA.Event.stop(A)}});UWA.Element.addEvent.call(document,"contextmenu",function(z){if(dscef){var y=dscef.getEnv("CATCEF_DEVTOOLS");if(y.length===0){z.preventDefault()}}});j.initialize(JSON.parse(h));var w=j.getOption("OneSearch");if(n.is(w)&&w===true){j.setCompactMode(false)}x._searchcom_socket=d.createSocket({socket_id:this._socket_id});x._searchcom_socket.addListener("onDispatchToWin",x._dispathTowin.bind(x));var v=n.extendElement(document.body).getElement("."+u.searchcontent);x.snTabManager=new g({widget_id:this._widget_id,resources:u.federated_source,updateTitle:function(y){x._dispathTowin({notif_name:"UpdatePanelTitle",notif_parameters:{panel_title:y}})}});v.setContent(x.snTabManager);var t={css_view_class:"maximized",in_apps_search:u.in_apps_search?u.in_apps_search:null,events:{onReady:function(){var y=n.extendElement(document.body).getElement(".onesearch_recentcontent");x._dispathTowin({notif_name:"Init",notif_parameters:"done"});var A=window.document.getElementById("temp-search-msg");if(n.is(A)){var z=n.extendElement(A);if(UWA.is(z)){A.destroy()}}if(u.events&&u.events.onReady){u.events.onReady.call(null)}}}};t.source=u.source;x.snTabManager.addTab({tabTitle:i.get("newTabTitle"),search_ux_options:t});window.addEventListener("resize",function(){var y=this;setTimeout(function(){if(y.mySearchWebinWin&&y.mySearchWebinWin._searchcom_socket){y.mySearchWebinWin._searchcom_socket.dispatchEvent("widgetResize")}},500)});this.ressources=u.federated_source;p.subscribe({channel:this._widget_id,topic:"beforeSearchReload",callback:function(){x.log("treating beforeSearchReload event");x.destroy()}});p.subscribe({channel:c.TAGGERPROXY_CONTEXTID_WEB_IN_WIN,topic:"WebInWinTaggerProxy_die",callback:function(y){x.log("treating WebInWinTaggerProxy_die event");x._dispathTowin(y)}});x._searchcom_socket.addListener("Last_Tag_Filter",function(y){if(n.is(x._reSearchQuery)){x._reSearchQuery.last_tag_filter=y}})},destroy:function(){this.log("inside ResultWebInWin destroy");if(UWA.is(this.snTabManager)){this.snTabManager.destroy()}if(this._searchcom_socket!==null){this.searchcom_socket.disconnect()}},search:function(t){var u=this;if(UWA.is(t.value,"string")&&t.value.indexOf(":")>0){m.fetchPQsFromServer(this.ressources).then(function(){u.searchAsyncPQ(t)})}else{this.searchAsyncPQ(t)}},searchAsyncPQ:function(x){this.log("ResultWebInWin search");var u=this.snTabManager.getActiveTab();if(n.is(u._snResultMgt)){if(u._snResultMgt._taggerProxy&&this.nextIsNewSearch&&x.value!==""){u._snResultMgt._taggerProxy.clearLocalFilter();u._snResultMgt.sortPanelView.reinitMenu();if(n.is(x)){x.donotshowlastsearch=true}this.nextIsNewSearch=false}var A=x.value;var y=x.search_mode;if(n.is(u._snResultMgt.options)&&n.is(u._snResultMgt.options.search_options)&&n.is(u._snResultMgt.options.search_options.search_mode)&&"recent"===u._snResultMgt.options.search_options.search_mode&&n.is(u._snResultMgt.options.search_options.adv_search)&&false===u._snResultMgt.options.search_options.adv_search){y="recent"}else{x.value=l.manageWildcardAddtion(x.value)}x.value=c.replacePQsWithCVPrefixes(x.value);o.clear();if((x.value==="*?*")||(x.value==="?")){u._snResultMgt.onSearchPQ({search_criteria:x.value,adv_search:x.adv_search,search_mode:y,originalSearchCriteria:A});return}else{var t=false;var w;if(UWA.is(u._snResultMgt)&&UWA.is(u._snResultMgt._taggerProxy)){w=u._snResultMgt._taggerProxy.getCurrentFilter()}if(UWA.is(u._snResultMgt)&&UWA.is(u._snResultMgt._taggerProxy)&&UWA.is(w)&&UWA.is(w.allfilters)&&Object.keys(w.allfilters).length!==0){t=true}if(!x.adv_search||!t||(x.adv_search&&!u._snResultMgt._adv_search)){if(UWA.is(x.appCriteria,"string")&&x.appCriteria.length>0){x.value+=" AND "+x.appCriteria}}if(x.adv_search&&"#advancedSearch"===x.value){var v=false;if(UWA.is(x)&&UWA.is(x.adv_search_clean)&&x.adv_search_clean===true){v=true}if(UWA.is(u._snResultMgt)&&UWA.is(u._snResultMgt._taggerProxy)&&UWA.is(w)&&UWA.is(w.allfilters)&&(u._snResultMgt._originalSearchCriteria!=="#advancedSearch")){v=true}if(v===true){u._snResultMgt._taggerProxy.clearLocalFilter();var z={search_criteria:"#advancedSearch",adv_search:true,recent_filter:"*",source:[],search_mode:"index",tag_filter:"",refresh:false};u.onSearch(z)}}if(!x.adv_search||!t){if(n.is(x.last_search)&&x.last_search===true&&n.is(this._reSearchQuery)){u.onSearch({search_criteria:this._reSearchQuery.value,panelTitle:this._reSearchQuery.panelTitle,refine:this._reSearchQuery.last_tag_filter,adv_search:x.adv_search,search_mode:y,originalSearchCriteria:A,applicativeTitle:x.applicativeTitle,applicativeTitleWithResults:x.applicativeTitleWithResults})}else{u.onSearch({search_criteria:x.value,adv_search:x.adv_search,search_mode:y,originalSearchCriteria:A,applicativeTitle:x.applicativeTitle,applicativeTitleWithResults:x.applicativeTitleWithResults})}if(x.value!==""&&x.value!=="#myContent"&&x.value!=="#favoriteSearches"){this._reSearchQuery={value:x.value,panelTitle:u.options.panelTitle,last_tag_filter:{}}}}}}},activateInContextSearch:function(u){var v=this;if(UWA.is(this.snTabManager)){if(!UWA.is(j.getOption("tabbed_ui_support_level"))){var t=this.snTabManager.getActiveTab();if(UWA.is(t)){this.listenToOnce(t,"onTabActivated",function(){v.refresh(t.getTabID())})}else{console.log("ERROR : no active tab found !!")}}if(!UWA.is(u.app_socket_id,"string")){u.app_socket_id=this._socket_id}var w=this.snTabManager.addTab({tabTitle:((UWA.is(u)&&UWA.is(u.title,"string")))?u.title:"",search_ux_options:{widget_id:this._widget_id,resources:this.ressources,css_view_class:"maximized",in_apps_search:u,events:{onReady:function(){var x=this.getOption("in_apps_search");if(UWA.is(x,"object")){var y=x.app_socket_id;if(UWA.is(y)&&y=="socket_id_#saved_search_edit#"){v._searchcom_socket.dispatchEvent("InContextInit","done",y)}else{if(UWA.is(j.getOption("tabbed_ui_support_level"))){v._dispathTowin({notif_name:"InContextInit",notif_parameters:"done"})}else{this.dispatchEvent("onRealInContextInit")}}}}}}});if(!UWA.is(j.getOption("tabbed_ui_support_level"))){if(u.app_socket_id!=="socket_id_#saved_search_edit#"){v._dispathTowin({notif_name:"InContextInit",notif_parameters:"done"})}this._realInContextInitDone=false;this.listenToOnce(w.elements.container,"onRealInContextInit",function(){v._realInContextInitDone=true;if(UWA.is(v._inContextCriteria)){v.inContextSearch(v._inContextCriteria)}})}this.snTabManager.hideTabBar()}},deactivateInContextSearch:function(v){if(UWA.is(this.snTabManager)){var t=this.snTabManager.getActiveTab();if(UWA.is(t)){var u=t.getTabID();this.snTabManager.removeTab(u)}this.snTabManager.showTabBar()}this._realInContextInitDone=undefined;this._inContextCriteria=undefined},inContextSearch:function(u){if(false===this._realInContextInitDone){this._inContextCriteria=u}else{var t=this;if(UWA.is(u.searchString,"string")&&u.searchString.indexOf(":")>0){m.fetchPQsFromServer(this.ressources).then(function(){t.inContextSearchAsyncPQ(u)})}else{this.inContextSearchAsyncPQ(u)}}},inContextSearchAsyncPQ:function(z){this.log("ResultWebInWin inContextSearch");var t=this.snTabManager.getActiveTab();if(n.is(t._snResultMgt)){if(!UWA.is(z,"object")){throw ("E_INVALIDARG: bad arguments ==> criteria for inContextSearch is not an object!")}var u=t._snResultMgt.getOption("in_apps_search");if(!UWA.is(u,"object")){throw ("E_INVALIDARG: no in_apps_search options found !")}var y=u.precond;var x=u.source;z.adv_search=false;z.advanced_criteria="";if(UWA.is(z.searchString,"string")){if(z.searchString===c.SearchTypeEnum.ADVANCED_SEARCH){z.adv_search=true;z.advanced_criteria=""}var w=m.isAPQSearch(z.searchString);z.originalSearchCriteria=z.searchString;z.searchString=l.manageWildcardAddtion(z.searchString);z.searchString=c.replacePQsWithCVPrefixes(z.searchString);if((!UWA.is(w))&&(z.searchString.length>0)&&(z.searchString!="#favoriteSearches")){if(UWA.is(y,"string")&&y.length>0){if(z.adv_search===true){z.searchString="#advancedSearch"}else{z.searchString+=" AND "+y}}else{if(UWA.is(z.applicativeCriteria,"string")&&z.applicativeCriteria.length>0){z.searchString+=" AND "+z.applicativeCriteria}}}}else{if(!UWA.is(y,"string")||y.length<=0){throw ("invalid in_apps_search options, no in_apps_search.precond found !")}z.searchString=u.precond;z.originalSearchCriteria=""}var v={search_criteria:z.searchString,adv_search:z.adv_search,advanced_criteria:z.advanced_criteria,search_mode:"index",originalSearchCriteria:z.originalSearchCriteria,tag_filter:z.tag_filter,source:x,search_name:z.search_name};t._snResultMgt.onSearch(v)}},refresh:function(t){var u=this.snTabManager._getTabView(t);(UWA.is(u))&&u.onRefresh()},getSuggestions:function(u){var t=this;this.ressources.getSuggestions(u,function(v){v=v||[];var w=v.map(function(x){return{label:x.entry,command:query.replace(/^\s+|\s+$/g,"").replace(/[A-Za-z\1-9\_\u00C0-\u017F]+$/,x.entry),icon:"lightbulb"}});t._dispathTowin({notif_name:"UpdateSuggests",notif_parameters:{serverSuggests:w}})})},setCtxMenu:function(H,w,F){var B=this;var K=undefined;var T=true;var Q=-1;if(UWA.is(F,"object")){K=F.tabID;T=F.doNotDisplay;if(UWA.is(F.somethingSelected)){Q=F.somethingSelected}}else{if(F!==1){T=false;Q=1}}var P=this.snTabManager._getTabView(K);var u=n.is(w)&&n.is(w.actions)&&n.is(w.actions.length)?w.actions.length:0;var v=j.getOption("max_item_for_contextualPanel");var M=0;var J=P.getCollection();var E=n.is(J.totalCount)?J.totalCount:0;if(c.isFUNActive("FUN075064")){var t=0;if((1==u)&&(w.actions[0].id==="V_LocationWithoutSelectedObject")){t=1}for(M=0;M<u;M++){if(u>v){w.actions[M].actions=[]}if(1!=t){var O={availabilityMode:" Normal=YES CommandSet=YES Editability=NO SmallScale=YES LargeScale=YES",id:"unselect_all",image:"3ds_fonticon_select-none",multisel:true,sourcejs:"DS/SNResultUX/utils/Select_ActionHandler",title:i.get("unselectAllTitle")};w.actions[M].actions.unshift(O)}if(((u!==E)&&(u!=J.length))||((u>=1)&&UWA.is(H)&&UWA.is(H.actions)&&UWA.is(w.actions[0])&&(w.actions[0].id==="V_LocationWithoutSelectedObject"))||((J.totalCount<=1)&&(J.length>1))){var S={accelerator:"Ctrl+Shift+A",availabilityMode:" Normal=YES CommandSet=YES Editability=NO SmallScale=YES LargeScale=YES",image:"3ds_fonticon_select-all",id:"select_all",multisel:true,sourcejs:"DS/SNResultUX/utils/Select_ActionHandler",title:i.get("selectAllTitle")};w.actions[M].actions.unshift(S)}}}if(!UWA.is(H)||!UWA.is(H.actions)){throw ("E_INVALIDARG: bad jsonCtxMenu.actions given to setCtxMenu method !")}if(!T){if(j.getOption("actionsProtocol_FUN065512")&&(u<=v)){var x={SavedSearch:true};var J=P.getCollection();var R={};var L=function(X){if(UWA.is(X)&&UWA.is(X.actions,"array")){var U=[];if(!UWA.is(J)){return U}for(var V=0;V<X.actions.length;V++){var W=J.get(X.actions[V].id);if(UWA.is(W)&&UWA.is(x[W.get("ds6w:type_value")])){U.push(W);R[X.actions[V].id]=X.actions[V].actions}}return U}};var D=L(w);if(UWA.is(D,"array")&&D.length>0){require(["DS/SNResultUX/utils/SearchLocalActions"],function(U){U._isSelectionFromSameSource(D).then(function(V){V.data.applicativeInfo={incontextMode:UWA.is(P.getOption("in_apps_search"))?true:false,clientAppInfo:c.identifyClientInfo(P.getSNSkeleton().getOption("addinMode"))};V.onComplete=function(W){if(W.status==="success"){for(var X=0;X<W.actions.length;X++){var Y=W.actions[X].id;if(UWA.is(R.hasOwnProperty(Y))){W.actions[X].actions.forEach(function(Z){R[Y].push(Z)})}}B._searchcom_socket.dispatchEvent("onSetCtxMenuForItemViewOptions",{actions_data:w,somethingSelected:Q},P.getSNSkeleton().getSocketID(true))}else{B._searchcom_socket.dispatchEvent("onSetCtxMenuForItemViewOptions",{actions_data:w,somethingSelected:Q},P.getSNSkeleton().getSocketID(true))}};V.onFailure=function(W){B._searchcom_socket.dispatchEvent("onSetCtxMenuForItemViewOptions",{actions_data:w,somethingSelected:Q},P.getSNSkeleton().getSocketID(true))};U.getActions(V)},function(){B._searchcom_socket.dispatchEvent("onSetCtxMenuForItemViewOptions",{actions_data:w,somethingSelected:Q},P.getSNSkeleton().getSocketID(true))})})}else{this._searchcom_socket.dispatchEvent("onSetCtxMenuForItemViewOptions",{actions_data:w,somethingSelected:Q},P.getSNSkeleton().getSocketID(true))}}else{this._searchcom_socket.dispatchEvent("onSetCtxMenuForItemViewOptions",{actions_data:w,somethingSelected:Q},P.getSNSkeleton().getSocketID(true))}}B._listAccelerator={};var I=H.actions;for(var M=0,A=I.length;M<A;M++){var N=I[M];var z=N.actions;for(var C=0,y=z.length;C<y;C++){var G=z[C];if(n.is(G.accelerator)&&G.accelerator.length>0){B._listAccelerator[G.accelerator.replace(/\+/g,"")]=G.id}}}if(Object.keys(B._listAccelerator).length>0){document.onkeydown=function(Y){var U="",W=window.event?event:Y;if(W.ctrlKey&&W.shiftKey){U+="CtrlShift"}else{if(W.ctrlKey){U+="Ctrl"}else{if(W.altKey){U+="Alt"}else{if(W.shiftKey){U+="Shift"}else{if(W.metaKey){U+="Meta"}}}}}if(W.keyCode==13){U+="Enter"}else{if(W.keyCode==32){U+="Space"}else{if(W.keyCode==46){U+="Del"}else{U+=String.fromCharCode(W.keyCode).toUpperCase()}}}if(n.is(B._listAccelerator[U],"string")){sendNotificationWebInWin("acceleratorEvt",'{ "action":"'+B._listAccelerator[U]+'"}')}else{if(U==="CtrlP"){var X=n.extendElement(document.body).getElements(".fonticon-print");if(n.is(X)){var Z=X[0].getParent();if(n.is(Z)){var V=Z.getParent();if(n.is(V)){UWA.Event.dispatchEvent(V,"click")}}}}}}}},setSessionResults:function(v){var u=undefined;var t=undefined;if(UWA.is(v,"object")){if(UWA.is(v.sessionResponse)){u=v.tabID;try{t=JSON.parse(v.sessionResponse)}catch(w){t=undefined}}else{t=v}}var x=this.snTabManager._getTabView(u);this._searchcom_socket.dispatchEvent("onSetSessionResponse",t,x.getCollection().getSocketID())},_getTaggerProxySocketId:function(t){return"webinwinproxy_socket_"+this._widget_id+"_"+t},addFilterChangeListener:function(t){this.log("-> ResultWebInWin.addFilterChangeListener");if(!n.is(t,"object")||!n.is(t.data)||!n.is(t.event_id)){this.log("Error, expect to have parameters.data or parameters.event_id arg!!!");throw ("No parameters.data or parameters.event_id given to addFilterChangeListener method !")}this._searchcom_socket.dispatchEvent(t.event_id,t.data,this._getTaggerProxySocketId(t.proxyId))},addCriteriaChangeListener:function(t){this.log("-> ResultWebInWin.addCriteriaChangeListener");if(!n.is(t,"object")||!n.is(t.data)||!n.is(t.event_id)){this.log("Error, expect to have parameters.data or parameters.event_id arg!!!");throw ("No parameters.data or parameters.event_id given to addCriteriaChangeListener method !")}this._searchcom_socket.dispatchEvent(t.event_id,t.data,this._getTaggerProxySocketId(t.proxyId))},addPLMUpdateListener:function(t){this.log("-> ResultWebInWin.addPLMUpdateListener");if(!n.is(t,"object")||!n.is(t.data)||!n.is(t.event_id)){this.log("Error, expect to have parameters.data or parameters.event_id arg!!!");throw ("No parameters.data or parameters.event_id given to addPLMUpdateListener method !")}this._searchcom_socket.dispatchEvent(t.event_id,t.data,this._getTaggerProxySocketId(t.proxyId))},addRequestSuggestsListener:function(t){this.log("-> ResultWebInWin.addRequestSuggestsListener");if(!n.is(t,"object")||!n.is(t.data)||!n.is(t.event_id)){this.log("Error, expect to have parameters.data or parameters.event_id arg!!!");throw ("No parameters.data or parameters.event_id given to addRequestSuggestsListener method !")}this._searchcom_socket.dispatchEvent(t.event_id,t.data,this._getTaggerProxySocketId(t.proxyId))},onFilterChange:function(t){this.log("-> ResultWebInWin.onFilterChange");if(!n.is(t)||!n.is(t.data)){this.log("Error, expect to have parameters.data arg !!!");throw ("No parameters.data given to onFilterChange method !")}this._searchcom_socket.dispatchEvent("onFilterChange",t.data,this._getTaggerProxySocketId(t.proxyId))},_internalFilterChangeListener:function(t){this.log("-> ResultWebInWin._internalFilterChangeListener");if(!n.is(t)||!n.is(t.data)){this.log("Error, expect to have parameters.data arg !!!");throw ("No parameters.data given to _internalFilterChangeListener method !")}this._searchcom_socket.dispatchEvent("_internalFilterChangeListener",t.data,this._getTaggerProxySocketId(t.proxyId))},onCriteriaSelect:function(t){this.log("-> ResultWebInWin.onCriteriaSelect");if(!n.is(t)||!n.is(t.data)){this.log("Error, expect to have parameters.data arg !!!");throw ("No parameters.data given to onCriteriaSelect method !")}this._searchcom_socket.dispatchEvent("onCriteriaSelect",t.data,this._getTaggerProxySocketId(t.proxyId))},addVisibilityChangeListener:function(t){this.log("-> ResultWebInWin.addVisibilityChangeListener");if(!n.is(t,"object")||!n.is(t.data)||!n.is(t.event_id)){this.log("Error, expect to have parameters.data or parameters.event_id arg!!!");throw ("No parameters.data or parameters.event_id given to addFilterChangeListener method !")}this._searchcom_socket.dispatchEvent(t.event_id,t.data,this._getTaggerProxySocketId(t.proxyId))},_dispathTowin:function(u){if(!n.is(u,"object")||!n.is(u.notif_name)||undefined===u.notif_parameters){this.log("E_INVALIDARG, expect to have parameters.notif_name arg & parameters.notif_parameters in _dispathTowin !!!");throw ("No parameters.notif_name arg & parameters.notif_parameters given to _dispathTowin method !")}this.log("ResultWebInWin._dispathTowin for "+u.notif_name);var t=UWA.is(u.notif_parameters,"string")?u.notif_parameters:JSON.stringify(u.notif_parameters);if(j.getOption("no_jsnotif")===true){this.log("JSNOTIF deactivated for "+u.notif_name)}else{sendNotificationWebInWin(u.notif_name,t)}},resetMultisel:function(){p.publish({channel:this.snTabManager._getTabView().getSNSkeleton().getOption("messagingChannel"),topic:"onResetMultisel",data:{}})},updateMultisel:function(t){this._searchcom_socket.dispatchEvent("onUpdateMultisel",t,this.snTabManager._getTabView().getSNSkeleton().getSocketID())},componentToHex:function(u){var t=u.toString(16);return t.length==1?"0"+t:t},rgbToHex:function(v,u,t){return"#"+this.componentToHex(v)+this.componentToHex(u)+this.componentToHex(t)},SetShadingValues:function(x,z){console.log("ResultWebInWin SetShadingValues");if(!UWA.is(x)){throw ("E_INVALIDARG: bad jsonRGBTData given to SetRGBTValues method !")}this._unsetShadingValues(z);var B=x.length;var t=[];var y=this;for(var u=0;u<B;u++){var w=x[u];var v={criteria:function(C){if(C.id===this.id){return true}else{return false}},color:y.rgbToHex(w.r,w.g,w.b),id:w.id};t.push(v)}var A=this.snTabManager._getTabView(z);A.setShadings(t)},_unsetShadingValues:function(u){console.log("ResultWebInWin UnSetShadingValues");var t=this.snTabManager._getTabView(u);t.setShadings([{color:"initial",criteria:function(){return true}}])},UnSetShadingValues:function(v){this._unsetShadingValues(v);var u=this.snTabManager.getActiveTab();if(UWA.is(u)){var z=u.getTabID();var x=this.snTabManager._getAllTabs();if(UWA.is(x,"array")){for(var w=0;w<x.length;w++){var y=x[w].get("tab");if(y.getTabID()!==z){y.updateOnActivate({unsetShading:true})}}}}},clearTaggerLocalFilters:function(){var t=this.snTabManager.getActiveTab();if(!UWA.is(t._snResultMgt)){return}if(t._snResultMgt._search_tag_filter,"object"){t._snResultMgt._search_tag_filter={}}if(UWA.is(t._snResultMgt._taggerProxy)){t._snResultMgt._taggerProxy.clearLocalFilter()}},logout:function(){this._searchcom_socket.dispatchEvent("onLogout")},setVisibility:function(x){console.log("visiblility:",x);if(x!==0){return}this.nextIsNewSearch=true;var u=this.snTabManager.getActiveTab();if(u._snResultMgt&&u._snResultMgt.getCollection()&&u._snResultMgt.getCollection().service_parameters){if(j.getOption("default_sort")){var v=j.getOption("default_sort");if(n.is(v,"object")&&n.is(v.order_by,"string")&&n.is(v.order_field,"string")){u._snResultMgt.getCollection().service_parameters.order_by=v.order_by;u._snResultMgt.getCollection().service_parameters.order_field=v.order_field;u._snResultMgt.sortPanelView.updateRenderByExt({order_field:v.order_field,order_by:v.order_by})}}else{if(j.getOption("apply_sort_on_modified_by_default")){u._snResultMgt.getCollection().service_parameters.order_by="desc";u._snResultMgt.getCollection().service_parameters.order_field="ds6w:modified";u._snResultMgt.sortPanelView.updateRenderByExt({order_field:"ds6w:modified",order_by:"desc"})}else{u._snResultMgt.getCollection().service_parameters.order_by="desc";u._snResultMgt.getCollection().service_parameters.order_field="relevance";u._snResultMgt.sortPanelView._setOrder("relevance","pertinency","group");u._snResultMgt.sortPanelView.updateMenu()}}u._snResultMgt.getSNSkeleton().order_by=u._snResultMgt.getCollection().service_parameters.order_by;u._snResultMgt.getSNSkeleton().order_field=u._snResultMgt.getCollection().service_parameters.order_field}var t=this.snTabManager._getTabView();if(!UWA.is(t)){return}var w=t.getOption("in_apps_search");if(UWA.is(w,"object")&&UWA.is(w.app_socket_id)&&"socket_id_#saved_search_edit#"==w.app_socket_id){deactivateInContextSearch()}},setSecurityContext:function(t){this.ressources.setSecurityContext(t)},_getSearchView:function(t){return this.snTabManager._getTabView()}});return q});
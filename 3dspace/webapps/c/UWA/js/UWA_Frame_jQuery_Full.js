!function(e,t){function n(e){var t=he[e]={};return K.each(e.split(te),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(me,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:ge.test(r)?K.parseJSON(r):r)}catch(e){}K.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!K.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,K.isFunction(t))return K.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return K.grep(e,function(e,r){return e===t===n});if("string"==typeof t){var r=K.grep(e,function(e){return 1===e.nodeType});if(_e.test(t))return K.filter(t,r,!n);t=K.filter(t,r)}return K.grep(e,function(e,r){return K.inArray(e,t)>=0===n})}function c(e){var t=We.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e,t){if(1===t.nodeType&&K.hasData(e)){var n,r,i,o=K._data(e),a=K._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)K.event.add(t,n,s[n][r])}a.data&&(a.data=K.extend({},a.data))}}function d(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),K.support.html5Clone&&e.innerHTML&&!K.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(K.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Je.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=yt.length;i--;)if(t=yt[i]+n,t in e)return t;return r}function y(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)}function v(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)n=e[o],n.style&&(i[o]=K._data(n,"olddisplay"),t?(i[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&y(n)&&(i[o]=K._data(n,"olddisplay",T(n.nodeName)))):(r=nt(n,"display"),i[o]||"none"===r||K._data(n,"olddisplay",r)));for(o=0;o<a;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[o]||"":"none"));return e}function b(e,t,n){var r=ct.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function x(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;i<4;i+=2)"margin"===n&&(o+=K.css(e,n+mt[i],!0)),r?("content"===n&&(o-=parseFloat(nt(e,"padding"+mt[i]))||0),"margin"!==n&&(o-=parseFloat(nt(e,"border"+mt[i]+"Width"))||0)):(o+=parseFloat(nt(e,"padding"+mt[i]))||0,"padding"!==n&&(o+=parseFloat(nt(e,"border"+mt[i]+"Width"))||0));return o}function w(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,o=K.support.boxSizing&&"border-box"===K.css(e,"boxSizing");if(r<=0||null==r){if(r=nt(e,t),(r<0||null==r)&&(r=e.style[t]),ft.test(r))return r;i=o&&(K.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+x(e,t,n||(o?"border":"content"),i)+"px"}function T(e){if(dt[e])return dt[e];var t=K("<"+e+">").appendTo(R.body),n=t.css("display");return t.remove(),"none"!==n&&""!==n||(rt=R.body.appendChild(rt||K.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0})),it&&rt.createElement||(it=(rt.contentWindow||rt.contentDocument).document,it.write("<!doctype html><html><body>"),it.close()),t=it.body.appendChild(it.createElement(e)),n=nt(t,"display"),R.body.removeChild(rt)),dt[e]=n,n}function N(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||xt.test(e)?r(e,i):N(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)N(e+"["+i+"]",t[i],n,r)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,o,a=t.toLowerCase().split(te),s=0,l=a.length;if(K.isFunction(n))for(;s<l;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function k(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],u=0,c=l?l.length:0,f=e===_t;u<c&&(f||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!f||a[s]?s=t:(n.dataTypes.unshift(s),s=k(e,n,r,i,s,a)));return!f&&s||a["*"]||(s=k(e,n,r,i,"*",a)),s}function E(e,n){var r,i,o=K.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&K.extend(!0,e,i)}function S(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}if(a)return a!==u[0]&&u.unshift(a),r[a]}function A(e,t){var n,r,i,o,a=e.dataTypes.slice(),s=a[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;i=a[++u];)if("*"!==i){if("*"!==s&&s!==i){if(n=l[s+" "+i]||l["* "+i],!n)for(r in l)if(o=r.split(" "),o[1]===i&&(n=l[s+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[r]:l[r]!==!0&&(i=o[0],a.splice(u--,0,i));break}if(n!==!0)if(n&&e.throws)t=n(t);else try{t=n(t)}catch(e){return{state:"parsererror",error:n?e:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function j(){try{return new e.XMLHttpRequest}catch(e){}}function D(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function L(){return setTimeout(function(){Ut=t},0),Ut=K.now()}function H(e,t){K.each(t,function(t,n){for(var r=(Kt[t]||[]).concat(Kt["*"]),i=0,o=r.length;i<o;i++)if(r[i].call(e,t,n))return})}function F(e,t,n){var r,i=0,o=Qt.length,a=K.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Ut||L(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(e,[l,i,n]),i<1&&s?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ut||L(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=K.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){for(var n=0,r=t?l.tweens.length:0;n<r;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),u=l.props;for(M(u,l.opts.specialEasing);i<o;i++)if(r=Qt[i].call(l,e,u,l.opts))return r;return H(l,u),K.isFunction(l.opts.start)&&l.opts.start.call(e,l),K.fx.timer(K.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function M(e,t){var n,r,i,o,a;for(n in e)if(r=K.camelCase(n),i=t[r],o=e[n],K.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=K.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o,a,s,l,u,c,f,p=this,d=e.style,h={},g=[],m=e.nodeType&&y(e);n.queue||(c=K._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,f=c.empty.fire,c.empty.fire=function(){c.unqueued||f()}),c.unqueued++,p.always(function(){p.always(function(){c.unqueued--,K.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===K.css(e,"display")&&"none"===K.css(e,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",K.support.shrinkWrapBlocks||p.done(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Vt.exec(o)){if(delete t[r],l=l||"toggle"===o,o===(m?"hide":"show"))continue;g.push(r)}if(a=g.length){s=K._data(e,"fxshow")||K._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),l&&(s.hidden=!m),m?K(e).show():p.done(function(){K(e).hide()}),p.done(function(){var t;K.removeData(e,"fxshow",!0);for(t in h)K.style(e,t,h[t])});for(r=0;r<a;r++)i=g[r],u=p.createTween(i,m?s[i]:0),h[i]=s[i]||K.style(e,i),i in s||(s[i]=u.start,m&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function _(e,t,n,r,i){return new _.prototype.init(e,t,n,r,i)}function q(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=mt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e){return K.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var W,P,R=e.document,$=e.location,I=e.navigator,z=e.jQuery,X=e.$,U=Array.prototype.push,Y=Array.prototype.slice,V=Array.prototype.indexOf,J=Object.prototype.toString,G=Object.prototype.hasOwnProperty,Q=String.prototype.trim,K=function(e,t){return new K.fn.init(e,t,W)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ee=/\S/,te=/\s+/,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ie=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^[\],:{}\s]*$/,ae=/(?:^|:|,)(?:\s*\[)+/g,se=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ue=/^-ms-/,ce=/-([\da-z])/gi,fe=function(e,t){return(t+"").toUpperCase()},pe=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",pe,!1),K.ready()):"complete"===R.readyState&&(R.detachEvent("onreadystatechange",pe),K.ready())},de={};K.fn=K.prototype={constructor:K,init:function(e,n,r){var i,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:re.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof K?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:R,e=K.parseHTML(i[1],a,!0),ie.test(i[1])&&K.isPlainObject(n)&&this.attr.call(e,n,!0),K.merge(this,e);if(o=R.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=R,this.selector=e,this}return K.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=K.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return K.each(this,e,t)},ready:function(e){return K.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},K.fn.init.prototype=K.fn,K.extend=K.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||K.isFunction(s)||(s={}),u===l&&(s=this,--l);l<u;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(K.isPlainObject(i)||(o=K.isArray(i)))?(o?(o=!1,a=r&&K.isArray(r)?r:[]):a=r&&K.isPlainObject(r)?r:{},s[n]=K.extend(c,a,i)):i!==t&&(s[n]=i));return s},K.extend({noConflict:function(t){return e.$===K&&(e.$=X),t&&e.jQuery===K&&(e.jQuery=z),K},isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){if(e===!0?!--K.readyWait:!K.isReady){if(!R.body)return setTimeout(K.ready,1);K.isReady=!0,e!==!0&&--K.readyWait>0||(P.resolveWith(R,[K]),K.fn.trigger&&K(R).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray||function(e){return"array"===K.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):de[J.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==K.type(e)||e.nodeType||K.isWindow(e))return!1;try{if(e.constructor&&!G.call(e,"constructor")&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return n===t||G.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||R,(r=ie.exec(e))?[t.createElement(r[1])]:(r=K.buildFragment([e],t,n?null:[]),K.merge([],(r.cacheable?K.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=K.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):oe.test(t.replace(se,"@").replace(le,"]").replace(ae,""))?new Function("return "+t)():void K.error("Invalid JSON: "+t)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(e){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ee.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ue,"ms-").replace(ce,fe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,o=0,a=e.length,s=a===t||K.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;o<a&&n.apply(e[o++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;o<a&&n.call(e[o],o,e[o++])!==!1;);return e},trim:Q&&!Q.call("\ufeff ")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":(e+"").replace(ne,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=K.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||K.isWindow(e)?U.call(r,e):K.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(V)return V.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;o<r;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;o<a;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],s=0,l=e.length,u=e instanceof K||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||K.isArray(e));if(u)for(;s<l;s++)i=n(e[s],s,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),K.isFunction(e)?(i=Y.call(arguments,2),o=function(){return e.apply(n,i.concat(Y.call(arguments)))},o.guid=e.guid=e.guid||K.guid++,o):t},access:function(e,n,r,i,o,a,s){var l,u=null==r,c=0,f=e.length;if(r&&"object"==typeof r){for(c in r)K.access(e,n,c,r[c],1,a,i);o=1}else if(i!==t){if(l=s===t&&K.isFunction(i),u&&(l?(l=n,n=function(e,t,n){return l.call(K(e),n)}):(n.call(e,i),n=null)),n)for(;c<f;c++)n(e[c],r,l?i.call(e[c],c,n(e[c],r)):i,s);o=1}return o?e:u?n.call(e):f?n(e[0],r):a},now:function(){return(new Date).getTime()}}),K.ready.promise=function(t){if(!P)if(P=K.Deferred(),"complete"===R.readyState)setTimeout(K.ready,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",pe,!1),e.addEventListener("load",K.ready,!1);else{R.attachEvent("onreadystatechange",pe),e.attachEvent("onload",K.ready);var n=!1;try{n=null==e.frameElement&&R.documentElement}catch(e){}n&&n.doScroll&&!function e(){if(!K.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}K.ready()}}()}return P.promise(t)},K.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()}),W=K(R);var he={};K.Callbacks=function(e){e="string"==typeof e?he[e]||n(e):K.extend({},e);var r,i,o,a,s,l,u=[],c=!e.once&&[],f=function(t){for(r=e.memory&&t,i=!0,l=a||0,a=0,s=u.length,o=!0;u&&l<s;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}o=!1,u&&(c?c.length&&f(c.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;!function t(n){K.each(n,function(n,r){var i=K.type(r);"function"===i?e.unique&&p.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),o?s=u.length:r&&(a=t,f(r))}return this},remove:function(){return u&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,u,n))>-1;)u.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return K.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=r=t,this},disabled:function(){return!u},lock:function(){return c=t,r||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!c||(o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,r){var o=r[0],a=e[t];i[r[1]](K.isFunction(a)?function(){var e=a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=a.fire,i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&K.isFunction(e.promise)?a:0,l=1===s?e:K.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),K.support=function(){var t,n,r,i,o,a,s,l,u,c,f,p=R.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],!n||!r||!n.length)return{};i=R.createElement("select"),o=i.appendChild(R.createElement("option")),a=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!R.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===R.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(e){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",f=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",f)),a=R.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),s=R.createDocumentFragment(),s.appendChild(p.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(p),p.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in p,c||(p.setAttribute(l,"return;"),c="function"==typeof p[l]),t[u+"Bubbles"]=c;return K(function(){var n,r,i,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=R.getElementsByTagName("body")[0];s&&(n=R.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=R.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,o=R.createElement("div"),o.style.cssText=r.style.cssText=a,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=o=null)}),s.removeChild(p),n=r=i=o=a=s=p=null,t}();var ge=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,me=/([A-Z])/g;K.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?K.cache[e[K.expando]]:e[K.expando],!!e&&!i(e)},data:function(e,n,r,i){if(K.acceptData(e)){var o,a,s=K.expando,l="string"==typeof n,u=e.nodeType,c=u?K.cache:e,f=u?e[s]:e[s]&&s;if(f&&c[f]&&(i||c[f].data)||!l||r!==t)return f||(u?e[s]=f=K.deletedIds.pop()||K.guid++:f=s),c[f]||(c[f]={},u||(c[f].toJSON=K.noop)),"object"!=typeof n&&"function"!=typeof n||(i?c[f]=K.extend(c[f],n):c[f].data=K.extend(c[f].data,n)),o=c[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[K.camelCase(n)]=r),l?(a=o[n],null==a&&(a=o[K.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(K.acceptData(e)){var r,o,a,s=e.nodeType,l=s?K.cache:e,u=s?e[K.expando]:K.expando;if(l[u]){if(t&&(r=n?l[u]:l[u].data)){K.isArray(t)||(t in r?t=[t]:(t=K.camelCase(t),t=t in r?[t]:t.split(" ")));for(o=0,a=t.length;o<a;o++)delete r[t[o]];if(!(n?i:K.isEmptyObject)(r))return}(n||(delete l[u].data,i(l[u])))&&(s?K.cleanData([e],!0):K.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return K.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&K.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),K.fn.extend({data:function(e,n){var i,o,a,s,l,u=this[0],c=0,f=null;if(e===t){if(this.length&&(f=K.data(u),1===u.nodeType&&!K._data(u,"parsedAttrs"))){for(a=u.attributes,l=a.length;c<l;c++)s=a[c].name,s.indexOf("data-")||(s=K.camelCase(s.substring(5)),r(u,s,f[s]));K._data(u,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){K.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",o=i[1]+"!",K.access(this,function(n){return n===t?(f=this.triggerHandler("getData"+o,[i[0]]),f===t&&u&&(f=K.data(u,e),f=r(u,e,f)),f===t&&i[1]?this.data(i[0]):f):(i[1]=n,void this.each(function(){var t=K(this);t.triggerHandler("setData"+o,i),K.data(this,e,n),t.triggerHandler("changeData"+o,i)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){K.removeData(this,e)})}}),K.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=K._data(e,t),n&&(!r||K.isArray(n)?r=K._data(e,t,K.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),o=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K._data(e,n)||K._data(e,n,{empty:K.Callbacks("once memory").add(function(){K.removeData(e,t+"queue",!0),K.removeData(e,n,!0)})})}}),K.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?K.queue(this[0],e):n===t?this:this.each(function(){var t=K.queue(this,e,n);K._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},delay:function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=K.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=K._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var ye,ve,be,xe=/[\t\r\n]/g,we=/\r/g,Te=/^(?:button|input)$/i,Ne=/^(?:button|input|object|select|textarea)$/i,Ce=/^a(?:rea|)$/i,ke=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ee=K.support.getSetAttribute;K.fn.extend({attr:function(e,t){return K.access(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})},prop:function(e,t){return K.access(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return e=K.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,n,r,i,o,a,s;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(te),n=0,r=this.length;n<r;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;a<s;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");i.className=K.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,l;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(te),s=0,l=this.length;s<l;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(xe," "),o=0,a=n.length;o<a;o++)for(;r.indexOf(" "+n[o]+" ")>=0;)r=r.replace(" "+n[o]+" "," ");i.className=e?K.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return K.isFunction(e)?this.each(function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=K(this),s=t,l=e.split(te);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else"undefined"!==n&&"boolean"!==n||(this.className&&K._data(this,"__className__",this.className),this.className=this.className||e===!1?"":K._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xe," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=K.isFunction(e),this.each(function(r){var o,a=K(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":K.isArray(o)&&(o=K.map(o,function(e){return null==e?"":e+""})),n=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=K.valHooks[o.type]||K.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(we,""):null==r?"":r)}}}),K.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(n=r[l],(n.selected||l===i)&&(K.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!K.nodeName(n.parentNode,"optgroup"))){if(t=K(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=K.makeArray(t);return K(e).find("option").each(function(){this.selected=K.inArray(K(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&K.isFunction(K.fn[n])?K(e)[n](r):"undefined"==typeof e.getAttribute?K.prop(e,n,r):(s=1!==l||!K.isXMLDoc(e),s&&(n=n.toLowerCase(),a=K.attrHooks[n]||(ke.test(n)?ve:ye)),r!==t?null===r?void K.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.split(te);a<r.length;a++)i=r[a],i&&(n=K.propFix[i]||i,o=ke.test(i),o||K.attr(e,i,""),e.removeAttribute(Ee?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(Te.test(e.nodeName)&&e.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return ye&&K.nodeName(e,"button")?ye.get(e,t):t in e?e.value:null},set:function(e,t,n){return ye&&K.nodeName(e,"button")?ye.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!K.isXMLDoc(e),a&&(n=K.propFix[n]||n,o=K.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Ne.test(e.nodeName)||Ce.test(e.nodeName)&&e.href?0:t}}}}),ve={get:function(e,n){var r,i=K.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?K.removeAttr(e,n):(r=K.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Ee||(be={name:!0,id:!0,coords:!0},ye=K.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(be[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=R.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},K.each(["width","height"],function(e,t){K.attrHooks[t]=K.extend(K.attrHooks[t],{set:function(e,n){
if(""===n)return e.setAttribute(t,"auto"),n}})}),K.attrHooks.contenteditable={get:ye.get,set:function(e,t,n){""===t&&(t="false"),ye.set(e,t,n)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(e,n){K.attrHooks[n]=K.extend(K.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),K.support.style||(K.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(e,t){if(K.isArray(t))return e.checked=K.inArray(K(e).val(),t)>=0}})});var Se=/^(?:textarea|input|select)$/i,Ae=/^([^\.]*|)(?:\.(.+)|)$/,je=/(?:^|\s)hover(\.\S+|)\b/,De=/^key/,Le=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Fe=function(e){return K.event.special.hover?e:e.replace(je,"mouseenter$1 mouseleave$1")};K.event={add:function(e,n,r,i,o){var a,s,l,u,c,f,p,d,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=K._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=K.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof K||e&&K.event.triggered===e.type?t:K.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=K.trim(Fe(n)).split(" "),u=0;u<n.length;u++)c=Ae.exec(n[u])||[],f=c[1],p=(c[2]||"").split(".").sort(),m=K.event.special[f]||{},f=(o?m.delegateType:m.bindType)||f,m=K.event.special[f]||{},d=K.extend({type:f,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&K.expr.match.needsContext.test(o),namespace:p.join(".")},h),g=l[f],g||(g=l[f]=[],g.delegateCount=0,m.setup&&m.setup.call(e,i,p,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),m.add&&(m.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),K.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,p,d,h,g,m=K.hasData(e)&&K._data(e);if(m&&(p=m.events)){for(t=K.trim(Fe(t||"")).split(" "),o=0;o<t.length;o++)if(a=Ae.exec(t[o])||[],s=l=a[1],u=a[2],s){for(d=K.event.special[s]||{},s=(r?d.delegateType:d.bindType)||s,h=p[s]||[],c=h.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],!i&&l!==g.origType||n&&n.guid!==g.guid||u&&!u.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(h.splice(f--,1),g.selector&&h.delegateCount--,d.remove&&d.remove.call(e,g));0===h.length&&c!==h.length&&(d.teardown&&d.teardown.call(e,u,m.handle)!==!1||K.removeEvent(e,s,m.handle),delete p[s])}else for(s in p)K.event.remove(e,s+t[o],n,r,!0);K.isEmptyObject(p)&&(delete m.handle,K.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,u,c,f,p,d,h,g,m=n.type||n,y=[];if(!He.test(m+K.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(y=m.split("."),m=y.shift(),y.sort()),i&&!K.event.customEvent[m]||K.event.global[m]))if(n="object"==typeof n?n[K.expando]?n:new K.Event(m,n):new K.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=m.indexOf(":")<0?"on"+m:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?K.makeArray(r):[],r.unshift(n),p=K.event.special[m]||{},!p.trigger||p.trigger.apply(i,r)!==!1){if(h=[[i,p.bindType||m]],!o&&!p.noBubble&&!K.isWindow(i)){for(g=p.delegateType||m,u=He.test(g+m)?i:i.parentNode,c=i;u;u=u.parentNode)h.push([u,g]),c=u;c===(i.ownerDocument||R)&&h.push([c.defaultView||c.parentWindow||e,g])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)u=h[l][0],n.type=h[l][1],d=(K._data(u,"events")||{})[n.type]&&K._data(u,"handle"),d&&d.apply(u,r),d=f&&u[f],d&&K.acceptData(u)&&d.apply&&d.apply(u,r)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===m&&K.nodeName(i,"a")||!K.acceptData(i)||f&&i[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!K.isWindow(i)&&(c=i[f],c&&(i[f]=null),K.event.triggered=m,i[m](),K.event.triggered=t,c&&(i[f]=c)),n.result}}else{a=K.cache;for(l in a)a[l].events&&a[l].events[m]&&K.event.trigger(n,r,a[l].handle.elem,!0)}}},dispatch:function(n){n=K.event.fix(n||e.event);var r,i,o,a,s,l,u,c,f,p=(K._data(this,"events")||{})[n.type]||[],d=p.delegateCount,h=Y.call(arguments),g=!n.exclusive&&!n.namespace,m=K.event.special[n.type]||{},y=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(d&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},u=[],r=0;r<d;r++)c=p[r],f=c.selector,s[f]===t&&(s[f]=c.needsContext?K(f,this).index(o)>=0:K.find(f,this,null,[o]).length),s[f]&&u.push(c);u.length&&y.push({elem:o,matches:u})}for(p.length>d&&y.push({elem:this,matches:p.slice(d)}),r=0;r<y.length&&!n.isPropagationStopped();r++)for(l=y[r],n.currentTarget=l.elem,i=0;i<l.matches.length&&!n.isImmediatePropagationStopped();i++)c=l.matches[i],(g||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,a=((K.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,h),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||R,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r=e,i=K.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=K.Event(r),t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||R),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){K.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(e,t)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector;return i&&(i===r||K.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return!K.nodeName(this,"form")&&void K.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=K.nodeName(n,"input")||K.nodeName(n,"button")?n.form:t;r&&!K._data(r,"_submit_attached")&&(K.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),K._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&K.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!K.nodeName(this,"form")&&void K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return Se.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(K.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),K.event.simulate("change",this,e,!0)})),!1):void K.event.add(this,"beforeactivate._change",function(e){var t=e.target;Se.test(t.nodeName)&&!K._data(t,"_change_attached")&&(K.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||K.event.simulate("change",this.parentNode,e,!0)}),K._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return K.event.remove(this,"._change"),!Se.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){0===n++&&R.addEventListener(e,r,!0)},teardown:function(){0===--n&&R.removeEventListener(e,r,!0)}}}),K.fn.extend({on:function(e,n,r,i,a){var s,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=o;else if(!i)return this;return 1===a&&(s=i,i=function(e){return K().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=K.guid++)),this.each(function(){K.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,K(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return n!==!1&&"function"!=typeof n||(r=n,n=t),r===!1&&(r=o),this.each(function(){K.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return K(this.context).on(e,this.selector,t,n),this},die:function(e,t){return K(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return K.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||K.guid++,r=0,i=function(n){var i=(K._data(this,"lastToggle"+e.guid)||0)%r;return K._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},De.test(t)&&(K.event.fixHooks[t]=K.event.keyHooks),Le.test(t)&&(K.event.fixHooks[t]=K.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||L;var i,o,a,s,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(a=w(t),!a&&!r&&(i=ne.exec(e)))if(s=i[1]){if(9===l){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&T(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return _.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&pe&&t.getElementsByClassName)return _.apply(n,q.call(t.getElementsByClassName(s),0)),n}return g(e.replace(Q,"$1"),t,n,r,a)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return W(function(t){return t=+t,W(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function a(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function s(e,t){var r,i,o,a,s,l,u,c=$[j][e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=b.preFilter;s;){r&&!(i=Z.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ee.exec(s))&&(o.push(r=new D(i.shift())),s=s.slice(r.length),r.type=i[0].replace(Q," "));for(a in b.filter)!(i=se[a].exec(s))||u[a]&&!(i=u[a](i))||(o.push(r=new D(i.shift())),s=s.slice(r.length),r.type=a,r.matches=i);if(!r)break}return t?s.length:s?n.error(e):$(e,l).slice(0)}function l(e,t,n){var r=t.dir,i=n&&"parentNode"===t.dir,o=M++;return t.first?function(t,n,o){for(;t=t[r];)if(i||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[r];)if((i||1===t.nodeType)&&e(t,n,a))return t}else for(var s,l=F+" "+o+" ",u=l+y;t=t[r];)if(i||1===t.nodeType){if((s=t[j])===u)return t.sizset;if("string"==typeof s&&0===s.indexOf(l)){if(t.sizset)return t}else{if(t[j]=u,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function c(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function f(e,t,n,r,i,o){return r&&!r[j]&&(r=f(r)),i&&!i[j]&&(i=f(i,o)),W(function(o,a,s,l){var u,f,p,d=[],g=[],m=a.length,y=o||h(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?y:c(y,d,e,s,l),b=n?i||(o?e:m||r)?[]:a:v;if(n&&n(v,b,s,l),r)for(u=c(b,g),r(u,[],s,l),f=u.length;f--;)(p=u[f])&&(b[g[f]]=!(v[g[f]]=p));if(o){if(i||e){if(i){for(u=[],f=b.length;f--;)(p=b[f])&&u.push(v[f]=p);i(null,b=[],u,l)}for(f=b.length;f--;)(p=b[f])&&(u=i?B.call(o,p):d[f])>-1&&(o[u]=!(a[u]=p))}}else b=c(b===a?b.splice(m,b.length):b),i?i(null,a,b,l):_.apply(a,b)})}function p(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,c=l(function(e){return e===t},a,!0),d=l(function(e){return B.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==E)||((t=n).nodeType?c(e,n,r):d(e,n,r))}];s<i;s++)if(n=b.relative[e[s].type])h=[l(u(h),n)];else{if(n=b.filter[e[s].type].apply(null,e[s].matches),n[j]){for(r=++s;r<i&&!b.relative[e[r].type];r++);return f(s>1&&u(h),s>1&&e.slice(0,s-1).join("").replace(Q,"$1"),n,s<r&&p(e.slice(s,r)),r<i&&p(e=e.slice(r)),r<i&&e.join(""))}h.push(n)}return u(h)}function d(e,t){var r=t.length>0,i=e.length>0,o=function(a,s,l,u,f){var p,d,h,g=[],m=0,v="0",x=a&&[],w=null!=f,T=E,N=a||i&&b.find.TAG("*",f&&s.parentNode||s),C=F+=null==T?1:Math.E;for(w&&(E=s!==L&&s,y=o.el);null!=(p=N[v]);v++){if(i&&p){for(d=0;h=e[d];d++)if(h(p,s,l)){u.push(p);break}w&&(F=C,y=++o.el)}r&&((p=!h&&p)&&m--,a&&x.push(p))}if(m+=v,r&&v!==m){for(d=0;h=t[d];d++)h(x,g,s,l);if(a){if(m>0)for(;v--;)x[v]||g[v]||(g[v]=O.call(u));g=c(g)}_.apply(u,g),w&&!a&&g.length>0&&m+t.length>1&&n.uniqueSort(u)}return w&&(F=C,E=T),x};return o.el=0,r?W(o):o}function h(e,t,r){for(var i=0,o=t.length;i<o;i++)n(e,t[i],r);return r}function g(e,t,n,r,i){var o,a,l,u,c,f=s(e);f.length;if(!r&&1===f.length){if(a=f[0]=f[0].slice(0),a.length>2&&"ID"===(l=a[0]).type&&9===t.nodeType&&!i&&b.relative[a[1].type]){if(t=b.find.ID(l.matches[0].replace(ae,""),t,i)[0],!t)return n;e=e.slice(a.shift().length)}for(o=se.POS.test(e)?-1:a.length-1;o>=0&&(l=a[o],!b.relative[u=l.type]);o--)if((c=b.find[u])&&(r=c(l.matches[0].replace(ae,""),re.test(a[0].type)&&t.parentNode||t,i))){if(a.splice(o,1),e=r.length&&a.join(""),!e)return _.apply(n,q.call(r,0)),n;break}}return N(e,f)(r,t,i,n,re.test(e)),n}function m(){}var y,v,b,x,w,T,N,C,k,E,S=!0,A="undefined",j=("sizcache"+Math.random()).replace(".",""),D=String,L=e.document,H=L.documentElement,F=0,M=0,O=[].pop,_=[].push,q=[].slice,B=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},W=function(e,t){return e[j]=null==t||t,e},P=function(){var e={},t=[];return W(function(n,r){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},R=P(),$=P(),I=P(),z="[\\x20\\t\\r\\n\\f]",X="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=X.replace("w","w#"),Y="([*^$|!~]?=)",V="\\["+z+"*("+X+")"+z+"*(?:"+Y+z+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+z+"*\\]",J=":("+X+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+V+")|[^:]|\\\\.)*|.*))\\)|)",G=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),Z=new RegExp("^"+z+"*,"+z+"*"),ee=new RegExp("^"+z+"*([\\x20\\t\\r\\n\\f>+~])"+z+"*"),te=new RegExp(J),ne=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,re=/[\x20\t\r\n\f]*[+~]/,ie=/h\d/i,oe=/input|select|textarea|button/i,ae=/\\(?!\\)/g,se={ID:new RegExp("^#("+X+")"),CLASS:new RegExp("^\\.("+X+")"),NAME:new RegExp("^\\[name=['\"]?("+X+")['\"]?\\]"),TAG:new RegExp("^("+X.replace("w","w*")+")"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+J),POS:new RegExp(G,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),needsContext:new RegExp("^"+z+"*[>+~]|"+G,"i")},le=function(e){var t=L.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},ue=le(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),ce=le(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")}),fe=le(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),pe=le(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),de=le(function(e){e.id=j+0,e.innerHTML="<a name='"+j+"'></a><div name='"+j+"'></div>",H.insertBefore(e,H.firstChild);var t=L.getElementsByName&&L.getElementsByName(j).length===2+L.getElementsByName(j+0).length;return v=!L.getElementById(j),H.removeChild(e),t});try{q.call(H.childNodes,0)[0].nodeType}catch(e){q=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},x=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=x(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=n.contains=H.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:H.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=w(e);return r||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):r||fe?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:W,match:se,attrHandle:ce?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:v?function(e,t,n){if(typeof t.getElementById!==A&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==A&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==A&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:ue?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],o=0;r=n[o];o++)1===r.nodeType&&i.push(r);return i}return n},NAME:de&&function(e,t){if(typeof t.getElementsByName!==A)return t.getElementsByName(name)},CLASS:pe&&function(e,t,n){if(typeof t.getElementsByClassName!==A&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ae,""),e[3]=(e[4]||e[5]||"").replace(ae,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return se.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(te.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:v?function(e){return e=e.replace(ae,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(ae,""),function(t){var n=typeof t.getAttributeNode!==A&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ae,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=R[j][e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&R(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i,o){var a=n.attr(i,e);return null==a?"!="===t:!t||(a+="","="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.substr(a.length-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t&&(a===r||a.substr(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r){return"nth"===e?function(e){var t,i,o=e.parentNode;if(1===n&&0===r)return!0;if(o)for(i=0,t=o.firstChild;t&&(1!==t.nodeType||(i++,e!==t));t=t.nextSibling);return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var r,i=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[j]?i(t):i.length>1?(r=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?W(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=B.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:W(function(e){var t=[],n=[],r=N(e.replace(Q,"$1"));return r[j]?W(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:W(function(e){return function(t){return n(e,t).length>0}}),contains:W(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return ie.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return oe.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:o(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},C=H.compareDocumentPosition?function(e,t){return e===t?(k=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return k=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],s=e.parentNode,l=t.parentNode,u=s;if(s===l)return a(e,t);if(!s)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;c<n&&c<r;c++)if(i[c]!==o[c])return a(i[c],o[c]);return c===n?a(e,o[c],-1):a(i[c],t,1)},[0,0].sort(C),S=!k,n.uniqueSort=function(e){var t,n=[],r=1,i=0;if(k=S,e.sort(C),k){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},N=n.compile=function(e,t){var n,r=[],i=[],o=I[j][e+" "];if(!o){for(t||(t=s(e)),n=t.length;n--;)o=p(t[n]),o[j]?r.push(o):i.push(o);o=I(e,d(i,r))}return o},L.querySelectorAll&&!function(){var e,t=g,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active"],l=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector||H.msMatchesSelector;le(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+z+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),le(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+z+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),g=function(e,n,i,a,l){if(!a&&!l&&!o.test(e)){var u,c,f=!0,p=j,d=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=s(e),(f=n.getAttribute("id"))?p=f.replace(r,"\\$&"):n.setAttribute("id",p),p="[id='"+p+"'] ",c=u.length;c--;)u[c]=p+u[c].join("");d=re.test(e)&&n.parentNode||n,h=u.join(",")}if(h)try{return _.apply(i,q.call(d.querySelectorAll(h),0)),i}catch(e){}finally{f||n.removeAttribute("id")}}return t(e,n,i,a,l)},l&&(le(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),a.push("!=",J)}catch(e){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(i,"='$1']"),!w(t)&&!a.test(r)&&!o.test(r))try{var s=l.call(t,r);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(e){}return n(r,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=K.attr,K.find=n,K.expr=n.selectors,K.expr[":"]=K.expr.pseudos,K.unique=n.uniqueSort,K.text=n.getText,K.isXMLDoc=n.isXML,K.contains=n.contains}(e);var Me=/Until$/,Oe=/^(?:parents|prev(?:Until|All))/,_e=/^.[^:#\[\.,]*$/,qe=K.expr.match.needsContext,Be={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(e){var t,n,r,i,o,a,s=this;if("string"!=typeof e)return K(e).filter(function(){for(t=0,n=s.length;t<n;t++)if(K.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;t<n;t++)if(r=a.length,K.find(e,this[t],a),t>0)for(i=r;i<a.length;i++)for(o=0;o<r;o++)if(a[o]===a[i]){a.splice(i--,1);break}return a},has:function(e){var t,n=K(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(K.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?qe.test(e)?K(e,this.context).index(this[0])>=0:K.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=qe.test(e)||"string"!=typeof e?K(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:K.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?K.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?K.inArray(this[0],K(e)):K.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?K(e,t):K.makeArray(e&&e.nodeType?[e]:e),r=K.merge(this.get(),n);return this.pushStack(s(n[0])||s(r[0])?r:K.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.fn.andSelf=K.fn.addBack,K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return K.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return Me.test(e)||(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),i=this.length>1&&!Be[e]?K.unique(i):i,this.length>1&&Oe.test(e)&&(i=i.reverse()),this.pushStack(i,e,Y.call(arguments).join(","))}}),K.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?K.find.matchesSelector(t[0],e)?[t[0]]:[]:K.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!K(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pe=/ jQuery\d+="(?:null|\d+)"/g,Re=/^\s+/,$e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,ze=/<tbody/i,Xe=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,Ye=/<(?:script|object|embed|option|style)/i,Ve=new RegExp("<(?:"+We+")[\\s/>]","i"),Je=/^(?:checkbox|radio)$/,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,Qe=/\/(java|ecma)script/i,Ke=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ze={
option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},et=c(R),tt=et.appendChild(R.createElement("div"));Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td,K.support.htmlSerialize||(Ze._default=[1,"X<div>","</div>"]),K.fn.extend({text:function(e){return K.access(this,function(e){return e===t?K.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(K.isFunction(e))return this.each(function(t){K(this).wrapAll(e.call(this,t))});if(this[0]){var t=K(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return K.isFunction(e)?this.each(function(t){K(this).wrapInner(e.call(this,t))}):this.each(function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)e&&!K.filter(e,[n]).length||(t||1!==n.nodeType||(K.cleanData(n.getElementsByTagName("*")),K.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&K.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return K.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Pe,""):t;if("string"==typeof e&&!Ue.test(e)&&(K.support.htmlSerialize||!Ve.test(e))&&(K.support.leadingWhitespace||!Re.test(e))&&!Ze[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace($e,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},1===n.nodeType&&(K.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(K(K.isFunction(e)?e():e),"replaceWith",e):this:K.isFunction(e)?this.each(function(t){var n=K(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=K(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;K(this).remove(),t?K(t).before(e):K(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,o,a,s,l=0,u=e[0],c=[],p=this.length;if(!K.support.checkClone&&p>1&&"string"==typeof u&&Ge.test(u))return this.each(function(){K(this).domManip(e,n,r)});if(K.isFunction(u))return this.each(function(i){var o=K(this);e[0]=u.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(i=K.buildFragment(e,this,c),a=i.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&K.nodeName(o,"tr"),s=i.cacheable||p-1;l<p;l++)r.call(n&&K.nodeName(this[l],"table")?f(this[l],"tbody"):this[l],l===s?a:K.clone(a,!0,!0));a=o=null,c.length&&K.each(c,function(e,t){t.src?K.ajax?K.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):K.error("no ajax"):K.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ke,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),K.buildFragment=function(e,n,r){var i,o,a,s=e[0];return n=n||R,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===R&&"<"===s.charAt(0))||Ye.test(s)||!K.support.checkClone&&Ge.test(s)||!K.support.html5Clone&&Ve.test(s)||(o=!0,i=K.fragments[s],a=i!==t),i||(i=n.createDocumentFragment(),K.clean(e,n,i,r),o&&(K.fragments[s]=a&&i)),{fragment:i,cacheable:o}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(n){var r,i=0,o=[],a=K(n),s=a.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return a[t](this[0]),this;for(;i<s;i++)r=(i>0?this.clone(!0):this).get(),K(a[i])[t](r),o=o.concat(r);return this.pushStack(o,e,a.selector)}}),K.extend({clone:function(e,t,n){var r,i,o,a;if(K.support.html5Clone||K.isXMLDoc(e)||!Ve.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tt.innerHTML=e.outerHTML,tt.removeChild(a=tt.firstChild)),!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(d(e,a),r=h(e),i=h(a),o=0;r[o];++o)i[o]&&d(r[o],i[o]);if(t&&(p(e,a),n))for(r=h(e),i=h(a),o=0;r[o];++o)p(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s,l,u,f,p,d,h,m,y=t===R&&et,v=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=R),i=0;null!=(a=e[i]);i++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Xe.test(a)){for(y=y||c(t),f=t.createElement("div"),y.appendChild(f),a=a.replace($e,"<$1></$2>"),s=(Ie.exec(a)||["",""])[1].toLowerCase(),l=Ze[s]||Ze._default,u=l[0],f.innerHTML=l[1]+a+l[2];u--;)f=f.lastChild;if(!K.support.tbody)for(p=ze.test(a),d="table"!==s||p?"<table>"!==l[1]||p?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes,o=d.length-1;o>=0;--o)K.nodeName(d[o],"tbody")&&!d[o].childNodes.length&&d[o].parentNode.removeChild(d[o]);!K.support.leadingWhitespace&&Re.test(a)&&f.insertBefore(t.createTextNode(Re.exec(a)[0]),f.firstChild),a=f.childNodes,f.parentNode.removeChild(f)}else a=t.createTextNode(a);a.nodeType?v.push(a):K.merge(v,a)}if(f&&(a=f=y=null),!K.support.appendChecked)for(i=0;null!=(a=v[i]);i++)K.nodeName(a,"input")?g(a):"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),g);if(n)for(h=function(e){if(!e.type||Qe.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)},i=0;null!=(a=v[i]);i++)K.nodeName(a,"script")&&h(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(m=K.grep(K.merge([],a.getElementsByTagName("script")),h),v.splice.apply(v,[i+1,0].concat(m)),i+=m.length));return v},cleanData:function(e,t){for(var n,r,i,o,a=0,s=K.expando,l=K.cache,u=K.support.deleteExpando,c=K.event.special;null!=(i=e[a]);a++)if((t||K.acceptData(i))&&(r=i[s],n=r&&l[r])){if(n.events)for(o in n.events)c[o]?K.event.remove(i,o):K.removeEvent(i,o,n.handle);l[r]&&(delete l[r],u?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,K.deletedIds.push(r))}}}),function(){var e,t;K.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=K.uaMatch(I.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),K.browser=t,K.sub=function(){function e(t,n){return new e.fn.init(t,n)}K.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof K&&!(r instanceof e)&&(r=e(r)),K.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(R);return e}}();var nt,rt,it,ot=/alpha\([^)]*\)/i,at=/opacity=([^)]*)/,st=/^(top|right|bottom|left)$/,lt=/^(none|table(?!-c[ea]).+)/,ut=/^margin/,ct=new RegExp("^("+Z+")(.*)$","i"),ft=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pt=new RegExp("^([-+])=("+Z+")","i"),dt={BODY:"block"},ht={position:"absolute",visibility:"hidden",display:"block"},gt={letterSpacing:0,fontWeight:400},mt=["Top","Right","Bottom","Left"],yt=["Webkit","O","Moz","ms"],vt=K.fn.toggle;K.fn.extend({css:function(e,n){return K.access(this,function(e,n,r){return r!==t?K.style(e,n,r):K.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n="boolean"==typeof e;return K.isFunction(e)&&K.isFunction(t)?vt.apply(this,arguments):this.each(function(){(n?e:y(this))?K(this).show():K(this).hide()})}}),K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nt(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:K.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=K.camelCase(n),u=e.style;if(n=K.cssProps[l]||(K.cssProps[l]=m(u,l)),s=K.cssHooks[n]||K.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=pt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(K.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||K.cssNumber[l]||(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(e){}}},css:function(e,n,r,i){var o,a,s,l=K.camelCase(n);return n=K.cssProps[l]||(K.cssProps[l]=m(e.style,l)),s=K.cssHooks[n]||K.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=nt(e,n)),"normal"===o&&n in gt&&(o=gt[n]),r||i!==t?(a=parseFloat(o),r||K.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),e.getComputedStyle?nt=function(t,n){var r,i,o,a,s=e.getComputedStyle(t,null),l=t.style;return s&&(r=s.getPropertyValue(n)||s[n],""!==r||K.contains(t.ownerDocument,t)||(r=K.style(t,n)),ft.test(r)&&ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),r}:R.documentElement.currentStyle&&(nt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],o=e.style;return null==i&&o&&o[t]&&(i=o[t]),ft.test(i)&&!st.test(t)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&lt.test(nt(e,"display"))?K.swap(e,ht,function(){return w(e,t,r)}):w(e,t,r)},set:function(e,n,r){return b(e,n,r?x(e,t,r,K.support.boxSizing&&"border-box"===K.css(e,"boxSizing")):0)}}}),K.support.opacity||(K.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=K.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===K.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(e,t){return K.swap(e,{display:"inline-block"},function(){if(t)return nt(e,"marginRight")})}}),!K.support.pixelPosition&&K.fn.position&&K.each(["top","left"],function(e,t){K.cssHooks[t]={get:function(e,n){if(n){var r=nt(e,t);return ft.test(r)?K(e).position()[t]+"px":r}}}})}),K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!K.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nt(e,"display"))},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;r<4;r++)o[e+mt[r]+t]=i[r]||i[r-2]||i[0];return o}},ut.test(e)||(K.cssHooks[e+t].set=b)});var bt=/%20/g,xt=/\[\]$/,wt=/\r?\n/g,Tt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Nt=/^(?:select|textarea)/i;K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Nt.test(this.nodeName)||Tt.test(this.type))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e,n){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}}),K.param=function(e,n){var r,i=[],o=function(e,t){t=K.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){o(this.name,this.value)});else for(r in e)N(r,e[r],n,o);return i.join("&").replace(bt,"+")};var Ct,kt,Et=/#.*$/,St=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,At=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Dt=/^\/\//,Lt=/\?/,Ht=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ft=/([?&])_=[^&]*/,Mt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ot=K.fn.load,_t={},qt={},Bt=["*/"]+["*"];try{kt=$.href}catch(e){kt=R.createElement("a"),kt.href="",kt=kt.href}Ct=Mt.exec(kt.toLowerCase())||[],K.fn.load=function(e,n,r){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);if(!this.length)return this;var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),K.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),K.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(i?K("<div>").append(e.replace(Ht,"")).find(i):e)}),this},K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.each(["get","post"],function(e,n){K[n]=function(e,r,i,o){return K.isFunction(r)&&(o=o||i,i=r,r=t),K.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),K.extend({getScript:function(e,n){return K.get(e,t,n,"script")},getJSON:function(e,t,n){return K.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?E(e,K.ajaxSettings):(t=e,e=K.ajaxSettings),E(e,t),e},ajaxSettings:{url:kt,isLocal:At.test(Ct[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Bt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(_t),ajaxTransport:C(qt),ajax:function(e,n){function r(e,n,r,a){var u,f,v,b,w,N=n;2!==x&&(x=2,l&&clearTimeout(l),s=t,o=a||"",T.readyState=e>0?4:0,r&&(b=S(p,T,r)),e>=200&&e<300||304===e?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),w=T.getResponseHeader("Etag"),w&&(K.etag[i]=w)),304===e?(N="notmodified",u=!0):(u=A(p,b),N=u.state,f=u.data,v=u.error,u=!v)):(v=N,N&&!e||(N="error",e<0&&(e=0))),T.status=e,T.statusText=(n||N)+"",u?g.resolveWith(d,[f,N,T]):g.rejectWith(d,[T,N,v]),T.statusCode(y),y=t,c&&h.trigger("ajax"+(u?"Success":"Error"),[T,p,u?f:v]),m.fireWith(d,[T,N]),c&&(h.trigger("ajaxComplete",[T,p]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,u,c,f,p=K.ajaxSetup({},n),d=p.context||p,h=d!==p&&(d.nodeType||d instanceof K)?K(d):K.event,g=K.Deferred(),m=K.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",T={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(e){var n;if(2===x){if(!a)for(a={};n=St.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(p.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),r(0,e),this}};if(g.promise(T),T.success=T.done,T.error=T.fail,T.complete=m.add,T.statusCode=function(e){if(e){var t;if(x<2)for(t in e)y[t]=[y[t],e[t]];else t=e[T.status],T.always(t)}return this},p.url=((e||p.url)+"").replace(Et,"").replace(Dt,Ct[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(te),null==p.crossDomain&&(u=Mt.exec(p.url.toLowerCase()),p.crossDomain=!(!u||u[1]===Ct[1]&&u[2]===Ct[2]&&(u[3]||("http:"===u[1]?80:443))==(Ct[3]||("http:"===Ct[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),k(_t,p,n,T),2===x)return T;if(c=p.global,p.type=p.type.toUpperCase(),p.hasContent=!jt.test(p.type),c&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Lt.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,p.cache===!1)){var N=K.now(),C=p.url.replace(Ft,"$1_="+N);p.url=C+(C===p.url?(Lt.test(p.url)?"&":"?")+"_="+N:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,K.lastModified[i]&&T.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&T.setRequestHeader("If-None-Match",K.etag[i])),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===x))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(s=k(qt,p,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,s.send(v,r)}catch(e){if(!(x<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},active:0,lastModified:{},etag:{}});var Wt=[],Pt=/\?/,Rt=/(=)\?(?=&|$)|\?\?/,$t=K.now();K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||K.expando+"_"+$t++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.data,u=n.url,c=n.jsonp!==!1,f=c&&Rt.test(u),p=c&&!f&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(l);if("jsonp"===n.dataTypes[0]||f||p)return o=n.jsonpCallback=K.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],f?n.url=u.replace(Rt,"$1"+o):p?n.data=l.replace(Rt,"$1"+o):c&&(n.url+=(Pt.test(u)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||K.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Wt.push(o)),s&&K.isFunction(a)&&a(s[0]),s=a=t}),"script"}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),K.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,o){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var It,zt=!!e.ActiveXObject&&function(){for(var e in It)It[e](0,1)},Xt=0;K.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||D()}:j,function(e){K.extend(K.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(n){if(!n.crossDomain||K.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(e){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,f,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=K.noop,zt&&delete It[a]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),f={},p=l.responseXML,p&&p.documentElement&&(f.xml=p);try{f.text=l.responseText}catch(e){}try{u=l.statusText}catch(e){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(e){i||o(-1,e)}f&&o(s,u,f,c)},n.async?4===l.readyState?setTimeout(r,0):(a=++Xt,zt&&(It||(It={},K(e).unload(zt)),It[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Ut,Yt,Vt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Gt=/queueHooks$/,Qt=[O],Kt={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Jt.exec(t),a=i.cur(),s=+a||0,l=1,u=20;if(o){if(n=+o[2],r=o[3]||(K.cssNumber[e]?"":"px"),"px"!==r&&s){s=K.css(i.elem,e,!0)||n||1;do l=l||".5",s/=l,K.style(i.elem,e,s+r);while(l!==(l=i.cur()/a)&&1!==l&&--u)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};K.Animation=K.extend(F,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],Kt[n]=Kt[n]||[],Kt[n].unshift(t)},prefilter:function(e,t){t?Qt.unshift(e):Qt.push(e)}}),K.Tween=_,_.prototype={constructor:_,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var e=_.propHooks[this.prop];return e&&e.get?e.get(this):_.propHooks._default.get(this)},run:function(e){var t,n=_.propHooks[this.prop];return this.options.duration?this.pos=t=K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(r,i,o){return null==r||"boolean"==typeof r||!e&&K.isFunction(r)&&K.isFunction(i)?n.apply(this,arguments):this.animate(q(t,!0),r,i,o)}}),K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),o=K.speed(t,n,r),a=function(){var t=F(this,K.extend({},e),o);i&&t.stop(!0)};return i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=K.timers,a=K._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Gt.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));!t&&r||K.dequeue(this,e)})}}),K.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.timers=[],K.fx=_.prototype.init,K.fx.tick=function(){var e,n=K.timers,r=0;for(Ut=K.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||K.fx.stop(),Ut=t},K.fx.timer=function(e){e()&&K.timers.push(e)&&!Yt&&(Yt=setInterval(K.fx.tick,K.fx.interval))},K.fx.interval=13,K.fx.stop=function(){clearInterval(Yt),Yt=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fx.step={},K.expr&&K.expr.filters&&(K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length});var Zt=/^(?:body|html)$/i;K.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){K.offset.setOffset(this,e,t)});var n,r,i,o,a,s,l,u={top:0,left:0},c=this[0],f=c&&c.ownerDocument;if(f)return(r=f.body)===c?K.offset.bodyOffset(c):(n=f.documentElement,K.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),i=B(f),o=n.clientTop||r.clientTop||0,a=n.clientLeft||r.clientLeft||0,s=i.pageYOffset||n.scrollTop,l=i.pageXOffset||n.scrollLeft,{top:u.top+s-o,left:u.left+l-a}):u)},K.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(K.css(e,"marginTop"))||0,n+=parseFloat(K.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=K.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=K(e),s=a.offset(),l=K.css(e,"top"),u=K.css(e,"left"),c=("absolute"===r||"fixed"===r)&&K.inArray("auto",[l,u])>-1,f={},p={};c?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),K.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},K.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=Zt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(K.css(e,"marginTop"))||0,n.left-=parseFloat(K.css(e,"marginLeft"))||0,r.top+=parseFloat(K.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(K.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||R.body;e&&!Zt.test(e.nodeName)&&"static"===K.css(e,"position");)e=e.offsetParent;return e||R.body})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);K.fn[e]=function(i){return K.access(this,function(e,i,o){var a=B(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(r?K(a).scrollLeft():o,r?o:K(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),K.each({Height:"height",Width:"width"},function(e,n){K.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){K.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return K.access(this,function(n,r,i){var o;return K.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?K.css(n,r,i,s):K.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})}(window);

!function(e){function t(){}function n(e,t){return 0==B.call(e).indexOf("[object "+t)}function r(e,t){var n;return e.path=c(e.path||e.location||""),t&&(n=e.main||"./main",o(n)||(n="./"+n),e.main=a(n,e.name+"/")),e.config=e.config,e}function o(e){return"."==e.charAt(0)}function i(e){return H.test(e)}function u(e,t){return c(e)+"/"+t}function c(e){return e&&"/"==e.charAt(e.length-1)?e.substr(0,e.length-1):e}function a(e,t){var n,r,i,u,c;return n=1,r=e,o(r)&&(u=!0,r=r.replace(Q,function(e,t,r,o){return r&&n++,o||""})),u?(i=t.split("/"),c=i.length-n,c<0?e:(i.splice(c,n),i.concat(r||[]).join("/"))):r}function s(e){var t=e.indexOf("!");return{resourceId:e.substr(t+1),pluginId:t>=0&&e.substr(0,t)}}function f(){}function l(e,t){f.prototype=e||z;var n=new f;f.prototype=z;for(var r in t)n[r]=t[r];return n}function p(){function e(e,t,n){o.push([e,t,n])}function n(e,t){for(var n,r,i=0;n=o[i++];)r=n[e],r&&r(t)}var r,o,i;r=this,o=[],i=function(r,u){e=r?function(e,t){e&&e(u)}:function(e,t){t&&t(u)},i=t,n(r?0:1,u),n=t,o=A},this.then=function(t,n,o){return e(t,n,o),r},this.resolve=function(e){r.resolved=e,i(!0,e)},this.reject=function(e){r.rejected=e,i(!1,e)},this.progress=function(e){n(2,e)}}function d(e){return e instanceof p||e instanceof m}function h(e,t,n,r){return d(e)?e.then(t,n,r):t(e)}function g(e,t,n){var r;return function(){return--e>=0&&t&&(r=t.apply(A,arguments)),0==e&&n&&n(r),r}}function v(){var e,t,r;return b="",e=[].slice.call(arguments),n(e[0],"Object")&&(r=e.shift(),t=x(r)),new m(e[0],e[1],e[2],t)}function x(e,t,n){var r,o;if(b="",e&&(D.setApi(e),w=D.config(e),"preloads"in e&&(r=new m(e.preloads,A,n,J,(!0)),D.nextTurn(function(){J=r})),o=e.main))return new m(o,t,n)}function m(e,t,n,r,o){var i,u;u=D.createContext(w,A,[].concat(e),o),this.then=this.then=i=function(e,t){return h(u,function(t){e&&e.apply(A,t)},function(e){if(!t)throw e;t(e)}),this},this.next=function(e,t,n){return new m(e,t,n,u)},this.config=x,(t||n)&&i(t,n),D.nextTurn(function(){h(o||J,function(){h(r,function(){D.getDeps(u)},n)})})}function y(e){var t,n,r;if(t=e.id,t==A&&(S!==A?S={ex:"Multiple anonymous defines encountered"}:(t=D.getCurrentDefName())||(S=e)),t!=A){if(n=_[t],t in _||(r=D.resolvePathInfo(t,w),n=D.createResourceDef(r.config,t),_[t]=n),!d(n))return void("object"==typeof console&&console.error("duplicate define: "+t));n.useNet=!1,D.defineResource(n,e)}}function j(){var e=D.fixArgs(arguments);y(e)}var b,w,I,E,A,S,C,D,P="0.8.11",R="curl",M="define",O="data-curl-run",T=e.document,N=T&&(T.head||T.getElementsByTagName("head")[0]),U=N&&N.getElementsByTagName("base")[0]||null,F={},k={},L={},q="addEventListener"in e?{}:{loaded:1,complete:1},z={},B=z.toString,_={},$={},J=!1,W=/\?|\.js\b/,H=/^\/|^[^:]+:\/\/|^[A-Za-z]:[\\/]/,Q=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,Z=/\/\*[\s\S]*?\*\/|\/\/.*?[\n\r]/g,G=/require\s*\(\s*(["'])(.*?[^\\])\1\s*\)|[^\\]?(["'])/g,K=/\s*,\s*/;D={toAbsId:function(e,t,n){var r,i,c;return r=a(e,t),o(r)?r:(c=s(r),i=c.pluginId,r=i||c.resourceId,r in n.pathMap&&(r=n.pathMap[r].main||r),i&&(i.indexOf("/")<0&&!(i in n.pathMap)&&(r=u(n.pluginPath,i)),r=r+"!"+c.resourceId),r)},createContext:function(e,t,r,o){function i(t,n){var r,o,u;return r=D.toAbsId(t,a.id,e),n?(o=s(r),o.pluginId?(u=_[o.pluginId],"normalize"in u?o.resourceId=u.normalize(o.resourceId,i,a.config)||"":o.resourceId=i(o.resourceId),o.pluginId+"!"+o.resourceId):r):r}function u(t){return D.resolvePathInfo(i(t,!0),e).url}function c(t,r,u){var c,s,f,l;if(c=r&&function(){r.apply(A,arguments[0])},n(t,"String")){if(c)throw new Error("require(id, callback) not allowed");if(s=i(t,!0),f=_[s],!(s in _))throw new Error("Module not resolved: "+s);return l=d(f)&&f.exports,l||f}h(D.getDeps(D.createContext(e,a.id,t,o)),c,u)}var a;return a=new p,a.id=t||"",a.isPreload=o,a.depNames=r,a.config=e,a.require=c,c.toUrl=u,a.toAbsId=i,a},createResourceDef:function(e,t,n){var r,o,i;return r=D.createContext(e,t,A,n),o=r.resolve,i=g(1,function(e){r.deps=e;try{return D.executeDefFunc(r)}catch(e){r.reject(e)}}),r.resolve=function(e){h(n||J,function(){o(_[r.id]=$[r.url]=i(e))})},r.exportsReady=function(e){h(n||J,function(){r.exports&&(i(e),r.progress(k))})},r},createPluginDef:function(e,t,n,r){var o;return o=D.createContext(e,n,A,r)},getCjsRequire:function(e){return e.require},getCjsExports:function(e){return e.exports||(e.exports={})},getCjsModule:function(e){var t=e.module;return t||(t=e.module={id:e.id,uri:D.getDefUrl(e),exports:D.getCjsExports(e),config:function(){return e.config}},t.exports=t.exports),t},getDefUrl:function(e){return e.url||(e.url=D.checkToAddJsExt(e.require.toUrl(e.id),e.config))},setApi:function(t){var r,o,i,u,c,a;if(r=R,o=M,i=u=e,c=" already exists",t&&(a=t.overwriteApi||t.overwriteApi,r=t.apiName||t.apiName||r,i=t.apiContext||t.apiContext||i,o=t.defineName||t.defineName||o,u=t.defineContext||t.defineContext||u,I&&n(I,"Function")&&(e[R]=I),I=null,E&&n(E,"Function")&&(e[M]=E),E=null,!a)){if(i[r]&&i[r]!=v)throw new Error(r+c);if(u[o]&&u[o]!=j)throw new Error(o+c)}i[r]=v,u[o]=j},config:function(e){function t(e,t){var o,i,f,p,d,h;for(var g in e)f=e[g],n(f,"String")&&(f={path:e[g]}),f.name=f.name||g,d=u,p=s(c(f.name)),o=p.resourceId,i=p.pluginId,i&&(d=a[i],d||(d=a[i]=l(u),d.pathMap=l(u.pathMap),d.pathList=[]),delete e[g]),h=r(f,t),h.config&&(h.config=l(u,h.config)),h.specificity=o.split("/").length,o?(d.pathMap[o]=h,d.pathList.push(o)):d.baseUrl=D.resolveUrl(f.path,u)}function o(e){var t=e.pathMap;e.pathRx=new RegExp("^("+e.pathList.sort(function(e,n){return t[n].specificity-t[e].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete e.pathList}var i,u,a,f;"baseUrl"in e&&(e.baseUrl=e.baseUrl),"main"in e&&(e.main=e.main),"preloads"in e&&(e.preloads=e.preloads),"pluginPath"in e&&(e.pluginPath=e.pluginPath),("dontAddFileExt"in e||e.dontAddFileExt)&&(e.dontAddFileExt=new RegExp(e.dontAddFileExt||e.dontAddFileExt)),i=w,u=l(i,e),u.pathMap=l(i.pathMap),a=e.plugins||{},u.plugins=l(i.plugins),u.paths=l(i.paths,e.paths),u.packages=l(i.packages,e.packages),u.pathList=[],t(e.packages,!0),t(e.paths,!1);for(f in a){var p=D.toAbsId(f+"!","",u);u.plugins[p.substr(0,p.length-1)]=a[f]}a=u.plugins;for(f in a){a[f]=l(u,a[f]);var d=a[f].pathList;d&&(a[f].pathList=d.concat(u.pathList),o(a[f]))}for(f in i.pathMap)u.pathMap.hasOwnProperty(f)||u.pathList.push(f);return o(u),u},resolvePathInfo:function(e,t){var n,r,o,u;return n=t.pathMap,o=i(e)?e:e.replace(t.pathRx,function(e){return r=n[e]||{},u=r.config,r.path||""}),{config:u||w,url:D.resolveUrl(o,t)}},resolveUrl:function(e,t){var n=t.baseUrl;return n&&!i(e)?u(n,e):e},checkToAddJsExt:function(e,t){return e+((t||w).dontAddFileExt.test(e)?"":".js")},loadScript:function(t,n,r){function o(r){r=r||e.event,("load"==r.type||q[u.readyState])&&(delete L[t.id],u.onload=u.onreadystatechange=u.onerror="",n())}function i(e){r(new Error("Syntax or http error: "+t.url))}var u=T.createElement("script");return u.onload=u.onreadystatechange=o,u.onerror=i,u.type=t.mimetype||"text/javascript",u.charset="utf-8",u.async=!t.order,u.src=t.url,L[t.id]=u,N.insertBefore(u,U),u},extractCjsDeps:function(e){var t,n,r=[];return t="string"==typeof e?e:e.toSource?e.toSource():e.toString(),t.replace(Z,"").replace(G,function(e,t,o,i){return i?n=n==i?A:n:n||r.push(o),""}),r},fixArgs:function(e){var t,r,o,i,u,c;return u=e.length,o=e[u-1],i=n(o,"Function")?o.length:-1,2==u?n(e[0],"Array")?r=e[0]:t=e[0]:3==u&&(t=e[0],r=e[1]),!r&&i>0&&(c=!0,r=["require","exports","module"].slice(0,i).concat(D.extractCjsDeps(o))),{id:t,deps:r||[],res:i>=0?o:function(){return o},cjs:c}},executeDefFunc:function(e){var t,n;return n=e.cjs?e.exports:A,t=e.res.apply(n,e.deps),t===A&&e.exports&&(t=e.module?e.exports=e.module.exports:e.exports),t},defineResource:function(e,t){e.res=t.res,e.cjs=t.cjs,e.depNames=t.deps,D.getDeps(e)},getDeps:function(e){function t(e,t,n){c[t]=e,n&&f(e,t)}function n(t,n){var r,o,i,u;r=g(1,function(e){o(e),l(e,n)}),o=g(1,function(e){f(e,n)}),i=D.fetchDep(t,e),u=d(i)&&i.exports,u&&o(u),h(i,r,e.reject,e.exports&&function(e){i.exports&&(e==F?o(i.exports):e==k&&r(i.exports))})}function r(){e.resolve(c)}function o(){e.exportsReady&&e.exportsReady(c)}var i,u,c,a,s,f,l;for(c=[],u=e.depNames,a=u.length,0==u.length&&r(),f=g(a,t,o),l=g(a,t,r),i=0;i<a;i++)s=u[i],s in C?(l(C[s](e),i,!0),e.exports&&e.progress(F)):s?n(s,i):l(A,i,!0);return e},fetchResDef:function(e){return D.getDefUrl(e),D.loadScript(e,function(){var t=S;S=A,e.useNet!==!1&&(!t||t.ex?e.reject(new Error(t&&t.ex||"define() missing or duplicated: "+e.url)):D.defineResource(e,t))},e.reject),e},fetchDep:function(e,t){var n,r,o,i,u,c,a,f,l,d,g,v;return n=t.toAbsId,r=t.isPreload,o=t.config||w,u=n(e),u in _?c=u:(i=s(u),f=i.resourceId,c=i.pluginId||f,l=D.resolvePathInfo(c,o)),u in _||(v=D.resolvePathInfo(f,o).config,i.pluginId?a=c:(a=v.moduleLoader||v.moduleLoader||v.loader||v.loader,a&&(f=c,c=a,l=D.resolvePathInfo(a,o)))),c in _?d=_[c]:l.url in $?d=_[c]=$[l.url]:(d=D.createResourceDef(v,c,r),d.url=D.checkToAddJsExt(l.url,l.config),_[c]=$[l.url]=d,D.fetchResDef(d)),c==a&&(i.pluginId&&o.plugins[i.pluginId]&&(v=o.plugins[i.pluginId]),g=new p,h(d,function(e){var t,o,i;if(i=e.dynamic,f="normalize"in e?e.normalize(f,n,d.config)||"":n(f),o=a+"!"+f,t=_[o],!(o in _)){t=D.createPluginDef(v,o,f,r),i||(_[o]=t);var u=function(e){i||(_[o]=e),t.resolve(e)};u.resolve=u,u.reject=u.error=t.reject,e.load(f,t.require,u,v)}g!=t&&h(t,g.resolve,g.reject,g.progress)},g.reject)),g||d},getCurrentDefName:function(){var t;if(!n(e.opera,"Opera"))for(var r in L)if("interactive"==L[r].readyState){t=r;break}return t},findScript:function(e){var t,n,r=0;for(t=T&&(T.scripts||T.getElementsByTagName("script"));t&&(n=t[r++]);)if(e(n))return n},extractDataAttrConfig:function(){var e,t="";return e=D.findScript(function(e){var n;return n=e.getAttribute(O),n&&(t=n),n}),e&&e.setAttribute(O,""),t},bootScript:function(){function e(){D.loadScript({url:r.shift()},t,t)}function t(){b&&(r.length?(D.nextTurn(n),e()):n("run.js script did not run."))}function n(e){throw new Error(e||"Primary run.js failed. Trying fallback.")}var r=b.split(K);r.length&&e()},nextTurn:function(e){setTimeout(e,0)}},C={require:D.getCjsRequire,exports:D.getCjsExports,module:D.getCjsModule},v.version=P,v.config=x,j.amd={plugins:!0,jQuery:!0,curl:P},w={baseUrl:"",pluginPath:"curl/plugin",dontAddFileExt:W,paths:{},packages:{},plugins:{},pathMap:{},pathRx:/$^/},I=e[R],E=e[M],I&&n(I,"Object")?(e[R]=A,x(I)):D.setApi(),b=D.extractDataAttrConfig(),b&&D.nextTurn(D.bootScript),_[R]=v,_["curl/_privileged"]={core:D,cache:_,config:function(){return w},_define:y,_curl:v,Promise:p}}(this.window||"undefined"!=typeof global&&global||this),function(e,t,n){define("curl/plugin/js",["curl/_privileged"],function(e){"use strict";function r(e,t){return e.lastIndexOf(".")<=e.lastIndexOf("/")?e+"."+t:e}function o(t,r,o){function i(){s=!0,t.exports&&(t.resolved=n(t.exports)),!t.exports||t.resolved?r(f):o()}function u(e){s=!0,o(e)}function c(){s||(a<new Date?o():setTimeout(c,10))}var a,s,f;a=(new Date).valueOf()+(t.timeoutMsec||3e5),o&&t.exports&&setTimeout(c,10),f=e.core.loadScript(t,i,u)}function i(e,t){o(e,function(){var n=s.shift();c=s.length>0,n&&i.apply(null,n),t.resolve(e.resolved||!0)},function(e){t.reject(e)})}var u,c,a={},s=[],f=t&&1==t.createElement("script").async,l=/\?|\.js\b/;return u=e.Promise,{dynamic:!0,normalize:function(e,t,n){var r=e.indexOf("!");return r>=0?t(e.substr(0,r))+e.substr(r):t(e)},load:function(e,t,n,p){function d(e){(n.error||function(e){throw e})(e)}var h,g,v,x,m,y,j,b;h=e.indexOf("!order")>0,g=e.indexOf("!exports="),v=g>0?e.substr(g+9):p.exports,x=!("prefetch"in p)||p.prefetch,e=h||g>0?e.substr(0,e.indexOf("!")):e,m=p.dontAddFileExt||p.dontAddFileExt,m=m?new RegExp(m):l,y=t.toUrl(e),m.test(y)||(y=r(y,"js")),y in a?a[y]instanceof u?a[y].then(n,d):n(a[y]):(j={name:e,url:y,order:h,exports:v,timeoutMsec:p.timeout},a[y]=b=new u,b.then(function(e){a[y]=e,n(e)},d),h&&!f&&c?(s.push([j,b]),x&&(j.mimetype="text/cache",o(j,function(e){e&&e.parentNode.removeChild(e)},function(){}),j.mimetype="")):(c=c||h,i(j,b)))},cramPlugin:"../cram/js"}})}(this,this.document,function(){try{return eval(arguments[0])}catch(e){return}}),function(e){"use strict";function t(e,t){M[e]=M[e]||t}function n(){var e;return e=E[w]("link"),e.rel="stylesheet",e.type="text/css",e}function r(e,n){e.onload=function(){t("load",!0),n()}}function o(e,n){e.onerror=function(){t("error",!0),n()}}function i(e,t,n){var r;D.push({url:e,cb:t,eb:function(){n(new Error(R))}}),r=a(),r&&u(r)}function u(e){var t,n;t=D.shift(),n=e.styleSheet,t?(e.onload=function(){t.cb(t.ss),u(e)},e.onerror=function(){t.eb(),u(e)},t.ss=n.imports[n.addImport(t.url)]):(f(e),c(e))}function c(e){C.push(e)}function a(){var e;return e=C.shift(),!e&&S.length<P&&(e=E.createElement("style"),S.push(e),j.appendChild(e)),e}function s(e){var t,n,r;if(!e.href||!x())return!1;t=!1;try{n=e.sheet,n&&(r=n.cssRules,t=null===r,!t&&r&&(n.insertRule("-curl-css-test {}",0),n.deleteRule(0),t=!0))}catch(e){t="[object Opera]"!=Object.prototype.toString.call(window.opera)&&/security|denied/i.test(e.message)}return t}function f(e){e.onload=e.onerror=y}function l(e){return e.onload==y||!e.onload}function p(e,t,n){M.load||(s(e)?n(e.sheet):l(e)||I(function(){p(e,t,n)},t))}function d(e,t,n){M.error}function h(e,t,n){function o(){l(e)||(f(e),n(e.sheet))}r(e,o),p(e,t,o)}function g(e,t,n){function r(){l(e)||(f(e),n(new Error(R)))}o(e,r),d(e,t,r)}function v(e,t,r,o){var i;i=n(),h(i,o,t),g(i,o,r),i.href=e,j.appendChild(i)}function x(){return!E.readyState||"complete"==E.readyState}function m(e,t){return e.lastIndexOf(".")<=e.lastIndexOf("/")?e+"."+t:e}function y(){}var j,b,w="createElement",I=e.setTimeout,E=e.document,A=E&&E.createStyleSheet&&!(E.documentMode>=10),S=[],C=[],D=[],P=12,R="HTTP or network error.",M={};E&&(j=E.head||E.getElementsByTagName("head")[0],b=A?i:v),define("curl/plugin/css",{normalize:function(e,t){var n,r;if(!e)return e;n=e.split(","),r=[];for(var o=0,i=n.length;o<i;o++)r.push(t(n[o]));return r.join(",")},load:function(e,t,r,o){function i(e){a.length>1&&c.push(e),0==--l&&r(1==a.length?e:c)}function u(e){var t;(t=r.reject||function(e){throw e})(e)}var c,a,s,f,l,p;for(c=[],a=(e||"").split(","),s=o.cssWatchPeriod||50,f=o.cssNoWait,l=a.length,p=0;p<a.length;p++){e=a[p];var d,h;d=m(t.toUrl(e),"css"),f?(h=n(),h.href=d,j.appendChild(h),i(h.sheet||h.styleSheet)):b(d,i,u,s)}},cramPlugin:"../cram/css"})}(this),define("curl-cache-bust",["curl/_privileged"],function(e){var t=e.core.loadScript;e.core.loadScript=function(n,r,o){var i=e.config().urlArgs;return i&&(n.url+=(n.url.indexOf("?")>=0?"&":"?")+i),t(n,r,o)}});

var JSON;JSON||(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u,i=gap,p=e[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof rep&&(p=rep.call(e,t,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,n=0;n<f;n+=1)u[n]=str(n,p)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;n<f;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,p),o&&u.push(quote(r)+(gap?": ":":")+o));else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(o=str(r,p),o&&u.push(quote(r)+(gap?": ":":")+o));return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),window.JSON=JSON;

define("UWA/Internal/Polyfill/NativeObjects",[],function(){"use strict";function t(t){var e=Number(t);return isNaN(e)?e=0:(0!==e||isFinite(e))&&(e=(e<0?-1:1)*Math.floor(Math.abs(e))),e}function e(t){if(null===t||void 0===t)throw new TypeError(t+" is not a object");return t&&u&&t instanceof String?t.split(""):Object(t)}function r(t,e){return e in t}function n(t){return Object.prototype.toString.call(t)}function o(t,e){if(null===t||void 0===t)throw new TypeError(e||"Cannot call method on "+t);return t}var i=Function.prototype.call,c=Object.prototype,a=Array.prototype,l=Object("a"),u="a"!==l[0]||!(0 in l),p=Function("return this")();Function.prototype.bind||(Function.prototype.bind=function(t){var e,r,n=this,o=Array.prototype.slice,i=function(){};if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);return e=o.call(arguments,1),r=function(){var i;return this instanceof r?(i=n.apply(this,e.concat(o.call(arguments))),i=Object(i)===i?i:this):i=n.apply(t,e.concat(o.call(arguments))),i},n.prototype&&(i.prototype=n.prototype,r.prototype=new i,i.prototype=null),r}),function(){var t,e,r="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";String.prototype.trim&&!r.trim()||(r="["+r+"]",t=new RegExp("^"+r+r+"*"),e=new RegExp(r+r+"*$"),String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(t,"").replace(e,"")})}(),function(){var t=String.prototype.split,e="ab",r=".",o="tesst",i="",c="0";2!==e.split(/(?:ab)*/).length||4!==r.split(/(.?)(.?)/).length||"t"===o.split(/(s)*/)[1]||0===i.split(/.?/).length||r.split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];String.prototype.split=function(r,o){function i(){var t;for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(p[t]=void 0)}var c,a,l,u,p,f,s,h=this;if(void 0===r&&0===o)c=[];else if("[object RegExp]"!==n(r))c=t.apply(h,[r,o]);else{for(c=[],a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),l=0,r=new RegExp(r.source,a+"g"),h=String(h),e||(u=new RegExp("^"+r.source+"$(?!\\s)",a)),o=void 0===o?-1>>>0:o>>>0;(p=r.exec(h))&&(f=p.index+p[0].length,!(f>l&&(c.push(h.slice(l,p.index)),!e&&p.length>1&&p[0].replace(u,i),p.length>1&&p.index<h.length&&Array.prototype.push.apply(c,p.slice(1)),s=p[0].length,l=f,c.length>=o)));)r.lastIndex===p.index&&r.lastIndex++;l===h.length?!s&&r.test("")||c.push(""):c.push(h.slice(l)),c=c.length>o?c.slice(0,o):c}return c}}():c.split(void 0,0).length&&(String.prototype.split=function(e,r){return void 0===e&&0===r?[]:t.apply(this,[e,r])})}(),function(){if("".substr&&"b"!=="0b".substr(-1)){var t=String.prototype.substr;String.prototype.substr=function(e,r){return t.call(this,e<0&&(e=this.length+e)<0?0:e,r)}}}(),String.prototype.repeat||(String.prototype.repeat=function(){var e=function(t,r){var n;return r<1?n="":r%2?n=e(t,r-1)+t:(n=e(t,r/2),n+=n),n};return function(r){var n=String(o(this));if(r=t(r),r<0||r===1/0)throw new RangeError("Invalid String#repeat value");return e(n,r)}}()),String.prototype.startsWith||(String.prototype.startsWith=function(e){var r,i,c=String(o(this));if("[object RegExp]"===n(e))throw new TypeError('Cannot call method "startsWith" with a regex');return e=String(e),r=arguments.length>1?arguments[1]:void 0,i=Math.max(t(r),0),c.slice(i,i+e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){var r,i,c,a,l=String(o(this));if("[object RegExp]"===n(e))throw new TypeError('Cannot call method "endsWith" with a regex');return e=String(e),r=l.length,i=arguments.length>1?arguments[1]:void 0,c=void 0===i?r:t(i),a=Math.min(Math.max(c,0),r),l.slice(a-e.length,a)===e}),String.prototype.codePointAt||(String.prototype.codePointAt=function(e){var r,n,i,c=String(o(this)),a=c.length,l=t(e);if(!(l<0||l>=a))return r=c.charCodeAt(l),i=l+1===a,r<55296||r>56319||i?r:(n=c.charCodeAt(l+1),n<56320||n>57343?r:1024*(r-55296)+(n-56320)+65536)}),String.prototype.contains||(String.prototype.contains=function(t,e){var r=String(o(this));return r.indexOf(t,e)!==-1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===n(t)}),2!==[1,2].splice(0).length&&!function(){var t=a.splice,e=a.slice;a.splice=function(r,n){var o=this,i=[],c=e.call(arguments);return c.length&&(c[0]=void 0===r?0:r,c[1]=void 0===n?o.length-r:n,i=t.apply(o,c)),i}}(),1!==[].unshift(0)&&!function(){var t=a.unshift;a.unshift=function(){return t.apply(this,arguments),this.length}}(),a.indexOf&&[0,1].indexOf(1,2)===-1||(a.indexOf=function(n,o){var i=0,c=e(this),a=c.length>>>0;if(!a)return-1;for(arguments.length>1&&(i=t(o)),i=i>=0?i:Math.max(0,a+i);i<a;i++)if(r(c,i)&&c[i]===n)return i;return-1}),a.lastIndexOf&&[0,1].lastIndexOf(0,-3)===-1||(a.lastIndexOf=function(n,o){var i=e(this),c=i.length>>>0,a=c-1;if(!c)return-1;for(arguments.length>1&&(a=Math.min(a,t(o))),a=a>=0?a:c-Math.abs(a);a>=0;a--)if(r(i,a)&&n===i[a])return a;return-1}),a.every||(a.every=function(t,n){var o,i=e(this),c=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(o=0;o<c;o++)if(r(i,o)&&!t.call(n,i[o],o,i))return!1;return!0}),a.some||(a.some=function(t,n){var o,i=e(this),c=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(o=0;o<c;o++)if(r(i,o)&&t.call(n,i[o],o,i))return!0;return!1}),a.forEach||(a.forEach=function(t,n){var o=0,i=this,c=e(this),a=c.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(;o<a;)r(c,o)&&t.call(n,c[o],o,i),o++}),a.map||(a.map=function(t,n){var o,i=e(this),c=i.length>>>0,a=Array(c);if("function"!=typeof t)throw new TypeError(t+" is not a function");for(o=0;o<c;o++)r(i,o)&&(a[o]=t.call(n,i[o],o,i));return a}),a.filter||(a.filter=function(t,n){var o,i,c=e(this),a=c.length>>>0,l=[];if("function"!=typeof t)throw new TypeError(t+" is not a function");for(o=0;o<a;o++)r(c,o)&&(i=c[o],t.call(n,i,o,c)&&l.push(i));return l}),a.reduce||(a.reduce=function(t){var n,o=!0,i=0,c=e(this),a=c.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(!a&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");if(arguments.length>=2)n=arguments[1];else do{if(r(c,i)){n=c[i++];break}if(++i>=a)throw new TypeError("reduce of empty array with no initial value")}while(o);for(i;i<a;i++)r(c,i)&&(n=t(n,c[i],i,c));return n}),a.reduceRight||(a.reduceRight=function(t){var n,o=!0,i=e(this),c=i.length>>>0,a=c-1;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(!c&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");if(arguments.length>=2)n=arguments[1];else do{if(r(i,a)){n=i[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}while(o);do r(i,a)&&(n=t(n,i[a],a,i));while(a--);return n});var f,s,h,y,g,b=i.bind(c.hasOwnProperty),d="__proto__",w=function(t){var e=typeof t;return("object"===e||"function"===e)&&null!==t};if(g=b(c,"__defineGetter__"),g&&(f=i.bind(c.__defineGetter__),s=i.bind(c.__defineSetter__),h=i.bind(c.__lookupGetter__),y=i.bind(c.__lookupSetter__)),Object.assign||(Object.assign=function(t){var r=e(t);if(1===arguments.length)return r;var n;for(n=1;n<arguments.length;n++){var o=arguments[n];if(null!==o&&void 0!==o){var i,c=e(o),a=Object.getOwnPropertyNames(c);for(i=0;i<a.length;i++)r[a[i]]=c[a[i]]}}return r}),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}),Object.setPrototypeOf||(Object.setPrototypeOf=function(){function t(t,e){if("object"!=typeof t||null===t)throw new TypeError("can not set prototype on a non-object");if("object"!=typeof e&&null!==e)throw new TypeError("can only set prototype to an object or null")}function e(e,n){return t(e,n),r.call(e,n),e}var r;try{r=Object.getOwnPropertyDescriptor(c,d).set,r.call({},null)}catch(t){if(c!=={}[d])return;r=function(t){this[d]=t},e.polyfill=e(e({},null),c)instanceof Object}return e}()),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t[d]||(t.constructor?t.constructor.prototype:c)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){var r,n,o,i;if(!w(t))throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object:"+t);if(b(t,e))return n={enumerable:!0,configurable:!0},g&&(r=t[d],t[d]=c,o=h(t,e),i=y(t,e),t[d]=r,o||i)?(o&&(n.get=o),i&&(n.set=i),n):(n.value=t[e],n)}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){if(!w(t))throw new TypeError("Object.getOwnPropertyNames called on a non-object:"+t);return Object.keys(t)}),Object.create||(Object.create=function(t,e){var r,n=function(){};return null===t?r={__proto__:null}:(n.prototype=t,r=new n,r[d]=t),void 0!==e&&Object.defineProperties(r,e),r}),function(){function t(t){try{return Object.defineProperty(t,"sentinel",{}),t.hasOwnProperty("sentinel")}catch(t){}}var e=Object.defineProperty,r=e&&t({}),n=e&&void 0===p.document||t(p.document.createElement("div")),o=e&&!r||!n&&Object.defineProperty;e&&!o||(Object.defineProperty=function(t,e,r){var n;if(!w(t))throw new TypeError("Object.defineProperty called on non-object: "+t);if(!w(r))throw new TypeError("Property description must be an object: "+r);if(o)try{return o.call(Object,t,e,r)}catch(t){}if(b(r,"value"))g&&(h(t,e)||y(t,e))?(n=t[d],t[d]=c,delete t[e],t[e]=r.value,t[d]=n):t[e]=r.value;else{if(!g)throw new TypeError("getters & setters can not be defined on this javascript engine");b(r,"get")&&f(t,e,r.get),b(r,"set")&&s(t,e,r.set)}return t})}(),Object.defineProperties||(Object.defineProperties=function(t,e){if(!w(t))throw new TypeError("Object.defineProperties called on a non-object");var r;for(r in e)b(e,r)&&Object.defineProperty(t,r,e[r]);return t}),Object.seal||(Object.seal=function(t){if(!w(t))throw new TypeError("Object.seal called on a non-object");return t}),Object.freeze||(Object.freeze=function(t){if(!w(t))throw new TypeError("Object.freeze called on a non-object");return t}),Object.preventExtensions||(Object.preventExtensions=function(t){if(!w(t))throw new TypeError("Object.preventExtensions called on a non-object");return t}),Object.isSealed||(Object.isSealed=function(t){if(!w(t))throw new TypeError("Object.isSealed called on a non-object");return!1}),Object.isFrozen||(Object.isFrozen=function(t){if(!w(t))throw new TypeError("Object.isFrozen called on a non-object");return!1}),Object.isExtensible)try{Object.isExtensible(42)}catch(t){var O=Object.isExtensible;Object.isExtensible=function(t){try{return O(t)}catch(t){return!1}}}else Object.isExtensible=function(t){var e,r;if(!w(t))return!1;for(r="";b(t,r);)r+="?";return t[r]=!0,e=b(t,r),delete t[r],e};Object.keys||(Object.keys=function(t){if(!w(t))throw new TypeError("Object.keys called on a non-object");var e,r,n,o,i=[],c=!b({toString:null},"toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=a.length;for(n in t)b(t,n)&&i.push(n);if(c)for(e=0,r=l;e<r;e++)o=a[e],b(t,o)&&i.push(o);return i}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date=function(t){function e(t,e){var r=e>1?1:0;return o[e]+Math.floor((t-1969+r)/4)-Math.floor((t-1901+r)/100)+Math.floor((t-1601+r)/400)+365*(t-1970)}function r(e,n,o,i,c,a,l){var u,p=arguments.length;return this instanceof t?(u=1===p&&String(e)===e?new t(r.parse(e)):p>=7?new t(e,n,o,i,c,a,l):p>=6?new t(e,n,o,i,c,a):p>=5?new t(e,n,o,i,c):p>=4?new t(e,n,o,i):p>=3?new t(e,n,o):p>=2?new t(e,n):p>=1?new t(e):new t,u.constructor=r,u):t.apply(this,arguments)}var n,o=[0,31,59,90,120,151,181,212,243,273,304,334,365],i=new RegExp("^(\\d{4}|[-+]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(n in t)r[n]=t[n];return r.now=t.now,r.UTC=t.UTC,r.prototype=t.prototype,r.prototype.constructor=r,r.parse=function(r){var n,o,c,a,l,u,p,f,s,h,y,g,b=i.exec(r);return b?(n=Number(b[1]),o=Number(b[2]||1)-1,c=Number(b[3]||1)-1,a=Number(b[4]||0),l=Number(b[5]||0),u=Number(b[6]||0),p=Math.floor(1e3*Number(b[7]||0)),f=!b[4]||b[8]?0:Number(new t(1970,0)),s="-"===b[9]?1:-1,h=Number(b[10]||0),y=Number(b[11]||0),a<(l>0||u>0||p>0?24:25)&&l<60&&u<60&&p<1e3&&o>-1&&o<12&&h<24&&y<60&&c>-1&&c<e(n,o+1)-e(n,o)&&(g=60*(24*(e(n,o)+c)+a+h*s),g=1e3*(60*(g+l+y*s)+u)+p+f,-864e13<=g&&g<=864e13)?g:NaN):t.parse.apply(this,arguments)},r}(Date);try{new Date((-621987552e5)).toISOString().indexOf("-000001")===-1&&delete Date.prototype.toISOString}catch(t){}Date.prototype.toISOString||(Date.prototype.toISOString=function(){var t,e,r,n,o=this;if(!isFinite(o))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(t=[o.getUTCMonth()+1,o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()],n=o.getUTCFullYear(),n=(n<0?"-":n>9999?"+":"")+("00000"+Math.abs(n)).slice(0<=n&&n<=9999?-4:-6),e=t.length;e--;)r=t[e],r<10&&(t[e]="0"+r);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+o.getUTCMilliseconds()).slice(-3)+"Z"});var v=!0;try{new Date(NaN).toJSON()}catch(t){v=!1}Date.prototype.toJSON&&v||(Date.prototype.toJSON=function(){var t=this;if("function"!=typeof t.toISOString)throw new TypeError("toISOString property is not callable");try{return t.toISOString()}catch(t){return null}})});

define("UWA/Internal/Immediate",function(){"use strict";var e,t=new Function("return this")();return e=t.setImmediate&&t.clearImmediate?{set:t.setImmediate.bind(t),clear:t.clearImmediate.bind(t)}:t.addEventListener&&t.postMessage?function(){var e="uwa-setImmediate",a={},n=0;return t.addEventListener("message",function(n){var i;try{i="string"==typeof n.data&&"{"===n.data[0]&&JSON.parse(n.data)}catch(e){}i&&i.type===e&&n.source===t&&(n.stopPropagation(),a[i.id]&&(a[i.id](),delete a[i.id]))},!0),{set:function(i){var r=n++;return a[r]=i,t.postMessage(JSON.stringify({type:e,id:r}),"*"),r},clear:function(e){delete a[e]}}}():{set:function(e){return t.setTimeout(e,0)},clear:t.clearTimeout}});

define("UWA/Internal/Polyfill/Promise",["UWA/Internal/Immediate"],function(e){"use strict";function r(e){return null!==e&&void 0!==e&&Object(e)===e}function t(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function n(e){return e instanceof p}function o(e){if(Array.isArray(e))return e;if("number"!=typeof e.length)throw new TypeError("bad iterable");return Array.prototype.slice.call(e)}function i(e){if(e){if(!t(e))throw new TypeError("bad promise constructor")}else e=p;var n,o=this,i=function(e,r){o.resolve=e,o.reject=r};if(o.promise=Object.create(e.prototype||null),n=e.call(o.promise,i),!t(o.resolve)||!t(o.reject))throw new TypeError("bad promise constructor");if(r(n)&&n!==o.promise)throw new TypeError("bad promise constructor")}function c(e,n){if(!r(e))return!1;try{var o=e.then;if(!t(o))return!1;o.call(e,n.resolve,n.reject)}catch(e){n.reject(e)}return!0}function s(e,r,t){return function(n){if(n===e)return t(new TypeError("self resolution"));var o=new i,s=c(n,o);return s?o.promise.then(r,t):r(n)}}function u(e,r,t,n){var o=!1;return function(i){if(!o&&(o=!0,r[e]=i,0===--n.count)){var c=t.resolve;c(r)}}}function a(e,r){var t,n,o=r.handler,i=r.capability,s=i.resolve,u=i.reject;try{if(t=o(e),t===i.promise)throw new TypeError("self resolution");n=c(t,i),n||s(t)}catch(e){u(e)}}function l(r,t){r.forEach(function(r){e.set(a.bind(null,t,r))})}function f(r,t,n){e.clear(r._updateStatus),r._status=n,r._updateStatus=e.set(function(){r._resolveReactions=void 0,r._rejectReactions=void 0,l(t,r._result)})}function h(e){return o(e).map(function(e){return e instanceof p?e:p.resolve(e)})}var p,v=new Function("return this")();"function"!=typeof v.Promise&&(p=v.Promise=function(e){var r,n,o,i=this;if(!i||"object"!=typeof i)throw new TypeError("bad promise");if(void 0!==i._status)throw new TypeError("promise already initialized");if(!t(e))throw new TypeError("not a valid resolver");i._status="unresolved",i._resolveReactions=[],i._rejectReactions=[],r=function(e){"unresolved"===i._status&&(o=i._resolveReactions,i._result=e,f(i,o,"has-resolution"))},n=function(e){"unresolved"===i._status&&(o=i._rejectReactions,i._result=e,f(i,o,"has-rejection"))};try{e(r,n)}catch(e){n(e)}return i},p.prototype={constructor:p,catch:function(e){return this.then(void 0,e)},then:function(e,r){var o,c,u,a,f=this;if(!n(f))throw new TypeError("not a promise");switch(o=new i,t(r)||(r=function(e){throw e}),t(e)||(e=function(e){return e}),c=s(f,e,r),u={capability:o,handler:c},a={capability:o,handler:r},f._status){case"unresolved":f._resolveReactions.push(u),f._rejectReactions.push(a);break;case"has-resolution":l([u],f._result);break;case"has-rejection":l([a],f._result);break;default:throw new TypeError("unexpected")}return o.promise}},p.all=function(e){var r=new i,t=r.resolve,n=r.reject,o=[],c={count:1};try{h(e).forEach(function(e,t){var n,i,s=e._result,a=e._status;n="has-resolution"===a?p.resolve(s):"has-rejection"===a?p.reject(s):e,n&&(i=u(t,o,r,c),c.count++,n.then(i,r.reject))}),0===--c.count&&t(o)}catch(e){n(e)}return r.promise},p.race=function(e){var r,t=new i,n=t.resolve,o=t.reject;try{h(e).forEach(function(e){var t,i=e._result,c=e._status;t="has-resolution"===c&&"has-rejection"!==r?n(i):"has-rejection"===c&&"has-resolution"!==r&&"has-rejection"!==r?o(i):e,r=c,t&&t.then(n,o)})}catch(e){o(e)}return t.promise},p.reject=function(e){var r=new i,t=r.reject;return t(e),r.promise},p.resolve=function(e){if(e instanceof p)return e;var r=new i,t=r.resolve;return t(e),r.promise})});

define("UWA/Core",["UWA/Internal/Polyfill/NativeObjects","UWA/Internal/Polyfill/Promise"],function(){"use strict";var e,t="UWA",r=new Function("return this")(),n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r[t]||{};return e={version:"1.3.RC4",hosts:function(){function e(e,t){return c[t].split("//")[1]}var t,o=r.document,i=o&&o.location&&"https:"===o.location.protocol?"https://":"http://",l=a.hosts,c={netvibes:"netvibes.com",uwa:"uwa.{netvibes}",exposition:"{uwa}",ecosystem:"eco.{netvibes}"};for(t in c)n.call(c,t)&&(l&&n.call(l,t)?c[t]=l[t]:c[t]=i+c[t].replace(/\{(\w+)\}/g,e));return c}(),paths:function(){var e,t=a.paths,r={lib:"/lib/",js:"/lib/UWA/js/",css:"/lib/c/UWA/assets/css/",img:"/lib/c/UWA/assets/img/"};for(e in r)n.call(r,e)&&t&&n.call(t,e)&&(r[e]=t[e]);return r}(),debug:Boolean(a.debug),namespace:function(t,n,o,a){o=o||r;var i,l,c=t.split("/");for(i=0,l=c.length;i<l;i++){t=c[i];var u=Boolean(o[t]);if(i===l-1){if(u){if(!a)throw new Error('Duplicate NameSpace "'+c.join(".")+'" into "'+o+'"');if("extend"===a)n=e.extend(o[t],n);else if("replace"===a)n=e.extend(n,o[t]);else{if(a!==!0)throw new Error("Unknown mode "+a);n=e.extend(o[t],n,!0)}}o[t]=n}else u||(o[t]={});o=o[t]}return n},getGlobal:function(){return r},extend:function(t,r,o){var a;r=r||{};for(a in r)if(n.call(r,a))if(o&&e.is(r[a],"plain"))e.is(t[a],"plain")||(t[a]={}),e.extend(t[a],r[a],o);else try{t[a]=r[a]}catch(e){}return t},merge:function(e,t){var r;for(r in t)n.call(t,r)&&(void 0!==e[r]&&null!==e[r]||(e[r]=t[r]));return e},clone:function(t,r){var o,a,i,l;switch(l=r!==!0&&r!==!1||r,e.typeOf(t)){case"array":if(l)for(o=[],a=0,i=t.length;a<i;a++)o[a]=e.clone(t[a],!0);else o=t.slice();break;case"object":if(l){o={};for(a in t)n.call(t,a)&&(o[a]=e.clone(t[a],!0))}else o=e.extend({},t);break;case"date":o=new Date(t);break;case"element":o=t.cloneNode(l);break;default:o=t}return o},result:function(t,r,n){var o;return e.is(t)&&(o=t[r]),void 0===o&&(o=n),e.is(o,"function")?o.call(t):o},typeOf:function(){var e={Null:!1,Undefined:!1,Function:"function",String:"string",Array:"array",Date:"date",RegExp:"regexp",Number:"number",Boolean:"boolean",Error:"error",Arguments:"arguments",Blob:"blob",ArrayBuffer:"arraybuffer",FormData:"formdata",HTMLDocument:"document",XMLDocument:"document",Document:"document",global:"window",Window:"window",DOMWindow:"window",Math:"object",MouseEvent:"event",NodeList:"nodelist",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",DataView:"dataview",File:"file"};return function(t){var n={}.toString.call(t).slice(8,-1);if(void 0===t||null===t)return!1;if("Function"===n&&"function"==typeof t.extend&&"function"==typeof t.singleton)return"class";if("Number"===n&&isNaN(t))return!1;if("Object"===n&&t&&"number"==typeof t.nodeType)return"element";var o=e[n];return void 0!==o?o:"Event"===n.slice(-5)?"event":"Element"===n.slice(-7)?"element":t.$extended&&t.event?"event":"Object"===n&&r.DataView&&t instanceof r.DataView?"dataview":"object"}}(),is:function(){function t(t){if(!t||"object"!==e.typeOf(t))return!1;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var r;for(r in t)if(!n.call(t,r))return!1;return!0}var r;return r=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){var r,n,o=!1;for(r=0,n=e.length;r<n;r++)if(e[r]===t){o=!0;break}return o?r:-1},function(n,o){var a,i;if(void 0===o)a="number"==typeof n?!isNaN(n):void 0!==n&&null!==n;else{if(o="array"===e.typeOf(o)?o:[o],a=!1,r(o,"finite")!==-1&&(a=isFinite(n)),a||r(o,"plain")===-1||(a=t(n)),!a){var l=r(o,"arraybufferview");l>=0&&(o=o.slice(),o.splice(l,1,"typedarray","dataview"))}a||(i=e.typeOf(n))===!1||(a=r(o,i)!==-1)}return a}}(),equals:function(){function t(r,n,a,i){var l,c,u,s,f,p,y;if(r===n)y=0!==r||1/r===1/n;else if(null==r||null==n)y=r===n;else if(l=o.call(r),l!==o.call(n))y=!1;else if("[object String]"===l)y=String(r)===String(n);else if("[object Number]"===l)y=r!=Number(r)?n!=Number(n):0==r?1/r==1/n:r==Number(n);else if("[object Date]"===l||"[object Boolean]"===l)y=Number(r)===Number(n);else if("[object RegExp]"===l)y=r.source===n.source&&r.global===n.global&&r.multiline===n.multiline&&r.ignoreCase===n.ignoreCase;else if("object"!=typeof r||"object"!=typeof n)y=!1;else{for(c=a.length;c--;)a[c]===r&&(y=i[c]===n);if(void 0===y){if(a.push(r),i.push(n),"[object Array]"===l)for(u=r.length,y=u===n.length;y&&u>0;)u--,y=t(r[u],n[u],a,i);else if(s=r.constructor,f=n.constructor,s===f||"[object Function]"===o.call(s)&&s instanceof s&&"[object Function]"===o.call(f)&&f instanceof f){u=0,y=!0;for(p in r)if(e.owns(r,p)&&(u++,y=e.owns(n,p)&&t(r[p],n[p],a,i),!y))break;if(y){for(p in n)if(e.owns(n,p)&&!u--)break;y=!u}}else y=!1;a.pop(),i.pop()}}return y}return function(e,r){return t(e,r,[],[])}}(),owns:function(t,r){return e.is(t)&&n.call(t,r)},log:function(e,t){t||(t="log"),r.console?r.console[t](e):r.opera&&r.opera.postError&&r.opera.postError(e)},i18n:function(){var t,n,o={};return function(a,i){return i=i||(r.navigator?r.navigator.language||r.navigator.systemLanguage:"default"),t=o[i]=o[i]||{},n="object"==typeof a?e.extend(t,a):t[a]||a}}()},define.amd&&define.amd.curl&&(r.require||r.curl)({apiName:"require",paths:{UWA:e.hosts.uwa+e.paths.js,vendors:e.hosts.uwa+e.paths.lib+"/vendors"}}),e.namespace(t,e,r,!0)});

define("UWA/Event",["UWA/Core"],function(e){"use strict";var t={onDomReady:function(e,t){function n(a){var c=a.type;"readystatechange"!==c&&"complete"===r.readyState&&(("load"===c?window:r)[d](s+c,n,!1),o||(o=!0,e.call(t,c||a)))}function a(){try{l.doScroll("left"),n("poll")}catch(e){setTimeout(a,50)}}t=t||window;var o=!1,c=!0,r=window.document,l=r.documentElement,i=!!r.addEventListener,u=i?"addEventListener":"attachEvent",d=i?"removeEventListener":"detachEvent",s=i?"":"on";if("complete"===r.readyState)setTimeout(e.bind(t,"lazy"),1);else{if(r.createEventObject&&l.doScroll){try{c=!window.frameElement}catch(e){}c&&a()}r[u](s+"DOMContentLoaded",n,!1),r[u](s+"readystatechange",n,!1),window[u](s+"load",n,!1)}},dispatchEvent:function(t,n,a){var o,c,r,l=9===t.nodeType?t:t.ownerDocument||t.document,i=l.defaultView||l.parentWindow,u={canBubble:!0,cancelable:!0,view:i,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null,keyCode:null,charCode:null,touches:null,targetTouches:null,changedTouches:null,scale:1,rotation:0};if(a=e.merge(a||{},u),l.createEvent){if("click"===n||"dblclick"===n||"contextmenu"===n||0===n.indexOf("mouse")?(c="MouseEvent",r=[n,a.canBubble,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget]):0===n.indexOf("touch")?(c="TouchEvent",r=[n,a.canBubble,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.touches,a.targetTouches,a.changedTouches,a.scale,a.rotation]):0===n.indexOf("key")?(c="KeyboardEvent",r=[n,a.canBubble,a.cancelable,a.view,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode]):(c="HTMLEvents",r=[n,a.canBubble,a.cancelable]),o=l.createEvent(c),"KeyboardEvent"===c&&"function"==typeof o.initKeyEvent?c="KeyEvent":"HTMLEvents"===c&&"function"!=typeof o.initHTMLEvents&&(c="Event"),"function"!=typeof o["init"+c])throw new Error("Unsuported Event type "+c);o["init"+c].apply(o,r),t.dispatchEvent(o)}else if(l.createEventObject){o=l.createEventObject(),e.extend(o,a);try{t.fireEvent("on"+n,o)}catch(e){throw new Error("Unsuported Event type "+n)}}return o},getElement:function(t){var n=t._uwaTarget||t.target||t.srcElement;return"DOMCharacterDataModified"===t.type||!n||3!==n.nodeType&&4!==n.nodeType||(n=n.parentNode),e.extendElement(n)},findElement:function(e,n){return t.getElement(e).getClosest(n)},getPosition:function(e,t){var n,a,o,c=e.target||e.srcElement,r=9===c.nodeType?c:c.ownerDocument||c.document,l=e.changedTouches||e.touches;if(l)if(void 0!==t&&l[t])o={x:l[t].pageX,y:l[t].pageY};else{for(o={x:0,y:0},n=0,a=l.length;n<a;n++)o.x+=l[n].pageX,o.y+=l[n].pageY;o.x/=a,o.y/=a}else o={x:e.clientX+(r.documentElement.scrollLeft||r.body.scrollLeft),y:e.clientY+(r.documentElement.scrollTop||r.body.scrollTop)};return o},stopPropagation:function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1,void 0!==e.cancelable&&e.cancelable!==!0||void 0!==e.defaultPrevented||(e.defaultPrevented=!0)},stop:function(e){t.preventDefault(e),t.stopPropagation(e)},isDefaultPrevented:function(e){return e.defaultPrevented||e.returnValue!==!0&&void 0!==e.returnValue},whichButton:function(t){var n=t.button,a=t.which;return!a&&e.is(n)&&(a=[0,1,3,1,2][n]||0),a-1},whichKey:function(){var e=["alt","ctrl","meta","shift"],t={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"};return function(n){var a,o,c,r=n.which||n.keyCode,l="keypress"!==n.type&&t[r],i=[];for(a=0,o=e.length;a<o;a++)c=e[a],n[c+"Key"]&&l!==c&&i.push(c);return l?i.push(l):r&&0===n.type.indexOf("key")&&i.push(String.fromCharCode(r).toLowerCase()),i.join("+")}}(),wheelDelta:function(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}};return e.namespace("Event",t,e)});

define("UWA/Internal/Deprecate",["UWA/Core"],function(e){"use strict";var r={},t={};return t.warn=function(t,n,a){a||(a="warn"),e.debug&&!r.hasOwnProperty(t)&&(e.log(t+" is deprecated."+(n?" "+n:""),a),r[t]=!0)},t.alias=function(r,n,a){if(!e.debug)return a;var i=function(){return t.warn(r,n),a&&a.apply(this,arguments)};return a&&(i.prototype=a.prototype),i},t.property=function(r,n,a){var i=a?a.value:void 0;if(e.debug){var u=a&&a.name||n;Object.defineProperty(r,n,{get:function(){return t.warn(u,a&&a.message),i},set:function(e){t.warn(u,a&&a.message),i=e}})}else r[n]=i},t.uncurryAlias=function(e,r,n,a){Object.keys(e).forEach(function(i){var u=e[i];Object.defineProperty(r,i,{value:function(r,c,s){switch(t.warn(a+"#"+i,"Use "+n+"."+i+"(value, ...) instead"),arguments.length){case 0:return u.call(e,this);case 1:return u.call(e,this,r);case 2:return u.call(e,this,r,c);case 3:return u.call(e,this,r,c,s);default:var l=[].slice.call(arguments);return l.unshift(this),u.apply(e,l)}},writable:!0})})},t});

define("UWA/Function",["UWA/Core"],function(n){"use strict";var t={};return t.always=function(n){return function(){return n}},n.namespace("Function",t,n)});

define("UWA/String",["UWA/Core","UWA/Internal/Deprecate"],function(UWA,Deprecate){"use strict";function parseColorToArray(e){e=e.replace(/\s+/g,"");var r,t,a=!1,n=e.match(/^rgb(a?)\(((?:\d{1,3},)*\d{1,3})\)/);if(n)a=n[2].split(",").map(function(e){return parseInt(e,10)}),(!n[1]&&3!==a.length||n[1]&&4!==a.length)&&(a=!1);else if(n=e.match(/^#?((?:[a-f0-9]{3}){1,2})$/i)){r=3===n[1].length?1:2,a=[];for(var i=0;i<n[1].length;i+=r)t=parseInt(n[1].substr(i,r),16),1===r&&(t=16*t+t),a.push(t)}else"transparent"===e&&(a=[0,0,0,0]);return a}function FakeString(){return Deprecate.warn("UWA/String as a constructor","Use the native String instead."),String.apply(null,arguments)}var Module={};Module.isEmail=function(){var e=/^([a-zA-Z0-9_.\-+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return function(r){return e.test(r)}}(),Module.truncate=function(e,r,t){return r=r||30,t=void 0===t?"...":t,e.length>r?e.slice(0,r-t.length)+t:String(e)},Module.cut=function(e,r,t){if(r=r||30,t=void 0===t?"...":t,e.length<=r)return String(e);var a,n=".,;!? ",i=-1,u=t.length;for(a=r-u;a>=0;a--)if(n.indexOf(e.charAt(a))!==-1){i=a;break}return i<0&&(i=r-u),e.slice(0,i)+t},Module.escapeRegExp=function(e){return e.replace(/\\/g,"\\\\").replace(/([\-.*+\?\^$()\[\]{}|])/g,"\\$1")},Module.stripTags=function(e){return e.replace(/ on\w+="[^"]*"/g,"").replace(/<(?!\s*\/?\s*(div|br|dt|dd|th|td|p|pre|h1|h2|h3|h4|h5)\b)[^>]*>/gi,"").replace(/<\/?[^>]+>/gi," ").replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")},Module.stripScripts=function(string,evaluate){var scripts="",text=string.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(e,r){return scripts+=r+"\n",""});return evaluate===!0?eval(scripts):UWA.is(evaluate,"function")&&evaluate(scripts.trim(),text),text},Module.stripComments=function(){var e=/^\/\/.*/gm,r=/^\/\*[\S\s]*?\*\//gm;return function(t){return t.replace(e,"").replace(r,"")}}(),Module.escapeHTMLEntities=function(){function e(e){return e.match(/&([a-z]+;)/gi)}function r(e){return t[e]||(t[e]=new RegExp("&"+e+";","g")),t[e]}var t={},a={apos:39,minus:8722,circ:710,tilde:732,Scaron:352,lsaquo:8249,OElig:338,lsquo:8216,rsquo:8217,ldquo:8220,rdquo:8221,bull:8226,ndash:8211,mdash:8212,trade:8482,scaron:353,rsaquo:8250,oelig:339,Yuml:376,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,sbquo:8218,bdquo:8222,dagger:8224,Dagger:8225,hellip:8230,permil:8240,prime:8242,Prime:8243,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,hibar:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254};return function(t){var n,i;if(e(t))for(n in a)a.hasOwnProperty(n)&&(i=r(n),t=t.replace(i,"&#"+a[n]+";"));return String(t)}}(),Module.globToRegex=function(e){var r=Module.escapeRegExp(e).replace(/\\\*/g,".*").replace(/\\\?/g,".").replace(/\\\{/g,"(").replace(/\\\}/g,")").replace(/,/g,"|");return new RegExp("^"+r+"$")},Module.escapeHTML=function(){function e(e){return r[e]}var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},t=/[&<>"'\/]/g,a=/[<>\/]/g;return function(r,n){return String(r).replace(n?a:t,e)}}(),Module.unescapeHTML=function(e){var r=document.createElement("div");return r.innerHTML=Module.stripTags(e).replace(/"/g,"&quot;"),r.childNodes[0]?r.childNodes[0].nodeValue:""},Module.ucfirst=function(e){var r=e.charAt(0).toUpperCase();return r+e.substr(1)},Module.lcfirst=function(e){var r=e.charAt(0).toLowerCase();return r+e.substr(1)},Module.capitalize=function(e){for(var r=e.toUpperCase(),t=e.toLowerCase(),a=!1,n="",i=0;i<e.length;i++)r[i]===t[i]?(n+=e[i],a=!1):a?n+=e[i]:(n+=r[i],a=!0);return n},Module.camelCase=function(){var e=/([A-Z]+)/g,r=/[\-_\s](.)/g,t=/[\-_\s]/g;return function(a){return a=String(a).replace(e,function(e,r){return r.substr(0,1).toUpperCase()+r.toLowerCase().substr(1,r.length)}).replace(r,function(e,r){return r.toUpperCase()}).replace(t,"").trim(),Module.lcfirst(a)}}(),Module.unCamelCase=function(){var e=/([a-z])([A-Z])/g,r=/\b([A-Z]+)([A-Z])([a-z])/;return function(t,a){return a=a||"-",t.toString().replace(e,"$1"+a+"$2").replace(r,"$1"+a+"$2$3").toLowerCase()}}(),Module.rgbToHex=function(e,r){var t=parseColorToArray(e);return t&&(t=r?t.map(function(e){return parseInt(e.toString(16),10)}):0===t[3]?"transparent":"#"+t.slice(0,3).map(function(e){return("0"+e.toString(16)).slice(-2)}).join("")),t},Module.hexToRgb=function(e,r){var t=parseColorToArray(e);return t&&!r&&(t=(3===t.length?"rgb(":"rgba(")+t.join(", ")+")"),t},Module.format=function(){var e=/\{(\d+)\}/g;return function(r){var t=arguments;return r.replace(e,function(e,r){return t[Number(r)+1]})}}(),Module.parseRelativeTime=function(e,r){var t,a,n,i,u,o=new Date,s=86400,l=UWA.i18n;return o=new Date(o.getFullYear(),o.getMonth(),o.getDate()).getTime(),"number"!=typeof r&&(r=0),a=e.match(/^(\d\d\d\d)\-(\d\d)\-(\d\d) (\d\d):(\d\d):(\d\d)$/),n=a?new Date(a[1],a[2]-1,a[3],a[4],a[5],a[6]).getTime():/^\d{13}$/.test(e)?parseInt(e,10):/^\d{10}$/.test(e)?1e3*parseInt(e,10):Date.parse(e.replace(/\//g,"-")),r*=3600,i=(new Date-n)/1e3+r,u=(o-n)/1e3+r,t=!isNaN(i)&&(i<60?l("less than a minute ago"):i<120?l("about a minute ago"):i<2700?Module.format(l("{0} minutes ago"),Math.round(i/60)):i<5400?l("about an hour ago"):u<0?Module.format(l("about {0} hours ago"),Math.round(i/3600)):u<86400?l("yesterday"):Module.format(l("{0} days ago"),Math.ceil(u/s)))},Module.makeClickable=function(e){var r=/((\w+:\/\/(\w+(:\w+)?@)?)|www\.)[^\s<$]+/,t=/([\/:\w\+\_\-]+(\.[\w\+\_\-]+)*@[\w\.\-]+)/;return e.replace(/(^|[\s>])([^\s<>"']+?)(?=$|[\s<])/gm,function(e,a,n){if(r.test(n)){var i=n.replace(/([\.!\?:;\)\]]$)/,""),u=n;return/^www\./.test(i)&&(i="http://"+i),a+'<a href="'+i+'" target="_blank">'+u+"</a>"}if(t.test(n)){var o=n;return/^[\w]+:\/\//.test(o)||(o='<a href="mailto:'+o+'">'+o+"</a>"),a+o}return e})};var originalContains=String.prototype.contains,contains=function(e,r,t){return UWA.is(t,"string")&&(e=t+e+t,r=t+r+t),originalContains.call(e,r)};return Module.highlight=function(e){return Deprecate.warn("UWA.String.highlight"),e},Module.test=function(e,r,t){return Deprecate.warn("UWA.String.test","Use regexp.test(string) instead"),("string"==typeof r?new RegExp(r,t):r).test(e)},Deprecate.uncurryAlias(Module,String.prototype,"UWA.String","String"),String.prototype.contains=function(e,r){return UWA.is(r,"string")?(Deprecate.warn('String#contains(substring, "string")','Use UWA.String.contains(string, substring, "string") instead'),contains(this,e,r)):originalContains.apply(this,arguments)},Module.contains=contains,Object.assign(FakeString,Module),UWA.namespace("String",FakeString,UWA)});

define("UWA/Array",["UWA/Core","UWA/Internal/Deprecate"],function(r,a){"use strict";function e(){return a.warn("UWA/Array as a constructor","Use the native Array instead."),Array.apply(null,arguments)}var t={};return t.equals=function(r,e){a.warn("UWA.Array.equals","Use UWA.equals instead");var t,n=r.length;if(!e||n!==e.length)return!1;for(t=0;t<n;t++)if(r[t]!==e[t])return!1;return!0},t.detect=function(r,a,e){var t,n;for(t=0,n=r.length;t<n;t++)if(a.call(e,r[t],t,r))return r[t]},t.invoke=function(r,a){var e=Array.prototype.slice.call(arguments,2);return r.map(function(r){return r[a].apply(r,e)})},t.erase=function(r,a){for(var e=r.length;e--;e)r[e]===a&&r.splice(e,1);return r},a.uncurryAlias(t,Array.prototype,"UWA.Array","Array"),e.isArray=a.alias("UWA/Array.isArray","Use the native Array.isArray instead",Array.isArray),["splice","slice"].forEach(function(r){e.prototype[r]=a.alias("UWA/Array#"+r,"Use the native Array#"+r+" instead",Array.prototype[r])}),Object.assign(e,t),r.namespace("Array",e,r)});

define("UWA/Date",["UWA/Core","UWA/Internal/Deprecate"],function(e,t){"use strict";function n(){t.warn("UWA/Date as a constructor","Use the native Date instead.");var e=Array.prototype.slice.call(arguments);return e.unshift(null),new(Date.bind.apply(Date,e))}var r={};return r.strftime=function(){function t(e,t,n){var r=Array;return r((n||2)-String(e).length+1).join(t||0)+e}function n(e){return parseInt(e,10)}var u=e.i18n,a={a:[u("Sun"),u("Mon"),u("Tue"),u("Wed"),u("Thu"),u("Fri"),u("Sat")],A:[u("Sunday"),u("Monday"),u("Tuesday"),u("Wednesday"),u("Thursday"),u("Friday"),u("Saturday")],b:[u("Jan"),u("Feb"),u("Mar"),u("Apr"),u("May"),u("Jun"),u("Jul"),u("Aug"),u("Sep"),u("Oct"),u("Nov"),u("Dec")],B:[u("January"),u("February"),u("March"),u("April"),u("May"),u("June"),u("July"),u("August"),u("September"),u("October"),u("November"),u("December")],c:u("%a %b %e %Y %T"),p:[u("AM"),u("PM")],P:[u("am"),u("pm")],x:u("%m/%d/%y"),X:u("%T")},o={a:function(e){return a.a[e.getDay()]},A:function(e){return a.A[e.getDay()]},b:function(e){return a.b[e.getMonth()]},B:function(e){return a.B[e.getMonth()]},c:a.c,C:function(e){return t(n(e.getFullYear()/100))},d:function(e){return t(e.getDate())},D:"%m/%d/%y",e:function(e){return t(e.getDate()," ")},F:"%Y-%m-%d",g:function(e){return t(o.G(e)%100)},G:function(e){var t=e.getFullYear(),r=n(o.V(e)),u=n(o.W(e));return u>r?t++:0===u&&r>=52&&t--,t},h:"%b",H:function(e){return t(e.getHours())},I:function(e){return t(e.getHours()%12||12)},j:function(e){var r=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" GMT")-new Date(e.getFullYear()+"/1/1 GMT"),u=n(r/6e4/60/24)+1;return t(u,0,3)},l:function(e){return t(e.getHours()%12||12," ")},m:function(e){return t(e.getMonth()+1)},M:function(e){return t(e.getMinutes())},n:"\n",p:function(e){return a.p[e.getHours()>=12?1:0]},P:function(e){return a.P[e.getHours()>=12?1:0]},r:"%I:%M:%S %p",R:"%H:%M",s:function(e){return n(e/1e3)},S:function(e){return t(e.getSeconds())},t:"\t",T:"%H:%M:%S",u:function(e){return e.getDay()||7},U:function(e){var r=n(o.j(e)),u=6-e.getDay();return t(n((r+u)/7))},V:function(e){var r=n(o.W(e)),u=new Date(e.getFullYear()+"/1/1").getDay(),a=r+(u>4||u<=1?0:1);return 53===a&&new Date(e.getFullYear()+"/12/31").getDay()<4?a=1:0===a&&(a=o.V(new Date(e.getFullYear()-1+"/12/31"))),t(a,0)},w:function(e){return e.getDay()},W:function(e){var r=n(o.j(e)),u=7-o.u(e);return t(n((r+u)/7))},x:a.x,X:a.X,y:function(e){return t(e.getFullYear()%100)},Y:function(e){return e.getFullYear()},z:function(e,r){var u=r?0:e.getTimezoneOffset(),a=t(n(Math.abs(u/60))),o=t(u%60);return(u>0?"-":"+")+a+o},Z:function(e,t){var n;return t?n="UTC":(n=e.toString().replace(/^.*:\d\d( GMT[+\-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,""),n.length>4&&(n=o.z(e))),n},"%":"%"};return function(e,t,n){var u;return u=n?new Date(Number(e)+6e4*e.getTimezoneOffset()):e,t.replace(/%[A-Za-z%]/g,function(t){var a,i=o[t.slice(1)];return a=void 0===i?t:"string"==typeof i?"%"!==i&&i.indexOf("%")>=0?r.strftime(e,i,n):i:i(u,n)})}}(),t.uncurryAlias(r,Date.prototype,"UWA.Date","Date"),["now","parse","UTC"].forEach(function(e){n[e]=t.alias("UWA/Date."+e,"Use the native Date."+e+" instead",Date[e])}),Object.assign(n,r),e.namespace("Date",n,e)});

define("UWA/Object",["UWA/Core","UWA/Internal/Deprecate"],function(e,t){"use strict";function n(){return t.warn("UWA/Object as a constructor","Use the native Object instead."),Object.apply(null,arguments)}return["assign","create","defineProperty","defineProperties","freeze","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys","preventExtensions","seal","setPrototypeOf"].forEach(function(e){n[e]=t.alias("UWA/Object."+e,"Use the native Object."+e+" instead",Object[e])}),e.namespace("Object",n,e)});

define("UWA/Utils",["UWA/Core","UWA/Array","UWA/Internal/Immediate"],function(e,t,r){"use strict";var n,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=e.getGlobal();return n={buildUrl:function(){function e(e){function t(e){"/.."===e?r.pop():r.push(e)}var r=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,t),r.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}var t=a.location&&a.location.protocol?a.location.protocol:"http:";return function(r,o){if(r=String(r),o=String(o),!n.isAbsoluteUrl(r))throw new Error("First argument should be a absolute url.");"//"===r.substring(0,2)&&(r=t+r);var a,i,c=String(r).split("://"),l=c[0],s=c[1],u=s.split("/"),D=u[0],B="";if("//"===o.substring(0,2))r=l+":"+o;else if(o.split("://").length>1)r=o;else if("/"===o.substring(0,1))r=l+"://"+D+o;else{for(a=1,i=u.length-1;a<i;a++)B+="/"+u[a];r=l+"://"+D+e(B+"/"+o)}return r}}(),parseUrl:function(){var e=["source","subprotocol","protocol","authority","user","password","domain","port","path","directoryPath","fileName","query","anchor"],t=new RegExp("^(?:(?:(?:([^#.:]+):)?([^#.:]+):)?//)?((?:([^:/]+)(?::([^/]*?))?@)?([^:/?#]*)(?::(\\d*))?)?((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?");return function(r){var n,o=t.exec(r),a={};for(n=0;n<e.length;n++)a[e[n]]=o[n]||"";return a.subprotocol&&(a.source=a.source.substr(a.subprotocol.length+1)),a.port||(a.port="https"===a.protocol?"443":"80"),a.directoryPath&&a.directoryPath.length>0&&(a.directoryPath=a.directoryPath.replace(/\/?$/,"/")),a.domain=a.domain.toLocaleLowerCase(),a.protocol=a.protocol.toLocaleLowerCase(),a}}(),composeUrl:function(e){var t="";return e.protocol&&(t=e.protocol+"://",e.subprotocol&&(t=e.subprotocol+":"+t)),e.domain?(t+=e.domain,!e.port||"http"===e.protocol&&80===parseInt(e.port,10)||"https"===e.protocol&&443===parseInt(e.port,10)||(t+=":"+e.port)):e.authority&&(t+=e.authority),e.path&&(t+=e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t},matchUrl:function(e,t){var r,o,a=!1,i=n.isAbsoluteUrl(e),c=n.isAbsoluteUrl(t);return i||c?(i?c||(t=n.buildUrl(e,t)):e=n.buildUrl(t,e),r=n.parseUrl(e),o=n.parseUrl(t),a=["domain","protocol","port"].every(function(e){return r[e]===o[e]||"protocol"===e&&(""===r[e]||""===o[e])})):a=!0,a},isAbsoluteUrl:function(){var e=/^((https?|ftp|file):)?\/\//;return function(t){return e.test(t)}}(),isValidUrl:function(){var e="(?:((?:https?|ftp|file):)?//)",t="(?:\\S+(?::\\S*)?@)?",r="(?!(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",o="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))",a="[a-z\\u00a1-\\uffff0-9]+",i="(?:"+a+"-)*"+a,c=i,l="(?:\\."+i+")*",s="\\.(?:[a-z\\u00a1-\\uffff]{2,})",u="(?::\\d{2,5})?",D="[a-z0-9._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF!\\$&'\\(\\)\\*\\+,;=:@-]",B="(?:%[\\da-f]{2})",p="("+D+"|"+B+")",A=p+"*",d="("+p+"|[\\uE000-\\uF8FF]|\\/|\\?)*",f="(\\/(?!/)"+A+")*",C="(\\?"+d+")?",E="(\\#"+d+")?",h=f+C+E,m=new RegExp("^"+e+t+"(?:"+r+o+"|"+c+l+s+")"+u+h+"$","i"),F=new RegExp("^"+h+"$","i");return function(e){return(n.isAbsoluteUrl(e)?m:F).test(e)}}(),encodeUrl:function(e){return encodeURIComponent(e).replace(/\./g,"%2e")},parseQuery:function(t){var r=t.substring(t.indexOf("?")+1).split(/[&;]/),n={};return r.length&&r.forEach(function(t){var r=t.indexOf("=")+1,o=r?t.substr(r):"",a=r?t.substr(0,r-1).match(/([^\]\[]+|(\B)(?=\]))/g):[t],i=n;a&&(o=decodeURIComponent(o),a.forEach(function(t,r){t=decodeURIComponent(t);var n=i[t];r<a.length-1?i=i[t]=n||{}:Array.isArray(n)?n.push(o):i[t]=e.is(n)?[n,o]:o}))}),n},toQueryString:function(t,r){var o,a,i,c,l=e.is;if(l(t,"string"))c=t;else if(l(t.toQueryString,"function"))c=t.toQueryString();else{c=[];for(o in t)t.hasOwnProperty(o)&&(a=t[o],r&&(o=r+"["+o+"]"),l(a)&&(l(a,"object")||l(a,"array")?i=n.toQueryString(a,o):l(a,"function")||(i=n.encodeUrl(o)+"="+n.encodeUrl(a))),i&&c.push(i),i=void 0);c=c.join("&")}return c},getQueryString:function(e,t,r){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp(t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1]):r},loadXml:function(){var e=/<(DOCTYPE|xml)[^><]*>|<.(DOCTYPE|xml)[^><]*>/g,t=/(<(style|script)[^>]*>)([\u0001-\uFFFF]*?)(<\/(style|script)>)/gim,r=/<!\[CDATA\[/;return function(o,i){var c,l,s,u,D;if("object"==typeof o&&o.nodeType)c=o;else if(o=o.replace(e,""),o=o.replace(t,function(){var e=arguments,t=e[1],n=e[3],o=e[4];return r.test(n)||(n="<![CDATA[\n"+n+"\n]]>"),t+n+o}),a.DOMParser)try{if(c=new a.DOMParser,c=c.parseFromString(o,"application/xml"),D=c.getElementsByTagName("parsererror")[0])throw new Error(D.textContent||D.innerText)}catch(e){throw new Error("Invalid XML: "+e.message)}else{if(!a.ActiveXObject)throw new Error("No native XML parser available.");if(c=new a.ActiveXObject("MSXML2.DOMDocument"),c.setProperty("SelectionLanguage","XPath"),c.validateOnParse=!1,c.resolveExternals=!1,c.preserveWhiteSpace=!1,c.async=!1,c.loadXML(o),0!==c.parseError.errorCode)throw new Error("Invalid XML: "+c.parseError.line+", "+c.parseError.reason)}return i&&(a.XSLTProcessor?(l=new a.XSLTProcessor,l.importStylesheet(n.loadXml(i)),c=l.transformToDocument(c,document)):(l=new a.ActiveXObject("Msxml2.FreeThreadedDOMDocument"),l.loadXML(n.xmlToString(i)),s=new a.ActiveXObject("Msxml2.XSLTemplate"),s.stylesheet=l,u=s.createProcessor(),u.input=c,u.transform(),c=n.loadXml(u.output))),c}}(),loadHtml:function(){function e(e){return e=e.replace(t,""),e=e.replace(r,"<$1$2$4>")}var t=new RegExp("</?(script|embed|object|frameset|frame|iframe|meta|link|style)(.|\n)*?>","img"),r=new RegExp("<([a-z][a-z0-9]*)(?:[^>]*(s(src|href|title|style|alt|height|width|data-([a-z][a-z0-9]*))=['\"][^'\"]*['\"]))?[^>]*?(/?)>","im");return function(t){var r,n,o,i;if(a.DOMParser)try{r=(new a.DOMParser).parseFromString(t,"text/html")}catch(e){}if(!r&&document.implementation.createHTMLDocument)try{r=document.implementation.createHTMLDocument(""),n=r.documentElement,n.innerHTML=t,o=n.firstElementChild,1===n.childElementCount&&"html"===o.localName.toLowerCase()&&r.replaceChild(o,n)}catch(e){r=null}if(t=e(t),!r&&a.ActiveXObject)try{r=new a.ActiveXObject("htmlfile"),r.write(t),r.close()}catch(e){r=null}return r||(i=document.createElement("iframe"),i.style.display="none",document.body.appendChild(i),r=i.contentDocument||i.contentWindow.document,r.write(t),r.close(),document.body.removeChild(i)),r}}(),xmlToHtml:function(e){"string"==typeof e&&(e=n.loadXml(e)),9===e.nodeType&&(e=e.childNodes[0]);var t,r,o,a,i=e.nodeName.toLowerCase(),c=document.createElement(i),l=e.childNodes,s=e.attributes||[];for(o=0,a=s.length;o<a;o++)t=s[o],c.setAttribute(t.name,t.value);for(o=0,a=l.length;o<a;o++)switch(r=l[o],r.nodeType){case 1:c.appendChild(n.xmlToHtml(r));break;case 3:"style"===i&&c.styleSheet?c.styleSheet.cssText=r.nodeValue:c.appendChild(document.createTextNode(r.nodeValue));break;case 4:case 8:"script"===i?c.text=r.nodeValue:c.appendChild(document.createComment(r.nodeValue))}return c},xmlToString:function(){function e(e){var t,r,n,o,a=0;return t=e.trim().replace(/(>)(\s+)?(<)(\/*)/g,"$1\r\n$3$4").split(">\r\n"),e="",t.forEach(function(i,c){var l,s=0,u="",D="\r\n";for(c!==t.length-1&&(i+=">"),n=o,o=r,r=/(<!\[CDATA\[)|(\]\]>)/.test(t[c+1]||""),i.match(/.+<\/\w[^>]*>$/)?s=0:i.match(/^<\/\w/)?0!==a&&(a-=1):i.match(/^<\w[^>]*[^\/]>.*$/)&&(s=1),l=0;l<a;l++)u+="  ";(r||o&&!r)&&(D=""),(o||n&&!o)&&(u=""),e+=u+i+D,a+=s}),e}return function(t,r){var n;return"string"==typeof t?n=t:a.XMLSerializer?(n=new a.XMLSerializer,n=n.serializeToString(t)):n=t.xml,r&&(n=e(n)),n.trim()}}(),setCss:function(){function e(e){for(var t=/\{/g,r=/\}/g,n=0,o=r.test(e),a=t.test(e),i=[],c={children:i};;)if(a&&t.lastIndex<r.lastIndex){var l={prefix:e.slice(n,t.lastIndex-1),parent:c,content:"",children:[]};c.children.push(l),c=l,n=t.lastIndex,a=t.test(e)}else{if(!o)break;c.content=e.slice(n,r.lastIndex-1),c.parent&&(c=c.parent),n=r.lastIndex,o=r.test(e)}return i}function r(e,n){e.forEach(function(e){var o=e.prefix.trim();"@"!==o[0]&&n!==!1&&(e.selectors=t.invoke(o.split(","),"trim")),r(e.children,!o.startsWith("@keyframes"))})}function o(e,t){var r,n,o=t.match(/^[\s\S]*(?:^|\s)(?:body|html)\b(\S*)/);return o?(r=t.slice(0,o[0].length).trim()+" ",n=t.slice(o[0].length).trim()):(r="",n=t),n=n.replace(/^\.module\b\S*\s/,""),n.startsWith(e+" ")||(n=e+" "+n),r+n}function a(e,t){e.forEach(function(e){if(e.selectors){var r,n;for(r=0,n=e.selectors.length;r<n;r++)e.selectors[r]=o(t,e.selectors[r])}else a(e.children,t)})}function i(e,t){e.forEach(function(e){e.content=e.content.replace(/\burl\(["']?([\s\S]*?)["']?\)/g,function(e,r){return n.isAbsoluteUrl(r)||(r=n.buildUrl(t,r)),'url("'+r+'")'})})}function c(e){return e.map(function(e){var t=e.selectors?e.selectors.join(",\n")+" ":e.prefix;return t+"{"+c(e.children)+e.content+"}"}).join("\n")}function l(e,t){var r=document.getElementById(t);if(!r){r=document.createElement("style"),r.setAttribute("id",t),r.setAttribute("type","text/css");var n=document.getElementsByTagName("head").item(0);n.appendChild(r)}r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}return function(t,o,s,u){s=s?s.trim():"",o=Array.isArray(o)?o.join("\n"):String(o),t||(t=n.getCheckSum(o)),o=o.replace(/\/\*[\s\S]*?\*\//g,"");var D=e(o);return s&&(r(D),a(D,s)),u&&i(D,u),o=c(D),l(o,t),o}}(),toArray:function(e){var t,r,n=typeof e,o=[];if("string"===n)o=e.split("");else if("object"===n&&Array.isArray(e)===!1)if(void 0!==e.length)for(t=0,r=e.length;t<r;t++)o[t]=e[t];else for(t in e)e.hasOwnProperty(t)&&o.push(e[t]);else e&&(o=Array.prototype.slice.call(e));return o},splat:function(t){var r;return r=e.is(t)?Array.isArray(t)?t:e.is(t,"arguments")?n.toArray(t):[t]:[]},getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)})},getUniqueId:function(){var e=0,t=Math.pow(32,4);return function(r){e++;var n=(Math.random()*t|0)*t+e;return(r||"u")+("0000"+n.toString(32)).slice(-8)}}(),getCheckSum:function(e,t){e=String(e);var r,n;for(t=t||305419896,r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)*r;return Math.abs(parseInt(t,10)).toString(36)},getCRC32:function(){var e="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";return function(t){t=String(t);var r,n,o=0,a=0,i=0;for(o^=-1,r=0,n=t.length;r<n;r++)i=255&(o^t.charCodeAt(r)),a="0x"+e.substr(9*i,8),o=o>>>8^a;return o^-1}}(),base64Encode:function(){function e(e){var t,r;for(t=0,r=e.length;t<r;t++)if(e.charCodeAt(t)>255)return!0;return!1}function t(e){return unescape(encodeURIComponent(e))}var r=a.btoa||function(e){for(var t,r,n,a,i,c,l,s=e.length,u="",D=0;D<s;)t=e.charCodeAt(D++),r=e.charCodeAt(D++),n=e.charCodeAt(D++),a=t>>2,i=(3&t)<<4|r>>4,c=(15&r)<<2|n>>6,l=63&n,isNaN(r)?c=l=64:isNaN(n)&&(l=64),u=u+o.charAt(a)+o.charAt(i)+o.charAt(c)+o.charAt(l);return u};return function(n){var o;return n=String(n),o=r(n&&e(n)?t(n):n)}}(),base64Decode:function(){function e(e){return decodeURIComponent(escape(e))}var t=/[^A-Za-z0-9\+\/\=]/g,r=a.atob||function(e){var r,n,a,i,c,l,s,u,D="",B=0;if("string"!=typeof e&&(e=String(e)),e=e.replace(t,""),r=e.length,r%4===1)throw new Error("InvalidCharacterError: DOM Exception 5");for(;B<r;)c=o.indexOf(e.charAt(B++)),l=o.indexOf(e.charAt(B++)),s=B<r&&o.indexOf(e.charAt(B++)),u=B<r&&o.indexOf(e.charAt(B++)),n=c<<2|l>>4,D+=String.fromCharCode(n),s!==!1&&64!==s&&(a=(15&l)<<4|s>>2,D+=String.fromCharCode(a)),u!==!1&&64!==u&&(i=(3&s)<<6|u,D+=String.fromCharCode(i));return D};return function(t){var n=r(t);try{n=e(n)}catch(e){}return n}}(),attempt:function(t,r,n){var o,a=Array.prototype.slice.call(arguments,3);if(e.debug)o=t.apply(n,a);else try{o=t.apply(n,a)}catch(t){r?o=r.apply(n,[t].concat(a)):e.log("Error in Utils.attempt: "+t)}return o},memoize:function(e,t){var r={},n=Array.prototype.slice;return t=t||JSON.stringify,function(){var o=t(n.call(arguments));return r.hasOwnProperty(o)||(r[o]=e.apply(this,arguments)),r[o]}},getOwnPropertyMatchName:function(e,t){var r,n;if(t=String(t),e.hasOwnProperty(t))n=t;else{t=t.toLowerCase();for(r in e)if(e.hasOwnProperty(r)&&r.toLowerCase()===t){n=r;break}}return n},getOwnPropertyMatchValue:function(e,t){var r=n.getOwnPropertyMatchName(e,t);return r?e[r]:void 0},setImmediate:r.set,clearImmediate:r.clear,random:function(t,r){return e.is(r)||(r=t,t=0),t+Math.floor(Math.random()*(r-t+1))}},e.namespace("Utils",n,e,!0)});

define("UWA/Class",["UWA/Core"],function(n){"use strict";function t(n,t,i,e){i._original&&(i=i._original);var o,p=r.test(i),l=a.test(i);return p||l?("function"!=typeof t&&(t=e?s:n||s),"function"!=typeof n&&(n=l?s:t),o=function(){var e,o,r,a=this,s=null!==a&&void 0!==a;return s?(p&&(o=a._parent,a._parent=n),l&&(r=a._previous,a._previous=t),e=i.apply(a,arguments),p&&(a._parent=o),l&&(a._previous=r)):e=i.apply(a,arguments),e},o.displayName="(method wrapper)",o._original=i,o):i}function i(n){return function(){this._previous.apply(this,arguments),n.apply(this,arguments)}}var e=!1,o=/xyz/.test(function(){n.xyz()}),r=o?/\b_parent\b/:/^/,a=o?/\b_previous\b/:/^/,p="__uwaPrivateConstructor",s=function(){},l=function(){};return l.extend=function(){var t,i,o=this;return e=!0,t=new o,e=!1,i=function(){!e&&this[p]&&this[p].apply(this,arguments)},t.constructor=i,n.extend(i,{prototype:t,parent:o,extend:l.extend,singleton:l.singleton,implement:l.implement}),i.implement.apply(i,arguments),i},l.implement=function(){var e,o,r,a,s,l,u,c=this,f=c.prototype||c;for(e=0,o=arguments.length;e<o;e+=1){r=arguments[e],s=n.typeOf(r),"class"===s||"function"===s?("function"===s&&(r.prototype[p]=i(r)),r=r.prototype):r.init&&(r[p]=r.init,delete r.init);var y;y=r.name?r.name:f.name?n.owns(f,"name")?f.name:"("+f.name+" inheritor)":"(anonymous class)";for(a in r)"constructor"!==a&&(l=r[a],n.is(l,"function")?(u=("class"===s?arguments[e]:c).parent,l.displayName=y+"#"+(a===p?"init":a),f[a]=t(u&&u.prototype&&u.prototype[a],n.owns(f,a)&&f[a],l,"class"===s)):n.is(l,"plain")?(n.owns(f,a)||(f[a]=n.is(f[a],"plain")?n.clone(f[a]):{}),n.extend(f[a],l,!0)):f[a]=l)}return c},l.singleton=function(){function n(n){i[n]=function(){if(!a){if("throw"===i.uninitializedCalls)throw new Error("Singleton called before being initialized");if("ignore"===i.uninitializedCalls)return;i.init()}return i[n].apply(this,arguments)}}var t,i,o=this.extend.apply(this,arguments),r=o.prototype,a=!1,p=[];e=!0,i=new o,e=!1;for(t in r)"function"==typeof r[t]&&"init"!==t&&"constructor"!==t&&(p.push(t),n(t));return i.init=function(){if(a)throw new Error("Singleton is already initialized");a=!0;var n,t;for(n=0,t=p.length;n<t;n++)delete i[p[n]];return o.apply(this,arguments),this},i},n.namespace("Class",l,n)});

define("UWA/Dispatcher",["UWA/Core","UWA/Utils","UWA/Class"],function(e,i,n){"use strict";var t=e.Class.extend({Binding:null,bindings:null,shouldPropagate:!0,active:!0,dispatching:0,init:function(){this.bindings=[]},registerListener:function(i,n,t,r){if(!(e.is(i,"function")||e.is(i,"object")&&e.is(i.handleEvent,"function")))throw new Error("listener is a required param of add() and addOnce() and should be a Function or an object implementing the EventListener interface.");var s,o,d=this;if(s=d.indexOfListener(i,t),o=d.bindings[s]){if(o.isOnce!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else o=new this.Binding(d,i,n,t,r),d.addBinding(o);return o},addBinding:function(e){var i=this.bindings,n=i.length;do--n;while(i[n]&&e.priority<=i[n].priority);i.splice(n+1,0,e)},indexOfListener:function(e,i){for(var n=this.bindings,t=n.length;t--;)if(n[t].listener===e&&(void 0===i||n[t].context===i))return t;return-1},add:function(e,i,n){return this.registerListener(e,!1,i,n)},addOnce:function(e,i,n){return this.registerListener(e,!0,i,n)},remove:function(i,n){var t,r,s=this;if(!(e.is(i,"function")||e.is(i,"object")&&e.is(i.handleEvent,"function")))throw new Error("listener is a required param of remove() and should be a Function or an object implementing the EventListener interface.");if(t=s.indexOfListener(i,n),t!==-1)if(r=s.bindings[t],s.dispatching&&!r.isOnce){var o=s.bindings.indexOf(r);o!==-1&&s.bindings.splice(o,1)}else r.destroy();return i},removeAll:function(e){var i,n=this,t=n.bindings,r=t.length;if(e)for(;r--;)i=t[r],i.context===e&&i.destroy();else{for(;r--;)t[r].destroy();t.length=0}},getNumListeners:function(){return this.bindings.length},getListeners:function(){return this.bindings.map(function(e){return e.listener})},halt:function(){this.shouldPropagate=!1},dispatch:function(e,n){var t,r,s,o=this;if(o.active){e=i.toArray(e),s=o.bindings.slice(),o.shouldPropagate=!0,o.dispatching++;try{for(t=s.length-1;t>=0&&(r=s[t],r.execute(e,n)!==!1)&&o.shouldPropagate;t--);}finally{if(o.dispatching--,o.bindings)for(t=0;t<s.length;t++)o.bindings.indexOf(s[t])<0&&s[t].destroy()}}},dispose:function(){var e=this;e.removeAll(),e.active=!1,delete e.bindings},toString:function(){var e=this;return"[Dispatcher active: "+e.active+" numListeners: "+e.getNumListeners()+"]"}});return t.Binding=t.prototype.Binding=n.extend({listener:null,isOnce:!1,context:null,dispatcher:null,priority:0,active:!0,init:function(e,i,n,t,r){var s=this;s.listener=i,s.isOnce=n,s.context=t,s.dispatcher=e,s.priority=r||0},execute:function(i,n){var t,r=this,s=r.listener,o=e.is(r.context)?r.context:n;return r.active&&(r.isOnce&&r.detach(),t="function"==typeof s.handleEvent?s.handleEvent.apply(void 0===o?s:o,i||[]):s.apply(o,i||[])),t},detach:function(){var e=this;return e.dispatcher&&e.dispatcher.remove(e.listener,e.context),e.listener},getListener:function(){return this.listener},dispose:function(){var e=this;e.destroy()},destroy:function(){var e,i=this,n=i.dispatcher;n&&(e=n.bindings.indexOf(i),i.active=!1,e!==-1&&n.bindings.splice(e,1),delete i.dispatcher),delete i.isOnce,delete i.listener,delete i.context},toString:function(){var e=this;return"[Dispatcher.Binding isOnce: "+e.isOnce+", active: "+e.active+"]"}}),e.namespace("Dispatcher",t,e)});

define("UWA/Utils/Client",["UWA/Core","UWA/Utils"],function(e,n){"use strict";var t,o=e.getGlobal(),i=Boolean(o.window),a=Boolean(i&&window.document),r=Boolean(i&&window.navigator),l=function(){var e=["","moz","Moz","MOZ","webkit","Webkit","WebKit","WEBKIT","ms","Ms","MS","o","O"];return function(n,t,o){var i,a,r,l,d,c,s=t.indexOf("{}");for(s>=0?(a=t.slice(0,s),r=t.slice(s+2)):(a="",r=t),i=r.charAt(0).toUpperCase()+r.slice(1),l=0,d=e.length;l<d&&(c=a+e[l]+r,!(c in n))&&(c=a+e[l]+i,!(c in n));l++);if(l<d)return o?c:n[c]}}();return t={Engine:{name:"unknown",version:0},Platform:{name:"unknown"},Features:{window:i,document:a,navigator:r,xpath:a&&Boolean(document.evaluate),json:i&&Boolean(window.JSON),orientation:i&&Boolean(window.orientation),querySelector:a&&Boolean(document.querySelector),fullscreen:Boolean(l(document,"exitFullscreen")||l(document,"cancelFullScreen")),inputPlaceholder:void 0!==document.createElement("input").placeholder,cors:i&&"withCredentials"in new window.XMLHttpRequest,touchEvents:i&&Boolean("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),pointerEvents:r&&Boolean(navigator.msPointerEnable||navigator.pointerEnabled),mutationEvents:Boolean(a&&document.implementation&&document.implementation.hasFeature("MutationEvents","2.0"))||i&&window.MutationEvent,eventCapture:i&&Boolean(window.addEventListener),flexboxCSS:a&&Boolean(l(document.createElement("div").style,"flexBasis",!0)),filterCSS:a&&!(document.documentElement&&document.documentElement.style.filter),opacityCSS:a&&!(document.documentElement&&document.documentElement.style.opacity),transitionsCSS:a&&Boolean(l(document.createElement("div").style,"transition",!0)),stickyCSS:a&&function(){var e=document.createElement("div").style;return e.position="-webkit-sticky",e.position="sticky",Boolean(e.position)}(),matrixCSS:function(){var e=i&&l(window,"CSSMatrix");return Boolean(e)&&void 0!==(new e).m11}(),dragAndDrop:i&&!(window.System&&window.System.Gadget)},Locale:function(){var e=r&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||"en-US",n=e.toLowerCase().split("-"),t=n[0]||"en",o=n[1]||"us";return{lang:t,locale:o,dir:["ar","he"].indexOf(t)!==-1?"rtl":"ltr"}}(),detect:function(){function e(){return r&&navigator.userAgent.toLowerCase()||""}function n(){return(r&&navigator.platform.toLowerCase()||"").split(" ")[0]}var i=/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/,l=/(webkit)[\s\/:]([\w\d\.]+)/,d=/(trident)\/.*rv:([\d\.]+)/,c=/ip(?:ad|od|hone)/,s=/webos|wossystem/,u=/blackberry/,m=/android/,w=/\bphantomjs\b/i,f=/mac|win|linux/;return function(){t.Engine=function(){var n,t,r,c,s,u,m=e();return t=m.match(i)||m.match(l)||m.match(d)||(o.process?[null,"nodeJS",o.process.version]:[null,"unknown",0]),r="ie"===t[1]&&a&&document.documentMode,s=r||("opera"===t[1]&&t[4]?t[4]:t[2]),u=parseInt(s,10),c="version"===t[1]?t[3]:t[1],"trident"===c&&(c="ie"),n={name:c,version:u,fullVersion:s},n[c]=u,n[c+u]=!0,n.webkit=Boolean(m.match(/webkit/)),n}(),t.Platform=function(){var t,i=n(),a=e();return t={name:c.test(a)?"ios":s.test(a)?"webos":u.test(a)?"blackberry":m.test(a)?"android":w.test(a)?"phantomjs":f.test(i)||o.process?i:"other"},t[t.name]=!0,t.ipad=Boolean(a.match(/ipad/)),t.tablet=t.ipad||Boolean(a.match(/tablet/)),t.windows=0===t.name.indexOf("win"),t}(),a&&(document.documentElement.className+=" "+t.Engine.name+" "+t.Engine.name+t.Engine.version+" "+t.Platform.name)}}(),isOnline:function(e,n){return void 0!==e&&n?(t.onLine=Boolean(e),setTimeout(function(){delete t.onLine},n)):void 0===t.onLine&&(t.Platform.phantomjs||!r||void 0===navigator.onLine?t.onLine=!0:t.onLine=navigator.onLine===!0),t.onLine},getOrientation:function(){var e;return e=i&&window.self===window.top&&window.orientation?function(){var e=window.orientation;return 90===Math.abs(e)?"landscape":"portrait"}:function(){var e=t.getSize();return e.width/e.height<1?"portrait":"landscape"}}(),getSize:function(){var e,n,t=0,o=0;return i&&"number"==typeof window.innerWidth?(t=window.innerWidth,o=window.innerHeight):a&&(e=document.documentElement,n=document.body,e&&(e.clientWidth||e.clientHeight)?(t=e.clientWidth,o=e.clientHeight):n&&(n.clientWidth||n.clientHeight)&&(t=n.clientWidth,o=n.clientHeight)),{width:t,height:o}},getScrolls:function(){var e,n,t=0,o=0;return i&&"number"==typeof window.pageYOffset?(o=window.pageYOffset,t=window.pageXOffset):a&&(n&&(n.scrollLeft||n.scrollTop)?(o=n.scrollTop,t=n.scrollLeft):e&&(e.scrollLeft||e.scrollTop)&&(o=e.scrollTop,t=e.scrollLeft)),{y:o,x:t}},getScrollbarWidth:n.memoize(function(){var e,n,t=0;return a&&(e=document.documentElement,n=document.createElement("div"),n.style.cssText="width:100px;height:100px;overflow:scroll;position:absolute;top:-9999px;",e.appendChild(n),t=n.offsetWidth-n.clientWidth,e.removeChild(n)),t}),addStar:function(e,n){if(i)if(window.sidebar)window.sidebar.addPanel(n,e,"");else if(window.external)window.external.AddFavorite(e,n);else if(window.opera&&window.print)return!0},getVendorProperty:l},t.detect(),e.namespace("Utils/Client",t,e)});

define("UWA/Ajax",["UWA/Core","UWA/Utils","UWA/String"],function(e,t,r){"use strict";var n={getRequest:function(r,o){o=e.merge(o||{},{url:r,method:"GET",async:!0,responseType:"text",onComplete:function(){},onFailure:function(e){throw e},onTimeout:function(e){throw e},onCancel:function(){}});var s,a,i,u=o.method||"GET",p=o.headers||{},d=o.authentication,c=n.onStateChange;if(/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i.test(u)&&(u=u.toUpperCase()),o.data&&(e.is(o.data,["string","arraybufferview","formdata","blob"])||(o.data=t.toQueryString(o.data)),"GET"===u&&(r+=(r.indexOf("?")>-1?"&":"?")+o.data,o.url=r,delete o.data)),o.cors||(t.getOwnPropertyMatchName(p,"X-Requested-With")||(p["X-Requested-With"]="XMLHttpRequest"),t.getOwnPropertyMatchName(p,"X-Requested-Method")||(p["X-Requested-Method"]=u)),"POST"!==u||t.getOwnPropertyMatchName(p,"Content-Type")||e.is(o.data,["arraybufferview","formdata","blob"])||(p["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),d&&(d.username&&d.password?(i=r.split("://"),r=i[0]+"://"+d.username+":"+d.password+"@"+i[1]):r+=(r.indexOf("?")>-1?"&":"?")+t.toQueryString(d)),a=o.cors?n.createCORSRequest():n.createRequest(),!a)return void o.onFailure(new Error("Unable to initiate XMLHttpRequest object."));if(a.cancel=function(){a.aborted=!0,a.abort()},a.addEventListener&&o.onProgress&&a.addEventListener("progress",function(e){o.onProgress(e)}),a.open(u,r,o.async),o.responseTypeSupport="responseType"in a&&"json"!==o.responseType&&(o.async||"undefined"==typeof window),o.responseTypeSupport)try{a.responseType=o.responseType}catch(e){a.responseType="text"}if(o.withCredentialsSupport="withCredentials"in a&&(o.async||"undefined"==typeof window),o.withCredentials){if(!o.withCredentialsSupport)return void o.onFailure(new Error("XMLHttpRequest does not support withCredentials."));a.withCredentials=o.withCredentials}if(o.timeout&&(a.timeoutTimer=setTimeout(function(){a.timedout=!0,a.abort()},o.timeout)),o.cors?(a.onerror=function(){e.merge(a,{readyState:4,status:500}),c(a,o)},a.onload=function(){e.merge(a,{readyState:4,status:200}),c(a,o)}):a.onreadystatechange=c.bind(n,a,o),a.setRequestHeader)for(s in p)p.hasOwnProperty(s)&&a.setRequestHeader(s,p[s]);return a},createRequest:function(){var e;return window.XMLHttpRequest?e=new window.XMLHttpRequest:window.ActiveXObject&&(e=new window.ActiveXObject("Msxml2.XMLHTTP")),e},createCORSRequest:function(){var e;return window.XMLHttpRequest&&(e=new window.XMLHttpRequest,!e.withCredentials&&window.XDomainRequest&&(e=new window.XDomainRequest)),e},request:function(e,t){var r;return t=t||{},r=n.getRequest(e,t),r.send(t.data||null),t.async||n.onStateChange(r,t),r},parseResponseHeaders:function(e){var t,r,n,o,s,a,i={};if(e)for(a=e.split("\r\n"),t=0;t<a.length;t++)s=a[t],r=s.indexOf(": "),r>0&&(n=s.substring(0,r),o=s.substring(r+2),i[n]=o);return i},onStateChange:function(){function o(t){var n,o=t;if(e.is(o,"string")&&o.contains(u))try{o=r.stripComments(o),o=JSON.parse(o)}catch(e){o=!1}if(o&&o.error&&String(o.error.type).startsWith(u))return n=new Error(r.format("ProxyError: {0}",o.error.message)),e.merge(n,o.error),n}function s(e,t){var n,s,a=t.responseTypeSupport?e.responseType:t.responseType;if(t.responseTypeSupport){if("text"===a||""===a)n=e.responseText;else try{n=e.response}catch(t){throw new Error(r.format('InvalidResponseError: request has probably invalid "Content-type" header require by responseType "{0}" causing: "{1}".',e.responseType,t))}if(t.fromDataRequest&&(s=o(n)),s)throw s}else{if(t.fromDataRequest&&(s=o(e.responseText)),s)throw s;"text"===a||""===a?n=e.responseText:"json"===a?(n=String(e.responseText).trim(),0===n.length?n=null:(n=r.stripComments(n),n=JSON.parse(n))):"document"===a?n=e.responseXML:"arraybuffer"===a?n=function(e){var t,r,n=new ArrayBuffer(2*e.length),o=new Uint16Array(n);for(t=0,r=e.length;t<r;t++)o[t]=e.charCodeAt(t);return n}(e.responseText):"blob"===a&&(n=new Blob([e.responseText],{type:e.getResponseHeader("Content-Type")}))}return n}function a(e){return n.parseResponseHeaders(e.getAllResponseHeaders())}function i(e,t){t.cors?(e.onerror=null,e.onload=null):e.onreadystatechange=null}var u="UWA_Platform_";return function(e,n){var o,p,d,c;if(e.aborted)n.onCancel(e,n);else if(e.timedout)n.onTimeout(new Error("Request timed out after "+n.timeout+" ms"),e,n);else if(4===e.readyState){if(e.timeoutTimer&&clearTimeout(e.timeoutTimer),e.completed)return;e.completed=!0;var l=!0;if(e.status<=0){var f=t.parseUrl(t.buildUrl(window.location,n.url)).protocol;l="http"!==f&&"https"!==f}else e.status>=400&&(l=!1);if(l){p=a(e);try{o=s(e,n)}catch(e){d=e,String(e.type).startsWith(u)&&(p=e.headers,o=e.body),n.onFailure(e,o,p)}finally{d||n.onComplete(o,p)}}else{c=new Error(r.format('NetworkError: url "{0}" return ResponseCode with value "{1}".',n.fromDataRequest||n.url,e.status||0)),p=a(e);try{o=s(e,n)}catch(e){String(e.type).startsWith(u)&&(Object.assign(c,e),p=e.headers,o=e.body)}n.onFailure(c,o,p)}i(e,n)}}}()};return e.namespace("Ajax",n,e)});

define("UWA/Json",["UWA/Core","UWA/String","UWA/Utils","UWA/Utils/Client","UWA/Ajax"],function(UWA,UWAString,Utils,Client,Ajax){"use strict";var Json={jsonp:{},encode:JSON.stringify,decode:JSON.parse,prune:function(e,t){function r(e){var t,s;switch(e=a(e),UWA.typeOf(e)){case"string":case"number":case"boolean":return e;case"array":return n.indexOf(e)!==-1?o(e,"circular"):(n.push(e),t=e.map(r),n.pop(),t);case"object":if(!UWA.is(e,"plain"))return o(e,"unsupported");if(n.indexOf(e)!==-1)return o(e,"circular");n.push(e),t={};for(s in e)UWA.owns(e,s)&&(t[s]=r(e[s]));return n.pop(),t;default:return null===e?e:o(e,"unsupported")}}var n=[],a=t&&t.toJSON||function(e){return UWA.is(e)&&UWA.is(e.toJSON,"function")?e.toJSON():e},o=t&&t.fallback||function(){return null};return r(e)},isJson:function(e){var t=!1;if(UWA.is(e,"string"))try{JSON.parse(e),t=!0}catch(e){}return t},xmlToJson:function(e){var t,r,n,a,o,s,i=function(){return this.nodeValue},l=function(){return parseInt(this.nodeValue,10)};if("string"==typeof e&&(e=Utils.loadXml(e)),e.attributes&&0!==e.attributes.length||!e.childNodes||1!==e.childNodes.length||e.childNodes[0].nodeName.indexOf("#")===-1){if(n={},e.attributes)for(t=0,r=e.attributes.length;t<r;t++)o=e.attributes[t],s=o.nodeName,n[s]?(n[s]=Utils.splat(n[s]),n[s].push(o.nodeValue)):n[s]=o.nodeValue;for(t=0,r=e.childNodes.length;t<r;t++)a=e.childNodes[t],s=a.nodeName,n[s]?(n[s]=Utils.splat(n[s]),n[s].push(Json.xmlToJson(a))):s.indexOf("#")===-1?n[s]=Json.xmlToJson(a):a.nodeValue.trim().length>0&&(n.nodeValue=a.nodeValue,n.toString=i,n.valueOf=l)}else n=e.childNodes[0].nodeValue;return n},path:function(){function normalize(e){var t=[];return e.replace(regExps[0],function(e,r,n){return"[#"+(t.push(r||n)-1)+"]"}).replace(regExps[1],sepStr).replace(regExps[2],";..;").replace(regExps[3],"").replace(regExps[4],function(e,r){return t[r]}).replace(regExps[5],"")}function run(obj,query,val){var queryEval="var valueEval = arguments[2];"+query.replace(regExps[6],"$1valueEval").replace(regExps[7],"@");try{return obj&&val&&eval(queryEval)}catch(e){throw new SyntaxError("UWA.Json.path error: "+e.message+' for query "'+query+'"')}}function asPath(e){var t,r,n=e.split(sepStr),a=queryPath;for(t=1,r=n.length;t<r;t++)a+=regExps[8].test(n[t])?"["+n[t]+"]":"['"+n[t]+"']";return a}function store(e,t,r,n){return e&&(r[r.length]=n===pathStr?asPath(e):t),Boolean(e)}function walk(e,t,r,n,a){var o,s,i,l=UWA.typeOf(r);if("array"===l)for(o=0,s=r.length;o<s;o++)r.hasOwnProperty(o)&&a(o,e,t,r,n);else if("object"===l)for(i in r)r.hasOwnProperty(i)&&a(i,e,t,r,n)}function slice(e,t,r,n,a,o){if(Array.isArray(r)){var s,i=r.length,l=0,u=1,c=i;for(e.replace(regExps[9],function(e,t,r,n){l=parseInt(t||l,10),c=parseInt(r||c,10),u=parseInt(n||u,10)}),l=l<0?Math.max(0,l+i):Math.min(i,l),c=c<0?Math.max(0,c+i):Math.min(i,c),s=l;s<c;s+=u)trace(s+sepStr+t,r,n,a,o)}}function trace(e,t,r,n,a){if(""!==e){var o,s,i,l=e.split(sepStr),u=l.shift();if(l=l.join(sepStr),t&&t.hasOwnProperty(u))trace(l,t[u],r+sepStr+u,n,a);else if("*"===u)walk(u,l,t,r,function(e,t,r,o,s){trace(e+sepStr+r,o,s,n,a)});else if(".."===u)trace(l,t,r,n,a),walk(u,l,t,r,function(e,t,r,o,s){"object"==typeof o[e]&&trace("..;"+r,o[e],s+sepStr+e,n,a)});else if(regExps[10].test(u))e=run(t,u,t,r.substr(r.lastIndexOf(sepStr)+1))+sepStr+l,trace(e,t,r,n,a);else if(regExps[11].test(u))walk(u,l,t,r,function(e,r,o,s,i){run(t,r.replace(regExps[12],"$1"),Array.isArray(s)?s[e]:s,e)&&trace(e+sepStr+o,s,i,n,a)});else if(regExps[13].test(u))slice(u,l,t,r,n,a);else if(regExps[14].test(u))for(o=u.split(regExps[15]),s=0,i=o.length;s<i;s++)e=o[s]+sepStr+l,trace(e,t,r,n,a)}else store(r,t,n,a)}var valueStr="VALUE",pathStr="PATH",sepStr=";",queryPath="$",regExps=[/[\['](\??\(.*?\))[\]']|\['(.*?)'\]/g,/'?\.'?|\['?/g,/;;;|;;/g,/;$|'?\]|'$/g,/#([0-9]+)/g,/^\$;?/,/(^|[^\\])@/g,/\\@/g,/^[0-9*]+$/,/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,/^\(.*?\)$/,/^\?\(.*?\)$/,/^\?\((.*?)\)$/,/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/,/,/,/'?,'?/];return function(e,t,r){var n=[],a=r&&r.resultType||valueStr;return e&&t&&(a===valueStr||a===pathStr)&&trace(normalize(t),e,queryPath,n,a),!!n.length&&n}}(),request:function(e,t){t=t||{};var r,n,a,o,s,i,l,u,c,p,f,d,m,h=!!t.useJsonpRequest||!Utils.matchUrl(e,window.location)&&(UWA.Data&&UWA.Data.useJsonpRequest&&!UWA.Data.allowCrossOriginRequest),g=e,v=Client.isOnline,w=Json.jsonp,y={fromDataRequest:!1,useOfflineCache:!1,async:!0,timeout:!1,callback:"jsonp"+(Date.now()+Utils.random(1,1e4)),callbackName:"callback",callbackMode:"function",callbackModeName:"callbackMode",onCancel:function(){},onFailure:function(e){throw e},onComplete:function(){}};if(t=UWA.merge(t||{},y),t.timeout===!1?t.useOfflineCache?t.timeout=15e3:t.timeout=25e3:t.timeout=parseInt(t.timeout,10),t.data&&(e+=(e.indexOf("?")>-1?"&":"?")+Utils.toQueryString(t.data)),n=t.callback.replace(/[^a-zA-Z0-9_.]/g,""),a=t.callbackMode,a&&(e=e.replace(/\=(\?|%3F)/g,"="+n),e+=(e.indexOf("?")>-1?"&":"?")+t.callbackName+"="+n,e+="&"+t.callbackModeName+"="+a),e.length>2048)throw new Error("Proxified url is more than 2048 characters, you should consider using POST and CORS Ajax.");return o=t.onFailure,i=t.onTimeout||o,s=t.onComplete,l=t.useOfflineCache,u=t.fromDataRequest,t.onFailure=function(e){if(Json.cleanRequest(n,t),l&&u===!1){var r=Json.getFromCache(g);UWA.is(r)?(v()&&v(!1,5e3),s(r)):o(e)}else o(e)},t.onTimeout=function(e){if(Json.cleanRequest(n,t),l&&u===!1){var r=Json.getFromCache(g);UWA.is(r)?(v()&&v(!1,5e3),s(r)):i(e)}else i(e)},t.onComplete=function(e){Json.cleanRequest(n,t);try{if(u&&e&&e.error&&e.error.type&&"UWA_Platform_Exposition"===e.error.type)throw new Error(UWAString.format('ObjectError: url "{0}" return Error with value "{1}"',u,e.error.message||e.error));s(e)}catch(e){o(e)}},t.cache<0&&(e+=(e.indexOf("?")>-1?"&":"?")+"_="+Date.now()),l&&v()===!1?t.onFailure(new Error("Network is Offline")):h?(w[n]={readyState:!1,options:t},"object"===a?(f=Date.now(),d=13,m=function(){var e,r=Date.now();void 0!==window[n]?(w[n].readyState="loaded",t.onComplete(window[n])):r>f+t.timeout?(e=r-f,t.onTimeout(new Error("Request timed out after "+e+"ms with timeout value "+t.timeout+" ms"))):w[n].poll=setTimeout(m.bind(this),d)}):(window[n]=function(e){void 0!==w[n]&&(w[n].data=e,w[n].readyState="loaded")},f=Date.now(),d=13,m=function(){var e,r=Date.now();"loaded"===w[n].readyState?t.onComplete(w[n].data):r>f+t.timeout?(e=r-f,t.onTimeout(new Error("Timout request after "+e+"ms with timeout value "+t.timeout+" ms"))):w[n].poll=setTimeout(m.bind(this),d)}),c=document.getElementsByTagName("head")[0],p=UWA.createElement("script",{type:"text/javascript",src:e,async:t.async}),p.addEvent("error",function(){t.onFailure(new Error("Syntax or http error: "+e))}),p.inject(c),w[n].script=p,m(t),r={jsonId:n,script:p,cancel:function(){w[n].aborted=!0,Json.cleanRequest(n)}}):r=Ajax.request(e,UWA.merge({headers:{Accept:"application/json,text/javascript,*/*","X-Request":"JSON"},onComplete:function(e){if(a&&!Json.isJson(e)){var r;r="object"===a?e.match(/=\s\(?([\s\S]*?)\)?;?\s*$/):e.match(/\(([\s\S]*?)\);?\s*$/),r&&(e=r[1])}Json.isJson(e)?t.onComplete(UWA.Json.decode(e)):t.onFailure(new Error('Invalid JSON Response: "'+e+'"'))},onFailure:t.onFailure},t)),r},cleanRequest:function(e){var t,r=document.getElementsByTagName("head")[0],n=Json.jsonp[e];n&&(t=n.options,clearTimeout(n.poll),"object"!==t.callbackMode&&(window[e]=function(){try{delete window[e]}catch(e){}}),n.script&&(r.removeChild(n.script),delete n.script),n.aborted&&t.onCancel(null,t))}};return UWA.namespace("Json",Json,UWA)});

define("UWA/Class/Options",["UWA/Core","UWA/Class"],function(t,n){"use strict";var s=n.extend({setOptions:function(n){var s=this;return n=n||{},s.hasOwnProperty("options")||(s.options=t.clone(s.defaultOptions||s.options||{})),n.events&&s.addEvents&&s.addEvents(n.events),t.extend(s.options,n,!0),s},setOption:function(t,n){var s={};return s[t]=n,this.setOptions(s)},getOption:function(t,n){var s=this.options;return void 0!==s[t]?s[t]:n}});return t.namespace("Options",s,n)});

define("UWA/Class/Debug",["UWA/Core","UWA/Class"],function(e,t){"use strict";var u=t.extend({debugMode:!1,setDebugMode:function(e){return this.debugMode=e===!0||"true"===e,this},log:function(t){return this.debugMode===!0&&e.log(t),this}});return e.namespace("Debug",u,t)});

define("UWA/Storage",["UWA/Internal/Deprecate","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Debug","UWA/Json"],function(e,t,a,r,n,s){"use strict";var o=a.extend(r,n,{AdaptersInstances:null,currentAdapter:null,defaultOptions:{database:"default",adapter:null,adapterOptions:{},availableAdapters:[]},internalKeys:{keysIndex:"_keysIndex",lastUpdate:"_lastUpdate"},isReady:!1,init:function(t){e.warn("UWA/Storage");var a,r=this;r.AdaptersInstances={},o.Instances.push(r),r.setOptions(t),a=r.options.adapter,a&&"auto"!==a?r.setCurrentAdapter(a):r.setCurrentAdapterFromDetected()},initAvailableAdapters:function(){var e,t=this,a=t.options.availableAdapters,r=o.Adapter;if(0===a.length)for(e in r)r.hasOwnProperty(e)&&"Abstract"!==e&&a.push(e);a.forEach(function(e){t.getAdapterInstance(e)})},isAvailableAdapter:function(e){var t,a=this,r=!1;try{t=a.getAdapterInstance(e),t&&t.isAvailable()?(r=!0,a.log('UWA.Storage:detectAvailableAdapter: "'+e+'" is available')):a.log('UWA.Storage:detectAvailableAdapter: "'+e+'" is not available')}catch(t){a.log('UWA.Storage:detectAvailableAdapter: "'+e+'" is not available cause: '+t)}return r},getAdapterInstance:function(e){var t=this,a=t.AdaptersInstances;if("string"!=typeof e)throw new Error('Bad adapterName param value "'+e+'" for getAdapterInstance.');if(!(a[e]||(a[e]=new o.Adapter[e](t,t.options.adapterOptions),a[e]instanceof o.Adapter.Abstract)))throw new Error("UWA.Storage.Adapter."+e+" is not an instance of UWA.Storage.Adapter.Abstract");return a[e]},detectAvailableAdapter:function(){var e=this,t=e.options,a=[];e.initAvailableAdapters(),t.availableAdapters.forEach(function(t){e.isAvailableAdapter(t)&&a.push(t)}),t.availableAdapters=a},setCurrentAdapterFromDetected:function(){var e=this,t=e.options;if(e.detectAvailableAdapter(),!(t.availableAdapters.length>0))throw new Error("UWA.Storage: No adapter available detected.");e.setCurrentAdapter(t.availableAdapters[0])},setCurrentAdapter:function(e){var t,a=this;if("string"!=typeof e)throw new Error('Bad adapterName param value "'+e+'" for setCurrentAdapter.');a.isAvailableAdapter(e)?(t=a.getAdapterInstance(e),t.connect(a.options.database),a.log("UWA.Storage:setCurrentAdapter: "+e+";"),a.adapter=e,a.currentAdapter=t):(a.log('UWA.Storage:setCurrentAdapter: "'+e+'" fail fallback in auto detect mode'),a.setCurrentAdapterFromDetected())},store:function(e,t){var a,r=this,n=r.currentAdapter;return n&&(a=r.safeResurrect(n.get(e)),1===arguments.length?r.log('Get Key "'+e+'" with value "'+a+'"'):a!==t&&(a=r.safeStore(t),r.log('Update Key "'+e+'" with value "'+t+'" and stored value "'+a+'"'),a=n.set(e,a))),a},remove:function(e){var t=this;return!!t.currentAdapter&&(t._updateLastUpdateDate(),t._removeKeyFromKeysIndex(e),t.safeResurrect(t.currentAdapter.rem(e)))},get:function(e,t){var a,r,n=this;return t?(a=n._getKeysIndex(),a.hasOwnProperty(e)&&Date.now()-a[e]<=t&&(r=n.store(e))):r=n.store(e),r},set:function(e,t){var a=this;return a._updateLastUpdateDate(),a._addKeyToKeysIndex(e),a.store(e,t)},getAll:function(){var e=this,t=Object.keys(this._getKeysIndex()),a={};return t.forEach(function(t){a[t]=e.get(t)}),a},safeStore:function(e){return s.encode(e)},safeResurrect:function(e){if(!t.is(e,"undefined"))try{s.isJson(e)&&(e=s.decode(e))}catch(a){t.log("unsafe Resurrect JSON with value: "+e),t.log(a)}return e},getLastUpdateDate:function(e){var t;return t=e?this._getKeysIndex()[e]:this.get(this.internalKeys.lastUpdate),(new Date).setTime(t)},_getKeysIndex:function(){var e=this,a=e.safeResurrect(e.currentAdapter.get(this.internalKeys.keysIndex)),r=t.typeOf(a);return e.log("Get all keys from keysIndex"),"array"===r?!function(){var t={},r=e.getLastUpdateDate();a.forEach(function(e){t[e]=r}),a=t}():"object"!==r&&(a={}),a},_removeKeyFromKeysIndex:function(e){var t,a=this,r=a._getKeysIndex(),n={};a.log('Remove key "'+e+'" from keysIndex');for(t in r)r.hasOwnProperty(t)&&t!==e&&(n[t]=r[t]);a._storeKeysIndex(n)},_addKeyToKeysIndex:function(e){var t=this,a=t._getKeysIndex();t.log('Add key "'+e+'" to keysIndex'),a[e]=Date.now(),t._storeKeysIndex(a)},_storeKeysIndex:function(e){var t=this;t.currentAdapter.set(t.internalKeys.keysIndex,t.safeStore(e))},_updateLastUpdateDate:function(){var e=this,t=Date.now();return e.currentAdapter.set(e.internalKeys.lastUpdate,e.safeStore(t)),t}});return o.Instances=[],t.merge(o,{allInstancesReady:function(){return o.Instances.every(function(e){return e.isReady})}}),t.namespace("Storage",o,t)});

define("UWA/Internal/StringMap",["UWA/Class"],function(t){"use strict";function n(t){return"_x_"+t}return t.extend({init:function(){this._data={}},get:function(t){return this._data[n(t)]},set:function(t,i){return this._data[n(t)]=i,this},getAll:function(){var t={};for(var n in this._data)t[n.slice(3)]=this._data[n];return t},remove:function(t){return delete this._data[n(t)],this}})});

define("UWA/Class/Events",["UWA/Core","UWA/Class","UWA/Dispatcher","UWA/Utils"],function(n,e,t,r){"use strict";function s(n,e,r){var s=n._dispatchers,i=s&&s[e]||new t;return r||(s||(s=n._dispatchers=Object.create(null)),s[e]=i),i}var i;return i=e.extend({dispatchEvent:function(n,e,t){var i,a,c=this;return void 0===t&&(t=c),e=r.splat(e),i=s(c,n),"function"==typeof c[n]&&i.addOnce(c[n],t,1),"onAnyEvent"!==n&&c.hasEvent("onAnyEvent")?(a=s(c,"onAnyEvent"),"function"==typeof c.onAnyEvent&&a.addOnce(c.onAnyEvent,t),a.addOnce(function(){i.dispatch(e,t)}),a.dispatch([n].concat(e),t)):i.dispatch(e,t),c},dispatchAsEventListener:function(n,e,t){var s=this;return void 0===t&&(t=s),e=r.splat(e),function(r){s.dispatchEvent(n,[r].concat(e),t)}},addEvent:function(n,e,t,r){return s(this,n).add(e,t,r),this},addEventOnce:function(n,e,t,r){return s(this,n).addOnce(e,t,r),this},addEvents:function(n,e,t){var r;for(r in n)n.hasOwnProperty(r)&&this.addEvent(r,n[r],e,t);return this},removeEvent:function(n,e,t){var r,s=this,i=s._dispatchers,a=i&&i[n];if(n)a&&(e?a.remove(e,t):a.removeAll(t),0===a.getNumListeners()&&delete i[n]);else for(r in i)s.removeEvent(r,e,t);return s},removeEvents:function(n){var e,t=this;if(n)for(e in n)n.hasOwnProperty(e)&&t.removeEvent(e,n[e]);else t.removeEvent();return t},hasEvent:function(n,e){var t,r,i=this;return r=n?[n]:Object.keys(i._dispatchers||{}),t=function(n){return!!(s(i,n,!0).getNumListeners()||!e&&i[n])},r.some(t)}}),n.namespace("Events",i,e)});

define("UWA/Data",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Ajax","UWA/Json","UWA/Internal/StringMap","UWA/Class/Events"],function(e,t,r,n,o,a,s){"use strict";var u=new a,i={proxies:function(){var t=e.hosts,r=t.exposition+"/proxy/";return e.merge(t.proxies||{},{ajax:r+"ajax",resolve:r+"resolve",xml:r+"xml",spreadsheet:r+"spreadsheet",soap:r+"soap",feed:r+"feed",icon:r+"icon",richIcon:r+"richIcon",rss:r+"feed"})}(),useJsonpRequest:!0,allowCrossOriginRequest:!1,useOfflineCache:!1,request:function(){function a(e){f()&&f(!1,e||5e3)}function u(e){var r=e.body;return l.test(r)&&(r=t.base64Decode(r)),r}function d(e,t){var r,n,o=";base64,",a=e.indexOf(o)+o.length,s=e.substring(a),u=window.atob(s),i=u.length,d=new Uint8Array(i);for(r=0;r<i;++r)d[r]=u.charCodeAt(r);return n=new BlobBuilder,n.append(d.buffer),n.getBlob(t)}function c(r,n){var o={url:r,timeout:n.timeout,method:n.method,type:n.type,proxy:n.proxy,async:n.async,data:n.data,headers:n.headers};return"GET"===n.method&&n.useMergeRequest!==!1||(o.uuid=t.getUUID()),e.Json.encode(o)}var p=/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i,h=/json|document|blob|arraybuffer|text/,l=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,f=r.isOnline,m={text:function(e){return"string"!=typeof e&&(e=o.encode(e)),e},json:function(t){if("string"==typeof t&&(t=o.decode(t)),!e.is(t,["object","array"]))throw new Error('Invalid JSON Response: "'+String(t)+'"');return t},xml:function(e){return"string"==typeof e&&(e=t.loadXml(e)),e},document:function(e){return"string"==typeof e&&(e=t.loadHtml(e)),e},blob:function(e,r){var n=t.getOwnPropertyMatchValue(r,"Content-Type")||"text/plain";return"string"==typeof e&&(e=l.test(e)?d(e,n):new Blob([e],{type:n})),e},arraybuffer:function(e){return"string"==typeof e&&(e=new ArrayBuffer(12)),e}};return function(r,d){if(!r)throw new Error("Bad or missing url argument.");d=d||{};var l,y,g,C,x,w,q,O,T,E,v,U=r,A=window.location,b="ajax",j={timeout:25e3,method:"GET",type:"text",proxy:!1,async:!0,headers:{},useMergeRequest:!0,useOfflineCache:i.useOfflineCache,allowCrossOriginRequest:i.allowCrossOriginRequest,useJsonpRequest:i.useJsonpRequest,onComplete:function(){},onCancel:function(){},onFailure:function(e){throw e}};return d.requestHeaders&&(d.headers=d.requestHeaders,delete d.requestHeaders),d.postBody?(d.method="POST",d.data=d.postBody,delete d.postBody):d.parameters&&(d.method="POST",d.data=d.parameters,delete d.parameters),d.auth&&(d.authentication=d.auth,delete d.auth),"html"===d.type?d.type="document":"feed"===d.type&&(d.type="json"),d=e.merge(d,j),d.type=m[d.type]?d.type:j.type,d.timeout=parseInt(d.timeout,10),p.test(d.method)&&(d.method=d.method.toUpperCase()),"json"===d.type&&(t.getOwnPropertyMatchName(d.headers,"Accept")||(d.headers.Accept="application/json,text/javascript,*/*"),t.getOwnPropertyMatchName(d.headers,"X-Request")||(d.headers["X-Request"]="JSON")),O=d.type,T=d.useOfflineCache,E=d.allowCrossOriginRequest,v=d.useJsonpRequest,U=r,d.proxy?(r=i.proxifyUrl(r,d),v=v&&t.matchUrl(r,A)===!1&&E===!1):t.matchUrl(r,A)===!1&&E===!1?(v=v&&t.matchUrl(i.proxies[b],A)===!1,r=i.proxifyUrl(r,e.extend(d,{proxy:b}))):v=!1,i.requests=i.requests||{},x=c(r,d),y={onComplete:d.onComplete,onFailure:d.onFailure,onCancel:d.onCancel,onTimeout:d.onTimeout||d.onFailure},i.requests[x]?(l=i.requests[x],l.addEvents(y)):(l=i.requests[x]=new s,l.addEvents(y),w=function(e,r){var n,o=e;delete i.requests[x],n=t.attempt(function(){return v&&(r=e.headers,e=u(e)),e=m[O](e,r),T&&i.storeInCache(U,o),!0},function(){return q("onFailure",arguments),!1}),n&&l.dispatchEvent("onComplete",[e,r])},q=function(t,r){var n,o=!0;delete i.requests[x],T&&(n=i.getFromCache(U),e.is(n)&&(o=!1,a(),w(n))),o&&l.dispatchEvent(t,r)},g={method:d.method,data:d.data,headers:d.headers,fromDataRequest:U,timeout:d.timeout,async:d.async,withCredentials:d.withCredentials,onComplete:function(e,t){w(e,t)},onFailure:function(){q("onFailure",arguments)},onCancel:function(){q("onCancel",arguments)},onTimeout:function(){q("onTimeout",arguments)},onProgress:d.onProgress},T&&f()===!1?g.onFailure(new Error("Network is Offline")):v?(d.data&&d.data.length>0&&["POST","PUT"].indexOf(d.method)!==-1&&(r+=r.indexOf("?")!==-1?"&":"?","POST"===d.method?r+=t.toQueryString(d.data,"postData"):"PUT"===d.method&&(r+=t.toQueryString(d.data,"rawData")),delete g.data,delete g.method),C=o.request(r,g)):(O&&h.test(O)&&(g.responseType=O),l.xhr=C=n.request(r,g)),l.url=U,l.options=d,l.cancel=C.cancel),l}}(),proxifyUrl:function(e,r){if(!e)throw new Error("Bad or missing url argument.");var n,o=[],a=r.proxy,s=t.toQueryString,u=i.proxies;if(!a||!u[a])throw new Error("Invalid proxy");if(n=u[a],0===e.indexOf(n))return e;if(r.data&&r.method&&"GET"===r.method.toUpperCase()&&(e+=(e.indexOf("?")>-1?"&":"?")+s(r.data),delete r.data),"object"==typeof r[a]&&(o.push(s(r[a])),delete r[a]),r.type&&(o.push(s({type:r.type})),delete r.type),"object"==typeof r.authentication&&o.push(s(r.authentication)),r.cache&&(o.push(s({cache:parseInt(r.cache,10)})),r.cache<0&&o.push(Date.now())),r.headers&&(o.push(s(r.headers,"headers")),delete r.headers),r.connect&&o.push(s({connect:r.connect})),r.service&&o.push(s({service:r.service})),r.wid&&o.push(s({wid:r.wid})),r.method&&o.push(s({method:r.method})),o.push(s({url:e})),e=n+"?"+o.join("&"),e.length>2048)throw new Error("Proxified url is more than 2048 characters, that is the limit for most of the browsers.");return e},getFeed:function(e,t){return i.request(e,{method:"GET",proxy:"feed",type:"json",onComplete:t})},getXml:function(e,t){return i.request(e,{method:"GET",type:"xml",onComplete:t})},getText:function(e,t){return i.request(e,{method:"GET",type:"text",onComplete:t})},getJson:function(e,t){return i.request(e,{method:"GET",type:"json",onComplete:t})},getCache:function(){return u},storeInCache:function(r,n){n=t.toArray(n).filter(function(t){return e.is(t)&&!t.nodeType}),i.getCache().set(t.getCheckSum(r),n)},getFromCache:function(e){return i.getCache().get(t.getCheckSum(e))}};return e.namespace("Data",i,e)});

!function(t,e){"undefined"!=typeof module?module.exports=e():"function"==typeof define&&"object"==typeof define.amd?define("vendors/qwery",e):this[t]=e()}("qwery",function(){function t(){this.c={}}function e(t){return U.g(t)||U.s(t,"(^|\\s+)"+t+"(\\s+|$)",1)}function n(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n])}function r(t){for(var e=[],n=0,r=t.length;n<r;++n)m(t[n])?e=e.concat(t[n]):e[e.length]=t[n];return e}function u(t){for(var e=0,n=t.length,r=[];e<n;e++)r[e]=t[e];return r}function i(t){for(;(t=t.previousSibling)&&1!=t[D];);return t}function o(t){return t.match(J)}function c(t,n,r,u,i,o,c,f,a,l,g){var h,p,m,d,w;if(1!==this[D])return!1;if(n&&"*"!==n&&this[q]&&this[q].toLowerCase()!==n)return!1;if(r&&(p=r.match(R))&&p[1]!==this.id)return!1;if(r&&(w=r.match(j)))for(h=w.length;h--;)if(!e(w[h].slice(1)).test(this.className))return!1;if(a&&y.pseudos[a]&&!y.pseudos[a](this,g))return!1;if(u&&!c){d=this.attributes;for(m in d)if(Object.prototype.hasOwnProperty.call(d,m)&&(d[m].name||m)==i)return this}return!(u&&!s(o,Z(this,i)||"",c))&&this}function f(t){return V.g(t)||V.s(t,t.replace(_,"\\$1"))}function s(t,e,n){switch(t){case"=":return e==n;case"^=":return e.match(W.g("^="+n)||W.s("^="+n,"^"+f(n),1));case"$=":return e.match(W.g("$="+n)||W.s("$="+n,f(n)+"$",1));case"*=":return e.match(W.g(n)||W.s(n,f(n),1));case"~=":return e.match(W.g("~="+n)||W.s("~="+n,"(?:^|\\s+)"+f(n)+"(?:\\s+|$)",1));case"|=":return e.match(W.g("|="+n)||W.s("|="+n,"^"+f(n)+"(-|$)",1))}return 0}function a(t,e){var r,u,i,f,s,a,l,h=[],p=[],m=e,d=X.g(t)||X.s(t,t.split(G)),y=t.match(k);if(!d.length)return h;if(f=(d=d.slice(0)).pop(),d.length&&(i=d[d.length-1].match(B))&&(m=w(e,i[1])),!m)return h;for(a=o(f),s=m!==e&&9!==m[D]&&y&&/^[+~]$/.test(y[y.length-1])?function(t){for(;m=m.nextSibling;)1==m[D]&&(a[1]?a[1]==m[q].toLowerCase():1)&&(t[t.length]=m);return t}([]):m[E](a[1]||"*"),r=0,u=s.length;r<u;r++)(l=c.apply(s[r],a))&&(h[h.length]=l);return d.length?(n(h,function(t){g(t,d,y)&&(p[p.length]=t)}),p):h}function l(t,e,n){if(h(e))return t==e;if(m(e))return!!~r(e).indexOf(t);e=e.replace(T,"$1");for(var u,i,f=e.split(",");e=f.pop();)if(u=X.g(e)||X.s(e,e.split(G)),i=e.match(k),u=u.slice(0),c.apply(t,o(u.pop()))&&(!u.length||g(t,u,i,n)))return!0;return!1}function g(t,e,n,r){function u(t,r,f){for(;f=K[n[r]](f,t);)if(h(f)&&c.apply(f,o(e[r]))){if(!r)return f;if(i=u(f,r-1,f))return i}}var i;return(i=u(t,e.length-1,t))&&(!r||Y(i,r))}function h(t,e){return t&&"object"==typeof t&&(e=t[D])&&(1==e||9==e)}function p(t){var e,n,r=[];t:for(e=0;e<t.length;++e){for(n=0;n<r.length;++n)if(r[n]==t[e])continue t;r[r.length]=t[e]}return r}function m(t){return"object"==typeof t&&isFinite(t.length)}function d(t){return t?"string"==typeof t?y(t)[0]:!t[D]&&m(t)?t[0]:t:b}function w(t,e,n){return 9===t[D]?t.getElementById(e):t.ownerDocument&&((n=t.ownerDocument.getElementById(e))&&Y(n,t)&&n||!Y(t,t.ownerDocument)&&$('[id="'+e+'"]',t)[0])}function y(t,e){var n,i,o=d(e);if(!o||!t)return[];if(t===window||h(t))return!e||t!==window&&h(o)&&Y(t,o)?[t]:[];if(t&&m(t))return r(t);if(n=t.match(M)){if(n[1])return(i=w(o,n[1]))?[i]:[];if(n[2])return u(o[E](n[2]));if(tt&&n[3])return u(o[x](n[3]))}return $(t,o)}function v(t,e){return function(n){var r,u;return P.test(n)?void(9!==t[D]&&((u=r=t.getAttribute("id"))||t.setAttribute("id",u="__qwerymeupscotty"),n='[id="'+u+'"]'+n,e(t.parentNode||t,n,!0),r||t.removeAttribute("id"))):void(n.length&&e(t,n,!1))}}var $,b=document,N=b.documentElement,x="getElementsByClassName",E="getElementsByTagName",A="querySelectorAll",S="useNativeQSA",q="tagName",D="nodeType",R=/#([\w\-]+)/,j=/\.[\w\-]+/g,B=/^#([\w\-]+)$/,C=/^\.([\w\-]+)$/,L=/^([\w\-]+)$/,O=/^([\w]+)?\.([\w\-]+)$/,P=/(^|,)\s*[>~+]/,T=/^\s+|\s*([,\s\+\~>]|$)\s*/g,I=/[\s\>\+\~]/,Q=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,_=/([.*+?\^=!:${}()|\[\]\/\\])/g,z=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,F=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,H=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,M=new RegExp(B.source+"|"+L.source+"|"+C.source),k=new RegExp("("+I.source+")"+Q.source,"g"),G=new RegExp(I.source+Q.source),J=new RegExp(z.source+"("+F.source+")?("+H.source+")?"),K={" ":function(t){return t&&t!==N&&t.parentNode},">":function(t,e){return t&&t.parentNode==e.parentNode&&t.parentNode},"~":function(t){return t&&t.previousSibling},"+":function(t,e,n,r){return!!t&&((n=i(t))&&(r=i(e))&&n==r&&n)}};t.prototype={g:function(t){return this.c[t]||void 0},s:function(t,e,n){return e=n?new RegExp(e):e,this.c[t]=e}};var U=new t,V=new t,W=new t,X=new t,Y="compareDocumentPosition"in N?function(t,e){return 16==(16&e.compareDocumentPosition(t))}:function(t,e){for(;t=t.parentNode;)if(t===e)return 1;return 0},Z=function(){var t=b.createElement("p");return(t.innerHTML='<a href="#x">x</a>')&&"#x"!=t.firstChild.getAttribute("href")?function(t,e){return"class"===e?t.className:"href"===e||"src"===e?t.getAttribute(e,2):t.getAttribute(e)}:function(t,e){return t.getAttribute(e)}}(),tt=!!b[x],et=b.querySelector&&b[A],nt=function(t,e){var r,i,o=[];try{return 9!==e[D]&&P.test(t)?(n(r=t.split(","),v(e,function(t,e){i=t[A](e),1==i.length?o[o.length]=i.item(0):i.length&&(o=o.concat(u(i)))})),r.length>1&&o.length>1?p(o):o):u(e[A](t))}catch(t){}return rt(t,e)},rt=function(t,r){var u,i,o,c,f,s,l=[];if(t=t.replace(T,"$1"),i=t.match(O)){for(f=e(i[2]),u=r[E](i[1]||"*"),o=0,c=u.length;o<c;o++)f.test(u[o].className)&&(l[l.length]=u[o]);return l}return n(s=t.split(","),v(r,function(t,e,n){for(f=a(e,t),o=0,c=f.length;o<c;o++)(9===t[D]||n||Y(f[o],r))&&(l[l.length]=f[o])})),s.length>1&&l.length>1?p(l):l},ut=function(t){"undefined"!=typeof t[S]&&($=t[S]&&et?nt:rt)};return ut({useNativeQSA:!0}),y.configure=ut,y.uniq=p,y.is=l,y.pseudos={not:function(t,e){return!l(t,e)}},y});

define("vendors/webcomponents/WeakMap",function(){return"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,n=Date.now()%1e9,t=function(){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__")};t.prototype={set:function(n,t){var a=n[this.name];return a&&a[0]===n?a[1]=t:e(n,this.name,{value:[n,t],writable:!0}),this},get:function(e){var n;return(n=e[this.name])&&n[0]===e?n[1]:void 0},delete:function(e){var n=e[this.name];return!(!n||n[0]!==e)&&(n[0]=n[1]=void 0,!0)},has:function(e){var n=e[this.name];return!!n&&n[0]===e}},window.WeakMap=t}(),window.WeakMap});

define("vendors/webcomponents/MutationObserver",["./WeakMap"],function(){return function(e){function t(e){N.push(e),O||(O=!0,b(i))}function r(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function i(){O=!1;var e=N;N=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var r=e.takeRecords();n(e),r.length&&(e.callback_(r,e),t=!0)}),t&&i()}function n(e){e.nodes_.forEach(function(t){var r=g.get(t);r&&r.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function a(e,t){for(var r=e;r;r=r.parentNode){var i=g.get(r);if(i)for(var n=0;n<i.length;n++){var a=i[n],s=a.options;if(r===e||s.subtree){var o=t(s);o&&a.enqueue(o)}}}}function s(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++M}function o(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function d(e){var t=new o(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function u(e,t){return D=new o(e,t)}function c(e){return L?L:(L=d(D),L.oldValue=e,L)}function h(){D=L=void 0}function v(e){return e===L||e===D}function l(e,t){return e===t?e:L&&v(e)?L:null}function f(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}var b,g=new WeakMap;if(/Trident/.test(navigator.userAgent))b=setTimeout;else if(window.setImmediate)b=window.setImmediate;else{var p=[],m=String(Math.random());window.addEventListener("message",function(e){if(e.data===m){var t=p;p=[],t.forEach(function(e){e()})}}),b=function(e){p.push(e),window.postMessage(m,"*")}}var O=!1,N=[],M=0;s.prototype={observe:function(e,t){if(e=r(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var i=g.get(e);i||g.set(e,i=[]);for(var n,a=0;a<i.length;a++)if(i[a].observer===this){n=i[a],n.removeListeners(),n.options=t;break}n||(n=new f(this,e,t),i.push(n),this.nodes_.push(e)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=g.get(e),r=0;r<t.length;r++){var i=t[r];if(i.observer===this){i.removeListeners(),t.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var D,L;f.prototype={enqueue:function(e){var r=this.observer.records_,i=r.length;if(r.length>0){var n=r[i-1],a=l(n,e);if(a)return void(r[i-1]=a)}else t(this.observer);r[i]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=g.get(e);t||g.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=g.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,i=e.target,n=new u("attributes",i);n.attributeName=t,n.attributeNamespace=r;var s=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;a(i,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||e.attributeFilter.indexOf(t)!==-1||e.attributeFilter.indexOf(r)!==-1))return e.attributeOldValue?c(s):n});break;case"DOMCharacterDataModified":var i=e.target,n=u("characterData",i),s=e.prevValue;a(i,function(e){if(e.characterData)return e.characterDataOldValue?c(s):n});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var o,d,i=e.relatedNode,v=e.target;"DOMNodeInserted"===e.type?(o=[v],d=[]):(o=[],d=[v]);var l=v.previousSibling,f=v.nextSibling,n=u("childList",i);n.addedNodes=o,n.removedNodes=d,n.previousSibling=l,n.nextSibling=f,a(i,function(e){if(e.childList)return n})}h()}},e.JsMutationObserver=s,e.MutationObserver||(e.MutationObserver=s)}(this),window.MutationObserver});

define("UWA/Element",["UWA/Core","UWA/String","UWA/Array","UWA/Utils","UWA/Utils/Client","UWA/Dispatcher","UWA/Json","UWA/Event","vendors/qwery","vendors/webcomponents/MutationObserver"],function(e,t,n,i,r,o,a,l,s,c){"use strict";function d(e){var t,n=e?e.indexOf(" "):-1;return t=n<0?{name:e}:{name:e.slice(0,n),selector:e.slice(n+1)}}function u(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function f(e,t){"string"==typeof e.className?e.className=t:e.setAttribute("class",t)}function h(e,t){"function"==typeof t?t=t():void 0===t&&(t=v(y,"on{}"+e,!0),t&&(t=t.slice(2))),e!==t&&(m.Events[e]=function(n,i){if(!t)throw new Error("The event "+e+" is not supported on this platform");m.addEvent.call(i,t,n.handleEvent,!0),n.events[t]=n.handleEvent})}var m,p,g,v=r.getVendorProperty,y=document.documentElement;return p=function(){var t=document.createElement("div"),n=/(^|,)/g,i=/(?:^|,)\s*[>+~]/;return function(r,o,a,l){var s,c,d,u,f=l||i.test(o);return f?(a?(d=a.parentNode,c=a.id,a.id=s=c||"XXXSELECTORID",s="#"+s+" ",l||d||(d=e.extendElement(t).grab(a))):(s="* ",d=a),o=o.replace(n,"$1"+s)):d=a,u=l?(m[r]||l[r]).call(l,o):(m[r]||d[r]).call(d,o),a&&f&&(c?a.id=c:a.removeAttribute("id"),d===t&&d.removeChild(a)),u}}(),g=o.extend({Binding:o.Binding.extend({delegates:null,direct:!1,element:null,init:function(){this._parent.apply(this,arguments),this.delegates=[]},addDelegate:function(e){e?this.delegates.push(e):this.direct=!0},removeDelegate:function(e){e?this.delegates=this.delegates.filter(function(t){return t!==e}):this.direct=!1,this.direct||this.delegates.length||this.detach()},execute:function(e,t){var n,i,r,o;if(this.active){if(this.delegates.length)for(n=this.delegates.join(","),i=e[0],r=l.getElement(i);r&&r!==this.element&&o!==!1;)m.match.call(r,n,this.element)&&(i._uwaTarget=r,o=this._parent(e,t),i._uwaTarget=null),r=r.parentNode;this.direct&&o!==!1&&(o=this._parent(e,t))}return o},destroy:function(){this._parent(),delete this.element}}),init:function(e){this._parent(),this.element=e},addDelegation:function(e,t,n,i){var r=this.add(e,n,i);return r.addDelegate(t),r.element=this.element,r},removeDelegation:function(e,t){if(e){var i=this.bindings[this.indexOfListener(e)];i&&i.removeDelegate(t)}else n.invoke(this.bindings.slice(),"removeDelegate",t)},dispose:function(){this._parent(),delete this.element}}),m=function(){function t(e,t){var n,i;return"iframe"===e&&t&&void 0!==t.name?(n=document.createElement("div"),n.innerHTML="<"+e+' name="'+t.name+'"/>',i=n.firstChild,delete t.name):"object"===e&&t&&void 0!==t.classid?(t.html?(i=document.createElement("div"),m.setHTML.call(i,t.html),i=m.getHTML.call(i)):i="",n=document.createElement("div"),n.innerHTML="<"+e+' classid="'+t.classid+'">'+i+"</"+e+">",i=n.firstChild,delete t.html,delete t.classid):i=document.createElement(e),i}return function(n,i){var r=t(n,i);return e.extendElement(r),e.is(i,"object")&&m.set.call(r,i),r}}(),e.extend(m,{set:function(){var n;return function(i,r){var o,a,l=this;if(n||(n={html:m.setHTML,events:m.addEvents,id:function(e){this.id=e},class:function(e){this.className=e},value:function(e){this.value=e}},["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked","autofocus","controls","autoplay","loop"].forEach(function(e){n[e.toLowerCase()]=function(t){this[e]=Boolean(t)}})),e.is(i,"object"))for(o in i)i.hasOwnProperty(o)&&m.set.call(l,o,i[o]);else a=m["set"+t.capitalize(i)],e.is(a,"function")?a.apply(l,Array.prototype.slice.call(arguments,1)):n.hasOwnProperty(i)&&n[i].call(l,r)!==!1||l.setAttribute(i,r);return l}}(),setAttributes:function(e){var t,n=this;for(t in e)e.hasOwnProperty(t)&&n.setAttribute(t,e[t]);return n},getTagName:function(){var e=this,t=e.tagName||e.nodeName;return t?t.toLowerCase():""},setText:function(e){var t=this;return m.empty.call(t),m.appendText.call(t,e)},appendText:function(e){var t=this,n=m.getDocument.call(t);return t.appendChild(n.createTextNode(e)),t},getText:function(){var e=this;return e.textContent||e.innerText||t.stripTags(e.innerHTML)},setContent:function(){var e=this;return m.empty.call(e),m.addContent.apply(e,arguments)},addContent:function(){function t(n,i,r){var o,a,l,s;for(e.is(n,"nodelist")&&(n=[].slice.call(n)),o=0,a=n.length;o<a;o++)if(s=n[o])if(s.nodeType)r.appendChild(s);else if("string"==typeof s||"number"==typeof s)if(/<|&#?\w+;/.test(s))for(l=i.createElement("div"),m.setHTML.call(l,s);l.firstChild;)r.appendChild(l.firstChild);else r.appendChild(i.createTextNode(s));else"function"!=typeof s.inject||Array.isArray(s)?"number"==typeof s.length?t(s,i,r):"object"==typeof s?(l=s.tag||"div",delete s.tag,r.appendChild(e.createElement(l,s)),s.tag=l):r.appendChild(i.createTextNode(s)):s.inject(r)}return function(){var e=this,n=m.getDocument.call(e),i=n.createDocumentFragment();return t(arguments,n,i),e.appendChild(i),e}}(),setHTML:function(n){var i,r=this;if("string"!=typeof n)m.setContent.call(r,n);else try{i=t.escapeHTMLEntities(n).replace('<?xml version="1.0" encoding="UTF-8"?>',"").replace(/&(?!#?[a-z0-9]+;)/gi,"&#38;"),r.innerHTML=i}catch(i){e.log("UWA.Element.setHTML error cause: "+i+' with HTML value "'+n+'"');try{r.innerHTML=t.stripTags(String(n))}catch(e){m.setText.call(r,n)}}return r},getHTML:function(){var e=this.innerHTML;return r.Engine.ie&&(e=e.replace(/< *(\/ *)?(\w+)/g,function(e){return e.toLowerCase()})),e},inject:function(e,t){var n,i=this,r=m.getDocument.call(i);return t=t||"bottom","bottom"===t?e.appendChild(i):"top"===t?e.insertBefore(i,e.firstChild):(n=e.parentNode,n||11===e.nodeType||(n=r.createDocumentFragment(),n.appendChild(e)),n&&("after"===t?n.lastChild===e?n.appendChild(i):n.insertBefore(i,e.nextSibling):"before"===t&&n.insertBefore(i,e))),i},grab:function(e,t){return m.inject.call(e,this,t),this},isInjected:function(){var e;return e=y.contains?function(e){var t=this;return e=e||t.ownerDocument.documentElement,e!==t&&(!e.contains||e.contains(t))}:y.compareDocumentPosition?function(e){var t=this;return e=e||t.ownerDocument.documentElement,Boolean(16&e.compareDocumentPosition(t))}:function(e){var t=this;e=e||t.ownerDocument.documentElement;do t=t.parentNode;while(t&&t.parentNode);return t===e}}(),empty:function(e){for(var t,n=this;n.firstChild;)t=n.firstChild,e?m.destroy.call(t):n.removeChild(t);return n},remove:function(){var e=this,t=m.getParent.call(e);return t&&t.removeChild(e),e},destroy:function(){var e,t,n,i=this,r=m.remove,o=m.destroy,a=m.getChildren.call(i);for(t=0,n=a.length;t<n;t+=1)a[t].destroy&&o.call(a[t]);m.removeEvents.call(i),e=m.getDocument.call(i),i!==e&&i!==e.documentElement&&i!==e.body&&i!==m.getWindow.call(i)&&r.call(i)},getParent:function(t){var n=this.parentNode;if(t)for(;n&&1===n.nodeType&&!m.match.call(n,t);)n=n.parentNode;return n&&1!==n.nodeType&&(n=null),n?e.extendElement(n):null},getParents:function(e){for(var t=[],n=this;;){var i=n.getParent(e);if(!i)return t;t.push(i),n=i}},getClosest:function(e){var t=this;return m.match.call(t,e)?t:m.getParent.call(t,e)},getChildren:function(){return Array.prototype.filter.call(this.childNodes,function(e){return 1===e.nodeType}).map(e.extendElement)},getDocument:function(){var e=this;return 9===e.nodeType?e:e.ownerDocument||e.document},getWindow:function(){var e=m.getDocument.call(this);return e&&(e.defaultView||e.parentWindow)},getOffsetParent:function(){function t(){var e=document.createElement("div"),t=document.createElement("div");e.style.height="0",e.appendChild(t),o=t.offsetParent===e}function n(e){return/^(?:body|html)$/i.test(e.tagName)}function i(e){return e&&("static"!==m.getStyle.call(e,"position")||n(e))}function r(e){return i(e)||/^(?:table|td|th)$/i.test(e.tagName)}var o;return function(){var a,l=this,s=m.getDocument.call(l),c=l.offsetParent||s&&s.body,d=m.getStyle.call(l,"position");if(!n(l)&&"fixed"!==d)if(void 0===o&&t(),o){for(a="static"===d?r:i;void 0!==(l=l.parentNode);)if(a(l)){c=l;break}}else try{c=l.offsetParent}catch(e){}return c&&(c=e.extendElement(c)),c}}(),getElements:function(t){return Array.prototype.map.call(p("querySelectorAll",t,this),e.extendElement,e)},getElement:function(t){return e.extendElement(p("querySelector",t,this))},match:function(e,t){return p("matchesSelector",e,t,this)},hasClassName:function(e){var n=u(this);return Boolean(n&&t.contains(n,e," "))},addClassName:function(e){var t=this;return m.hasClassName.call(t,e)||f(this,(u(this).trim()+" "+e).trim()),t},removeClassName:function(e){var t=this;return f(this,u(this).replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)"),"$1").trim()),t},toggleClassName:function(t,n){var i=this,r=e.is(n)?n:!m.hasClassName.call(i,t);return e.Element[r?"addClassName":"removeClassName"].call(i,t)},setStyle:function(e,t){var n={};return n[e]=t,m.setStyles.call(this,n)},setStyles:function(){function n(e){var t=[],n=e.replace(/[\'\"]/g,"").split(",");return n.forEach(function(e){t.push('"'+e.trim()+'"')}),t.join(", ")}function i(e,t){var n,i,o,s,c,d,u=e+t;if(a[u])n=a[u];else{n=!1,c=document.createElement("div"),d=c.style;for(i in l)if(o=l[i],s=o+t,d[e]=s,d[e]===s&&""!==s&&!r.Engine.ie){n=s;break}a[u]=n}return n}function o(t){var n=i("cursor",t);return t=n!==!1?n:r.Engine.opera?"move":"url("+e.hosts.uwa+e.paths.css+"/base/cursor/"+("grabbing"===t?"closedhand":"openhand")+".cur)"+(r.Engine.ie?"":" 4 4")+", move"}var a={},l={none:"",firefox:"-moz-",opera:"-o-",trident:"-ms-",webkit:"-webkit-"},s={columnCount:1,flex:1,flexGrow:1,flexShrink:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,strokeOpacity:1};return function(i){var r,a,l,c,d=this,u=d.style,f=[];for(c in i)i.hasOwnProperty(c)&&(l=i[c],c=t.camelCase(c),"opacity"===c?m.setOpacity.call(d,l):(""!==l&&null!==l&&isFinite(l)&&void 0===s[c]?l+="px":"none"===l&&"userSelect"===c&&void 0!==u.MozUserSelect?l="-moz-none":"fontFamily"===c?l=n(l):"cursor"===c&&("grabbing"!==l&&"grab"!==l||(l=o(l,u))),f.push({name:m.getStyleName.call(d,c),value:l})));for(r=0,a=f.length;r<a;r++){c=f[r].name,l=f[r].value;try{u[c]=l||0===l?l:""}catch(t){e.log('Unable to set style "'+c+'" with value "'+l+'"')}}return d}}(),getStyle:function(e,t){var n=m.getStyles.call(this,[e],t);return n[e]},getStyles:function(){function e(){var e=document.createElement("div");e.style.margin="1%",document.body.appendChild(e),i="1%"===(window.getComputedStyle(e,null)||{marginTop:0}).marginTop,document.body.removeChild(e)}function t(e,t,n){var i,r,o,a=e.style;for(i=0,r=t.length;i<r;i++)o=t[i],n[o]=a[o]||"";return n}var n,i,r,o=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,a=/^margin/;return document.defaultView&&document.defaultView.getComputedStyle?n=function(t,n,r){var l,s,c,d,u,f,h=t.ownerDocument,p=h.defaultView,g=m.getWindow.call(t).getComputedStyle(t,null),v=t.style;if(p&&g)for(l=0,s=n.length;l<s;l++)d=n[l],f=m.getStyleName.call(t,d),u=g[f],""!==u&&"auto"!==u||m.isInjected.call(t,h.documentElement)||(u=v[f]),void 0===i&&e(),i&&a.test(f)&&o.test(u)&&(c=v.width,v.width=u,u=g.width,v.width=c),r[d]=void 0!==u?u:v[d]||"";return r}:document.documentElement.currentStyle&&(n=function(e,t,n){var i,r,a,l,s,c,d,u=e.currentStyle,f=e.runtimeStyle,h=e.style;for(i=0,r=t.length;i<r;i++)l=t[i],d=m.getStyleName.call(e,l),s=u&&u[d],o.test(s)&&(a=h.left,c=f&&f.left,c&&(f.left=u.left),h.left="fontSize"===d?"1em":s||0,s=h.pixelLeft+"px",h.left=a,c&&(f.left=c)),n[l]=void 0!==s?s:e.style[l]||"";return n}),function(e,i){var o={},a=this;return e.indexOf("opacity")===-1||r||(r=!0,o.opacity=m.getOpacity.call(a,i),e.splice(e.indexOf("opacity"),1),r=!1),o=i===!1?t(a,e,o):n(a,e,o)}}(),getStyleName:function(){function e(e){return e.join(".")}var n=r.Engine,o=n.name,a=["box-sizing","box-shadow","transform","transform-style","transition","transition-timing-function","transition-duration","transition-delay","transition-property","border-image","border-radius","text-stroke","font-smoothing","text-fillcolor","text-shadow","perspective","appearance","touch-callout","overflow-scrolling","mask","user-select"];return i.memoize(function(e,i){var r,l,s,c=[],d={firefox:"-moz",opera:"-o",ie:i?"-ms":"ms",chrome:"-webkit",safari:"-webkit"};if("string"==typeof e){if(e=t.unCamelCase(e),"float"===e)r=n.ie?"style-float":"css-float";else if(a.indexOf(e)!==-1){if(d[o])s=d[o],r=s+"-"+e,c.push(r);else for(l in d)d.hasOwnProperty(l)&&(s=d[l],r=s+"-"+e,c.indexOf(r)===-1&&c.push(r));c=c.filter(function(e){return void 0!==y.style[t.camelCase(e)]}),r=0===c.length?e:c.shift()}else r=e;i||(r=t.camelCase(r))}else r=e;return r},e)}(),getOpacity:function(){var e=function(){},t=r.Features.opacityCSS,n=r.Features.filterCSS,i=/alpha\(opacity=([\d.]+)\)/i;return n&&!t?e=function(e,t){var n,r=1;return n=m.getStyle.call(e,"filter",t).replace(/ /g,"").match(i),n&&(r=n[1]/100),r}:t&&(e=function(e,t){var n=1,i=e.style,r=m.getStyle;return void 0!==i.opacity?n=r.call(e,"opacity",t):void 0!==i.MozOpacity&&(n=r.call(e,"MozOpacity",t)),parseFloat(Math.round(100*n)/100,10)}),function(t){return e(this,t)}}(),setOpacity:function(){var e=function(){},t=r.Features.opacityCSS,n=r.Features.filterCSS;return n&&!t?e=function(e,t,n){var i;t.zoom=1,n=1===n?"":"alpha(opacity="+100*n+")",t.MsFilter=n,t.filter=n,i=t.display,t.display="none",e.offsetHeight,t.display=i}:t&&(e=function(e,t,n){void 0!==t.opacity?t.opacity=n:void 0!==t.MozOpacity&&(t.MozOpacity=n)}),function(t){var n=this,i=n.style;return null!==t&&(t=parseFloat(t,10),t=t>1?1:t<1e-5?0:t),e(n,i,t),n}}(),hide:function(){return m.setStyle.call(this,"display","none")},show:function(){function e(e){return m.getStyle.call(e,"display")}var t,n,r;return r=i.memoize(function(i){var r,o=document,a=o.body,l=o.createElement(i);return a.appendChild(l),r=e(l),a.removeChild(l),"none"!==r&&""!==r||(t||(t=o.createElement("iframe"),t.frameBorder=t.width=t.height=0),a.appendChild(t),n&&t.createElement||(n=(t.contentWindow||t.contentDocument).document,n.write(("CSS1Compat"===o.compatMode?"<!doctype html>":"")+"<html><body>"),n.close()),l=n.createElement(i),n.body.appendChild(l),r=e(l),a.removeChild(t)),r}),function(){var t,n=this;return n.style&&(t=n.style.display,"none"===t&&(t=n.style.display=""),""===t&&(n.style.display="none"===e(n)&&r(n.nodeName)||"")),n}}(),toggle:function(t){var n=this,i=e.is(t)?t:m.isHidden.call(n);return e.Element[i?"show":"hide"].call(n)},isHidden:function(){return"none"===m.getStyle.call(this,"display")},setTranslate:function(){var e=function(){var e;return e=r.Features.transitionsCSS?r.Features.matrixCSS?function(e,t){return{transform:"translate3d("+t+"px,"+e+"px, 0)"}}:function(e,t){return{transform:"translate("+t+"px,"+e+"px)"}}:function(e,t){return{top:e,left:t}}}();return function(t,n){var i,r=this;return t=t||0,n=n||0,i=e(t,n),m.setStyles.call(r,i),r}}(),getComputedSize:function(){var e={borderWidth:["borderLeftWidth","borderRightWidth"],borderHeight:["borderBottomWidth","borderTopWidth"],paddingWidth:["paddingLeft","paddingRight"],paddingHeight:["paddingTop","paddingBottom"],marginWidth:["marginLeft","marginRight"],marginHeight:["marginTop","marginBottom"],innerWidth:["borderWidth","paddingWidth"],innerHeight:["borderHeight","paddingHeight"],outerWidth:["marginWidth"],outerHeight:["marginHeight"]};return function(){var n,r,o,a,l=this,s=i.toArray(arguments),c=0;for(n=0;n<s.length;n++)o=t.camelCase(s[n]),e[o]?(s.splice(n,1),s=s.concat(e[o]),n--):s.splice(n,1,o);for(a=m.getStyles.call(l,s),n=0,r=s.length;n<r;n++)o=s[n],c+=parseFloat(a[o],10)||0;return c}}(),getScrolls:function(){function t(){var e=document.createElement("div"),t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="1px",e.style.overflow="visible",e.innerHTML="x",t.appendChild(e),y.appendChild(t),n=1===e.scrollWidth,y.removeChild(t)}var n;return function(){var i,o,a,l=this;return e.is(l,["window","document"])?o=r.getScrolls():(a=l.style,o={width:l.scrollWidth,height:l.scrollHeight,top:l.scrollTop,left:l.scrollLeft},void 0===n&&t(),n&&["","visible"].indexOf(m.getStyle.call(l,"overflow"))!==-1&&(i=a.overflow,a.overflow="hidden",o.width=l.scrollWidth,a.overflow=i)),o}}(),getOffsets:function(){function e(e){var t=e.ownerDocument.defaultView;return t?t.getComputedStyle(e,null):e.currentStyle}function t(e,t){return m.getStyle.call(e,t)}function n(){var e,n,i,r=document.body,o=parseInt(t(r,"marginTop"),10),u=document.createElement("div"),f="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";u.innerHTML=f,r.insertBefore(u,r.firstChild),e=u.firstChild,n=e.firstChild,i=e.nextSibling.firstChild.firstChild,a=5!==n.offsetTop,l=5===i.offsetTop,n.style.position="fixed",n.style.top="20px",s=20===n.offsetTop||15===n.offsetTop,n.style.position=n.style.top="",e.style.overflow="hidden",e.style.position="relative",c=n.offsetTop===-5,d=r.offsetTop!==o,r.removeChild(u)}function i(e){var i=e.offsetTop,r=e.offsetLeft;return void 0===a&&n(),d&&(i+=parseFloat(t(e,"marginTop"))||0,r+=parseFloat(t(e,"marginLeft"))||0),{x:r,y:i}}var o,a,l,s,c,d,u=/^t(?:able|d|h)$/i;return o=void 0!==document.documentElement.getBoundingClientRect?function(){if(this===this.ownerDocument.body)return i(this);var e,t,n,o,a,l,s,c,d=this,u=m.getWindow.call(d),f=u.webkitConvertPointFromNodeToPage;if(d.getBoundingClientRect){o=m.getDocument.call(d),a=o.body,l=y.clientTop||a.clientTop||0,s=y.clientLeft||a.clientLeft||0,c=r.getScrolls();try{n=d.getBoundingClientRect()}catch(e){}n&&m.isInjected.call(d,y)?(e=n.left+c.x-l,t=n.top+c.y-s):(e=n?n.left:0,t=n?n.top:0)}else f&&(n=f(d,new u.WebKitPoint(0,0)),e=n.x,t=n.y);return{x:e,y:t}}:function(){if(this===this.ownerDocument.body)return i(this);var t,r=this,o=r.offsetParent,d=m.getDocument.call(r),f=d.body,h=e(r),p=r.offsetTop,g=r.offsetLeft;for(void 0===a&&n(),r=r.parentNode;r&&r!==f&&r!==y&&11!==r.nodeType&&(!s||"fixed"!==h.position);)t=e(r),g-=r.scrollLeft,p-=r.scrollTop,r===o&&(g+=r.offsetLeft,p+=r.offsetTop,!a||l&&u.test(r.nodeName)||(g+=parseFloat(t.borderLeftWidth)||0,p+=parseFloat(t.borderTopWidth)||0),o=r.offsetParent),c&&"visible"!==t.overflow&&(g+=parseFloat(t.borderLeftWidth)||0,p+=parseFloat(t.borderTopWidth)||0),h=t,r=r.parentNode;return"relative"!==h.position&&"static"!==h.position||(g+=f.offsetLeft,p+=f.offsetTop),s&&"fixed"===h.position&&(g+=Math.max(y.scrollLeft,f.scrollLeft),p+=Math.max(y.scrollTop,f.scrollTop)),{x:g,y:p}}}(),getPosition:function(t,n){var i,r,o,a,l,s,c,d=/^(?:body|html)$/i,u=this,f=m.getOffsetParent,h=m.getOffsets,p=m.getComputedSize,g=m.getSize,v=m.isInjected,y={x:0,y:0};if(t=t||f.call(u),!t||!v.call(u))return y;if(c=h.call(u),t!==m.getDocument.call(u)&&(i=d.test(t.nodeName)?y:h.call(t),c.x-=parseFloat(p.call(u,"marginLeft"))||0,c.y-=parseFloat(p.call(u,"marginTop"))||0,i.x+=parseFloat(p.call(t,"borderLeftWidth"))||0,i.y+=parseFloat(p.call(t,"borderTopWidth"))||0,c.x-=i.x,c.y-=i.y,s=e.typeOf(n)))for("string"===s&&(n={x:n,y:n}),r=g.call(u),o=0;o<2;o+=1)a=o?"x":"y",l=o?"width":"height","center"===n[a]?c[a]+=r[l]/2:(1===o&&"right"===n[a]||0===o&&"bottom"===n[a])&&(c[a]+=r[l]);return c},setPosition:function(){function t(t,n,i,o,a){var l,s;switch(e.typeOf(o)){case!1:break;case"object":s={x:o.x+i.x,y:o.y+i.y,width:o.width,height:o.height};break;case"element":l=o;break;default:for(l=m.getOffsetParent.call(t);l&&l!==n&&1===l.nodeType&&"visible"===m.getStyle.call(l,"overflow");)l=l.parentNode;l&&1===l.nodeType||(l=n)}return l&&(l===n?s=e.merge(r.getScrolls(),r.getSize()):(s=m.getOffsets.call(l),s.width=l.offsetWidth,s.height=l.offsetHeight)),s&&(s.x+=a,s.y+=a,s.width-=2*a,s.height-=2*a),s}var n={full:function(e,t){var n=m.getSize.call(this),i=e.x+e.width-t.x-n.width,r=e.y+e.height-t.y-n.height;i<0&&(t.x=Math.max(0,t.x+i)),r<0&&(t.y+=r)},"resize-max":function(e,t){m.setStyles.call(this,{maxWidth:e.x+e.width-t.x,maxHeight:e.y+e.height-t.y})},none:function(){}};return function(r,o){o=o||{};var a,l,s=this,c=m.getDocument.call(s).body,d=m.getOffsetParent.call(s)||c,u=m.getOffsets.call(d),f=m.getOffsets.call(o.relative||d);return a=t(s,c,f,o.boundary,o.boundaryMargin||0),"number"==typeof r.length&&(l=m.getSize.call(s),i.splat(r).forEach(function(e){var t=f.x+e.x,n=f.y+e.y;e.score=(Math.min(a.x+a.width,t+l.width)-Math.max(a.x,t))*(Math.min(a.y+a.height,n+l.height)-Math.max(a.y,n))}),r.sort(function(e,t){return t.score-e.score}),r=r[0]),r={x:r.x+f.x,y:r.y+f.y},a&&(o.fit?"string"==typeof o.fit&&e.owns(n,o.fit)&&(o.fit=n[o.fit]):o.fit=n.full,r.x=Math.max(a.x,Math.min(r.x,a.x+a.width)),r.y=Math.max(a.y,Math.min(r.y,a.y+a.height)),o.fit.call(this,a,r)),m.setStyles.call(s,{top:r.y-u.y,left:r.x-u.x}),s}}(),getSize:function(){var t,n,i,o,a,l,s,c=this;return e.is(c,["window","document"])?s=r.getSize():(l=m.getStyle.bind(c),i=c.style,o=c.offsetWidth,a=c.offsetHeight,"none"===l("display")&&0===o&&0===a&&(n=i.display,t=i.visibility,i.visibility="visible",i.display="block",o=c.offsetWidth,a=c.offsetHeight,i.display=n,i.visibility=t),s={width:o,height:a}),s},getDimensions:function(){var e,t=this,n=m.getSize.call(t),i=n.width,r=n.height,o=m.getStyles.call(t,["maxWidth","maxHeight","minWidth","minHeight","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","borderBottomWidth","borderTopWidth","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"]);for(e in o)o[e]=parseFloat(o[e],10)||0;return{width:i,height:r,maxWidth:o.maxWidth||-1,maxHeight:o.maxHeight||-1,minWidth:o.minWidth||-1,minHeight:o.minHeight||-1,innerWidth:i-(o.borderLeftWidth+o.borderRightWidth+o.paddingLeft+o.paddingRight),innerHeight:r-(o.borderBottomWidth+o.borderTopWidth+o.paddingTop+o.paddingBottom),outerWidth:i+o.marginLeft+o.marginRight,outerHeight:r+o.marginTop+o.marginBottom}},isInViewport:function(e,t,n,i){var o,a,l,s,c,d,u=this,f=m.getOffsets,h=f.call(e),p=f.call(u),g=e.offsetHeight,v=e.offsetWidth,y=u.offsetWidth,w=u.offsetHeight,b=p.y,x=p.x,E=b+u.offsetHeight,C=x+u.offsetWidth;return t?(s=x<h.x+v&&x+y>h.x,c=b<h.y+g&&b+w>h.y):(s=x>=h.x&&x+y<=h.x+v,c=b>=h.y&&b+w<=h.y+g),d="x"===i?s:"y"===i?c:s&&c,n&&(o=r.getScrolls(),a=r.getSize(),l={top:o.y,bottom:o.y+a.height,right:o.x+a.width,left:o.x},d=d&&b<l.bottom&&x<l.right&&E>l.top&&C>l.left),d},setData:function(n,i){var r,o=this,l=e.typeOf(i),s=e.typeOf(n);if("string"===s&&l)i=a.encode(i),o.dataset?o.dataset[t.camelCase(n)]=i:(n="data-"+t.unCamelCase(n),o.setAttribute?o.setAttribute(n,i):o[n]=i);else if("object"===s&&!l)for(r in n)n.hasOwnProperty(r)&&m.setData.call(o,r,n[r]);return o},getData:function(n){var i,r=this;return e.is(n,"string")&&(r.dataset?i=r.dataset[t.camelCase(n)]:(n="data-"+t.unCamelCase(n),i=r.getAttribute?r.getAttribute(n,i):r[n]=i)),e.is(i)?a.decode(i):void 0},removeData:function(n){var i=this;return e.is(n,"string")&&(i.dataset?i.dataset.hasOwnProperty(t.camelCase(n))&&delete i.dataset[t.camelCase(n)]:(n="data-"+t.unCamelCase(n),i.removeAttribute?i.removeAttribute(n):i[n]=null)),i},handleExternalLinks:function(e){var t=this;return m.addEvent.call(t,"click",function(t){if(!l.isDefaultPrevented(t)&&!l.whichKey(t)){for(var n,i=l.getElement(t),r=String(window.location).split("#")[0];i&&!n;)n="a"===m.getTagName.call(i)&&i.getAttribute("href")||m.getData.call(i,"href"),i=m.getParent.call(i);n&&0!==n.indexOf(r+"#")&&0!==n.indexOf("#")&&0!==n.indexOf("javascript")&&(e(n),l.stop(t))}}),t},addEvent:function(){function t(t,n,i,r){var o,a,l=t._events||{},s=!i&&m.Events[n],c=s?n+"Custom":n,d=l[c];return d||(a=new g(t),l[c]=d={dispatcher:a,handleEvent:function(t){if("Mootools"===e.driver){var n=window.DOMEvent||window.Event;t=new n(t),["offsetY","offsetX","relatedTarget","button","metaKey","altKey","shiftKey","ctrlKey","clientY","clientX","screenY","screenX","which","pageY","pageX","layerY","layerX","charCode","keyCode","timeStamp","cancelable","bubbles","target","type","detail","wheelDelta","touches","changedTouches"].forEach(function(n){e.owns(t,n)||(t[n]=t.event[n])})}void 0===t.timeStamp&&(t.timeStamp=Date.now()),a.dispatch([t])},events:{},bindings:[],timers:[]},o=d.handleEvent,t._events=l,s?s(d,t,{target:t,type:n}):t.addEventListener?t.addEventListener(n,o,r||!1):(t.attachEvent("on"+n,o),window.attachEvent("onunload",function(){t.detachEvent("on"+n,o)}))),d}return function(e,n,i,r,o){e=d(e);var a=this,l=n&&"function"==typeof n.handleEvent?n:a,s=t(this,e.name,i,o);return s.dispatcher.addDelegation(n,e.selector,l,r),"load"===e.name&&a.tagName&&"img"===a.tagName.toLowerCase()&&a.complete&&a.width>0&&s.dispatcher.dispatch(),a}}(),addEvents:function(e,t,n,i){var r,o=this;for(r in e)e.hasOwnProperty(r)&&m.addEvent.call(o,r,e[r],t,n,i);return o},triggerEvent:function(e){var t=this,n=t._events||{},i=n[e],r={target:t,timeStamp:Date.now(),type:e};return i&&i.handleEvent(r),t},removeEvent:function(t,n,i){if(!e.is(t))return m.removeEvents.call(this);t=d(t);var r,o,a,l,s,c=this,u=c._events&&c._events[t.name+"Custom"],f=u?t.name+"Custom":t.name,h=c._events&&c._events[f];if(h&&(l=h.dispatcher,n||t.selector?l.removeDelegation(n,t.selector):l.removeAll(),0===l.getNumListeners())){delete c._events[f],s=h.events;for(a in s)s.hasOwnProperty(a)&&m.removeEvent.call(c,a,s[a]);if(h.timers)for(r=0,o=h.timers.length;r<o;r++)clearTimeout(h.timers[r]);if(h.bindings)for(r=0,o=h.bindings.length;r<o;r++)h.bindings[r].dispose();u||(c.removeEventListener?c.removeEventListener(f,h.handleEvent,i):c.detachEvent("on"+f,h.handleEvent)),l.dispose()}return c},removeEvents:function(e,t){var n,i=this,r="undefined"!=typeof e,o=r?e:i._events;for(n in o)o.hasOwnProperty(n)&&m.removeEvent.call(i,n,r?e[n]:null,t);return i},fillParent:function(e,n){e=e||"height";var i=this,r=n||m.getParent.call(i),o=m.setStyle.bind(i),a=t.ucfirst(e),l=1e4;return r&&(o("height",l+"px"),o("height",r["offset"+a]-r["scroll"+a]+l+"px")),i},setSelectable:function(){function e(e){l.preventDefault(e)}return function(t){var n=this;return n.setAttribute("unselectable",t?"off":"on"),m.setStyles.call(n,{userSelect:t?"":"none",touchCallout:t?"":"none"}),m[t?"removeEvent":"addEvent"].call(n,"selectstart",e),n}}(),requestFullscreen:function(){var e=v(y,"requestFullscreen")||v(y,"requestFullScreen");return e?function(){return e.call(this,1)}:function(){throw new Error("Element#requestFullscreen is not available in this platform")}}()}),m.Events={mouseleave:function(){function e(e,t){var n=!1;if(e!==t){for(;t&&t!==e;)t=t.parentNode;n=e===t}return n}return function(t,n,i){var r=t.handleEvent;n.addEventListener?(t.handleEvent=function(t){var n=t.relatedTarget;this===n||e(this,n)||r.call(this,i)},m.addEvent.call(n,"mouseout",t.handleEvent),t.events.mouseout=t.handleEvent):(m.addEvent.call(n,"mouseleave",r,!0),t.events.onmouseleave=r)}}(),mouseenter:function(){function e(e,t){var n=!1;if(e!==t){for(;t&&t!==e;)t=t.parentNode;n=e===t}return n}return function(t,n,i){var r=t.handleEvent;n.addEventListener?(t.handleEvent=function(t){var n=t.relatedTarget;this===n||e(this,n)||r.call(this,i)},m.addEvent.call(n,"mouseover",t.handleEvent),t.events.mouseover=t.handleEvent):(m.addEvent.call(n,"mouseenter",r,!0),t.events.mouseenter=r)}}(),mousewheel:function(e,t){var n=e.handleEvent,i=r.Engine.firefox?"DOMMouseScroll":"mousewheel";e.handleEvent=function(e){e=e||window.event,e.wheel=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3,n(e)},m.addEvent.call(t,i,e.handleEvent,!0),e.events[i]=e.handleEvent},update:function(e,t,n){var i=new c(function(t){var i=t[0];e.handleEvent(Object.assign(n,{record:i}))});i.observe(t,{childList:!0,subtree:!0})},resize:function(){function t(t){var n;return e.is(t,["window","document"])?(n=r.getSize(),n=[n.width,n.height]):n=[t.scrollWidth,t.scrollHeight,t.offsetWidth,t.offsetHeight],n.join("x")}function n(){clearTimeout(i),a.dispatch(),a.getNumListeners()>0&&(i=setTimeout(n,l))}var i,a=new o,l=200;return function(i,r,o){var l,s=220,c=t(r),d="orientationchange";i.bindings.length>0||(i.timers=[l],window===r&&e.is(window[d])&&(m.addEvent.call(r,d,n),i.events[d]=n),i.bindings=[a.add(function(){var n=t(r),a="0x0"!==c&&!e.is(r,["window","document"])&&!m.isInjected.call(r),d="0x0"===n;c===n||d||(c=n,a||(clearTimeout(l),l=setTimeout(function(){i.handleEvent(o)},s)))})],n())}}()},h("fullscreenchange"),h("fullscreenerror"),h("transitionEnd",function(){var t,n=document.createElement("fakeelement"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(t in i)if(i.hasOwnProperty(t)&&e.is(n.style[t]))return i[t]}),function(e){var t=e.querySelectorAll,n=e.querySelector,i=e.getElementsByClassName,r=!0;s.configure({useNativeQSA:!1});try{t.call(e,"a:not(.foo)")}catch(e){r=!1}e.matchesSelector||(m.matchesSelector=v(e,"matchesSelector")||function(e,t){return s.is(this,e,t&&t.parentNode)}),t&&r||(m.querySelectorAll=function(e){return s(e,this)}),n&&r||(m.querySelector=function(){return m.querySelectorAll.apply(this,arguments)[0]}),i||(m.getElementsByClassName=function(e){return s("."+e,this)})}(y),document.exitFullscreen=v(document,"exitFullscreen")||v(document,"cancelFullScreen")||function(){throw new Error("Element#requestFullscreen is not available in this platform")},"fullscreenEnabled"in document||(document.fullscreenEnabled=v(document,"fullscreenEnabled")),function(){var e="fullscreenElement",t=v(document,e,!0)||v(document,"fullScreenElement",!0)||v(document,"currentFullScreenElement",!0);if(t&&t!==e)try{m.addEvent.call(document,"fullscreenchange",function(){document[e]=document[t]}),document[e]=document[t]}catch(e){}}(),e.namespace("Element",m,e,!0)});

define("UWA/Class/Timed",["UWA/Core","UWA/Class","UWA/Utils","UWA/Utils/Client"],function(e,i,t,a){"use strict";function r(e,i,a,r){return function(n,l,o,d,s){function m(t){throw u[e](n),new Error("The "+i.slice(0,-1)+' "'+n+'" failed with error "'+t+'".')}var u=this,f=u;return"function"==typeof n&&(s=d,d=o,o=l,l=n,f=n=c++),l=t.attempt.bind(null,l,m,s||u),u[e](n),u[i]=u[i]||Object.create(null),u[i][n]=a(function(){r&&u[e](n),l()},o),d&&l(),f}}function n(e,i){return function(t){var a,r=this,n=r[e];if(n)if(void 0===t)for(a in n)i(n[a]),delete n[a];else n[t]&&(i(n[t]),delete n[t]);return r}}function l(e){return function(i){var t=this[e];return Boolean(t&&t[i])}}var o,c=1,d=a.getVendorProperty(window,"cancelAnimationFrame")||clearTimeout,s=a.getVendorProperty(window,"requestAnimationFrame")||function(e){return setTimeout(e,1e3/60)};return o=i.extend({setPeriodical:r("clearPeriodical","periodicals",window.setInterval),clearPeriodical:n("periodicals",window.clearInterval),hasPeriodical:l("periodicals"),setDelayed:r("clearDelayed","delays",window.setTimeout,!0),clearDelayed:n("delays",window.clearTimeout),hasDelayed:l("delays"),setAnimate:r("clearAnimate","animates",s,!0),clearAnimate:n("animates",d),hasAnimate:l("animates"),setImmediate:r("clearImmediate","immediates",t.setImmediate,!0),clearImmediate:n("immediates",t.clearImmediate),hasImmediate:l("immediates"),clearAllTimed:function(){return this.clearImmediate(),this.clearAnimate(),this.clearDelayed(),this.clearPeriodical(),this}}),e.namespace("Timed",o,i)});

define("UWA/Color",["UWA/Core","UWA/Class"],function(r,a){"use strict";function t(r){return"#"===r.charAt(0)&&(r=r.substring(1)),3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16)}}function n(a){a=r.clone(a),a.r/=255,a.g/=255,a.b/=255;var t={},n=Math.min(a.r,a.g,a.b),o=Math.max(a.r,a.g,a.b),s=o-n,e=(o+n)/2;return t.l=e,o===n?(t.h=0,t.s=0):(t.h=e,t.s=e,t.s=t.l>.5?s/(2-o-n):s/(o+n),o===a.r?t.h=(a.g-a.b)/s+(a.g<a.b?6:0):o===a.g?t.h=(a.b-a.r)/s+2:o===a.b&&(t.h=(a.r-a.g)/s+4),t.h/=6),t.h=Math.round(360*t.h),t.s=Math.round(100*t.s),t.l=Math.round(100*t.l),t}function o(r){var a={},t=(1-Math.abs(r.l/50-1))*r.s/100,n=t*(1-Math.abs(r.h/60%2-1)),o=Math.floor(r.h/60),s=r.l/100-t/2;switch(o){case 0:a.r=t,a.g=n,a.b=0;break;case 1:a.r=n,a.g=t,a.b=0;break;case 2:a.r=0,a.g=t,a.b=n;break;case 3:a.r=0,a.g=n,a.b=t;break;case 4:a.r=n,a.g=0,a.b=t;break;case 5:case 6:a.r=t,a.g=0,a.b=n}return a.r=Math.round(255*(a.r+s)),a.g=Math.round(255*(a.g+s)),a.b=Math.round(255*(a.b+s)),a}function s(a,t){a=r.clone(a);var n=a.alpha;if(n>=1)return a;var o=["r","g","b"];return o.forEach(function(r){a[r]=a[r]*n+t[r]*t.alpha*(1-n)}),a.alpha=Math.round(n+t.alpha*(1-n)),a}function e(r){var a=[r.r,r.g,r.b,r.alpha].map(function(r){return r/=255,r<.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)});return.2126*a[0]+.7152*a[1]+.0722*a[2]}function h(r,a){if(a.alpha>=1){r.alpha<1&&(r=s(r,a));var t=e(a)+.05,n=e(r)+.05,o=t/n;return n>t&&(o=1/o),{ratio:Math.round(o),min:o,max:o}}var i={r:255,g:255,b:255,alpha:1},l={r:0,g:0,b:0,alpha:1},u=s(a,l),c=s(a,i),b=h(r,l).ratio,g=h(r,i).ratio,p=Math.max(b,g),f=1;return u.luminance>r.luminance?f=b:c.luminance<r.luminance&&(f=g),{ratio:Math.round((f+p)/2,2),min:f,max:p}}var i=a.extend({_color:null,init:function(a){this._color=r.clone(a)},toHexString:function(){var r=[this._color.r,this._color.g,this._color.b],a=r.map(function(r){return r=parseInt(r,10),r=r.toString(16),1===r.length?"0"+r:r});return"#"+a.join("")},toRGBString:function(){var r=this._color,a=r.alpha<1;return"rgb"+(a?"a":"")+"("+r.r+", "+r.g+", "+r.b+(a?", "+r.alpha:"")+")"},toHSLString:function(){var r=this._color,a=r.alpha<1;return"hsl"+(a?"a":"")+"("+r.h+", "+r.s+"%, "+r.l+(a?"%, "+r.alpha:"%")+")"},toObject:function(){return r.clone(this._color)},cloneWith:function(a){var t=Object.assign(this.toObject(),a);return r.owns(a,"h")||r.owns(a,"s")||r.owns(a,"l")?i.fromHSL(t.h,t.s,t.l,t.alpha):r.owns(a,"r")||r.owns(a,"g")||r.owns(a,"b")?i.fromRGB(t.r,t.g,t.b,t.alpha):new i(t)}});return i.fromRGB=function(r,a,t,o){var s={r:parseInt(r,10),g:parseInt(a,10),b:parseInt(t,10),alpha:void 0===o?1:parseFloat(o,10)};return Object.assign(s,n(s)),new i(s)},i.fromHSL=function(r,a,t,n){var s={h:parseInt(r,10),s:parseFloat(a,10),l:parseFloat(t,10),alpha:void 0===n?1:parseFloat(n,10)};return Object.assign(s,o(s)),new i(s)},i.parse=function(r){"transparent"===r&&(r="rgba(0, 0, 0, 0)");var a={},o=/^(#?)((?:[A-Fa-f0-9]{3}){1,2})$/m,s=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/m,e=r.test(o),h=r.match(s);if(e)return a=t(r),a.alpha=1,Object.assign(a,n(a)),new i(a);if(h&&h.length>0){h.shift();var l,u=h[0],c=h[5]?parseFloat(h[5],10):1;return"rgb"===u?l=i.fromRGB:"hsl"===u&&(l=i.fromHSL),l(h[2],h[3],h[4],c)}},i.checkContrast=function(r,a){var t,n=h(r.toObject(),a.toObject());return n.max>=0&&n.min<3?t="fail":n.max>=3&&n.min<4.5?t="aa-large":n.max>=4.5&&n.min<7?t="aa":n.max>=7&&n.min<22&&(t="aaa"),{ratio:n.ratio,status:t}},i.__test__={hexToRgb:t,rgbToHsl:n,hslToRgb:o,layerColors:s,getLuminance:e,getContrast:h},r.namespace("Color",i,r)});

define("UWA/Fx",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Class/Timed","UWA/Element","UWA/Color"],function(t,n,r,e,u,a,i,o){"use strict";function c(t){return["borderColor","backgroundColor","color"].indexOf(n.camelCase(t))!==-1}function s(t){var n=Number(t);return isNaN(n)&&(n=parseInt(t,10)),isNaN(n)?0:n}var f=r.extend(e,a,u,{defaultOptions:{transition:"linear",duration:500,unit:"px",wait:!1},element:null,from:null,to:null,current:null,init:function(t,n){var r=this;r.element=t,r.from={},r.to={},r.queue=[],r.setOptions(n)},tween:function(t,n,r){var e={};return e[t]=[n,r],this.start(e)},fade:function(t){t=void 0!==t?t:"toggle";var n="opacity",r=i.getOpacity.call(this.element),e={};switch(e[n]=[],t){case"in":e[n]=[r,1];break;case"out":e[n]=[r,0];break;case"show":e[n]=[1,1];break;case"hide":e[n]=[0,0];break;case"toggle":r<1?e[n]=[r,1]:e[n]=[r,0];break;default:e[n]=[r,t]}return this.start(e)},start:function(t){var n=this;return n.options.wait&&n.hasAnimate("fx")?n.queue.push(t):(n.stop(),n.setSteps(t),n.dispatchEvent("onStart"),n.startTime=Date.now(),n.current={},n.animate()),n},pause:function(){var t=this;return t.clearAnimate("fx"),t},stop:function(){var t=this;return t.pause(),t.from={},t.to={},t},setSteps:function(t){var r,e=this,u={},a={};for(r in t)if(t.hasOwnProperty(r))if(r=n.camelCase(r),Array.isArray(t[r])?(u[r]=t[r][0],a[r]=t[r][1]):(u[r]=i.getStyle.call(e.element,r),a[r]=t[r]),c(r)){var f=o.parse(u[r]).toObject(),h=o.parse(a[r]).toObject();u[r]=[f.r,f.g,f.b,f.alpha],a[r]=[h.r,h.g,h.b,h.alpha]}else u[r]=s(u[r]),a[r]=s(a[r]);e.from=u,e.to=a},compute:function(r,e){var u,a=this.options,i=a.transition,o=a.duration,c=t.typeOf(i);if("string"===c){if(!t.is(f.Transitions[i],"function"))throw new Error("Invalid UWA.FX transition option value.");i=f.Transitions[i]}else if("array"===c)i=f.Transitions.cubicBezier.apply(null,i);else if("function"!==c)throw new Error("Invalid UWA.FX transition option value.");if(u=o>0&&r!==e?i(this.currentTime,r,e-r,o):e,isNaN(u))throw new Error(n.format('Invalid UWA.FX transition computation value with from "{0}" to "{1}".',r,e));return u},animate:function(){var t,n=this,r=Date.now(),e=n.options.duration,u=n.startTime;r<u+e?n.currentTime=r-u:(n.currentTime=e,t=!0),n.dispatchEvent("onAnimate",[n.element,n.from,n.to]),t?(n.stop(),n.dispatchEvent("onComplete"),n.queue.length>0&&n.start(n.queue.shift()),n.lastTime=null):n.setAnimate("fx",n.animate),n.fps=1e3/(r-(n.lastTime||r)),n.lastTime=r},onAnimate:function(t,n,r){var e,u,a=this,o={};for(e in n)n.hasOwnProperty(e)&&(u=c(e)?"rgba("+Math.round(a.compute(n[e][0],r[e][0]))+","+Math.round(a.compute(n[e][1],r[e][1]))+","+Math.round(a.compute(n[e][2],r[e][2]))+","+a.compute(n[e][3],r[e][3])+")":a.compute(n[e],r[e]),a.current[e]!==u&&(o[e]=u));a.current=o,i.setStyles.call(t,o)}});return f.Transitions={linear:function(t,n,r,e){return r*t/e+n},quadIn:function(t,n,r,e){return r*(t/=e)*t+n},quadOut:function(t,n,r,e){return-r*(t/=e)*(t-2)+n},quadInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},cubicIn:function(t,n,r,e){return r*(t/=e)*t*t+n},cubicOut:function(t,n,r,e){return r*((t=t/e-1)*t*t+1)+n},cubicInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},quartIn:function(t,n,r,e){return r*(t/=e)*t*t*t+n},quartOut:function(t,n,r,e){return-r*((t=t/e-1)*t*t*t-1)+n},quartInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},quintIn:function(t,n,r,e){return r*(t/=e)*t*t*t*t+n},quintOut:function(t,n,r,e){return r*((t=t/e-1)*t*t*t*t+1)+n},quintInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},sineIn:function(t,n,r,e){return-r*Math.cos(t/e*(Math.PI/2))+r+n},sineOut:function(t,n,r,e){return r*Math.sin(t/e*(Math.PI/2))+n},sineInOut:function(t,n,r,e){return-r/2*(Math.cos(Math.PI*t/e)-1)+n},expoIn:function(t,n,r,e){return 0===t?n:r*Math.pow(2,10*(t/e-1))+n},expoOut:function(t,n,r,e){return t===e?n+r:r*(-Math.pow(2,-10*t/e)+1)+n},expoInOut:function(t,n,r,e){return 0===t?n:t===e?n+r:(t/=e/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},circIn:function(t,n,r,e){return-r*(Math.sqrt(1-(t/=e)*t)-1)+n},circOut:function(t,n,r,e){return r*Math.sqrt(1-(t=t/e-1)*t)+n},circInOut:function(t,n,r,e){return(t/=e/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},backIn:function(t,n,r,e,u){return u=u?u:1.70158,r*(t/=e)*t*((u+1)*t-u)+n},backOut:function(t,n,r,e,u){return u=u?u:1.70158,r*((t=t/e-1)*t*((u+1)*t+u)+1)+n},backInOut:function(t,n,r,e,u){return u=u?u:1.70158,(t/=e/2)<1?r/2*(t*t*(((u*=1.525)+1)*t-u))+n:r/2*((t-=2)*t*(((u*=1.525)+1)*t+u)+2)+n},elasticIn:function(t,n,r,e,u,a){var i;return 0===t?n:1===(t/=e)?n+r:(a=a?a:.3*e,u=u?u:1,u<Math.abs(r)?(u=r,i=a/4):i=a/(2*Math.PI)*Math.asin(r/u),-(u*Math.pow(2,10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a))+n)},elasticOut:function(t,n,r,e,u,a){var i;return 0===t?n:1===(t/=e)?n+r:(a=a?a:.3*e,u=u?u:1,u<Math.abs(r)?(u=r,i=a/4):i=a/(2*Math.PI)*Math.asin(r/u),u*Math.pow(2,-10*t)*Math.sin((t*e-i)*(2*Math.PI)/a)+r+n)},elasticInOut:function(t,n,r,e,u,a){var i,o;return 0===t?o=n:2===(t/=e/2)?o=n+r:(a=a?a:e*(.3*1.5),u=u?u:1,u<Math.abs(r)?(u=r,i=a/4):i=a/(2*Math.PI)*Math.asin(r/u),o=t<1?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a))+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a)*.5+r+n),o},bounceIn:function(t,n,r,e){return r-f.Transitions.bounceOut(e-t,0,r,e)+n},bounceOut:function(t,n,r,e){var u;return u=(t/=e)<1/2.75?r*(7.5625*t*t)+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},bounceInOut:function(t,n,r,e){var u=f.Transitions;return t<e/2?.5*u.bounceIn(2*t,0,r,e)+n:.5*u.bounceOut(2*t-e,0,r,e)+.5*r+n},quinticBezier:function(){function t(t,n,r,e,u,a){var i=5*(n-t),o=10*(r-t)-4*i,c=10*(e-t)+30*(n-r),s=5*(u+t)-20*(e+n)+30*r,f=a-t-s-c-o-i;return{a:f,b:s,c:c,d:o,e:i}}return function(n,r,e,u,a,i){var o=n,c=i-n,s=(r-o)/c,f=(e-o)/c,h=(u-o)/c,l=(a-o)/c,p=t(o,s,f,h,l,c);return function(t,n,r,e){var u,a,i=t/e,o=i*i,c=o*t;return p.a||p.c?p.b||p.d?(u=o,a=o*i):a=c:(p.b||p.d)&&(u=c),n+r*(p.a*o+p.b*o+p.c*a+p.d*u+p.e*i)}}}(),cubicBezier:function(){function t(t,n,r,e){var u=3*t,a=3*(r-t)-u,i=1-u-a,o=3*n,c=3*(e-n)-o,s=1-o-c;return{ax:i,bx:a,cx:u,ay:s,by:c,cy:o}}function n(t){return 1e3/60/t/4}function r(t,n){return((n.ax*t+n.bx)*t+n.cx)*t}function e(t,n){return((n.ay*t+n.by)*t+n.cy)*t}function u(t,n){return(3*n.ax*t+2*n.bx)*t+n.cx}function a(t,n,e){var a,i,o,c,s,f,h;for(c=t,a=0;a<8;a++){if(s=r(c,n)-t,Math.abs(s)<e)return c;if(f=u(c,n),Math.abs(f)<e)break;c-=s/f}if(i=0,o=1,c=t,c<i)h=i;else if(c>o)h=o;else{for(;i<o;){if(s=r(c,n),Math.abs(s-t)<e)return c;t>s?i=c:o=c,c=.5*(o-i)+i}h=c}return h}function i(t,n,r){return e(a(t,n,r),n)}return function(r,e,u,a){var o=t(r,e,u,a);return function(t,r,e,u){var a=t/u,c=n(u),s=i(a,o,c),f=1-s;return r*f+(r+e)*s}}}()},t.namespace("Fx",f,t)});

define("UWA/Plugins/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options"],function(n,t,e){"use strict";var i=t.extend(e,{init:function(n,t){this.widget=n,this.environment=n.environment,this.setOptions(t)},dispatchEvent:function(n,t,e){this.environment.dispatchEvent(n,t,e)},addEvent:function(n,t,e,i){this.environment.addEvent(n,t,e||this,i)},addEvents:function(n,t,e){var i;for(i in n)n.hasOwnProperty(i)&&this.addEvent(i,n[i],t,e)},removeEvent:function(n,t){this.environment.removeEvent(n,t)}});return n.namespace("Plugins/Abstract",i,n)});

define("UWA/Controls/Abstract",["vendors/webcomponents/MutationObserver","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Utils"],function(t,e,n,o,r,i){"use strict";function s(t,e){var n,o;for(n=0,o=t.length;n<o;n++){var r=t[n];if(1===r.nodeType){e(r);var i,s,a=r.getElementsByTagName("*");for(i=0,s=a.length;i<s;i++)e(a[i])}}}function a(e){var n,o;try{n=e&&(e.ownerDocument||e.document||e),o=n&&n.documentElement}catch(t){}if(o&&!h.has(o)){var r=new t(function(t){function e(t,e,n){var o=c.get(t);return o?void o.dispatchEvent(e?"onInjected":"onRemoved",n):void("IFRAME"===t.tagName&&a(t.contentWindow))}l.call(t,function(t){var n={nextSibling:t.nextSibling||null,previousSibling:t.previousSibling||null,parentNode:t.target};s(t.addedNodes,function(t){e(t,!0,n)}),s(t.removedNodes,function(t){e(t,!1,n)})})});h.set(o,r),r.observe(o,{childList:!0,subtree:!0})}}var l=[].forEach,c=new WeakMap,h=new WeakMap;a(e.getGlobal());var u=n.extend(o,r,{elements:null,init:function(t){this.elements={},this.setOptions(t)},inject:function(t,e){var n=this.getContent();if(n){var o=c.get(n);if(o&&o!==this)throw new Error("This control container element is already owned by another control!");c.set(n,this),a(t),this.dispatchEvent("onPreInject",[t]),n.inject(t,e),this.dispatchEvent("onPostInject",[t]),this.dispatchEvent("onResize",[t])}return this},remove:function(){var t=this.getContent();return t&&t.remove(),this},getContent:function(){if(!this.elements.container&&!this.container)throw new Error("You don't have an elements.container or container.");return this.elements.container||this.container},getClassNames:function(){var t=this.constructor,e=i.toArray(arguments),n=this.options.className||"",o=i.splat(n).join(" ");for(e.length||(e=[""]),e.indexOf("")>=0&&this.options._root!==!1&&e.push("-root");t;)t.prototype.name&&(o+=" "+t.prototype.name+e.join(" "+t.prototype.name)),t=t.parent;return o},hide:function(){return this.getContent().hide(),this.dispatchEvent("onHide")},show:function(){return this.getContent().show(),this.dispatchEvent("onShow")},destroy:function(){var t,e=this.elements||{};this.container&&(e.container=this.container),this.elements.container&&c.delete(this.elements.container);for(t in e)e.hasOwnProperty(t)&&(e[t].destroy(),delete e[t]);this.removeEvents(),this.clearAllTimed&&this.clearAllTimed()}}),d=new WeakMap;return u._getClosestControlFromElement=function(t){for(;t;){var e=d.get(t);if(e)return e;t=t.parentNode}return null},u._getClosestControlsFromElement=function(t){for(var e=[];t;){var n=d.get(t);n&&e.indexOf(n)<0&&e.push(n),t=t.parentNode}return e},u._linkElementToControl=function(t,e){var n=d.get(e);if(n){if(n!==t)throw new Error("This element is already linked to another control")}else d.set(e,t)},e.namespace("Controls/Abstract",u,e)});

define("UWA/Controls/Pager",["UWA/Core","UWA/Event","UWA/Controls/Abstract"],function(e,t,n){"use strict";var i=n.extend({offset:0,limit:0,max:0,length:0,loadingData:!1,defaultOptions:{className:"uwa-pager nv-pager",type:0,showPageLinks:!1,showMoreLink:!1,pageLinks:5,length:0,offset:0,limit:10,max:0,loadNext:null,prevLabel:"prev",nextLabel:"next",moreLabel:"more"},init:function(e){this._parent(e),e=this.options,this.offset=parseInt(e.offset,10),this.limit=parseInt(e.limit,10),this.max=parseInt(e.max,10),this.length=parseInt(e.length,10),this.buildSkeleton()},setOptions:function(e){return this._parent(e),e=this.options,e.dataLength?e.length=e.dataLength:e.dataArray&&(e.length=e.dataArray.length),e.onChange&&this.addEvent("onOffsetChange",e.onChange),e.onMoreClick&&this.addEvent("onMoreClick",e.onMoreClick),(e.showPageLinks||e.pageLinks&&!e.type)&&(this.type=1),this},setLength:function(e){this.length=parseInt(e,10),this.setOffset(this.offset)},setOffset:function(e){var t=this,n=t.offset;return e=e<0?0:e,t.offset=Math.min(parseInt(e,10),t.max||t.length),n!==t.offset&&t.dispatchEvent("onOffsetChange",[t.offset]),t},setLimit:function(e){return this.limit=parseInt(e,10),this},getPageOffset:function(e){return Math.ceil((parseInt(e,10)||this.offset)/this.limit)},getPages:function(){return Math.ceil((this.max||this.length||1)/this.limit)},isLastPage:function(){var e=this,t=!e.max||e.length>=e.max,n=e.offset+e.limit>=e.length;return t&&n},buildSkeleton:function(){var t=this.elements;t.container=e.createElement("div",{class:this.options.className}),this.dispatchEvent("onRefresh")},buildPageInfos:function(){var t=this.elements;t.pageInfos=e.createElement("span",{class:"pageInfos",html:e.createElement("span",{text:this.getPageOffset()+1+" / "+this.getPages()})}).inject(t.subContainer)},buildPageLinks:function(){var t,n,i=this.elements,s=this.options,a=this.injectPageLink.bind(this),o=this.injectPageSeparator.bind(this),r=s.pageLinks,l=this.getPages(),h=this.getPageOffset(),c=0,f=Math.round(r/2),g=h>=f&&l>=r?h-f+1:0;if(i.pageContainer=e.createElement("span",{class:"pageLinks"}),g<l)for(t=g;t<l&&c<r;t++)g>=1&&0===c&&(a(c),t>1&&o()),n=a(t),t===h&&n.addClassName("selected"),t<l-1&&c===r-1&&(t<l-2&&o(),a(l-1)),c++;i.pageContainer.inject(i.subContainer)},injectPageLink:function(t){var n=parseInt(t+1,10);return e.createElement("a",{class:"pageLink",href:"#page_"+n,text:n,events:{click:this.dispatchAsEventListener("onPageClick",t)}}).inject(this.elements.pageContainer)},injectPageSeparator:function(){return e.createElement("span",{class:"comas",text:" ... "}).inject(this.elements.pageContainer)},onRefresh:function(){var t=this.elements,n=this.options,i=this.isLastPage();t.container.empty(),t.subContainer=e.createElement("div"),t.prev=e.createElement("a",{class:"prev"+(0===this.offset?" disabled":""),href:"#prev",html:e.createElement("span",{text:e.i18n(n.prevLabel)}),events:{click:this.dispatchAsEventListener("onPrevClick")}}).inject(t.subContainer),i&&(n.showMoreLink||n.moreLink)?t.next=e.createElement("a",{class:"more",href:n.moreLink||"#more",html:e.createElement("span",{text:e.i18n(n.moreLabel)}),events:{click:this.dispatchAsEventListener("onMoreClick")}}).inject(t.subContainer):t.next=e.createElement("a",{class:"next"+(i?" disabled":""),href:"#next",html:e.createElement("span",{text:e.i18n(n.nextLabel)}),events:{click:this.dispatchAsEventListener("onNextClick")}}).inject(t.subContainer),1===n.type?this.buildPageLinks():2===n.type&&this.buildPageInfos(),t.subContainer.inject(t.container)},onOffsetChange:function(e){this.offset=e,this.dispatchEvent("onRefresh"),this.dispatchEvent("onChange",[e])},onPageClick:function(t,n){e.Event.preventDefault(t),this.loadingData||this.setOffset(this.limit*n)},onPrevClick:function(e){t.preventDefault(e);var n=t.findElement(e,"a");this.loadingData||n.hasClassName("disabled")||this.setOffset(this.offset-this.limit)},onNextClick:function(e){function n(){i.setOffset(o)}t.preventDefault(e);var i=this,s=i.options.loadNext,a=t.findElement(e,"a"),o=i.offset+i.limit,r=o+i.limit<=i.length;i.loadingData||i.isLastPage()||a.hasClassName("disabled")||(!s&&i.onNeedMoreData&&(s=function(e,t){i.onNeedMoreData(e),setTimeout(t.bind(null,null),6e4)}),!r&&s?(i.dispatchEvent("onLoadingStart"),s(i.length,function(e){e&&(i.length=e),n(),i.dispatchEvent("onLoadingEnd")})):n())},onMoreClick:function(){},onLoadingStart:function(){this.loadingData=!0,this.elements.subContainer.addClassName("loading")},onLoadingEnd:function(){this.loadingData=!1,this.elements.subContainer.removeClassName("loading")}});return e.namespace("Controls/Pager",i,e)});

define("UWA/Controls/Img",["UWA/Core","UWA/Controls/Abstract"],function(e,t){"use strict";var i=t.extend({defaultOptions:{className:"uwa-img",url:null,height:null,width:null},init:function(e){this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var t,i=this.options,n=this.elements;n.container=e.createElement("div",{class:i.className,styles:{width:i.width+"px",height:i.height+"px"}}),t=n.image=e.createElement("img",{src:i.url,width:"100%",height:"100%",events:{error:this.dispatchAsEventListener("onError"),load:this.dispatchAsEventListener("onLoad"),resize:this.dispatchAsEventListener("onResize")}}),t.inject(n.container)}});return e.namespace("Controls/Img",i,e)});

define("UWA/Utils/Scroll",["vendors/webcomponents/WeakMap","UWA/Core","UWA/Element","UWA/Fx","UWA/Event"],function(e,t,o,l,n){"use strict";function r(e,t){var l=o.getStyle.call(e,t?"overflow-"+t:"overflow");return c(e)||"scroll"===l||"auto"===l}function i(e,t){for(;e&&1===e.nodeType&&!r(e,t);)e=e.parentNode;return e}function a(e,t){return i(e&&e.parentNode,t)}function c(e){return"body"===o.getTagName.call(e)}function s(e){c(e)&&(e=o.getWindow.call(e));var l=o.getScrolls.call(e);return t.owns(l,"x")&&(l.left=l.x,l.top=l.y),l}function f(e,l){c(e)&&(e=o.getWindow.call(e));var n=s(e);t.is(l.left)||(l.left=n.left),t.is(l.top)||(l.top=n.top),t.is(e,"window")?e.scrollTo(l.left,l.top):(e.scrollTop=l.top,e.scrollLeft=l.left)}function p(e,o,l){l=t.extend({onComplete:null},l);var n=d.get(e);n&&(n.stop(),n.dispatchEvent("onComplete")),n=new g(e,{transition:"sineOut",duration:n?100:200,events:{onComplete:function(){d.delete(e),l.onComplete&&l.onComplete()}}}),d.set(e,n),n.start(o)}function u(e,l){l=t.extend({top:!1,bottom:!1,margin:0,scrollable:null,smooth:!1,onComplete:null},l);var n=l.scrollable||a(e);if(n){var r=c(n),i=o.getSize.call(r?o.getWindow.call(e):n),u=o.getSize.call(e),m=o.getOffsets.call(e),v={top:m.y,left:m.x,bottom:0,right:0},g=s(n);[0,1].forEach(function(e){var t=e?"top":"left",a=e?"bottom":"right",c=e?"height":"width";r?v[t]-=g[t]:v[t]-=o.getOffsets.call(n)[e?"y":"x"],v[t]-=l.margin,v[a]=i[c]-v[t]-u[c]-2*l.margin;var s=v[t]<0||v[a]<0&&v[a]<-v[t],f=v[a]<0;l[a]||!s&&!l[t]?(l[a]||f)&&(g[t]-=v[a]):g[t]+=v[t]}),l.smooth?p(n,g,{onComplete:l.onComplete}):(f(n,g),l.onComplete&&l.onComplete())}}function m(e,t){var o=i(n.getElement(t)),l=!1;if(this.isInjected(o))l=!0;else{var r=o.scrollHeight,a=o.clientHeight,c=o.scrollTop,s=n.wheelDelta(t),f=a!==r||e&&e.onlyScrollable===!1,p=c>0,u=c+a<r;f&&(s<0&&!u||s>0&&!p)&&(l=!0)}l&&n.stop(t)}function v(e,t){var l=m.bind(e,t);return o.addEvent.call(e,"mousewheel",l),function(){o.removeEvent.call(e,"mousewheel",l)}}var g=l.extend({setSteps:function(e){var t,o={},l={},n=s(this.element);for(t in e)Array.isArray(e[t])?(o[t]=e[t][0],l[t]=e[t][1]):(o[t]=n[t],l[t]=e[t]);this.from=o,this.to=l},onAnimate:function(e,t,o){var l,n={};for(l in t)n[l]=this.compute(t[l],o[l]);f(e,n)}}),d=new e;return t.namespace("Utils/Scroll",{scrollToElement:u,smoothScroll:p,preventParentScroll:v,getClosestScrollable:i,getParentScrollable:a},t)});

define("UWA/Controls/DropDown",["UWA/Core","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Utils/Client","UWA/Utils/Scroll"],function(t,e,n,i,o,s){"use strict";var l,r=o.Features.eventCapture;return l=i.extend({name:"uwa-dropdown",defaultOptions:{position:{},positionOptions:{boundary:"auto"},global:!1},init:function(t){this._parent(t),this.clickOutsideEvent=function(t){var n=t&&e.getElement(t),o=this.elements.container,s=n.isInjected(o),l=i._getClosestControlsFromElement(n).some(function(t){return t.getContent().isInjected(o)});s||l||this.dispatchEvent("onClickOutside",[t])}.bind(this)},destroy:function(){this.hide(),this._parent()},getContent:function(){var n=this.elements;return n.container||(n.container=t.createElement("div",{class:this.getClassNames()+(this.options.global?" global":""),events:{click:this.dispatchEvent.bind(this,"onClick"),mouseleave:this.dispatchEvent.bind(this,"onMouseLeave")}}),this.options.global?(n.bacon=t.createElement("div",{class:this.getClassNames("-bacon")}).hide(),this._scrollPrevention=function(t){var n=e.getElement(t),i=this.getInnerElement();i===n||n.isInjected(i)||e.preventDefault(t)}.bind(this),s.preventParentScroll(n.container,{onlyScrollable:!1})):n.container.hide(),i._linkElementToControl(this,n.container),r||(n.capture=t.createElement("div",{styles:{width:"100%",height:"100%",position:"absolute",zIndex:1e3,top:0,left:0},events:{click:this.clickOutsideEvent}}))),n.bacon||n.container},onClick:function(t){e.stopPropagation(t),this.hide()},onPostInject:function(){this.updatePosition()},onShow:function(){this.options.global&&(this.elements.container.inject(document.body),n.addEvent.call(document.body,"mousewheel",this._scrollPrevention,null,!0)),this.updatePosition(),this.hasEvent("onClickOutside")&&(r?n.addEvent.call(document,"click",this.clickOutsideEvent,null,0,!0):this.elements.capture.inject(document.body))},onHide:function(){this.options.global&&(this.elements.container.remove(),n.removeEvent.call(document.body,"mousewheel",this._scrollPrevention,!0)),r?n.removeEvent.call(document,"click",this.clickOutsideEvent,!0):this.elements.capture.remove()},onRemoved:function(){var t=this.elements,e=t.bacon||t.container;e&&e.hide(),this.options.global&&t.container&&t.container.remove(),this._scrollPrevention&&n.removeEvent.call(document.body,"mousewheel",this._scrollPrevention,!0)},isOpen:function(){return!!this.elements.container&&"none"!==this.getContent().getStyle("display")},toggle:function(e){return t.is(e)||(e=!this.isOpen()),this[e?"show":"hide"](),this},setPosition:function(e,n){return t.extend(this.options,{position:e,positionOptions:n||{}},!0),this.updatePosition()},updatePosition:function(){function e(e){return t.is(e,"function")?e():e}return function(){return this.isOpen()&&(this.dispatchEvent("onPreUpdatePosition"),this.elements.container.setPosition(e(this.options.position),e(this.options.positionOptions))),this}}(),getInnerElement:function(){return this.getContent(),this.elements.container}}),l.Pointy=l.extend({name:"uwa-pointydropdown",defaultOptions:{autoPosition:["below-center","right-center","left-center","above-center"],margin:12},updatePosition:function(){this.dispatchEvent("onPreUpdatePosition");var e,n,i,o,s=this.options,l=s.margin,r=30;return e=s.target?s.target.getDimensions():{width:0,height:0},n=this.elements.container.getDimensions(),i=s.autoPosition.map(function(t){t=t.split("-");var i=t[0],o=t[1]||"center",a={x:0,y:0};return a.place=i,a.align=o,"below"===i?a.y=e.height+l:"above"===i?a.y=-n.outerHeight-l:"center"===o?a.y=e.height/2-n.outerHeight/2:"end"===o&&(a.y=Math.max(e.height,r)-n.outerHeight),"left"===i?a.x=-n.outerWidth-l:"right"===i?a.x=e.width+l:"center"===o?a.x=e.width/2-n.outerWidth/2:"end"===o&&(a.x=Math.max(e.width,r)-n.outerWidth),s.target||(a.x+=s.position.x||0,a.y+=s.position.y||0,"center"!==o&&("right"!==i&&"left"!==i||(a.y-=r/2),"above"!==i&&"below"!==i||(a.x-=r/2))),a}),this.isOpen()&&(o=this.elements.container,o.setPosition(i,t.merge({relative:s.target},this.options.positionOptions)),i=i[0],this._containerClassName&&o.removeClassName(this._containerClassName),this._containerClassName=i.place+" "+i.align,o.addClassName(this._containerClassName),this.updatePointPosition(i.place)),this},updatePointPosition:function(t){var e=this.options.target,n=this.elements.container,i=10,o=n.getSize(),s=n.getOffsets(),l=e?e.getSize():{height:0,width:0},r=e?e.getOffsets():this.options.position,a={bottom:null,left:null,right:null,top:null};r.x-=s.x,r.y-=s.y,"below"===t||"above"===t?(a.left=r.x+l.width/2,(a.left<i||a.left>o.width-i)&&(a.left=o.width/2),"below"===t?a.top=0:a.bottom=0):(a.top=r.y+l.height/2,(a.top<i||a.top>o.height-i)&&(a.top=o.height/2),"right"===t?a.left=0:a.right=0),this.elements.point.setStyles(a).setText({above:"j",below:"k",left:"m",right:"l"}[t]||" ").toggleClassName("side","left"===t||"right"===t)},getInnerElement:function(){return this.getContent(),this.elements.inner},getContent:function(){var e=this.elements,n=this._parent();return e.inner||e.container.setContent(e.inner=t.createElement("div",{class:this.getClassNames("-inner")}),e.point=t.createElement("div",{class:this.getClassNames("-point")})),n}}),t.namespace("Controls/DropDown",l,t)});

define("UWA/Controls/Drag",["UWA/Internal/Deprecate","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Utils","UWA/Utils/Client","UWA/Element","UWA/Event"],function(t,e,i,s,o,n,h,a){"use strict";function r(t){return t.type.startsWith("touch")}function l(t,e){var i,s=t.offsetParent;s&&1===s.nodeType?(i=h.getOffsets.call(s),i.y+=parseInt(h.getStyle.call(s,"border-top-width"),10)||0,i.x+=parseInt(h.getStyle.call(s,"border-left-width"),10)||0):i={x:0,y:0},t.setStyles({top:e.y-i.y+"px",left:e.x-i.x+"px"})}function c(t){for(var e,i=h.getComputedSize;t&&"inline"===h.getStyle.call(t,"display");)t=t.getParent();return t?(e=h.getOffsets.call(t),e.maxX=e.x+t.offsetWidth-i.call(t,"border-right-width","padding-right"),e.maxY=e.y+t.offsetHeight-i.call(t,"border-bottom-width","padding-bottom"),e.x+=i.call(t,"border-left-width","padding-left"),e.y+=i.call(t,"border-top-width","padding-top")):e={x:0,y:0,maxX:0,maxY:0},e}var d,p=n.Features.eventCapture,u=function(){};return d=i.extend(s,{defaultOptions:{mouseSnap:10,mouseDelay:0,touchSnap:20,touchDelay:300,delegate:"*",document:document},init:function(e){this.setOptions(e),void 0!==this.options.snap&&(t.warn("Controls/Drag snap option","Use the mouseSnap and touchSnap options instead."),this.options.mouseSnap=this.options.touchSnap=this.options.snap),void 0!==this.options.delay&&(t.warn("Controls/Drag delay option","Use the mouseDelay and touchDelay options instead."),this.options.mouseDelay=this.options.touchDelay=this.options.delay);var i=this.onMove.bind(this),s=this.onStop.bind(this),o=this.onStart.bind(this);this.documentEvents={touchmove:i,mousemove:i,touchend:s,mouseup:s,touchcancel:s},this.elementEvents={touchstart:o,mousedown:o},this.attach()},setOptions:function(t){return this._parent(t),t=this.options,this.root=e.extendElement(t.root||document.body),this.element=e.extendElement(t.element||this.root),this.document=t.document,p||(this.clickDiscarder||(this.clickDiscarder=e.createElement("div",{styles:{position:"absolute",height:"1px",width:"1px"}})),this.clickDiscarder.inject(this.root)),this},destroy:function(){this.detach(),p||this.clickDiscarder.destroy()},attach:function(){return h.addEvents.call(this.element,this.elementEvents),this},detach:function(){return this.reset(),h.removeEvents.call(this.element,this.elementEvents),this},start:u,move:p?u:function(t){l(this.clickDiscarder,t)},snap:function(t){p||(l(this.clickDiscarder,t),this.clickDiscarder.show());var i=e.Controls&&e.Controls.Scroller;i=i&&i.activeScroller,i&&i.onScrollStop(this.currentEvent)},stop:u,cancel:u,reset:function(){clearTimeout(this.startTimeout),p?this.snapped&&(this.document.addEventListener("click",a.stopPropagation,!0),setTimeout(function(){this.document.removeEventListener("click",a.stopPropagation,!0)}.bind(this),300)):this.clickDiscarder.hide(),this.snapped=!1,this.startOrigin=this.currentDelta=this.currentEvent=this.target=null,h.removeEvents.call(this.document,this.documentEvents)},onStart:function(t){var e=a.getElement(t),i=(t.which||t.button||0)<2;if(i&&!this.target&&h.match.call(e,this.options.delegate,this.root)&&(this.currentEvent=t,this.target=e,this.startOrigin=a.getPosition(t),this.start(this.startOrigin),this.target)){h.addEvents.call(this.document,this.documentEvents);var s=r(t)?this.options.touchDelay:this.options.mouseDelay;s&&(this.startTimeout=setTimeout(this.onMove.bind(this,!1),s)),r(t)||a.preventDefault(t)}},onMove:function(t){var e,i;t?(this.currentEvent=t,this.snapped&&a.preventDefault(t)):(t=this.currentEvent,i=!0);var s=a.getPosition(t);if(this.currentDelta=e={x:s.x-this.startOrigin.x,y:s.y-this.startOrigin.y,distance:0},e.distance=Math.sqrt(e.x*e.x+e.y*e.y),!this.snapped){var o=r(t)?this.options.touchSnap:this.options.mouseSnap,n=r(t)?this.options.touchDelay:this.options.mouseDelay;(n?i&&e.distance<=o:!o||e.distance>o)?(this.snapped=!0,this.snap(s,e)):n&&(this.cancel(),this.reset())}this.snapped&&this.move(s,e)},onStop:function(t){this.currentEvent=t,this.snapped?(this.stop(),a.stop(t)):this.cancel(),this.reset()}}),d.Move=d.extend({init:function(t){this._parent(t),this.refreshCache=this.refreshCache.bind(this)},setOptions:function(t){return t&&!t.root&&(t.root=t.container),this._parent(t)},start:function(t){this._parent(t),this.context=Object.create(this),this.call("start")!==!1&&this.call("fixed",this.target)!==!0||this.reset()},snap:function(t,i){this._parent(t,i);var s,o=this.options;this.handles=this.call("handles")||this.target,o.centerHandles&&l(this.handles,{x:t.x-this.handles.offsetWidth/2-i.x,y:t.y-this.handles.offsetHeight/2-i.y}),this.startPosition=h.getOffsets.call(this.handles),this.options.overlay&&(s=this.document.body||this.document,this.overlay=e.createElement("div",{styles:{position:"absolute",top:0,left:0,width:s.offsetWidth+"px",height:s.offsetHeight+"px"}}).inject(s)),this.refreshCache()},refreshCache:function(){var t=this.options;if(this.zones=t.zones?this.getList(t.zones):[this.root],this.positions=this.zones.map(function(t){var e=c(t);return e.element=t,e}),t.container&&this.handles){var e=c(t.container),i=h.getDimensions.call(this.handles);this.limit={x:[e.x,e.maxX-i.outerWidth],y:[e.y,e.maxY-i.outerHeight]}}else this.limit={x:[-(1/0),1/0],y:[-(1/0),1/0]}},reset:function(){this._parent(),this.zone=null,this.startPosition=null,this.overlay&&(this.overlay.destroy(),this.overlay=null)},stop:function(){this._parent(),this.zone&&this.call("drop")!==!1||(this.setPosition(this.startOrigin,{x:0,y:0}),this.call("cancel")),this.call("stop")},move:function(t,e){this._parent(t,e),this.setPosition(t,e);var i,s,o,n;for(i=0,s=this.positions.length;i<s;i+=1)n=this.positions[i],n.x<=t.x&&t.x<=n.maxX&&n.y<=t.y&&t.y<=n.maxY&&(o=n.element);this.zone!==o&&(this.zone&&(this.call("leave"),this.placeholder&&(this.placeholder.remove(),this.placeholder=null,this.refreshCache())),this.zone=o,o&&(this.placeholder=this.call("enter"),this.refreshPlaceholderCache())),this.zone&&this.placeholder&&this.placePlaceholder(),this.call("move")},setPosition:function(t,e){var i,s,o,n,h=this.limited={},a={};for(s=0;s<2;s+=1)o=s?"x":"y",i=this.limit[o],a[o]=this.startPosition[o]+e[o],n=0,i[1]<a[o]?(n=i[1]-a[o],h[s?"right":"bottom"]=n):i[0]>a[o]&&(n=i[0]-a[o],h[s?"left":"top"]=n),n&&(t[o]+=n,a[o]+=n,e[o]+=n);l(this.handles,a)},getList:function(t){var i,s=e.typeOf(t);return i="array"===s?t:"function"===s?t.apply(this,Array.prototype.slice.call(arguments,1)):this.root.getElements(t)},call:function(t,e){var i=this.options[t];if(i)return o.attempt(i,0,null,this.context,e)},refreshPlaceholderCache:function(){var t,e,i,s=(this.zone||this.root).childNodes,o=[];for(e=0,i=s.length;e<i;e+=1)t=s[e],1===t.nodeType&&t!==this.handles&&t!==this.placeholder&&(t.offsetHeight||t.offsetWidth)&&this.clickDiscarder!==t&&this.call("fixed",t)!==!0&&(o[o.length]={element:t,position:h.getOffsets.call(t)});this.placeholderCache=o},placePlaceholder:function(){for(var t,e,i,s,o,n,a,r,l,c,d,p,u,f="offsetWidth",m="offsetHeight",v=this.context.handles,y=this.context.placeholder,g=this.context.limited,x=this.zone||this.root,D=this.target,C=this.placeholderCache;D&&D.parentNode!==x;)D=D.parentNode;for(t=h.getOffsets.call(v),l={x:g.left?-(1/0):g.right?1/0:t.x+v[f]/2,y:g.top?-(1/0):g.bottom?1/0:t.y+v[m]/2},e=0,i=C.length;e<i;e+=1)s=C[e],t=s.position,p=void 0===u||u>t.x,p?d=void 0===u:c=!0,u=t.x+s.element[f],(p||t.x<=l.x)&&(d||t.y<=l.y)&&(o=e);n=0,void 0!==o&&(s=C[o],t=s.position,n=(c?t.x+s.element[f]/2>l.x:t.y+s.element[m]/2>l.y)?o:o+1),a=C[n]&&C[n].element,r=C[n-1]&&C[n-1].element,D===v||!D||this.options.allowBesidePlaceholder||r!==D&&a!==D?(a?a!==y&&a.previousSibling!==y:r?r!==y&&r.nextSibling!==y:x.lastChild!==y)&&(a||r?y.inject(a||r,a?"before":"after"):y.inject(x),this.refreshPlaceholderCache(),this.refreshCache()):h.isInjected.call(y)&&(y.remove(),this.refreshPlaceholderCache(),this.refreshCache())}}),e.namespace("Controls/Drag",d,e)});

define("UWA/Controls/ThemedScroller",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Controls/Abstract","UWA/Controls/Drag","UWA/Class/Timed"],function(t,e,s,i,o,n){"use strict";function l(t){t.event&&(t=t.event);var e,s=t.changedTouches||t.touches||[t],i={x:0,y:0},o=s.length;for(e=0;e<o;e++)i.x+=s[e].clientX/o,i.y+=s[e].clientY/o;return i}var r={delta:0,coef:1,active:!1,visible:!1,scrollSize:0,scrollPosition:0,offsetSize:0},a=o.extend({defaultOptions:{touchSnap:0,touchDelay:0},init:function(t,e){this._parent(e),this.scroller=t,this.direction=this.element.className.contains("scrollbar-y")?"y":"x"},_getInfos:function(){return this.scroller._infos[this.direction]},_getPosition:function(){var t=this.element.getBoundingClientRect()["y"===this.direction?"top":"left"];return l(this.currentEvent)[this.direction]-t},start:function(t){this._parent(t),this._getInfos().active=!0,this.scroller.update(),this.position=this._getPosition()},move:function(t,e){this._parent(t,e);var s=this._getInfos();s.delta=(this._getPosition()-this.position)*s.coef,s.active=!0,this.scroller.updateVisible()},stop:function(){this._parent(),this.scroller.updateActive(this.currentEvent)}}),c=i.extend(n,{name:"uwa-themed-scroller",options:{element:null,scrollbars:"auto",scrollbarsMargin:4,scrollbarsMinSize:50,shadows:!1},init:function(e){t.is(e)&&t.is(e.element)&&t.extendElement(e.element),this._parent(e),this._elementEvents={mousemove:this.updateActive.bind(this),mouseout:this.updateActive.bind(this)},this.build(),this.initInfos()},initInfos:function(){this._infos={x:Object.create(r),y:Object.create(r)},this.setPeriodical("update",this.update,1e3),this.updateShift(),this.update()},destroy:function(){if(this.options.element){var t=this.elements.container;t.removeEvents(this._elementEvents).removeClassName(this.getClassNames()).setContent(this.elements.content.childNodes);var e=t.destroy;t.destroy=function(){},this._parent(),t.destroy=e}else this._parent()},onInjected:function(){this.initInfos()},build:function(){var e=this.options.element||t.createElement("div");e.addClassName(this.getClassNames()).addEvents(this._elementEvents);var s="native"===this.options.scrollbars?"native-scrollbars ":"no-native-scrollbars ",i=t.createElement("div",{class:s+this.getClassNames("-content"),events:{scroll:this.updateVisible.bind(this)},html:e.childNodes}).inject(e);this.setDelayed("hide-overflow",function(){e.setStyle("overflow","hidden")},0),this.elements.container=e,this.elements.content=i},getInnerElement:function(){return this.elements.content},getScrollbar:function(e,s){var i=this.elements[e+"Scrollbar"];return!i&&s&&(i=this.elements[e+"Scrollbar"]=t.createElement("div",{class:this.getClassNames("-scrollbar","-scrollbar-"+e)}).inject(this.elements.container),new a(this,{element:i,root:this.elements.container}),i.clientHeight),i},getShadow:function(e,s){var i=this.elements[e+"Shadow"];return!i&&s&&(i=this.elements[e+"Shadow"]=t.createElement("div",{class:this.getClassNames("-shadow","-shadow-"+e)}).inject(this.elements.container)),i},showShadow:function(t,e){var s=this.getShadow(t,e),i=100;e?(e>i&&(e=i),s.setStyle("opacity",e/i).addClassName("active")):s&&s.removeClassName("active")},updateActive:function(t){function e(t,e,s){return t<e&&e<s}if(this.updateShift(),"virtual"===this.options.scrollbars){if("mouseout"===t.type||"touchend"===t.type)this._infos.x.active=this._infos.y.active=!1;else{var s=this.elements.container.getBoundingClientRect(),i=12,o=l(t);["x","y"].forEach(function(t,n){var l=s[n?"right":"bottom"];this._infos[t].active=e(l-i,o[n?"x":"y"],l)&&e(s[n?"top":"left"],o[t],s[n?"bottom":"right"])},this)}this.updateVisible()}},updateVisible:function(){this._infos.x.visible=this._infos.y.visible=!0,this.setDelayed("scrollbars-visible",function(){this._infos.x.visible=this._infos.y.visible=!1,this.update()},1e3),this.update()},updateShift:function(){var t=this.elements.content;if(void 0===this._shift&&t.isInjected()){var e=this.options.scrollbars;if("auto"===e&&(s.Platform.ios||t.offsetWidth-t.clientWidth===0&&s.Engine.firefox?(e="native",t.removeClassName("no-native-scrollbars").addClassName("native-scrollbars")):e="virtual",this.options.scrollbars=e),"virtual"===e){var i=t.offsetWidth-t.clientWidth;i>=0&&i<30&&(this._shift=i,t.setStyles({right:-this._shift,bottom:-this._shift}))}else this._shift=0}},_read:function(t){var e=this._infos[t?"y":"x"],s=this.elements.content;e.scrollSize=s[t?"scrollHeight":"scrollWidth"],e.scrollPosition=s[t?"scrollTop":"scrollLeft"]+e.delta,e.offsetSize=s[t?"offsetHeight":"offsetWidth"]-(this._shift||0),e.scrollPosition<0?e.scrollPosition=0:e.scrollPosition>e.scrollSize-e.offsetSize&&(e.scrollPosition=e.scrollSize-e.offsetSize)},_write:function(t){var e=t?"y":"x",s=this._infos[e],i=this.options;if(s.delta&&(this.elements.content[t?"scrollTop":"scrollLeft"]=s.scrollPosition,s.delta=0),"virtual"===this.options.scrollbars){var o=s.scrollSize>s.offsetSize,n=this.getScrollbar(e,o);if(o&&s.scrollSize){var l=s.offsetSize-2*i.scrollbarsMargin,r=l*(s.offsetSize/s.scrollSize);r<i.scrollbarsMinSize&&(r=i.scrollbarsMinSize),s.coef=(s.scrollSize-s.offsetSize)/(l-r),n.style[t?"top":"left"]=i.scrollbarsMargin+s.scrollPosition/s.coef+"px",n.style[t?"height":"width"]=r+"px",n.toggleClassName("active",s.active).toggleClassName("visible",s.visible)}else n&&n.removeClassName("active").removeClassName("visible")}i.shadows&&(this.showShadow(e+"-start",s.scrollPosition),this.showShadow(e+"-end",s.scrollSize-s.scrollPosition-s.offsetSize))},update:function(){this.setAnimate("update",function(){this.updateShift(),this._read(!1),this._read(!0),t.equals(this._previousInfos,this._infos)||(this._write(!1),this._write(!0),this._previousInfos=t.clone(this._infos))})}});return t.namespace("Controls/ThemedScroller",c,t)});

define("UWA/Controls/Input",["UWA/Core","UWA/Event","UWA/Element","UWA/Utils","UWA/Utils/Client","UWA/Utils/Scroll","UWA/Controls/Abstract","UWA/Controls/DropDown","UWA/Controls/ThemedScroller","UWA/Class/Timed"],function(e,t,n,s,i,o,l,a,c,r){"use strict";var u=l.extend({options:{className:"",element:null,attributes:{},value:""},name:"uwa-input",_hiddenInput:!0,init:function(t){if(this.constructor===u)throw new Error("Use a subclass of Input");this._parent(t);var n=t&&t.element,s=n&&n.parentNode,i=n&&n.nextSibling;s&&s.removeChild(n),this.events=null,this.getContent(),e.owns(t,"value")&&this.setValue(t.value),s&&this.inject(i||s,i&&"before")},buildSkeleton:function(){var t=this.elements;t.input=(this.options.element||this.buildInput()).set(this.options.attributes),this._hiddenInput?(t.content=e.createElement("div",{class:this.getClassNames("-content")}),t.input.addClassName(this.getClassNames("-input")+" hidden-input"),t.container=e.createElement("div",{html:[t.input,t.content]})):t.content=t.container=t.input,t.container.addClassName(this.getClassNames()),this.setDisabled(this.isDisabled())},_syncEvents:function(e){function t(e){return n.dispatchEvent.bind(n,e)}var n=this,s=this.elements;n.events||(n.events={container:{mouseenter:function(){this.addClassName("hover")},mouseleave:function(){this.removeClassName("hover")},mousedown:function(e){this.addClassName("active"),n.dispatchEvent("onMouseDown",[e])},mouseup:function(){this.removeClassName("active")},click:t("onClick")},input:{change:t("onChange"),keydown:t("onKeyDown"),focus:n.focus.bind(n,!0,!1),blur:n.focus.bind(n,!1,!1)}}),n.isDisabled()?(s.container.removeEvents(n.events.container),s.input.removeEvents(n.events.input)):(n._hiddenInput&&e||s.container.addEvents(n.events.container),s.input.addEvents(n.events.input))},buildInput:function(){return e.createElement("input",{type:"text"})},syncInput:function(){this._hiddenInput&&this.elements.content&&this.elements.content.setText(this.getValue())},focus:function(e,t){return void 0===e&&(e=!0),n.toggleClassName.call(this.elements.container,"focus",e),t!==!1&&this.elements.input[e?"focus":"blur"](),this},isDisabled:function(){return Boolean(this.elements.input.disabled)},setDisabled:function(e){return void 0===e&&(e=!0),this.elements.input.disabled=e,this.elements.container.toggleClassName("disabled",e),this._syncEvents(),this},getValue:function(){var e=this.elements.input,t=e.getTagName();return"input"===t||"textarea"===t?e.value:e.getText()},setValue:function(e){var t=this.elements.input,n=t.getTagName();return"input"===n||"textarea"===n?t.value=e:t.setText(e),this.syncInput(),this},getContent:function(){return this.elements.container||(this.buildSkeleton(),this.syncInput()),this.elements.container},getInputElement:function(){return this.elements.input},_dispatchOnChange:function(){this.isDisabled()?this.syncInput():t.dispatchEvent(this.elements.input,"change")},onMouseDown:function(e){this._hiddenInput&&!i.Features.touchEvents&&(t.preventDefault(e),this.focus())},onChange:function(e){this.syncInput(),this._bubbleOnChange(e)},_bubbleOnChange:function(){function e(){if(void 0===s){s=!1;var e=document.createElement("div"),i=document.createElement("input");i.type="text",e.appendChild(i),e.style.display="none",document.body.appendChild(e),n.addEvent.call(e,"change",function(e){s=!0,t.stop(e)}),t.dispatchEvent(i,"change"),n.remove.call(e),n.removeEvents.call(e)}return s}var s;return function(t){var n,s=this.elements.input.parentNode;if(!e())for(;s&&1===s.nodeType&&(t.event||t).returnValue!==!1;)n=s._events&&s._events.change,n&&n.handleEvent(t),s=s.parentNode}}(),onKeyDown:function(){this.syncInput()}});return u._ToggleInput=u.extend({name:"uwa-toggle",buildSkeleton:function(){this._parent(),this.elements.content.addClassName("uwa-icon")},isChecked:function(){return this.elements.input.checked},focus:function(e){return this._parent(e),this.syncInput(),this},check:function(e){return this.elements.input.checked=e!==!1,this.syncInput(),this}}),u.Radio=u._ToggleInput.extend({name:"uwa-radio",buildInput:function(){return e.createElement("input",{type:"radio"})},onClick:function(e){this._parent(e);var t=this.elements.input;t.checked||(t.checked=!0,this._dispatchOnChange())},syncInput:function(){function e(e){var s=e.parentNode;s&&n.hasClassName.call(s,"uwa-radio")&&n.toggleClassName.call(s,"checked",e.checked),i|=t===e}var t=this.elements.input,s=t.name,i=!1;s&&Array.prototype.forEach.call(document.getElementsByName(s),e),i||e(t)}}),u.Checkbox=u._ToggleInput.extend(r,{name:"uwa-checkbox",buildInput:function(){return e.createElement("input",{type:"checkbox"})},onClick:function(e){this._parent(e),this.hasDelayed("extern-change-prevention")||this.setDelayed("extern-change-prevention",function(){this.elements.input.checked=!this.elements.input.checked,this.syncInput(),this._dispatchOnChange()},1)},onChange:function(e){this._parent(e),this.setDelayed("extern-change-prevention",function(){},1)},syncInput:function(){this.elements.container.toggleClassName("checked",this.elements.input.checked)}}),u.Select=u.extend(r,{name:"uwa-select",options:{options:[]},init:function(t){this._parent(t),e.owns(t,"options")&&this.putOptions(t.options),e.owns(t,"value")&&this.setValue(t.value)},focus:function(e){return this._parent(e),e===!1&&this.elements.dropdown.hide(),this},buildInput:function(){return e.createElement("select")},buildSkeleton:function(){var t,n=this.elements;this._parent();var s=n.container.getDocument().body;n.content.addContent([t=e.createElement("div",{class:this.getClassNames("-split"),html:[{tag:"div",class:this.getClassNames("-text")},{tag:"div",class:this.getClassNames("-button"),html:{tag:"div",class:"uwa-icon uwa-icon-only"}}]})]),n.dropdown=new a({className:this.options.className,global:!0,_root:!1,position:function(){var e=n.dropdown.getInnerElement(),t=n.container.getBoundingClientRect(),s=t.top,o=i.getSize().height-t.top-t.height,l=s>o;return e.toggleClassName("uwa-select-dropdown-top",l),e.getElement("> .uwa-select-split").inject(e,l?"bottom":"top"),e.setStyle("width",t.width),n.scroller.getContent().setStyle("height",Math.min(n.options.offsetHeight,l?s:o)),n.scroller.update(),{x:t.left,y:n.container.getOffsets().y-(l?Math.min(t.top,n.options.offsetHeight):0)}},positionOptions:{fit:"resize-max",relative:s},events:{onShow:function(){n.container&&(n.container.addClassName("dropdown-visible"),this._scrollToSelected())}.bind(this),onHide:function(){n.container&&n.container.removeClassName("dropdown-visible")},onRemoved:function(){n.container&&n.container.removeClassName("dropdown-visible")}}}),n.dropdown.getInnerElement().addClassName("uwa-select-dropdown"),n.dropdown.inject(n.content),n.options=e.createElement("div",{class:this.getClassNames("-options"),events:{mousedown:this._selectionHandler.bind(this)}}),n.scroller=new c({shadows:!1}),n.scroller.getInnerElement().addContent(n.options),n.dropdown.getInnerElement().setContent([t.cloneNode(!0),n.scroller])},getValue:function(){return this._getSelectedOptions().map(function(e){return e.value})},setValue:function(e){var t=[];return e=s.splat(e),this._getOptions().forEach(function(n,s){e.indexOf(n.value)!==-1&&t.push(s)}),this.setSelection(t)},setSelection:function(e){return this._isMultiple()||(e=e.slice(0,1)),this._getOptions().forEach(function(t,n){t.selected=e.indexOf(n)!==-1}),this._dispatchOnChange(),this},getSelection:function(){var e=[];return this._getOptions().forEach(function(t,n){t.selected&&e.push(n)}),e},_isMultiple:function(){return this.elements.input.multiple},_getOptions:function(){return this.elements.input.getElements("option")},_getSelectedOptions:function(){return this._getOptions().filter(function(e){return e.selected})},_dispatchOnChange:function(){this.clearDelayed("on-change-debounce"),this._parent()},_selectionHandler:function(e){t.stop(e),this._isMultiple()||(this.elements.dropdown.hide(),this.elements.container.removeClassName("hover"));var n,s,i=t.findElement(e,".option,.optgroup"),o=0,l=[],a=i.hasClassName("option"),c=!1;i.getParent().getChildren().some(function(e){if(a){if(i===e)return l.push(o),!0}else if(c){if(!e.hasClassName("option"))return!0;l.push(o)}else i===e&&(c=!0);e.hasClassName("option")&&(o+=1)}),this._isMultiple()&&(n=this.getSelection(),a?(s=n.indexOf(l[0]),s===-1?n.push(l[0]):n.splice(s,1)):l.some(function(e){return n.indexOf(e)<0})?l.forEach(function(e){n.indexOf(e)<0&&n.push(e)}):n=n.filter(function(e){return l.indexOf(e)<0}),l=n),this.setSelection(l)},syncInput:function(){function t(){var t,i;return i=Array.prototype.map.call(s.getElementsByTagName("*"),function(s){var i=n.getTagName.call(s),o=e.createElement("div",{class:i+(s.selected?" selected":""),text:s.label||n.getText.call(s)||" "});return"optgroup"===i?(t&&t.addClassName("selected"),t=o):s.selected||(t=null),o}),t&&t.addClassName("selected"),i}var s=this.elements.input,i=this.elements,o=this._getSelectedOptions().map(n.getText.call,n.getText).join(", ")||" ";i.content.getElement(".uwa-select-text").setText(o),i.dropdown.getInnerElement().getElement(".uwa-select-text").setText(o),i.options.empty(!0).setContent(t())},_scrollToSelected:function(){var e=this.elements.dropdown&&this.elements.dropdown.getInnerElement().getElement(".option.selected");e&&o.scrollToElement(e)},onClick:function(e){this._parent(e),this.elements.dropdown.show()},onKeyDown:function(e){var n=t.whichKey(e),s=!0;"space"===n?this.elements.dropdown.show():"return"===n?this.elements.dropdown.toggle():"esc"===n?this.elements.dropdown.hide():s=!1,s?t.preventDefault(e):(this._parent(e),this.setDelayed("scroll-to-selected",this._scrollToSelected,1))},putOptions:function(t,i){function o(e,t){var n,s=l.getElementsByTagName("*");for(n=0;n<s.length;n+=1)if(s[n][e]===t)return s[n]}var l=this.elements.input;return i&&n.empty.call(l,!0),s.splat(t).forEach(function(t){var s,i,a=o("value",t.value);void 0!==t.label?(a||(a=e.createElement("option")),n.set.call(a,{text:t.label,value:t.value,selected:t.selected}),t.group?(i=o("label",t.group),i||(i=l.appendChild(e.createElement("optgroup",{label:t.group}))),i.appendChild(a)):l.appendChild(a)):a&&(s=a.parentNode,n.remove.call(a),s&&"optgroup"===n.getTagName.call(s)&&0===s.childNodes.length&&n.remove.call(s))}),this.syncInput(),this},removeOptions:function(t){this.putOptions(e.splat(t).map(function(e){return{value:"string"==typeof e?e:e.value}}))}}),u.File=u.extend({name:"uwa-file",buildInput:function(){return e.createElement("input",{type:"file"})},buildSkeleton:function(){this._parent(),this.options.buttonOnly?this.elements.content.addClassName("button-only"):this.elements.text=e.createElement("div",{class:this.getClassNames("-text")}),this.elements.content.addClassName(this.getClassNames("-split")).setContent([this.elements.text,e.createElement("div",{class:this.getClassNames("-button"),text:e.i18n("Browse...")})])},setValue:function(t){if(t)throw new Error("You can't set a value to a file input");var n,s=this.elements.input;s.value="",s.value&&(n=e.extendElement(e.clone(s)),n.inject(s,"before"),s.destroy(),this.elements.input=n,this._syncEvents(!0)),this.syncInput()},syncInput:function(){this.elements.text&&this.elements.text.setText(this.elements.input.value.replace(/^c:\\fakepath\\/i,"")||" ")}}),u.Text=u.extend(r,{name:"uwa-text",_hiddenInput:!1,options:{multiline:!1},buildInput:function(){return this.options.multiline?e.createElement("textarea"):e.createElement("input",{type:"text"})},buildSkeleton:function(){this._parent(),this.elements.input.addClassName(this.getClassNames("-text"))},onKeyDown:function(e){this._parent(e),this.setDelayed("placeholder-sync",this.syncInput,1)},onHide:function(){this._parent(),this.setDelayed("placeholder-sync",this.syncInput,1)},onShow:function(){this._parent(),this.setDelayed("placeholder-sync",this.syncInput,1)},onPostInject:function(){this.setDelayed("placeholder-sync",this.syncInput,50)},getInputElement:function(){return this.setDelayed("placeholder-sync",this.syncInput,1),this._parent()},syncInput:function(){var e=this.elements.input;i.Features.inputPlaceholder||(e.parentNode&&!this.getValue()&&e.getAttribute("placeholder")&&e.offsetHeight?this._showPlaceholder():this._hidePlaceholder())},_showPlaceholder:function(){var t,n,s=this.elements,i=s.input,o=i.getDimensions();return s.placeholder||(this.setPeriodical("placeholder-sync",this.syncInput,1e3),s.placeholder=e.createElement("div",{class:this.getClassNames("-placeholder"),events:{click:this.focus.bind(this,!0)}})),o.width&&o.height?(n=i.getStyles(["font"]),n.height=o.innerHeight,n.width=o.innerWidth,"textarea"!==i.getTagName()&&(n.lineHeight=o.innerHeight+"px",n.whiteSpace="nowrap"),t=i.getPosition(),t.x+=i.getComputedSize("marginLeft","paddingLeft","borderLeftWidth"),t.y+=i.getComputedSize("marginTop","paddingTop","borderTopWidth"),s.placeholder.set({text:i.getAttribute("placeholder"),styles:n}).setPosition(t),void(s.placeholder.previousSibling!==i&&s.placeholder.inject(i,"after"))):void this._hidePlaceholder()},_hidePlaceholder:function(){var e=this.elements.placeholder;e&&e.remove()}}),u.Password=u.Text.extend({options:{multiline:!1,attributes:{type:"password"}}}),u.Button=u.extend({name:"uwa-button",options:{className:"dark-grey"},_hiddenInput:!1,init:function(t){e.owns(t,"className")&&(t.className=t.className.replace(/\bblack\b/,"dark-grey"),/\b(?:iconl|iconr|icon-only)\b/.test(t.className)&&(t.className+=" uwa-icon"),/\b(?:dark-grey)\b/.test(t.className)&&(t.className+=" icon-separated")),this._parent(t),/\b(?:icon-only)\b/.test(this.options.className)&&this.setValue(" ")},buildInput:function(){return e.createElement("button",{type:"button"})}}),e.namespace("Controls/Input",u,e)});

define("UWA/Controls/Form",["UWA/Core","UWA/String","UWA/Utils","UWA/Event","UWA/Json","UWA/Controls/Abstract","UWA/Controls/Input"],function(e,t,n,a,l,i,s){"use strict";var c=i.extend({id:null,defaultOptions:{className:"uwa-form",fields:[],labelPreffix:":",nativeInputs:!1,darkBackground:!1},init:function(e){this._parent(e),this.id=n.random(10),this.buildSkeleton()},buildSkeleton:function(){var t,n,l,i=this,s=i.options,c=i.options.fields,r=i.fields,o=[],u=e.createElement("form",{class:s.className,id:this.id,events:{submit:function(e){a.stop(e),this.dispatchEvent("onSubmit",[e,this.getFormValues()])}.bind(this)}});for(s.nativeInputs||u.addClassName("uwa-form-uikit"),t=0,n=c.length;t<n;t++)l=c[t],"hidden"!==l.type&&(void 0===r[l.type]&&(l.type="text"),l.id="m_"+i.id+"_"+l.name,o.push(r[l.type](l,s,this)));e.createElement("fieldset",{html:o}).inject(u),i.elements.container=u},getFields:function(){var e=this.elements.container,t=n.toArray(e.getElementsByTagName("textarea")),a=n.toArray(e.getElementsByTagName("input")),l=n.toArray(e.getElementsByTagName("select"));return a.concat(l).concat(t)},getField:function(e){var t,n,a,l=this.getFields();for(t=0,n=l.length;t<n;t++)if(a=l[t],a.name===e)return a},getFormValues:function(){function e(e){return e.getElements("option").filter(function(e){return e.selected}).map(function(e){return e.value})}var t,n,a={},l=this.getFields();for(t=0,n=l.length;t<n;t++){var i=l[t];switch(i.type){case"button":case"submit":break;case"password":""!==i.value&&(a[i.name]=i.value);break;case"checkbox":a[i.name]=Boolean(i.checked),"string"==typeof i.value&&(a[i.name]=String(a[i.name]));break;case"radio":i.checked&&(a[i.name]=i.value);break;default:"select"===i.getTagName()&&i.multiple?a[i.name]=e(i):a[i.name]=i.value}}return a},getFormValue:function(e){return this.getFormValues()[e]},setFormValues:function(e){var t,n,a,l,i=this.getFields();for(t=0,n=i.length;t<n;t++)if(a=i[t],e.hasOwnProperty(a.name))switch(l=e[a.name],a.type){case"password":case"button":case"submit":break;case"checkbox":a.checked=Boolean(l);break;case"radio":a.checked&&String(a.value)===l&&(a.checked=Boolean(l));break;default:a.value=l}},setFormValue:function(e,t){var n={};n[e]=t,this.setFormValues(n)},fields:{text:function(n,a,l){var i=e.createElement("input",{type:"text",id:n.id,class:n.type+" small",name:n.name,value:n.value||"",autocomplete:"off",autocorrect:"off",autocapitalize:"off"});return n.onchange&&i.addEvent("keyup",function(){this.dispatchEvent("onChange",[n.onchange,n.name,i.value])}.bind(l)),e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:[{tag:"label",for:n.id,text:e.i18n((n.label||n.name)+a.labelPreffix)},{tag:"span",content:a.nativeInputs?i:new s.Text({_root:!1,element:i,className:"small"})}]})},password:function(n,a,l){var i=e.createElement("input",{type:"password",id:n.id,class:n.type,name:n.name,value:n.value||""});return n.onchange&&i.addEvent("keyup",function(){this.dispatchEvent("onChange",[n.onchange,n.name,i.value])}.bind(l)),e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:[{tag:"label",for:n.id,text:e.i18n((n.label||n.name)+a.labelPreffix)},{tag:"span",content:a.nativeInputs?i:new s.Text({_root:!1,element:i,className:"small"})}]})},submit:function(n,a){var l=e.createElement("input",{id:n.id,class:n.type,type:"submit",name:n.name,value:n.value||e.i18n("Done")});return e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:{tag:"span",content:a.nativeInputs?l:new s.Button({_root:!1,element:l,className:"light-grey small"})}})},button:function(n,a){var l=e.createElement("button",{id:n.id,class:n.type,name:n.name,text:n.value||e.i18n("Done")});return e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:{tag:"span",content:a.nativeInputs?l:new s.Button({_root:!1,element:l,className:"light-grey small"})}})},reset:function(n,a){var l=e.createElement("button",{id:n.id,type:"reset",class:n.type,name:n.name,value:n.value||e.i18n("Done")});return e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:{tag:"span",content:a.nativeInputs?l:new s.Button({_root:!1,element:l,className:"light-grey small"})}})},boolean:function(n,a,l){var i,c=n.id,r=e.createElement("div",{class:"field field"+t.ucfirst(n.type)}),o="string"!=typeof n.value||"true",u=n.value&&(n.value===!0||"true"===n.value);return e.createElement("label",{for:c,text:e.i18n(n.label||n.name)}).inject(r),i=e.createElement("input",{id:c,value:o,type:"checkbox",class:n.type+" "+(u?"checked":"unchecked"),name:n.name}),u&&(i.setAttribute("checked","checked"),i.defaultChecked=!0),i.addEvent("change",function(){var e=i.checked;i.addClassName(e?"checked":"unchecked"),i.removeClassName(e?"unchecked":"checked"),n.onchange&&this.dispatchEvent("onChange",[n.onchange,n.name,e?"true":"false"])}.bind(l)),e.createElement("span",{html:a.nativeInputs?i:new s.Checkbox({_root:!1,element:i,className:a.darkBackground?"light":""})}).inject(r),r},textarea:function(n,a,l){var i=e.createElement("textarea",{id:n.id,class:n.type+" small",name:n.name,text:n.value||""});return n.onchange&&i.addEvent("keyup",function(){this.dispatchEvent("onChange",[n.onchange,n.name,i.value])}.bind(l)),e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:[{tag:"label",for:n.id,text:e.i18n((n.label||n.name)+a.labelPreffix)},a.nativeInputs?i:new s.Text({_root:!1,element:i})]})},range:function(n,a,l){var i,c,r,o,u=n.id,m=e.createElement("div",{class:"field field"+t.ucfirst(n.type)});if(e.createElement("label",{for:u,text:e.i18n((n.label||n.name)+a.labelPreffix)}).inject(m),r=e.createElement("span").inject(m),o=e.createElement("select",{id:"m_"+l.id+"_"+n.name,class:"range",name:n.name}).inject(r),n.step=parseInt(n.step,10),n.max=parseInt(n.max,10),n.min=parseInt(n.min,10),n.step>0)for(i=n.min;i<=n.max;i+=n.step)c=e.createElement("option",{value:i,text:String(i)}),n.value&&parseInt(n.value,10)===i&&(c.setAttribute("selected","selected"),c.selected=!0),o.appendChild(c);return n.onchange&&o.addEvent("change",function(){this.dispatchEvent("onChange",[n.onchange,n.name,o.value])}.bind(l)),a.nativeInputs||new s.Select({_root:!1,element:o,className:"small"}),m},list:function(a,l,i){var c,r,o,u,m,d,f="m_"+i.id+"_"+a.name,h=e.createElement("div",{class:"field field"+t.ucfirst(a.type)});if(e.createElement("label",{for:f,text:e.i18n((a.label||a.name)+l.labelPreffix)}).inject(h),m=e.createElement("span").inject(h),d=e.createElement("select",{id:"m_"+i.id+"_"+a.name,class:"list",name:a.name,multiple:Boolean(a.multiple)}).inject(m),e.is(a.options,"array")&&a.options.length>0){var p=n.splat(a.value).map(function(e){return String(e)});for(c=0,r=a.options.length;c<r;c++)o=a.options[c],o.label=o.label||o.value,u=e.createElement("option",{text:e.i18n(o.label),value:o.value}).inject(d),p.indexOf(String(o.value))>=0&&(u.setAttribute("selected","selected"),u.selected=!0);a.onchange&&d.addEvent("change",function(){this.dispatchEvent("onChange",[a.onchange,a.name,d.value])}.bind(i))}else h.hide();return l.nativeInputs||new s.Select({_root:!1,element:d,className:"small"}),h},checklist:function(a,i,c){var r,o,u,m,d,f=[],h="m_"+c.id+"_"+a.name,p=e.createElement("div",{class:"field field"+t.ucfirst(a.type)});if(e.createElement("label",{for:h,text:e.i18n((a.label||a.name)+i.labelPreffix)}).inject(p),m=e.createElement("span",{class:a.type}).inject(p),d=e.createElement("input",{id:"m_"+c.id+"_"+a.name,name:a.name,type:"hidden",value:e.is(a.value,"array")?l.encode(a.value):a.value}).inject(m),e.is(a.options,"array")&&a.options.length>0){var v=e.is(a.value,"array")?a.value:l.decode(a.value),g=n.splat(v).map(function(e){return String(e)});for(r=0,o=a.options.length;r<o;r++){u=a.options[r],u.label=u.label||u.value;var b=g.indexOf(String(u.value))>=0,E=e.createElement("p").inject(m),y=e.createElement("input",{value:u.value,type:"checkbox",name:u.value,checked:b});f.push(y),y.addEvent("change",function(){var e=[];f.forEach(function(t){t.checked&&e.push(t.value)}),d.value=l.encode(e),a.onchange&&this.dispatchEvent("onChange",[a.onchange,a.name,d.value])}.bind(c)),e.createElement("span",{html:i.nativeInputs?y:new s.Checkbox({_root:!1,element:y})}).inject(E),e.createElement("label",{text:e.i18n(u.label)}).inject(E)}}else p.hide();return p},html:function(n){return e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:{tag:"div",html:n.html}})},img:function(n){var a=e.i18n(n.label||n.name)||"";return e.createElement("div",{class:"field field"+t.ucfirst(n.type),html:{tag:"img",src:n.src,height:n.height||"auto",width:n.width||"100%",alt:a,title:a}})}}});return e.namespace("Controls/Form",c,e)});

define("UWA/Widget",["UWA/Core","UWA/String","UWA/Array","UWA/Class","UWA/Class/Options","UWA/Class/Timed","UWA/Class/Events","UWA/Class/Debug","UWA/Utils","UWA/Utils/Client","UWA/Data","UWA/Element"],function(e,t,n,i,r,a,s,o,u,l,d,c){"use strict";function h(e){if(!Array.isArray(e))throw new Error(e+" should be an array");e.forEach(function(e){if("string"!=typeof e)throw new Error(e+" should be a string")})}function f(e){if(!e)return[];var t;if(Array.isArray(e))t=e;else try{t=JSON.parse(e)}catch(t){throw new Error("While parsing JSON value `"+e+"`: "+t)}return h(t),t}function m(e,t){if(e){if(e.multiple||"checklist"===e.type)try{t=f(t)}catch(t){throw new Error("While decoding value for preference "+e.name+": "+t)}"boolean"===e.type&&""===t&&(t=!1)}return t}function p(e,t){return e&&(e.multiple||"checklist"===e.type)&&(h(t),t=JSON.stringify(t)),t}var g=i.extend(r,a,s,o,{init:function(){var e=this,t=l.Locale;e.id=null,e.environment=null,e.launched=!1,e.title=null,e.icon=null,e.counter=0,e.counterType=null,e.metas={},e.preferences=[],e.defaultData=Object.create(null),e.data={},e.menus=[],e.plugins=[],e.events={},e.elements={},e.body=null,e.lang=t.lang,e.locale=t.locale,e.dir=t.dir,e.readOnly=!1,e.isEdit=!1},launch:function(e,t){var n=this;return n.launched=!1,void 0!==t&&(n.readOnly=Boolean(t)),n.initPreferences(),n.initPlugins(),n.setValues(e),n.dispatchEvent("onInitConfig",{metas:n.metas,plugins:n.plugins,preferences:n.getPreferences()}),n.dispatchEvent("beforeLoad"),n.addEventOnce("onLoad",function(){n.launched=!0},n,1),n.dispatchEvent("onLoad"),n.launched&&n.dispatchEvent("afterLoad"),n.launched},destroy:function(){var e,t=this,n=t.elements;t.clearDelayed(),t.clearPeriodical();for(e in n)n.hasOwnProperty(e)&&n[e].destroy();t.removeEvent(),t.launched=!1},setOptions:function(n){var i,r,a=this;for(i in n)r="set"+t.capitalize(i),e.is(a[r],"function")&&a[r](n[i]);return a._parent(n)},setAutoRefresh:function(e){e=parseInt(e,10);var t=this;e&&e>0?t.setPeriodical("autoRefresh",t.dispatchEvent.bind(t,"onRefresh"),1e3*e*60):t.clearPeriodical("autoRefresh"),t.metas.autoRefresh=e},setCounter:function(t,n){var i=this;(i.counter!==t||e.is(n)&&i.counterType!==n)&&(i.counter=t,i.counterType=n,i.dispatchEvent("onUpdateCounter",[t,n]))},getTitle:function(){return e.is(this.title,"string")?t.stripTags(this.title):""},setTitle:function(t,n){var i=this;return(e.is(t,"string")&&i.title!==t||n&&i._titleUrl!==n)&&(i.title=t,i._titleUrl=n,i.dispatchEvent("onUpdateTitle",[t,n])),i.title},setIcon:function(t,n){var i=this;return t&&e.is(t,"string")&&(n&&(t=d.proxifyUrl(t,{proxy:"icon"})),i.icon!==t&&(i.icon=t,i.dispatchEvent("onUpdateIcon",[t]))),i.icon},setMenu:function(t){var n,i,r,a=this.environment,s=t.name.split("/"),o=s[0];if(s.length>2)throw new Error("Adding more than one submenu level is not supported by setMenu");r=this.getMenu(t.name),r?e.extend(r,t):(s.length>1?(n=this.getMenu(o),n||(n={label:o},this.menus.push(n)),n.items||(n.items=[]),i=n.items):i=this.menus,i.push(t)),this.setDelayed("onUpdateMenu",function(){a.dispatchEvent("onUpdateMenu",[this.menus])},20)},getMenu:function(t){var i,r;return e.is(t,"string")&&(r=t.split("/"),i=n.detect(this.menus,function(e){return e.name===r[0]}),i&&r.length>1&&(i=i.items&&n.detect(i.items,function(e){return e.name===t}))),i},removeMenu:function(e){var t,n,i,r;for(r=function(t){return t.name!==e},t=0,n=this.menus.length;t<n;t++){if(i=this.menus[t],i.name===e){this.menus.remove(i);break}i.items&&(i.items=i.items.filter(r))}},setDir:function(e){var t=this,n=t.dir,i=t.elements.wrapper;return e="rtl"===e?"rtl":"ltr",i&&n!==e&&(i.setAttribute("dir",e),i.addClassName(e),i.removeClassName(n)),t.dir=e,e},setMetas:function(t){var n=this;return e.merge(n.metas,t),e.is(t.debugMode)&&(n.setDebugMode(t.debugMode),n.environment&&n.environment.setDebugMode(t.debugMode)),e.is(t.autoRefresh)&&n.setAutoRefresh(t.autoRefresh),n.metas},setBody:function(e){if(!this.body)throw new Error("Widget.body is not yet available");this.body.setContent(e)},addBody:function(e){this.body.addContent(e)},getElements:function(e){return this.body.getElements(e)},getElement:function(e){return this.body.getElement(e)},createElement:function(t,n){return e.createElement(t,n)},setStyle:function(e){var t=this,n=t.id?"#m_"+t.id:".moduleWrapper",i=n;t.id&&t.elements.wrapper.setAttribute("id","m_"+t.id),u.setCss(!1,e,i,t.getUrl())},mutate:function(e,t){var n=this.environment;if(!e)throw new Error("Missing or empty first param on widget.mutate");if(!n||!n.mutate)throw new Error("Current Environment do not support widget.mutate");n.mutate(e,t)},getUrl:function(){var e,t=this,n=window.location.href;return e=t.uwaUrl?t.uwaUrl:u.getQueryString(n,"uwaUrl",n)},addStar:function(e){var t=this.environment;t&&t.addStar&&t.addStar(e)},getViewportDimensions:function(){var e,t,n=this,i=n.elements,r=i.body,a=c.getDimensions,s=c.isInjected,o=c.getComputedSize,u=l.getSize(),d=a.call(i.wrapper),h=a.call(r),f=u.height,m=d.width;["header","footer"].forEach(function(t){e=i[t],e&&s.call(e)&&(f-=a.call(e).outerHeight)}),e=r,t=i.wrapper.parentNode;do m-=e!==i.wrapper?o.call(e,"innerWidth","outerWidth"):o.call(e,"innerWidth"),f-=o.call(e,"innerHeight","outerHeight"),e=e.parentNode;while(e&&e!==t);return h.maxHeight>0&&f>h.maxHeight?f=h.maxHeight:h.minHeight>0&&f<h.minHeight&&(f=h.minHeight),{height:f<0?240+f:f,width:m<0?320+m:m}},setPlugins:function(e){this.plugins=e},initPlugins:function(){var t,n,i,r=this,a=e.clone(r.plugins);for(t=0,n=a.length;t<n;t++)i=a[t],e.Plugins[i.name]&&(i.instance=new e.Plugins[i.name](r,i.options))},initPreferences:function(){var e=this;e.setPreferences(e.preferences)},hasPreferences:function(){var e=this,t=e.preferences;return!e.readOnly&&t.length>0&&t.some(function(e){return"hidden"!==e.type})},_getRawPreference:function(e){return n.detect(this.preferences,function(t){return t.name===e})},getPreference:function(t){var n=this._getRawPreference(t);return n&&(n=e.clone(n),n.value=this.getValue(t)),n},hasPreference:function(e){return this.preferences.some(function(t){return t.name===e})},addPreference:function(){function t(e){return e.name&&e.type&&n.indexOf(e.type)!==-1}var n=["hidden","text","list","checklist","range","password","boolean"];return function(n){var i,r=-1,a=this,s=a.preferences;t(n)&&(n=e.clone(n),i=void 0!==n.defaultValue,n.multiple&&"boolean"!=typeof n.multiple&&(n.multiple="true"===n.multiple),i&&(n.defaultValue=m(n,n.defaultValue)),s.forEach(function(e,t){n.name===e.name&&(r=t)}),n.label||(n.label=n.name),r!==-1?s[r]=n:s.push(n),a.defaultData[n.name]=n.defaultValue,a.launched&&a.dispatchEvent("onUpdatePreferences",[a.getPreferences()]))}}(),setPreferences:function(e){var t,n,i=this;for(i.preferences=[],i.defaultData={},t=0,n=e.length;t<n;t++)i.addPreference(e[t])},mergePreferences:function(e){var t,n,i=this;for(t=0,n=e.length;t<n;t++)i.hasPreference(e[t].name)||i.addPreference(e[t])},getPreferences:function(){var t,n,i,r,a,s,o=this,u=e.clone(o.preferences);for(t=0,n=u.length;t<n;t++)if(a=u[t],a.value=o.getValue(a.name),a.label=e.i18n(a.label),e.is(a.options,"array"))for(i=0,r=a.options.length;i<r;i++)s=a.options[i],s.label=e.i18n(s.label);return u},getValue:function(t){var n=this,i=n.environment,r=n.data[t];return!e.is(r)&&i&&i.getData&&(r=m(n._getRawPreference(t),i.getData(t))),e.is(r)||(r=n.defaultData[t]),e.is(r)?n.data[t]=r:(r=void 0,delete n.data[t]),r},getInt:function(e){var t=this.getValue(e);return t="true"===t||t===!0?1:parseInt(t,10),isNaN(t)?0:t},getBool:function(){var e=[1,"1","true",!0];return function(t){return e.indexOf(this.getValue(t))!==-1}}(),setValue:function(t,n){var i=this,r=i.environment,a=i._getRawPreference(t),s=!0;return n=m(a,n),e.equals(i.data[t],n)||(e.is(n)?(n=e.clone(n),i.data[t]=n,r&&r.setData&&r.setData(t,p(a,n),!!a&&e.equals(a.defaultValue,n))):(i.data.hasOwnProperty(t)?delete i.data[t]:s=!1,r&&r.deleteData?r.deleteData(t):r&&r.setData&&r.setData(t,void 0)),s&&i.dispatchEvent("onUpdateValue",[t,n])),n},setValues:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setValue(t,e[t])},deleteValue:function(e){return this.setValue(e)},toggleEdit:function(){var e,t=this,n=t.isEdit?"endEdit":"onEdit";t.dispatchEvent(n),t.environment&&t.environment.html.menus&&t.getMenu("options/preferences")&&(e=t.environment.html.menus.getElement('[data-name="options"]'),e&&e.toggleClassName("active",!t.isEdit))},dispatchEvent:function(e,t,n,i){var r=this,a=r.environment,s=!i&&a||"onLoad"===e||r.launched;return!i&&a?a.dispatchEvent(e,t,n):s&&r._parent(e,t,n),r},addEvent:function(e,t,n,i){var r=this,a="onLoad"===e&&r.launched;return r._parent(e,t,n,i),a&&(r.addEventOnce("_onLoadImmediate",t,n,i),this.setImmediate("_onLoadImmediate",function(){r.dispatchEvent("_onLoadImmediate")})),r},addEventOnce:function(e,t,n,i){var r=this,a="onLoad"===e&&r.launched;return a?(r.addEventOnce("_onLoadImmediate",t,n,i),this.setImmediate("_onLoadImmediate",function(){r.dispatchEvent("_onLoadImmediate")})):r._parent(e,t,n,i),r},requestView:function(t){return e.is(t,"string")&&(t={type:t}),this.dispatchEvent("onViewRequest",[t]),this},getView:function(){return this._view||{type:"windowed"}},getAvailableViews:function(){var e=this.metas.availableViews||"";return n.invoke(e.split(";"),"trim").filter(function(e){return e}).map(function(e){var t,n=e.match(/\S*/)[0],i=e.slice(n.length).trim();if(i)try{t=JSON.parse(i)}catch(e){this.log("Failed to parse availableViews options")}return t||(t={}),t.type=n,t},this)},onEdit:function(){this.isEdit=!0},endEdit:function(){this.isEdit=!1}});return e.namespace("Widget",g,e)});

define("UWA/Controls/WidgetPopupMenu",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/DropDown"],function(t,e,n,i,s){"use strict";var a=s.extend({name:"uwa-widget-popup-menu",init:function(t){this._parent(),this.env=t,this.items=null},setTarget:function(t){return this.target=t,this},onClick:function(t){this._parent(t);var e=n.findElement(t,"li"),i=this.env.widget.getMenu(e.getAttribute("data-name"));i&&this.env.dispatchEvent("onMenuExecute",[i])},onClickOutside:function(t){n.getElement(t)!==this.target&&this.hide()},setPosition:function(){var t,n,i=this.env.html.moduleFrame||this.env.html.wrapper,s=e.getOffsets.call(i),a=e.getSize.call(i),o=e.getOffsets.call(this.target),r=e.getSize.call(this.target);return t={x:o.x,y:o.y+r.height},n={boundary:{x:0,y:o.y+r.height,width:s.x+a.width,height:1/0}},this._parent(o,n)},getInnerElement:function(){return this.getContent(),this.elements.inner},getContent:function(){var e=this.elements;return e.inner||this._parent().setContent(e.inner=t.createElement("menu",{type:"popup"})),e.container},setItems:function(t){return this.items=t,this},toggle:function(){this.getInnerElement().empty(),this.items.forEach(this.addItem,this),this.setPosition(),this._parent()},onShow:function(){this.target.addClassName("active"),this._parent()},onHide:function(){this.target.removeClassName("active"),this._parent()},addItem:function(e){var n,s,a,o;if(n=t.is(e.visible,"function")?e.visible():e.visible!==!1,n!==!1)return s=t.createElement("li",{class:this.getClassNames("-item"),"data-name":e.name}),e.icon&&(a=t.createElement("span",{class:"uwa-icon uwa-icon-only"}),1===this._getUtf8StringLength(e.icon)?(a.set("data-icon",e.icon),a.addClassName("uwa-icon-unicode")):i.isAbsoluteUrl(e.icon)?a.adopt(t.createElement("img",{src:e.icon,width:16,height:16})):a.addClassName(e.icon),a.inject(s)),e.label&&t.createElement("span",{text:e.label}).inject(s),o=t.is(e.disabled,"function")?e.disabled():!!e.disabled,o&&s.addClassName("disabled"),s.inject(this.getInnerElement())},_getUtf8StringLength:function(t){var e=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(e?e.length:0)}});return t.namespace("Controls/WidgetPopupMenu",a,t)});

define("UWA/Utils/InterCom",["UWA/Core","UWA/Utils","UWA/Class","UWA/Dispatcher","UWA/Class/Events","UWA/Class/Options","UWA/Class/Timed","UWA/Class/Debug","UWA/Json"],function(e,t,n,r,s,i,o,a,c){"use strict";function u(e,t){var n,r,s,i;for(n=0,r=e.length;n<r;n++)for(s=0,i=t.length;s<i;s++)if(t[s]===e[n])return!0;return!1}function d(e){var t=Boolean(e.UWA&&e.UWA.Utils&&e.UWA.Utils.InterCom);return t&&!e.UWA.Utils.InterCom._listener&&(e.UWA.Utils.InterCom._listener=new s),e.UWA.Utils.InterCom._listener}var v,l="subscribe",g="unSubscribe",h=e.getGlobal();return v={getAdapter:function(e){var n,r,s,i=v.Adapters,o=e?t.splat(e):Object.keys(i);for(n=0,r=o.length;n<r&&!s;n++){if(e=o[n],!i.hasOwnProperty(e))throw new Error('Unable to get InterCom Adapter with name "'+e+'"');if(i[e].isAvailable(s)){s=i[e];break}}if(!s)throw new Error("Unable to get InterCom Adapter");return s}},v.Adapters={PostMessage:function(){function e(e){var t;try{t="string"==typeof e.data&&"{"===e.data[0]&&JSON.parse(e.data)}catch(e){}t&&t.type===s&&n.dispatch([t.payload,{origin:e.origin,source:e.source}])}var n,s="uwa-intercom";return{isAvailable:function(){return h.postMessage&&h.location&&h.location.protocol&&h.location.protocol.contains("http")},removeListener:function(t){n&&(n.remove(t),0===n.getNumListeners()&&(n.dispose(),n=void 0,h.addEventListener?h.removeEventListener("message",e,!1):h.attachEvent&&h.detachEvent("onmessage",e)))},addListener:function(t){n||(n=n||new r,h.addEventListener?h.addEventListener("message",e,!1):h.attachEvent&&h.attachEvent("onmessage",e)),n.add(t)},dispatchEvent:function(e,n,r){var i;if(n||(i=h.parent,n=i.postMessage?i:i.document.postMessage?i.document:void 0),r=r&&"*"!==r?t.buildUrl(h.location,r):"*",n&&n.postMessage){var o={type:s,payload:e};n.postMessage(JSON.stringify(o),r)}}}}(),FrameCallback:function(){function e(){u&&v.body&&a.length>0&&v.body.appendChild(a.shift()),a.length>0&&setTimeout(e,10)}function n(n,r,s){var i,d,l=h.location.toString(),g=t.parseUrl(s),p=g.protocol+"://"+g.domain+"/intercom.html",f={info:n,origin:l};i="#"+Date.now()+o++ +"&"+c.encode(f),d=v.createElement("iframe"),d.setAttribute("src",p+i),d.style.position="absolute",d.style.top="-2000px",d.style.left="0px",d.onload=function(){u=!0,d.parentNode.removeChild(d)},a.push(d),setTimeout(e,10)}function r(e,t){var n=d(t);setTimeout(function(){n.dispatchEvent("message",[e,{origin:h.location.toString(),source:h}])})}function s(e){try{return e===h||e.location.host===h.location.host&&e.location.protocol===h.location.protocol}catch(e){}}var i,o=0,a=[],u=!0,v=h.document;return{isAvailable:function(){return i=d(h),Boolean(i)},removeListener:function(e){i.removeEvent("message",e)},addListener:function(e){i.addEvent("message",e)},dispatchEvent:function(e,t,i){s(t)?r(e,t,i):n(e,t,i)}}}()},v.Server=n.extend(i,a,{id:null,uuid:null,sockets:null,listeners:null,defaultOptions:{adapter:null,autoconnect:!0},init:function(e,t){var n=this;n.setServerId(e),n.sockets={},n.listeners=new s,n.setOptions(t),n.options.autoconnect&&n.connect()},setServerId:function(e){var n=this,r=v.Server.Instances=v.Server.Instances||{};return n.uuid=n.uuid||t.getUUID(),e=e||n.uuid,r[e]&&(r[e].disconnect(),delete r[e]),n.id=e,r[e]=n,n},connect:function(){var e=this;return e.handleEvent=e.handleEvent.bind(e),e.adapter=v.getAdapter(e.options.adapter),e.adapter.addListener(e.handleEvent),e},disconnect:function(){var e=this;return e.adapter&&(Object.keys(e.sockets).forEach(function(t){e.unsubscribeSocket(t)}),e.adapter.removeListener(e.handleEvent)),e},handleEvent:function(e,t){var n,r,s,i=this,o=i.id,a=i.sockets,c=Object.keys(a);n=t&&t.source&&t.origin&&e.event&&e.target&&e.origin&&e.target.servers&&Array.isArray(e.target.servers)&&e.target.sockets&&Array.isArray(e.target.sockets),r=n&&a[e.origin.socket]&&a[e.origin.socket].uuid===e.uuid,s=n&&0===e.target.sockets.length&&e.target.servers.indexOf(o)!==-1,n?s?(i.log('SERVER: server "'+o+'" accept message for event "'+e.event+'"'),e.event===l?r||i.subscribeSocket(e.origin.socket,t.source,t.origin,e.uuid):r&&(e.event===g?i.unsubscribeSocket(e.origin.socket):i.dispatchEvent(e.event,e.data,e.origin.socket,e.target.sockets))):r&&u(e.target.sockets,c)&&u([e.origin.socket],c)?(i.log('SERVER PREDISPATCH: server "'+o+'" dispatch event "'+e.event+'" from "'+e.origin.socket+'"'),i.dispatchEvent(e.event,e.data,e.origin.socket,e.target.sockets)):i.log('SERVER: server "'+o+'" refuse message for event "'+e.event+'"'):i.log('SERVER: server "'+o+'" refuse invalid message for event "'+e.event+'"')},subscribeSocket:function(e,t,n,r){var s=this,i=s.id;return s.log('SERVER: server "'+i+'" register new socket "'+e+'"'),s.sockets[e]={source:t,origin:n,uuid:r},s.dispatchEvent(l,{},void 0,e),s},unsubscribeSocket:function(e){var t=this,n=t.id;return t.sockets[e]&&(t.log('SERVER: server "'+n+'" unregister socket "'+e+'"'),t.dispatchEvent(g,{},void 0,e),delete t.sockets[e]),t},addListener:function(e,t){return this.listeners.addEvent(e,t),this},removeListener:function(e,t){return this.listeners.removeEvent(e,t),this},dispatchEvent:function(e,n,r,s){var i=this,o=i.id,a=i.sockets,c=i.adapter,u={event:e,data:n,target:{sockets:s},origin:{socket:r,server:o},uuid:i.uuid};return s&&s.length?s=t.splat(s):(s=Object.keys(i.sockets),s.indexOf(r)!==-1&&s.splice(s.indexOf(r),1)),c||(i.connect(),c=i.adapter),0===s.length?i.log('SERVER: server "'+o+'" has no target socket for dispatchEvent "'+e+'"'):s.forEach(function(t){var s=a[t],u={event:e,data:n,target:{sockets:[t]},origin:{socket:r,server:o},uuid:i.uuid};i.log('SERVER: server "'+o+'" dispatchEvent "'+u.event+'" to "'+t+'"');try{c.dispatchEvent(u,s.source,s.origin)}catch(e){h.console&&h.console.error('InterCom server "'+o+'": error while dispatching to socket '+t+": "+e+"\nDeleting socket"),delete a[t]}}),i.listeners.dispatchEvent(e,[n,u]),i}}),v.Socket=n.extend(i,a,{id:null,uuid:null,servers:null,listeners:null,defaultOptions:{adapter:null,autoconnect:!1},init:function(e,t){var n=this;n.setSocketId(e),n.servers={},n.listeners=new s,n.setOptions(t)},setSocketId:function(e){var n=this,r=v.Socket.Instances=v.Socket.Instances||{};return n.uuid=n.uuid||t.getUUID(),e=e||n.uuid,r[e]&&(r[e].disconnect(),delete r[e]),n.id=e,r[e]=this,n},connect:function(){var e=this;return e.handleEvent=e.handleEvent.bind(e),e.adapter=v.getAdapter(e.options.adapter),e.adapter.addListener(e.handleEvent),e},disconnect:function(){var e=this;return e.adapter&&(Object.keys(e.servers).forEach(function(t){e.unsubscribeServer(t)}),e.adapter.removeListener(e.handleEvent)),e},handleEvent:function(e,t){var n,r,s,i,o=this,a=o.id,c=o.servers;s=t&&t.source&&t.origin&&e&&e.event&&e.target&&e.origin&&e.origin.server&&c[e.origin.server]&&e.target.sockets&&Array.isArray(e.target.sockets),r=s&&c[e.origin.server]&&c[e.origin.server].uuid===e.uuid,i=s&&0!==e.target.sockets.length&&e.target.sockets.indexOf(a)!==-1,s?i?(n=o.servers[e.origin.server],o.log('SOCKET: socket "'+a+'" accept message for event "'+e.event+'"'),e.event===l?(r||(n.waiting=!1,n.uuid=e.uuid,n.queue.length&&(n.queue.forEach(function(e){o.adapter.dispatchEvent(e,n.source,n.origin)}),o.log('SOCKET: socket dispatch "'+n.queue.length+'" events in the queue for serverId "'+e.origin.server+'".'),n.queue=[])),o.listeners.dispatchEvent(e.event,[e.data,e])):r?e.event===g?delete o.servers[e.origin.server]:o.listeners.dispatchEvent(e.event,[e.data,e]):o.log('SOCKET: socket "'+a+'" refuse invalid uuid for event "'+e.event+'"')):o.log('SOCKET: socket "'+a+'" refuse message for event "'+e.event+'"'):o.log('SOCKET: socket "'+a+'" refuse invalid message for event "'+e.event+'"')},subscribeServer:function(e,t,n){var r=this;return t=t||h.parent,n=n||h.location.toString(),r.servers[e]={waiting:!0,queue:[],source:t,origin:n},r.dispatchEvent(l,void 0,void 0,e),r},unsubscribeServer:function(e){var t=this,n=t.id;return t.servers[e]&&(t.log('SOCKET: socket "'+n+'" unregister server "'+e+'"'),t.dispatchEvent(g,{},void 0,e),delete t.servers[e]),t},addListener:function(e,t){return this.listeners.addEvent(e,t),this},removeListener:function(e,t){return this.listeners.removeEvent(e,t),this},dispatchEvent:function(e,n,r,s){var i=this,o=i.id,a=i.servers,u=i.adapter;return s=s&&s.length?t.splat(s):Object.keys(i.servers),r=t.splat(r),u||(i.connect(),u=i.adapter),n=c.prune(n),s.forEach(function(t){var s=a[t],c={event:e,data:n,target:{servers:[t],sockets:r},origin:{socket:o},uuid:i.uuid};0===s.queue.length&&!s.waiting||e===l||e===g?(i.log('SOCKET: socket "'+o+'" dispatch event "'+e+'"'),u.dispatchEvent(c,s.source,s.origin)):(i.log('SOCKET: socket "'+o+'" queue event "'+e+'" for serverId "'+t+'"'),s.queue.push(c))}),i}}),e.namespace("Utils/InterCom",v,e)});

define("UWA/Embedded",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options","UWA/Class/Debug","UWA/Class/Events","UWA/Utils","UWA/Utils/InterCom"],function(e,t,i,n,o,s,r,a){"use strict";function d(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])}function l(e,t){var i,n;for(n in t)t.hasOwnProperty(n)&&(i=t[n],"styles"===n?d(e,i):"html"===n?e.innerHTML=i:"text"===n?(e.innerHTML="",e.appendChild(document.createTextNode(i))):e.setAttribute(n,i))}function h(e,t,i){var n=document.createElement(e);return t&&l(n,t),i&&i.appendChild(n),n}function c(e){var t;if("object"!=typeof e)return!1;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e){return"boolean"==typeof e?e===!1?"0":"1":r.encodeUrl(e)}var p=i.extend(n,o,s,{url:"",id:null,data:null,version:e.version,elements:null,preferences:null,disableRemote:!0,defaultOptions:{container:null,className:"module",title:null,themeUrl:null,color:"white",height:"auto",width:"100%",maxHeight:!1,bookmarklet:!1,lang:null,id:null,readOnly:!1,data:{},buildHeader:!1,displayHeader:!0,displayFooter:!0,displayScroller:!1,displayEdit:!0,cache:null,useAsyncFrame:!1,useAppCache:!1,offlineMode:!1,autoLaunch:!0,subDomain:!1,subDomainPattern:"{id}.widget.",remoteName:"uwa.embedded",sandbox:!1,exposition:e.hosts.exposition,uwa:e.hosts.uwa},socket:null,init:function(e,t){this.url=e,this.data={},this.elements={},this.preferences=[],this._remoteQueue=[],this.startTime=(new Date).getTime(),this.setOptions(t),t=this.options;var i,n,o,s=typeof t.container;if("string"===s?this.container=document.getElementById(t.container):"object"===s&&null!==this.options.container?this.container=t.container:(o=document.getElementById("UWA_ASYNC"),this.container=h("div",{id:this.id,class:t.className}),o?o.parentNode.insertBefore(this.container,o.nextSibling):(i=document.getElementsByTagName("script"),n=i[i.length-1],n.parentNode.insertBefore(this.container,n))),p.Instances[this.id]=this,!this.container)throw new Error("UWA.Embedded is unable to get container element with container "+this.container+".");if("string"!=typeof this.url)throw new Error("UWA.Embedded expect url defined has first param");this.log('Init new instance with container id "'+this.id+'" and widget url "'+this.url+'"'),this.render()},destroy:function(){},setOptions:function(e){return this._parent(e),e=this.options,e.title&&(e.buildHeader=!0),e.buildHeader&&(e.displayHeader=!1),this.data=e.data||{},!e.id&&this.id||(this.id=e.id||this.generateId()),this},generateId:function(){var e;do e="uwa-"+r.getCheckSum(this.url)+"-"+r.random(1,1e5);while(document.getElementById(e)&&null!==p.Instances[e]);return e},render:function(){var t,i={},n=this.options,o=this.container,s=navigator.userAgent.toLowerCase().match(/ip(?:ad|od|hone)/);i.wrapper=h("div",{class:"moduleWrapper"}),n.buildHeader&&(i.header=h("div",{class:"moduleHeader",styles:{position:"relative",overflow:"hidden",height:"23px",padding:"5px 5px 0 5px"}},i.wrapper),i.iconContainer=h("span",{styles:{padding:"0 5px 0 0"}},i.header),i.icon=h("img",{src:n.uwa+e.paths.img+"icon.png",class:"moduleIcon",height:16,width:16,styles:{border:"none",height:16,width:16}},i.iconContainer),i.title=h("span",{text:n.title||"Loading...",class:"moduleTitle",styles:{font:'bold 11px/20px "Lucida Grande",Tahoma,Helvetica,Arial,sans-serif',verticalAlign:"top"}},i.header)),i.body=h("div",{class:"moduleContent"},i.wrapper),t={id:"frame-"+this.id,frameBorder:0,width:"100%",scrolling:n.maxHeight||"auto"!==n.height?"auto":"no"},n.sandbox&&(t.sandbox="allow-same-origin allow-forms allow-scripts allow-popups"),i.iframe=h("iframe",t,i.body),d(i.iframe,{display:"block"}),n.bookmarklet&&(n.displayScroller=!0,n.height="100%",n.width="320px",d(i.wrapper,{position:"fixed",top:0,right:0,height:n.height,width:n.width,"z-index":99999998})),"auto"!==n.height&&(i.iframe.height=n.height),s&&n.displayScroller&&(i.iframe.scrolling="no"),this.elements=i,o.innerHTML="",o.appendChild(i.wrapper),n.useAsyncFrame?this.renderIframeAsync():this.renderIframe(),this.setChromeColor(n.color),this.initRemote()},renderIframe:function(){var e=this.elements.iframe,t=this.getIframeUrl();e.previousIframeUrl&&e.previousIframeUrl===t||(e.previousIframeUrl=t,e.src=t)},renderIframeAsync:function(){var t,i=this,n=JSON.stringify,o=i.options,s=i.elements.iframe.contentWindow.document,r=o.exposition+"/widget/amd/js?uwaUrl="+u(i.url),a={id:i.id,widgetDomain:window.location.toString().replace(/#.*$/,"")};o.cache&&(r+="&cache="+u(o.cache)),t=["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8" />','<script type="text/javascript">',"   var UWA = {hosts:"+n(e.hosts)+"},",'       curl = {apiName: "require"};',"</script>",'<script type="text/javascript" src="'+o.uwa+"/lib/vendors/curl.js?v="+i.version+'"></script>','<script type="text/javascript" src="'+r+"&v="+i.version+'"></script>',"</head>","<body>",'<script type="text/javascript">','   define("'+i.id+'", ["'+i.url+'"], function (widget) {',"       UWA.extend(widget, "+n(a)+");","   });","</script>","</body>","</html>"],s.open(),s.write(t.join("\n")),s.close()},getIframeUrl:function(){var e,t,i=this,n=[],o=i.options,s=i.data,r={uwaUrl:i.url,id:i.id,cache:o.cache,header:o.displayHeader,footer:o.displayFooter,scroller:o.displayScroller,displayEdit:o.displayEdit,autoLaunch:o.autoLaunch&&!o.offlineMode,useAppCache:o.useAppCache,offlineMode:o.offlineMode,chromeColor:o.color,widgetDomain:window.location.toString().replace(/#.*$/,""),themeUrl:o.themeUrl,lang:o.lang};if(!o.offlineMode){r.readOnly=o.readOnly;for(e in s)s.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=s[e])}for(e in r)r.hasOwnProperty(e)&&null!==r[e]&&n.push(e+"="+u(r[e]));if(t=i.getIframeDomain()+"?"+n.join("&"),t.length>2048)throw new Error("UWA.Embedded iframe url is more than 2048 characters please implement UWA.Embedded using offlineMode=true.");return t},getIframeDomain:function(){var e,t=this.options,i=t.exposition;return t.subDomain&&(e=r.getCheckSum(this.url),i=i.replace("://","://"+t.subDomainPattern.replace("{id}",e))),i+="/widget/frame"},initRemote:function(){var e,t=this,i=t.options;t.socket||(p.Servers[i.remoteName]||(p.Servers[i.remoteName]=new a.Server(i.remoteName)),e=new a.Socket(t.id+"-master"),e.subscribeServer(i.remoteName,window,window.location.toString()),e.addListener("widgetMessage",function(e){var i=e.args,n=i.shift();t.disableRemote=n,t.dispatchEvent(n,i),t.disableRemote=!1}),t.socket=e,t._runRemoteQueue())},_runRemoteQueue:function(){var e,t,i=this;i.socket&&0!==i._remoteQueue.length&&(t=i._remoteQueue.shift(),i.disableRemote===!0||i.disableRemote===t[0]?i.log("sendRemote message ignored: "+t):(e={id:i.id,args:t},i.log("sendRemote message: "+t),i.socket.dispatchEvent("environmentMessage",e,[e.id+"-slave"])),i._runRemoteQueue())},sendRemote:function(){var e=this;e._remoteQueue.push(r.toArray(arguments)),e._runRemoteQueue()},launch:function(e,t){void 0!==t&&(this.options.readOnly=t),void 0!==e&&(this.data=e),this.disableRemote=!1,this.sendRemote("launchWidget",this.data,this.options.readOnly)},setChromeColor:function(e){this.dispatchEvent("onColorize",[e]),this.sendRemote("onColorize",e)},setTitle:function(e){this.dispatchEvent("onUpdateTitle",[e]),this.sendRemote("onUpdateTitle",e)},setIcon:function(e,t){this.dispatchEvent("onUpdateIcon",[e,t]),this.sendRemote("onUpdateIcon",e,t)},setValue:function(e,t){this.dispatchEvent("onUpdateValue",[e,t]),this.sendRemote("onUpdateValue",e,t)},setValues:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setValue(t,e[t])},resizeHeight:function(e,t){this.dispatchEvent("onResizeHeight",[e,t]),this.sendRemote("onResize")},resizeWidth:function(e,t){this.dispatchEvent("onResizeWidth",[e,t]),this.sendRemote("onResize")},onRegisterWidget:function(){var e=this,t=e.options;e.loadTime=(new Date).getTime(),e.disableRemote=!1,t.autoLaunch&&(t.offlineMode||t.useAsyncFrame)&&e.launch()},onUpdateTitle:function(e){this.title!==e&&(this.title=e,this.elements.title&&this.options.buildHeader&&null===this.options.title&&l(this.elements.title,{text:t.stripTags(e)}))},onUpdateIcon:function(e){if(this.icon!==e&&(this.icon=e,this.options.buildHeader)){var t=this.elements.icon,i=h("img",{src:e,onload:function(){t.src=e}});i.complete&&i.width>0&&(t.src=e)}},onUpdatePreferences:function(e){this.preferences=e},onUpdateValue:function(e,t){this.data[e]!==t&&(this.data[e]=t)},onResizeHeight:function(e,t){var i=this.options,n=i.maxHeight,o=n&&e>n;this.elements.iframe&&(t||"auto"===i.height)&&(this.elements.iframe.height=o?n:e)},onResizeWidth:function(e,t){var i=this.options;this.elements.iframe&&(t||"auto"===i.width)&&(this.elements.iframe.width=e)},onColorize:function(t){var i=this.options,n=this.elements;i.color=t,i.buildHeader&&("transparent"!==t?d(n.header,{background:'url("'+i.uwa+e.paths.css+"themes/blueberry/img/moduleheader"+("white"!==t?"_"+t:"")+".png?v="+this.version+'") repeat-x scroll center top transparent'}):d(n.header,{background:null}),d(n.title,{color:"transparent"!==t?"white":"black"}))},onViewRequest:function(e){e||(e={}),e.error="No view implementation in Embedded mode",this.sendRemote("onViewError",e)},getCode:function(e){var t,i,n,o,s=this,r=s.url,a=JSON.stringify,d=s.options,l={},h=["/lib/c/UWA/js/UWA_Embedded.js"],u={uwa:d.uwa,exposition:d.exposition};for(n in d)d.hasOwnProperty(n)&&"container"!==n&&null!==d[n]&&s.defaultOptions[n]!==d[n]&&(c(d[n])||(l[n]=d[n]));if(e&&1===h.length)o=['<script type="text/javascript">',"var UWA = {hosts:"+a(u)+"}, UWA_ASYNC = UWA_ASYNC || [];",'    UWA_ASYNC.push({url: "'+r+'",options:'+a(l)+"});","(function () {",'    var a = document.getElementsByTagName("script"), b = a[a.length - 1] || document.body.lastChild,','        c = b.parentNode, d = document.createElement("script"), e = document.createElement("div");','    e.id = "UWA_ASYNC"; d.type = "text/javascript"; d.async = true;','    d.src = ("https:" == document.location.protocol ? "https://" : "http://") + UWA.hosts.uwa.split("://")[1] + "'+h[0]+"?v="+this.version+'";',"    c.insertBefore(d, b); c.insertBefore(e, b)","})();","</script>"];else{for(o=[],o.push('<script type="text/javascript"> var UWA = {hosts:'+a(u)+"}; </script>"),t=0,i=h.length;t<i;t++)o.push('<script type="text/javascript" src="'+d.uwa+h[t]+"?v="+this.version+'"></script>');o.push('<script type="text/javascript">'),o.push('var MyWidget = new UWA.Embedded("'+r+'"'+(c(l)?"":","+a(l))+");"),o.push("</script>")}return o.join("\n")}});return p.Instances={},p.Servers={},function(){var t,i,n;if(window.UWA_ASYNC)for(n=window.UWA_ASYNC,e.Widgets=e.Widgets||[],t=0,i=n.length;t<i;t++)e.Widgets[t]=new p(n[t].url,n[t].options||{})}(),e.namespace("Embedded",p,e)});

define("UWA/Promise",["UWA/Core","UWA/Utils","UWA/Class","UWA/Internal/Deprecate"],function(e,t,n,r){"use strict";function i(e){this._promise=e instanceof c?e:new c(e)}function o(e){return function(){return i.cast(this._promise[e].apply(this._promise,arguments))}}function a(e){return function(){return i.cast(c[e].apply(c,arguments))}}var c=Promise,s=i.prototype=Object.create(c.prototype);return s.constructor=i,s.catch=o("catch"),s.then=o("then"),s.fail=s.catch,s.finally=function(e){function t(){return i.cast(e()).then(function(){return n})}var n=this;return this.then(t,t)},s.fin=s.finally,s.done=function(e,n){return this.then(e,n).fail(function(e){var n=i.deferred();return t.setImmediate(function(){throw t.setImmediate(function(){n.reject(e)}),e instanceof Error?e:new Error(e)}),n.promise})},s.spread=function(e,t){return this.then(function(t){return e[Array.isArray(t)?"apply":"call"](null,t)},t)},i.race=a("race"),i.all=function(e){return"number"!=typeof e.length?i.reject(new TypeError("Not an iterable")):i.cast(c.all(t.toArray(e)))},i.reject=a("reject"),i.resolve=a("resolve"),i.cast=function(e){return e instanceof i?e:e instanceof c?new i(e):i.resolve(e)},i.deferred=function(){var e={},t=new i(function(t,n){return e.resolve=t,e.reject=n,e});return e.promise=t,e},i.allSettled=function(e){return i.all(t.toArray(e).map(function(e){return e instanceof c?e.then(function(e){return{state:"fullfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"fullfilled",value:e}}))},r.property(n,"Promise",{value:i,name:"UWA.Class.Promise",message:"Use UWA.Promise instead."}),e.namespace("Promise",i,e)});

define("UWA/Utils/Asset",["UWA/Promise","vendors/webcomponents/WeakMap"],function(e){"use strict";function t(e){return e.container.ownerDocument}function n(e){return o||(o=document.createElement("a")),o.href=e,o.href}function r(e,n,r){if(n.force)return r();var i=t(n),o=a.get(i);return o||(o={},a.set(i,o)),o.hasOwnProperty(e)||(o[e]=r()),o[e]}function i(t,i){return function(o,a){return o=n(o),a=Object.assign({force:!1,timeout:6e4,container:document.head},a),r(o,a,function(){var n,r,c=new e(function(e,c){n=i(o,a,e,c),r=setTimeout(function(){n(),c(new Error("Asset."+t+": Timeout while loading "+o))},a.timeout)});return c.fin(function(){clearTimeout(r)}),c})}}var o,a=new WeakMap,c=i("js",function(e,n,r,i){var o=t(n).createElement("script");return o.setAttribute("type","text/javascript"),o.addEventListener?(o.addEventListener("load",function(){r(o)}),o.addEventListener("error",function(){i(new Error("Asset.js: Error while loading "+e))})):o.attachEvent("onreadystatechange",function(){"loaded"!==o.readyState&&"complete"!==o.readyState||r(o)}),n.container.appendChild(o),o.src=e,function(){n.container.removeChild(o)}}),s=i("css",function(e,n,r,i){var o=t(n).createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.addEventListener?(o.addEventListener("load",function(){r(o.sheet)}),o.addEventListener("error",function(){i(new Error("Asset.css: Error while loading "+e))})):o.attachEvent("onload",function(){r(o.styleSheet)}),n.container.appendChild(o),o.setAttribute("href",e),function(){n.container.removeChild(o)}});return{js:c,css:s}});

define("UWA/Environment",["UWA/Core","UWA/String","UWA/Array","UWA/Class","UWA/Class/Timed","UWA/Class/Events","UWA/Class/Debug","UWA/Class/Options","UWA/Utils","UWA/Element","UWA/Event","UWA/Json","UWA/Data","UWA/Internal/StringMap","UWA/Widget","UWA/Controls/Form","UWA/Controls/WidgetPopupMenu","UWA/Embedded","UWA/Promise","UWA/Utils/Client","UWA/Utils/Asset"],function(e,t,n,i,o,s,r,a,c,l,d,u,h,f,p,v,m,g,w,E,y){"use strict";function b(t){var n=e.hosts.netvibes+"/subscribe.php",i={module:"UWA",moduleUrl:t.getUrl()};return t.getPreferences().forEach(function(e){i[e.name]=e.value}),n+"?"+c.toQueryString(i)}var W=Object.create(null),U=i.extend(o,s,r,a,{name:null,inited:!1,registered:!1,launched:!1,widget:null,html:null,features:{},views:{},defaultOptions:{formOptions:{nativeInputs:!1},defaultView:{type:"windowed"},initialView:null},init:function(e){var t=this;t.setOptions(e),t.html={},t.view={},t.dispatchInit()},dispatchInit:function(){var e=this;e.setPeriodical("init",function(){document.body&&!e.inited&&(e.clearPeriodical("init"),e.dispatchEvent("onInit"),e.inited=!0)},100,!0)},hasFeature:function(t,n){var i,o=e.owns(this.features,t)&&this.features[t];if(!o)return!1;if(n)for(i in n)if(e.owns(n,i)&&(!e.owns(o,i)||n[i]!==o[i]))return!1;return!0},getWidget:function(){var e=this,t=e.widget||new p;return e.widget||e.registerWidget(t),t},registerWidget:function(t){var n=this;n.widget=t,n.setPeriodical("register",function(){if(n.inited&&!n.registered){var i,o=n.html;n.clearPeriodical("register"),t.environment=n;for(i in o)o.hasOwnProperty(i)&&o[i]!==window&&(t.elements[i]=e.extendElement(o[i]));t.body=o.body,e.Widgets=e.Widgets||{},e.Widgets.instances=e.Widgets.instances||[],e.Widgets.instances.push(t),n.dispatchEvent("onRegisterWidget"),n.registerMenus(),n.registered=!0}},100,!0)},launchWidget:function(e,t){var n,i=this;i.setPeriodical("launch",function(){i.isDataReady()&&i.registered&&(i.clearPeriodical("launch"),n=i.getWidget(),n.launch(e,t))},100,!0)},destroy:function(){var t,n,i=this,o=i.html,s=i.widget;s&&(e.Widgets.instances.splice(e.Widgets.instances.indexOf(s),1),s.destroy(),i.widget=null),i.clearDelayed(),i.clearPeriodical();for(t in o)o.hasOwnProperty(t)&&l.destroy.call(o[t]);for(n in i.view)i.view.hasOwnProperty(n)&&i.view[n]&&i.view[n].destroy();i.removeEvent(),i.registered=!1,i.launched=!1},onInit:function(){},onRegisterWidget:function(){var e=this,t=e.html,n=e.widget;e.data=new f,t.menus&&l.addEvent.call(t.menus,"click",function(t){var n=d.getElement(t),i=e.widget.getMenu(n.getAttribute("data-name"));i&&(e.dispatchEvent("onMenuExecute",[i]),i.items&&(e.popupMenu||(e.popupMenu=new m(e).inject(document.body)),e.popupMenu.setTarget(n).setItems(i.items).toggle()))}),t.editAction&&(l.show.call(t.editAction),l.addEvent.call(t.editAction,"click",function(t){d.stop(t),e.dispatchEvent("toggleEdit")})),t.refreshAction&&(l.show.call(t.refreshAction),l.addEvent.call(t.refreshAction,"click",function(t){d.stop(t),e.dispatchEvent("onRefresh")})),t.shareAction&&(t.shareAction.href=b(n),l.addEvent.call(t.shareAction,"click",function(t){d.stop(t),e.dispatchEvent("onOpenURL",b(n))})),t.wrapper&&l.handleExternalLinks.call(t.wrapper,function(t,n){e.dispatchEvent("onOpenURL",[t,n])}),(t.viewport||t.wrapper)&&l.addEvent.call(t.viewport||t.wrapper,"resize",function(){e.dispatchEvent("onResize")}),l.addEvent.call(document,"keydown",function(t){var n=t.which||t.keyCode;e.dispatchEvent("onKeyboardAction",[n,t])}),t.body&&[E.Engine.name,E.Engine.name+E.Engine.version,E.Platform.name,E.Features.touchEvents?"touch":"no-touch",n.readOnly&&"readonly",e.name&&"environment-"+e.name].forEach(function(e){e&&l.addClassName.call(t.body,e)}),e.dispatchEvent("onResize"),e.dispatchEvent("onViewRequest",[e.options.initialView])},registerMenus:function(){},onUpdateMenu:function(n){this.html.menus&&(n||(n=this.widget.menus),this.html.menus.empty(),n.forEach(function(n){var i,o;i=e.is(n.visible,"function")?n.visible():n.visible!==!1,i!==!1&&(o=e.createElement("span",{class:"uwa-widget-menu-button","data-name":n.name}),n.help&&(o.set("title",n.help),o.set("uwa-tooltip",t.escapeHTML(n.help))),n.icon&&o.addClassName("uwa-icon "+n.icon),n.className&&o.addClassName(n.className),o.inject(this.html.menus),this.html.header&&this.html.header.set("data-menus-items",this.html.menus.childNodes.length))},this))},onMenuExecute:function(t){e.is(t.onExecute,"string")&&this.widget.dispatchEvent(t.onExecute,[t])},isDataReady:function(){return!e.Storage||e.Storage.allInstancesReady()},getAllData:function(){return this.data.getAll()},getData:function(e){return this.log("getData:"+e),this.data.get(e)},setData:function(e,t){return this.log("setData:"+e+","+t),this.data.set(e,t)},deleteData:function(e){return this.log("deleteData:"+e),this.data.remove(e)},dispatchEvent:function(e,t,n,i){this.log("environment.event:"+e);var o=this,s=o.widget;!i&&s&&o.addEventOnce(e,s.dispatchEvent.bind(s,e,t,n,!0)),o._parent(e,t,n)},loadWidget:function(t,n){var i={onFailure:function(e){throw e},onTimeout:function(e){throw e},onComplete:function(){}};return n=e.extend(i,n),t=c.buildUrl(window.location.toString(),t),n.embedded?this.loadEmbeddedWidget(t,n):this.loadInlinedWidget(t,n),this},loadInlinedWidget:function(){function t(e,t,i){o[e]&&(n.invoke(o[e],t,i),delete o[e])}var i,o={};return i=function(i,s){var r=s.expositionError||s.error||s.errors;if(r&&(!e.is(r,"array")||0!==r.length))return void t(i,"onFailure",r);s=this.convertSourceToJson(s),s.className||(s.checksum||(s.checksum=c.getCRC32(i)),s.className="w-"+s.checksum),s.style&&(c.setCss(s.className,s.style,"."+s.className,i),delete s.style),"string"==typeof s.script&&(s.script=new Function("widget",s.script)),s.styles=this.filterExternalResources("style",s.styles||[]),s.scripts=this.filterExternalResources("script",s.scripts||[]);for(var a=[];s.styles.length;)a.push(y.css(c.buildUrl(i,s.styles.shift())));for(;s.scripts.length;)a.push(y.js(c.buildUrl(i,s.scripts.shift())));w.all(a).done(function(){var t=o[i];o[i]=s,e.is(t,"array")&&n.invoke(t,"onComplete",s)},function(e){t(i,"onFailure",e)})},function(n,s){var r=o[n],a=s.fetcher||"XML",c=s.onComplete,l=this;return s.onComplete=function(e){var t=l.getWidget();t.uwaUrl=n,t.setTitle(e.title),t.setIcon(e.icon),t.setMetas(e.metas),t.setPreferences(e.preferences),t.setPlugins(e.plugins),t.setBody(e.body),l.html.wrapper.addClassName(e.className),e.script&&e.script(t),c(t,l)},e.is(r,"object")?s.onComplete(r):(e.is(r,"array")?r.push(s):o[n]=[s],s=e.merge({onComplete:i.bind(this,n),onTimeout:t.bind(this,n,"onTimeout"),onFailure:t.bind(this,n,"onFailure")},s),e.is(a,"function")?a.call(this,n,s):!e.is(a,"string")||a.length>4?s.onComplete(a):(a=a.toUpperCase(),"JSON"===a?this.fetchJsonWidget(n,s):this.fetchXmlWidget(n,s))),this}}(),loadEmbeddedWidget:function(t,n){var i,o,s=this,r=l.setStyle,a={cache:n.cache,container:s.html.body,displayHeader:!1,displayFooter:!1,displayEdit:!0,autoLaunch:!1};return e.is(n.embedded,"object")&&e.extend(a,n.embedded),i=new g(t,a),r.call(s.html.body,"padding",0),r.call(i.elements.body,"padding",0),s.addEvent("onRegisterWidget",function(){var e={},t={onUpdateValue:!0,onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onShowEdit:!0,onKeyboardAction:!0,onViewError:!0,onViewChange:!0,onEdit:!0,endEdit:!0,onLoad:function(){i.launch(s.getAllData(),s.getWidget().readOnly)}};Object.keys(t).forEach(function(n){var o=t[n];o===!0&&(o=i.sendRemote.bind(i,n)),e[n]=o}),s.addEvents(e)}),o=s.getWidget(),i.addEvent("onRegisterWidget",function(){var t={},r={onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onHideEdit:!0,onShowEdit:!0,onOpenURL:!0,onViewRequest:!0,onInitConfig:function(e){e.preferences&&o.setPreferences(e.preferences),e.plugins&&o.setPlugins(e.plugins),e.metas&&o.setMetas(e.metas)},onUpdatePreferences:function(e){o.setPreferences(e)},onUpdateValue:function(e,t){o.setValue(e,t)}};a.displayEdit||e.merge(r,{onEdit:!0,endEdit:!0}),Object.keys(r).forEach(function(e){var n=r[e];n===!0&&(n=function(){o.dispatchEvent(e,arguments)}),t[e]=n}),i.addEvents(t),n.onComplete(o,s)}),s.embedded=i,s},convertSourceToJson:function(){function t(e,t,n){var i,o,s,r=[].slice.call(e.childNodes);for(i=0,o=r.length;i<o;i++)s=r[i],n&&1!==s.nodeType||t(s,s.nodeValue)}function n(e,t){var n,i,o,s=e.attributes||[];for(n=0,i=s.length;n<i;n++)o=s[n],t(o.name,o.value)}function i(e,t){9===e.nodeType&&(e=e.childNodes[0]);var i=e.nodeName.toLowerCase(),o={};return n(e,function(e,t){o[e]=t}),a[a.hasOwnProperty(i)?i:"fallback"](t,e,o,i)}var o=["name","defaultValue","type","label","step","min","max"],s=["label","value"],r=/(java|ecma)script$/i,a={"widget:preferences":function(e,i){t(i,function(i){var r,a={};n(i,function(e,t){o.indexOf(e)!==-1&&(a[e]=t)}),a.name&&("list"!==a.type&&"checklist"!==a.type||(r=[],t(i,function(e){var t={};n(e,function(e,n){s.indexOf(e)!==-1&&(t[e]=n)}),t.label&&r.push(t)},!0),a.options=r),e.preferences.push(a))},!0)},"widget:plugins":function(e,i){t(i,function(o){var s={name:i.getAttribute("name"),options:{}};n(o,function(e,t){s[e]=t}),t(o,function(e){var n=e.getAttribute("name"),i=e.getAttribute("value"),o=e.tagName;"widget:options"===o?(s.options[n]={},t(e,function(e){var t=e.getAttribute("name"),i=e.getAttribute("value");t&&(s.options[n][t]=i)},!0)):n&&(s.options[n]=i)},!0),s.name&&e.plugins.push(s)})},link:function(e,t,n){if(n.href){var i=n.rel;"icon"===i?e.icon=n.href:"stylesheet"!==i||n.href.contains("UWA/assets")||n.href.contains("standalone.css")||n.href.contains("uwa/style.css")||e.styles.push(n.href)}},meta:function(e,t,n){var i=n.content;i="false"!==i&&("true"===i||i),e.metas[n.name]=i},script:function(e,n,i){if(i.src||(i.language||i.type)&&!r.test(i.type)&&!i.language){if(!i.src||i.src.contains("Standalone")||i.src.contains("load.js.php"))return n;e.scripts.push(i.src)}else{var o="";t(n,function(e,t){o+=t}),/UWA(\s+)?=/.test(o)||(e.script+=o)}},title:function(e,n){t(n,function(t,n){e.title+=n})},style:function(e,n){t(n,function(t,n){e.style+=n})},fallback:function(e,o,s,r){var a;return"body"===r?(a=document.createElement("div"),a.className=o.className,e.body=a):a=document.createElement(r),n(o,function(e,t){a.setAttribute(e,t)}),t(o,function(t,n){switch(t.nodeType){case 1:var o=i(t,e);o&&a.appendChild(o);break;case 4:case 3:a.appendChild(document.createTextNode(n));break;case 8:}}),a}};return function(t){if(e.is(t,"string"))try{t=c.loadXml(t)}catch(n){e.log("Invalid UWA XHTML source detected, fallback on HTML parsor."),t=c.loadHtml(t)}var n;return e.is(t,"object")?n=t:(n={title:"",icon:"",preferences:[],plugins:[],metas:{},body:[],script:"",scripts:[],style:"",styles:[]},i(t,n)),n}}(),fetchJsonWidget:function(t,n){t in W||(W[t]=new w(function(i,o){var s,r={mode:"full",uwaUrl:t};e.debug&&(r.flush=1,r.mode="full_debug"),s=(n.server||e.hosts.exposition)+"/widget/json",u.request(s,{data:r,onComplete:i,onFailure:o,useJsonpRequest:!0})})),W[t].then(n.onComplete,n.onError)},fetchXmlWidget:function(e,t){h.request(e,{cache:t.cache,type:"text",onFailure:t.onFailure,onTimeout:t.onTimeout,onComplete:t.onComplete})},filterExternalResources:function(e,t){return t},onRefresh:function(){var e=this.getWidget();e.data={},e.hasEvent("onRefresh")||e.dispatchEvent("onLoad",void 0,void 0,!0)},onUpdateIcon:function(t){function n(){o.iconLoader.destroy(),delete o.iconLoader}var i=this,o=i.html;o.icon&&(o.iconLoader&&n(),o.iconLoader=e.createElement("img",{styles:{display:"none"},events:{load:function(){o.icon.getElement("img").setAttribute("src",t),n()},error:function(){n()}}}).inject(i.html.wrapper),o.iconLoader.setAttribute("src",t))},onUpdateTitle:function(e){var t=this.html.title;t&&t.setHTML(e)},onUpdateCounter:function(e){var t=this.html.counter;t&&t.setText(e?"("+(e===!0?"●":e)+")":"")},onEdit:function(){var t=this,n=t.html,i=t.getWidget(),o=i.metas,s=i.getPreferences();if(n.edit){if(n.edit.empty(),i.hasPreferences()){if(n.preferences){var r=n.preferences.getFormValues();s.forEach(function(t){e.is(r[t.name])&&(t.value=r[t.name])})}s.push({type:"submit",name:"endEdit",value:e.i18n("Done")}),n.preferences&&n.preferences.destroy(),n.preferences=new v({nativeInputs:this.options.formOptions.nativeInputs,darkBackground:this.options.formOptions.darkBackground,fields:s,events:{onChange:function(e,n,o){i.setValue(n,o),t.embedded?t.embedded.sendRemote("dispatchEvent",e,n,o):t.dispatchEvent(e,[n,o])},onSubmit:function(e,n){var o=!1;t.addEventOnce("onUpdateValue",function(){o=!0}),Object.keys(n).forEach(function(e){i.setValue(e,n[e])}),t.dispatchEvent("endEdit"),o&&t.dispatchEvent("onRefresh")}}}).inject(n.edit)}o.author&&n.edit.addContent({tag:"div",class:"moduleInfos",html:[{tag:"p",html:[e.i18n("Widget by")+" ",{tag:"strong",html:o.website?{tag:"a",href:o.website,text:o.author}:{tag:"span",text:o.author}}]}]})}t.dispatchEvent("onShowEdit")},onShowEdit:function(){var e=this.html;e.wrapper&&e.wrapper.addClassName("onEdit")},endEdit:function(){var e=this;e.dispatchEvent("onHideEdit")},onHideEdit:function(){var e=this.html;e.wrapper&&e.wrapper.removeClassName("onEdit")},onCloseEdit:function(){var e=this;e.html.preferences.destroy(),e.html.preferences=null},onOpenURL:function(n){if(n=c.parseUrl(n),!window.open(n.source,"_blank"))return window.alert(t.format(e.i18n('Unable to open "{0}", Please turn off your popup blocker and try again.'),t.truncate(n.source,50))),!1},onViewRequest:function(){function t(e,t,n){n&&(t.error=n),e.dispatchEvent(n?"onViewError":"onViewChange",[t])}function n(e,t,n){e[t]&&e[t].destroy(),e[t]=n}function i(e,o){var s=e.views[o.type],r=s&&new s(e,o);return r&&r.addEvents({onEnter:function(){e.view.next===this&&(n(e.view,"current",this),this.isSingle()&&(U._currentSingleView=this),e.view.next=null,t(e,this.event))},onLeave:function(){e.view.current===this&&(U._currentSingleView===this&&(U._currentSingleView=null),e.view.next||(e.view.next=i(e,e.options.defaultView)),e.view.next.enter())},onError:function(i){e.view.next===this&&(n(e.view,"next"),e.view.current.enter()),t(e,this.event,i)}})}return function(o){var s,r=this;o||(o=r.options.defaultView),o=e.clone(o),r.view.current&&r.view.current.event&&(o.previous=e.clone(r.view.current.event),delete o.previous.previous),r.view.current&&r.view.current.matchEvent(o)?t(r,o,"This view is already active."):(s=i(r,o),s?s.isSingle()&&U._currentSingleView&&U._currentSingleView!==r.view.current?(t(r,o,"An environment is already in single view."),s.destroy()):(n(r.view,"next",s),r.view.current?r.view.current.leave():r.view.next.enter()):t(r,o,'No implementation available for the view "'+o.type+'".'))}}(),onViewChange:function(e){this.getWidget()._view=e},onViewError:function(e){this.log("View error: "+u.encode(e))}});return U.AbstractView=i.extend(s,{event:null,environment:null,init:function(e,t){this.environment=e,this.event=t},destroy:function(){this.removeEvents(),U._currentSingleView===this&&(U._currentSingleView=null)},enter:function(){this.dispatchEvent("onEnter")},leave:function(){this.dispatchEvent("onLeave")},isSingle:function(){return!1},matchEvent:function(e){return this.event.type===e.type},onEnter:function(){var e=this.environment.html;e.wrapper&&e.body&&n.invoke([e.wrapper,e.body],"addClassName",this.event.type+"-view")},onLeave:function(){var e=this.environment.html;e.wrapper&&e.body&&n.invoke([e.wrapper,e.body],"removeClassName",this.event.type+"-view")}}),U.prototype.views.windowed=U.AbstractView.extend({}),E.Features.fullscreen&&(U.prototype.views.fullscreen=U.AbstractView.extend({enter:function(){var e,t=this,n=t.getTarget();e={fullscreenchange:function(){document.fullscreenElement===n?t.dispatchEvent("onEnter"):(t.dispatchEvent("onLeave"),l.removeEvents.call(document,e))},fullscreenerror:function(){t.dispatchEvent("onError",["Error while trying to set the fullscreen"]),l.removeEvents.call(document,e)}},l.addEvents.call(document,e),n.requestFullscreen()},leave:function(){document.fullscreenElement===this.getTarget()?document.exitFullscreen():this.dispatchEvent("onLeave")},isSingle:function(){return!0},getTarget:function(){var e=this.environment.html;return e.content||e.body}})),e.namespace("Environment",U,e)});

define("UWA/Class/Promise",["UWA/Core","UWA/Promise","UWA/Internal/Deprecate"],function(e,s,r){"use strict";return r.warn("Module UWA/Class/Promise","Use UWA/Promise instead"),e.namespace("Class/Promise",s,e,"replace")});

define("UWA/Drivers/jQuery",["UWA/Core","UWA/Event","UWA/Internal/Deprecate","UWA/Function","UWA/String","UWA/Array","UWA/Date","UWA/Object","UWA/Utils","UWA/Class","UWA/Dispatcher","UWA/Utils/Client","UWA/Ajax","UWA/Json","UWA/Storage","UWA/Data","UWA/Element","UWA/Fx","UWA/Plugins/Abstract","UWA/Controls/Pager","UWA/Controls/Img","UWA/Controls/Form","UWA/Widget","UWA/Environment","UWA/Promise","UWA/Class/Promise"],function(e,n,t){"use strict";function o(){window.document&&(window.document.body&&e.extendElement(window.document.body),window.document.documentElement&&e.extendElement(window.document.documentElement))}return e.merge(e,{driver:"jQuery",extendElement:function(n){return n&&!n._isUwaExtended&&("#document"===n.nodeName?(e.merge(n,e.Element),t.warn("UWA.extendElement(document)")):e.extend(n,e.Element),n._isUwaExtended=!0),n},createElement:function(n,t){return new e.Element(n,t)}}),o(),n.onDomReady(o),jQuery});

define("UWA/Controls/Scroller",["UWA/Core","UWA/Class/Timed","UWA/Controls/Abstract","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Fx"],function(e,t,o,i,n,r,s){"use strict";function l(e){return e>>0}function a(e){var t,o,i=!0,r=n.getElement(e);return r&&(t=r.getTagName(),o=r.getStyle("overflow"),i=t&&!t.match(y)&&!o.match(g)),i}function c(e){return"touchstart"===e.type||0===n.whichButton(e)}function h(e){return e.scroll.x||e.scroll.y||e.options.bounce}function u(e){return!d.activeScroller||d.activeScroller===e}function x(e){var t=e.type;return t.indexOf("mouse")!==-1?"mouse":t.indexOf("touch")!==-1?"touch":t.indexOf("ointer")!==-1?"pointer":"none"}function p(e,t,o){"init"===e?r.addEvents.call(t,{touchstart:o,mousedown:o,MSPointerDown:o}):"start"===e?r.addEvents.call(t,{touchmove:o,mousemove:o,MSPointerMove:o,touchend:o,touchcancel:o,mouseup:o,MSPointerUp:o}):"stop"===e?r.removeEvents.call(t,{touchmove:o,mousemove:o,MSPointerMove:o,touchcancel:o,touchend:o,mouseup:o,MSPointerUp:o}):"destroy"===e&&r.removeEvents.call(t,{touchstart:o,mousedown:o,MSPointerDown:o,touchmove:o,mousemove:o,MSPointerMove:o,touchcancel:o,touchend:o,mouseup:o,MSPointerUp:o})}var d,y=/input|textarea|select/i,g=/auto|scroll/i,m=i.Features,v=i.Platform,S=i.Engine.version>=5.1&&!!v.ios;return d=o.extend(t,{name:"uwa-scroller",position:null,direction:null,scroll:null,maxScroll:null,scroller:null,maxPage:null,scrollBars:null,isScrolling:!1,isTracking:!1,isDragging:!1,isPulling:!1,enabled:!0,defaultOptions:{className:"",width:"",height:"",bounce:!1,momentum:!1,snap:!1,threshold:6,lockDirection:!0,scrollableX:!0,scrollableY:!0,scrollbarH:!0,scrollbarV:!0,scrollTime:250,scrollSize:40,scrollDrag:m.dragAndDrop&&!v.blackberry,useTransform:m.transitionsCSS&&!v.webos,useNative:v.blackberry,isTouch:m.touchEvents,has3d:m.cssMatrix,preventDefaultMouseWheel:!1,debugPixel:!1},init:function(t,o){var i=this;i._parent(o),o=i.options,e.extend(i,{position:{x:0,y:0},direction:{x:0,y:0},scroll:{x:!1,y:!1,width:0,height:0},maxScroll:{x:0,y:0},scroller:{width:0,height:0},page:{x:0,y:0},maxPage:{x:0,y:0},scrollBars:{x:null,y:null}}),o.useNative?i.buildNative(t):i.buildSkeleton(t),i.initEvents(),i.setPosition(0,0,0,!0)},destroy:function(){var e=this,t=e.elements,o=t.element,i=t.scroller,n=t.wrapper,s=t.scrollerParent,l=e.eventHandler;d.activeScroller===e&&delete d.activeScroller,o&&(r.removeEvent.call(o,"resize",l),r.inject.call(o,i,"before")),s&&r.removeEvent.call(s,"resize",l),p("destroy",i,e.eventHandler),r.removeEvents.call(i,{keydown:l,mousewheel:l}),i.destroy(),n.destroy()},setOptions:function(e){this._parent(e),e=this.options;var t=e.snap;return e.snap=t===!0?{x:null,y:null}:"number"==typeof t?{x:t,y:t}:t,this},buildNative:function(t){var o=this,i=v.android||v.blackberry||S?"scroll":"auto",r=o.options,s=o.elements={element:t,scroller:e.createElement("div",{class:o.getClassNames("","-native"),styles:{overflow:i,overflowScrolling:"touch",zIndex:"0",position:"relative",height:r.height||"100%",width:r.width||"100%",userSelect:"none",zoom:"1"}}),wrapper:e.createElement("div",{class:r.className+"-wrapper"}),ghost:e.createElement("div",{styles:{height:"10px",width:"10px",background:"#000",position:"absolute",zIndex:"1",opacity:r.debugPixel?1:0},events:{click:function(e){return n.stop(e),!1}}})};s.scroller.style.webkitOverflowScrolling="touch",o.body=r.body===!1?s.scroller:r.body||document.body,s.scroller.inject(t,"before"),s.wrapper.inject(s.scroller),s.ghost.inject(s.scroller),t.inject(s.wrapper),s.scrollerParent=s.scroller.getParent(),s.scroller.addEvent("scroll",function(){o.position=o.getPosition(),o.setAnimate("onScroll",function(){o.triggerOnScroll(),o.triggerOnScrollEnd()})}),o.onRefresh()},buildSkeleton:function(t){var o=this,r=o.options,s=o.scrollBars,l=o.elements={element:t,scroller:e.createElement("div",{class:o.getClassNames("","-fake"),tabindex:"0",styles:{overflow:"hidden",position:"relative",userSelect:"none",outline:0,zoom:"1"}}),wrapper:e.createElement("div",{class:r.className+"-wrapper",styles:{width:"100%",height:"100%",position:"relative"}}),ghost:e.createElement("div",{styles:{height:"10px",width:"10px",background:"#000",position:"absolute",zIndex:"1",opacity:r.debugPixel?1:0},events:{click:function(e){n.stop(e),o.updateGhostPosition({y:0,x:0})}}})};o.body=r.body||i.Engine.ie?document.body:window,l.scroller.addContent([l.wrapper,l.ghost]).inject(t,"before"),t.inject(l.wrapper),l.scrollerParent=l.scroller.getParent(),s.x=r.scrollableX&&r.scrollbarH&&new d.Scrollbar(e.extend({dir:"horizontal"},r.scrollbar),o),s.y=r.scrollableY&&r.scrollbarV&&new d.Scrollbar(e.extend({dir:"vertical"},r.scrollbar),o),o.onRefresh()},initEvents:function(){var e,t=this,o=t.options,i=t.elements;e=t.eventHandler=t.handleEvent.bind(t),i.scroller.addEvents({keydown:e,mousewheel:e}),o.scrollDrag&&(p("init",i.scroller,t.eventHandler),t.setCursor("grab"),i.scroller.addEvents({mousemove:n.preventDefault,touchmove:n.preventDefault})),i.element.addEvent("resize",e),i.scrollerParent.addEvent("resize",e)},handleEvent:function(e){var t,o=this,i=e.type;switch(i){case"touchstart":case"mousedown":case"MSPointerDown":t=o.dispatchEvent("onScrollInit",[e]);break;case"touchmove":case"mousemove":case"MSPointerMove":t=o.dispatchEvent("onScrollMove",[e]);break;case"touchend":case"touchcancel":case"mouseup":case"MSPointerUp":t=o.dispatchEvent("onScrollStop",[e]);break;case"DOMMouseScroll":case"onmousewheel":case"mousewheel":t=o.dispatchEvent("onMouseWheel",[e]);break;case"keydown":t=o.dispatchEvent("onKeyDown",[e]);break;case"DOMSubtreeModified":case"orientationchange":case"resize":t=o.dispatchEvent("onRefresh",[e])}return t},scrollTo:function(e,t,o){var i,n=this,r=n.options;o=isNaN(o)?r.scrollTime:o,n.options.snap&&(i=n.snap(e,t),e=i.x,t=i.y,o=Math.min(i.time,o)),n.setPosition(e,t,o)},scrollToPage:function(e,t,o){var i=this,n=i.options,r=i.getPage(),s=i.position,a=i.getSnapSize();n.snap||(r.x=-l(s.x/a.x),r.y=-l(s.y/a.y)),"next"===e?e=++r.x:"prev"===e&&(e=--r.x),"next"===t?t=++r.y:"prev"===t&&(t=--r.y),e=e!==!1?-e*a.x:s.x,t=t!==!1?-t*a.y:s.y,o=isNaN(o)?n.scrollTime:o,a=i.snap(e,t),e=a.x,t=a.y,o=Math.min(a.time,o),i.setPosition(e,t,o)},scrollToElement:function(e,t,o){"string"==typeof t?t={x:t,y:t}:void 0===t&&(t={x:"center",y:"center"});var i,n,s,l,a=this,c=a.scroll,h=a.maxScroll,u=r.getPosition.call(e,a.elements.wrapper),x=r.getDimensions.call(e),p=a.getSnapSize(),d={x:c.width,y:c.height},y={};for(x={x:x.outerWidth,y:x.outerHeight},i=0;i<2;i+=1)n=i?"x":"y",c[n]?(s=-u[n],"center"===t[n]?s+=(d[n]-x[n])/2:"end"===t[n]&&(s+=d[n]-x[n])):s=0,l=s<h[n],s=s>0?0:l?h[n]:s,!l&&a.options.snap&&(s=Math[i?"floor":"round"](s/p[n])*p[n]),s<h[n]&&(s=h[n]),y[n]=s;a.setPosition(y.x,y.y,o)},setPosition:function(e,t,o,i){var n,r,s=this,l=s.options,a=s.scrollBars,c=s.scroll,h=(s.maxScroll,s.getPosition());o=isNaN(o)?l.scrollTime:o,r={x:e,y:t},l.bounce||(r=s.bounce(r)),n={x:h.x-r.x,y:h.y-r.y},s.direction={x:0===n.x?0:n.x>0?-1:1,y:0===n.y?0:n.y>0?-1:1},0===n.x&&0===n.y||(s.scrollToPosition(r,o),a.x&&c.x&&0!==n.x&&a.x.setPosition(r.x,o,i),a.y&&c.y&&0!==n.y&&a.y.setPosition(r.y,o,i),!s.isPulling&&(s.isMaxPosition("x")&&0!==n.x||s.isMaxPosition("y")&&0!==n.y)&&s.dispatchEvent("onScrollPull"))},stopScroll:function(){this.scrollToPosition(this.getPosition(!0),0)},scrollToPosition:function(e,t){t=t||0;var o,i,n=this,r=n.elements,l=r.scroller,a=r.wrapper,c=n.options;n.triggerOnScrollStart(),n.position=e,c.useNative?(l.scrollTop=-e.y,l.scrollLeft=-e.x,n.triggerOnScroll(),n.triggerOnScrollEnd()):c.useTransform?(a.removeEvent("transitionEnd"),t>0&&a.addEvent("transitionEnd",function(){a.removeEvent("transitionEnd"),n.triggerOnScrollEnd()}),i={transformOrigin:"0 0",transform:"translateZ(0)",fontSmoothing:"antialiased",perspective:800,transformStyle:"preserve-3d",transitionDelay:"0ms",transitionDuration:t+"ms",transitionProperty:a.getStyleName("transform",!0),transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1)"},c.has3d?i.transform="translate3d("+e.x+"px,"+e.y+"px, 0)":i.transform="translate("+e.x+"px,"+e.y+"px)",a.setStyles(i),0===t&&n.triggerOnScrollEnd()):(o=n.fx=n.fx||new s(a,{transition:"cubicOut",wait:!1,events:{onComplete:function(){n.triggerOnScrollEnd()},onAnimate:function(){n.triggerOnScroll()}}}),o.setOptions({duration:t}),o.start({top:e.y,left:e.x}))},triggerOnScrollStart:function(){function e(){t.triggerOnScroll(),t.setAnimate("onScroll",e)}var t=this,o=t.options,i=t.isScrolling;t.clearDelayed("onScrollEnd"),i||(t.dispatchEvent("onScrollStart"),(o.useNative||o.useTransform)&&t.setAnimate("onScroll",e)),t.dispatchEvent("onScroll")},triggerOnScroll:function(){this.dispatchEvent("onScroll")},triggerOnScrollEnd:function(){var e=this,t=e.options;e.setDelayed("onScrollEnd",function(){(t.useNative||t.useTransform)&&e.clearAnimate("onScroll"),e.dispatchEvent("onScrollEnd")},100)},getPosition:function(e){var t,o,i,n=this,s=!1,a=n.options,c=n.elements;if(a.useNative)o={y:-c.scroller.scrollTop,x:-c.scroller.scrollLeft};else if(a.useTransform){if(o={y:0,x:0},t=r.getStyle.call(c.wrapper,"transform",!0),t&&"none"!==t)if(m.matrixCSS)try{i=window.WebKitCSSMatrix||window.MSCSSMatrix||window.MOZCSSMatrix||window.CSSMatrix,t=new i(t),o={y:t.f,x:t.e}}catch(e){}else s=0===t.indexOf("matrix3d"),t=t.replace(/[^0-9-.,]/g,"").split(","),o={y:+t[s?13:5],x:+t[s?12:4]};e&&(o={x:l(o.x),y:l(o.y)})}else o={y:(e?parseInt:parseFloat)(c.wrapper.style.top||0,10),x:(e?parseInt:parseFloat)(c.wrapper.style.left||0,10)};if(isNaN(o.x)||isNaN(o.y))throw new Error("Invalid scroller position");return o},getResetPosition:function(){var e=this,t=e.scroll,o=e.getPosition(),i=e.maxScroll,n=o.x,r=o.y;return o.x>=0||!t.x?n=0:o.x<i.x&&(n=i.x),o.y>0||!t.y?r=0:o.y<i.y&&(r=i.y),{x:l(n),y:l(r)}},isInViewport:function(e,t,o){var i,n,s=this.elements.wrapper,l=r.getOffsets,a=r.getDimensions,c=l.call(s,!0),h=l.call(e),u=a.call(s),x=a.call(e),p=this.getPosition(),d=u.outerHeight,y=u.outerWidth,g=x.width,m=x.height,v=h.y,S=h.x;return c.y=c.y-p.y,c.x=c.x-p.x,t?(i=S<c.x+y&&S+g>c.x,n=v<c.y+d&&v+m>c.y):(i=S>=c.x&&S+g<=c.x+y,n=v>=c.y&&v+m<=c.y+d),"x"===o?i:"y"===o?n:i&&n},isMaxPosition:function(e,t,o){t=t||this.getPosition(),o=o||this.direction[e];var i=this,n=i.maxScroll;return o>0?t[e]>=0:t[e]<=n[e]},hasOverflow:function(e){var t,o=this,i=o.scroll,n=o.scroller,r=i.width<n.width,s=i.height<n.height;return t="x"===e?r:"y"===e?s:r||s},setSize:function(e){var t=this,o=t.options,i=!1;o.width!==e.width&&(i=!0,this.setOption("width",e.width)),o.height!==e.height&&(i=!0,this.setOption("height",e.height)),i&&this.dispatchEvent("onRefresh")},setCursor:function(e){var t=this,o=t.scroll;"grabbing"!==e||o.x&&o.y||(e=o.x?"col-resize":"row-resize"),t.elements.scroller.setStyle("cursor",e)},focus:function(){return this.elements.scroller&&this.elements.scroller.focus(),this},updateGhostPosition:function(e){var t=this,o=5,i=t.elements,n=i.scroller.getOffsets();t.options.useNative&&(n.y-=i.scroller.scrollTop,n.x-=i.scroller.scrollLeft),i.ghost.setStyles({top:e.y-n.y-o,left:e.x-n.x-o})},createDebugPixel:function(t,o,i,n){var r,s=this,l=2,a=s.elements;s.options.debugPixel&&(s.debugPixels=s.debugPixels||[],n&&s.debugPixels.forEach(function(e){e.remove()}),r=a.scroller.getOffsets(),s.options.useNative&&(r.y-=a.scroller.scrollTop,r.x-=a.scroller.scrollLeft),s.debugPixels.push(e.createElement("div",{title:(i||"")+" x:"+t.x+" y:"+t.y,styles:{height:"4px",width:"4px",background:o||"red",position:"absolute",zIndex:"1",top:t.y-r.y-l,left:t.x-r.x-l}}).inject(a.scroller)))},getPage:function(){var e,t,o,i=this,n=i.getPosition(),r=i.getSnapSize(),s=i.maxScroll,l={};for(t=0;t<2;t++)o=t?"x":"y",e=n[o]/r[o],l[o]=-e,e*=r[o],isNaN(e)||e>0?l[o]=0:e<s[o]&&(l[o]=i.maxPage[o]);return l},getSnapSize:function(){var e=this.options.snap,t=this.scroll;return{x:e&&e.x||t.width,y:e&&e.y||t.height}},getScrollSize:function(){var e=this.options,t=e.snap;return{x:t&&t.x||e.scrollSize,y:t&&t.y||e.scrollSize}},bounce:function(e){var t,o,i=this,n=i.maxScroll;for(t=0;t<2;t+=1)o=t?"x":"y",(e[o]>=0||e[o]<n[o])&&(e[o]=e[o]>=0||n[o]>=0?0:n[o]);return e},momentum:function(e,t,o,i,n){var r,s,a,c,h,u,x,p,d,y,g=this,m=350,v=1.9,S=6e-4,f=6,b=g.scroll,w=g.scroller,P={x:e,y:t},E={x:0,y:0},M={x:+P.x,y:+P.y,time:n};for(r=0;r<2;r++)s=r?"x":"y",a=r?"width":"height",h=i[s]-o[s],b[s]&&n<=m&&0!==h&&(c=Math.min(Math.abs(h)/n,v),p=c*c/(2*S),x=b[a],d=-P[s],y=w[a]-b[a]+P[s],u=x/(f/(p/c*S)),h>0&&p>d?(d+=u,c=c*d/p,p=d):h<0&&p>y&&(y+=u,c=c*y/p,p=y),M[s]=l(P[s]+p*(h<0?-1:1)),E[s]=c/S);return M.time=Math.max(E.y,E.x),M},snap:function(e,t,o){var i,n,r,s,a,c=this,h=c.getPage(),u=c.getSnapSize(),x=c.maxScroll,p={x:e,y:t};for(o=o||c.position,s={x:o.x-e,y:o.y-t},a={x:0===s.x?0:s.x>0?-1:1,y:0===s.y?0:s.y>0?-1:1},n=0;n<2;n++)r=n?"x":"y",0!==s[r]&&(i=Math[a[r]<0?"floor":a[r]?"ceil":"round"](p[r]/u[r]),h[r]=-i,i*=u[r],isNaN(i)||i>0?i=h[r]=0:i<x[r]&&(h[r]=c.maxPage[r],i=x[r]),p[r]=i);return p.time=l(Math.max(Math.abs(o.x-p.x)/u.x*500,Math.abs(o.y-p.y)/u.y*500)),p},onScrollInit:function(e){var t,o,i,s,l=this,y=l.options;!n.isDefaultPrevented(e)&&u(l)&&h(l)&&c(e)&&a(e)&&(o=x(e),i=n.getPosition(e),s=e.timeStamp,t=l.getPosition(!0),d.activeScroller=l,"mouse"===o&&n.stop(e),l.createDebugPixel(i,"green","onScrollInit",!0),l.isTracking=o,p("start",l.body,l.eventHandler),(l.isPulling||l.isScrolling)&&l.updateGhostPosition(i),l.scrollStart={time:s,position:t,event:i},l.scrollMove={time:s,direction:!1,event:i},l.positions=[],y.momentum&&l.isScrolling&&l.setDelayed("stopOnScrollInit",function(){var e=l.getPosition(!0);l.isDragging!==!1||e.x===t.x&&e.y===t.y||(l.setPosition(t.x,t.y,0),l.createDebugPixel(i,"purple","stopOnScrollInit"))},150),l.setDelayed("focusOnScrollInit",function(){var e=l.elements.scroller,t=e.getDocument().activeElement;t&&r.isInjected.call(t,e)||l.focus()},75),l.setCursor("grabbing"))},onScrollMove:function(t){var o,i,r,s,l,a,c,h,u,p,d,y,g=this,m=g.options,v=g.positions,S=n.getPosition(t),f=m.lockDirection?m.threshold:0,b=m.threshold;g.isTracking===x(t)&&(n.stop(t),g.updateGhostPosition(S),g.clearDelayed("stopOnScrollInit"),g.isDragging?(s=g.scrollMove,i=g.maxScroll,o=e.clone(g.position),a=t.timeStamp,h=S.y-s.event.y,c=S.x-s.event.x,d=0===c?0:c>0?-1:1,y=0===h?0:h>0?-1:1,g.enableScrollX&&(o.x+=c,(o.x<i.x||o.x>0)&&(m.bounce?o.x-=c/2:o.x<i.x?o.x=i.x:o.x=0)),g.enableScrollY&&(o.y+=h,(o.y<i.y||o.y>0)&&(m.bounce?o.y-=h/2:o.y<i.y?o.y=i.y:o.y=0)),v.length>60&&v.splice(0,30),v.push(o.x,o.y,a),g.setPosition(o.x,o.y,0),g.scrollMove.direction&&(g.enableScrollX&&0!==s.direction.x&&s.direction.x!==d||g.enableScrollY&&0!==s.direction.y&&s.direction.y!==y)?(g.createDebugPixel(S,"yellow","onScrollMove:directionChange"),g.scrollStart={time:a,position:o,event:S}):g.createDebugPixel(S,"orange","onScrollMove:isDragging"),g.scrollMove={time:a,direction:{x:d,y:y},position:o,event:S}):(r=g.scroll,l=g.scrollStart,u=Math.abs(S.x-l.event.x),p=Math.abs(S.y-l.event.y),g.enableScrollX=r.x&&u>=f,g.enableScrollY=(r.y||!r.x&&!r.y)&&p>=f,g.isDragging=(g.enableScrollX||g.enableScrollY)&&(u>=b||p>=b),g.isDragging&&g.isScrolling&&g.stopScroll(),g.createDebugPixel(S,"red","onScrollMove:notDragging")))},onScrollStop:function(e){var t,o,i,r,s,l,a,c=this,h=c.options,u=h.scrollTime;c.isTracking===x(e)&&(c.isTracking=!1,d.activeScroller===c&&delete d.activeScroller,p("stop",c.body,c.eventHandler),l=n.getPosition(e),t=c.getResetPosition(!0),a=e.timeStamp,c.createDebugPixel(l,"blue","onScrollMove"),c.setCursor("grab"),c.isDragging&&(c.isDragging=!1,s=c.scrollStart,c.scrollEnd=r={time:a,position:t,event:l},n.stop(e),c.updateGhostPosition(l),r.event.x===s.event.x&&r.event.y===s.event.y||(h.momentum&&(o=c.momentum(t.x,t.y,s.event,r.event,r.time-s.time),t=o,u=Math.max(t.time,u)),h.snap&&(i=c.snap(t.x,t.y,s.position),t=i,u=Math.max(t.time,u)))),c.setPosition(t.x,t.y,u,!1),c.positions.length=0,c.scrollStart=null,c.scrollMove=null,c.scrollEnd=null,c.setDelayed("resetGhostPosition",function(){c.updateGhostPosition({x:0,y:0})},500))},onScrollStart:function(){var e=this;e.isScrolling=!0},onScroll:function(){},onScrollEnd:function(){var e=this,t=e.options;e.isScrolling&&(e.isScrolling=!1,t.useTransform&&e.elements.wrapper.removeEvent("transitionEnd",e.eventHandler)),e.isTracking||(e.isPulling=!1,e.setAnimate("onResetPosition",function(){var t,o=e.getResetPosition(),i=e.getPosition(),n=e.scrollBars;e.options.snap&&(t=e.snap(o.x,o.y),o.x=t.x,o.y=t.y),i.x!==o.x||i.y!==o.y?e.setPosition(o.x,o.y):(n.x&&n.x.onScrollEnd(),n.y&&n.y.onScrollEnd())}))},onScrollPull:function(){this.isPulling=!0},onKeyDown:function(e){var t=this,o=t.position,i=t.scroll,r=t.getScrollSize(),s=e.keyCode,l=40===s,c=38===s,h=37===s,u=39===s,x=l||c?"y":!(!u&&!h)&&"x",p=c||h?1:-1,d=n.getElement(e),y={x:o.x,y:o.y};i[x]&&a(d)&&!t.isMaxPosition(x,o,p)&&(n.stop(e),y[x]+=p*r[x],t.scrollTo(y.x,y.y))},onMouseWheel:function(e){var t=this,o=t.options,i=t.position,r=t.scroll,s=r.x&&!r.y||"shift"===n.whichKey(e)?"x":"y",l=t.getScrollSize(),a=n.wheelDelta(e),c={x:i.x,y:i.y};a&&r[s]&&!t.isMaxPosition(s,i,a)?(n.stop(e),c[s]+=a*l[s],t.scrollTo(c.x,c.y)):o.preventDefaultMouseWheel&&n.stop(e)},onRefresh:function(){if(!this.elements.scroller.isInjected()||this.isScrolling)return!1;var e,t,o,i,n,s=this,l=s.options,a=s.elements,c=s.position,h=s.scrollBars,u=r.getScrolls.call(a.element),x=r.getDimensions.call(a.scrollerParent);return o={width:u.width,height:u.height},t={width:l.width||x.innerWidth,height:l.height||x.innerHeight},(t.width!==s.scroll.width||t.height!==s.scroll.height||o.width!==s.scroller.width||o.height!==s.scroller.height)&&(n={},l.scrollableX!==!1&&(n.width=t.width),l.scrollableY!==!1&&(n.height=t.height),a.scroller.setStyles(n),t.x=l.scrollableX&&t.width<u.width,t.y=l.scrollableY&&t.height<u.height,i=s.maxScroll={x:o.width<t.width?0:t.width-o.width,y:o.height<t.height?0:t.height-o.height},s.maxPage={x:Math.ceil(o.width/t.width),y:Math.ceil(o.height/t.height)},s.scroll=t,s.scroller=o,h.x&&h.x.setSize(t.width,o.width),h.y&&h.y.setSize(t.height,o.height),e=s.getResetPosition(),s.moved||e.x===c.x&&e.y===c.y||s.setPosition(e.x,e.y,0,!0),a.scroller.toggleClassName("scrollable",t.y||t.x),a.scroller.toggleClassName("scrollable-x",t.x),a.scroller.toggleClassName("scrollable-y",t.y),void 0)}}),d.Scrollbar=o.extend({name:"uwa-scroller-scrollbar",defaultOptions:{className:"",barColor:"#555",bgColor:"#EEE",opacity:1,dir:"vertical",padding:2,width:6,roundCorder:!0,autoHide:!0,draggable:!0,elastic:!1,debugPixel:!1},position:{x:0,y:0},scroller:null,visible:!0,init:function(e,t){this._parent(e),this.scroller=t,this.buildSkeleton(),this.initEvents(),this.options.autoHide&&this.hide()},destroy:function(){this.elements.wrapper.remove()},createDebugPixel:function(t,o,i,n){var r,s=this,l=2,a=s.isHorizontal,c=s.elements;s.options.debugPixel&&(s.debugPixels=s.debugPixels||[],n&&s.debugPixels.forEach(function(e){e.remove()}),r=c.wrapper.getOffsets(),s.debugPixels.push(e.createElement("div",{title:(i||"")+" x:"+t.x+" y:"+t.y,styles:{height:"2px",width:"4px",background:o||"red",position:"absolute",zIndex:"11",top:a?0:t.y-r.y-l,left:a?t.x-r.x-l:0}}).inject(s.scroller.elements.scroller)))},buildSkeleton:function(){var t,o,n=this,r=n.options,s=n.scroller.options,a="horizontal"===r.dir,c=parseInt(r.padding,10),h=parseInt(r.width,10),u=r.roundCorder?l(r.width/2*100/100):0,x=n.scroller.elements.scroller;n.isHorizontal=a,n.axis=a?"x":"y",n.reverseAxis=a?"y":"x",n.elements.wrapper=o=e.createElement("div",{class:n.getClassNames("","-"+r.dir),styles:{zIndex:"10",position:"absolute",overflow:"hidden",opacity:r.opacity}}).inject(x),r.bgColor&&o.setStyle("background",r.bgColor),a?o.setStyles({bottom:c+"px",left:c+"px",height:h+"px"}):o.setStyles({top:c+"px",right:c+"px",width:h+"px"}),n.elements.bar=t=e.createElement("div",{styles:{background:r.barColor,zIndex:"10",position:"absolute",top:0,left:0}}).inject(o),i.Engine.ie<7&&t.setHTML("&nbsp;&nbsp;&nbsp;"),a?t.setStyles({borderRadius:u+"px "+u+"px",width:h+"px",minWidth:h+1+"px",minHeight:h+"px"}):t.setStyles({borderRadius:u+"px "+u+"px",height:h+"px",minWidth:h+"px",minHeight:h+1+"px"}),r.useTransform&&(t.setStyles({transformOrigin:"0 0",transform:"translateZ(0)"}),s.has3d&&t.setStyles({perspective:800,transformStyle:"preserve-3d"}))},initEvents:function(){var e,t=this,o=t.options,i=t.elements;e=t.eventHandler=t.handleEvent.bind(t),o.draggable&&(p("init",i.bar,t.eventHandler),i.bar.setStyle("cursor","grab")),o.autoHide&&i.wrapper.addEvents({mouseenter:function(){t.focused=!0,t.show()},mouseleave:function(){t.focused=!1,t.hide()}})},handleEvent:function(e){var t,o=this;switch(e.type){case"touchstart":case"mousedown":t=o.dispatchEvent("onScrollInit",[e]);break;case"touchmove":case"mousemove":t=o.dispatchEvent("onScrollMove",[e]);break;case"touchend":case"touchcancel":case"mouseup":t=o.dispatchEvent("onScrollStop",[e])}return t},setSize:function(e,t){var o=this,i=o.options,n=o.scroller.scroll,r=o.isHorizontal,s=r?n.y:n.x,a=parseInt(i.width,10),c=parseInt(i.padding,10);t<=e?o.hide(!0):(i.autoHide||o.show(),o.maxSize=l(e-2*c-(s?a:0)),o.minSize=a,o.size=Math.min(Math.max(o.maxSize*o.maxSize/t,3*a),o.maxSize),o.maxScroll=o.maxSize-o.size,o.minScroll=0,o.toWrapperProp=o.maxScroll/(e-t),o.toPropWrapper=t/o.maxSize,o.elements.wrapper.setStyle(r?"width":"height",o.maxSize+"px"),o.elements.bar.setStyle(r?"width":"height",o.size+"px"))},onScrollInit:function(e){n.stop(e);var t=this,o="grabbing",i=t.scroller,r=n.getPosition(e);t.createDebugPixel(r,"#7FFF00",!0),p("start",i.body,t.eventHandler),t.scrollStart={x:r.x,y:r.y},t.scrollMove={x:r.x,y:r.y},t.elements.bar.setStyle("cursor",o),i.setCursor(o),i.isTracking=!0,i.isDragging=!0},onScrollMove:function(e){n.stop(e);var t=this,o=t.axis,i=t.toPropWrapper,r=t.scroller,s=r.maxScroll,l=t.scrollMove,a=t.isHorizontal,c=r.position,h=n.getPosition(e),u={x:a?(h.x-l.x)*i:0,y:a?0:(h.y-l.y)*i},x={x:c.x-u.x,y:c.y-u.y};x[o]>s[o]&&x[o]<0?(t.createDebugPixel(h,"orange"),r.setPosition(x.x,x.y,0),t.scrollMove={x:h.x,y:h.y}):t.createDebugPixel(h,"red")},onScrollStop:function(e){n.stop(e);var t=this,o="grab",i=t.scroller,r=n.getPosition(e),s=i.getResetPosition();t.createDebugPixel(r,"#00CED1"),i.setPosition(s.x,s.y,NaN,!1,!0),p("stop",t.scroller.body,t.eventHandler),t.focused||t.hide(),t.elements.bar.setStyle("cursor",o),t.scroller.setCursor(o),t.scrollMove=null,t.scrollStart=null,i.isTracking=!1,i.isDragging=!1},setPosition:function(e,t,o){var i,n,r,l,a,c=this,h=c.elements.bar,u=c.scroller,x=c.size,p=c.axis,d=c.dimension,y=(c.maxSize,c.minSize),g=c.position,m=c.maxScroll,v=c.minScroll,S=c.options,f=u.options,b={y:0,x:0};n=c.toWrapperProp*e,l=c.isHorizontal?"width":"height",n<0?S.elastic?(a=Math.max(x+n,y),b[p]=v):b[p]=v:n>m?S.elastic?(a=Math.max(x-(n-m),y),b[p]=Math.min(n,m+x-y)):b[p]=m:(a=x,b[p]=n),b.x===g.x&&b.y===g.y&&d===a||(o?t=0:c.show(),b={x:b.x,y:b.y},f.useTransform?(r={transitionDelay:"0ms",transitionDuration:t+"ms",transitionProperty:[h.getStyleName("transform",!0)].concat([l]).join(","),transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1.0)"},a&&S.elastic&&(r[l]=a+"px"),S.has3d?r.transform="translate3d("+b.x+"px,"+b.y+"px, 0)":r.transform="translate("+b.x+"px,"+b.y+"px)",h.setStyles(r)):(i=c.fx=c.fx||new s(h,{transition:"cubicOut",wait:!1}),i.setOptions({duration:t}),r={top:[g.y,b.y],left:[g.x,b.x]},a&&S.elastic&&(r[l]=[x,a]),i.start(r))),c.position=b,c.dimension=a},onScrollStart:function(){this.show()},onScrollEnd:function(){this.hide()},show:function(){var t,o=this;o.visible||(t={opacity:o.options.opacity},o.scroller.options.useTransform&&e.merge(t,{transitionProperty:"opacity",transitionDelay:"0ms",transitionDuration:"50ms"}),o.elements.wrapper.setStyles(t),o.visible=!0)},hide:function(t){var o,i=this;!i.visible||i.focused||i.scrollMove||!i.options.autoHide&&!t||(o={opacity:0},i.scroller.options.useTransform&&e.merge(o,{transitionProperty:"opacity",transitionDelay:t?"0ms":"300ms",transitionDuration:t?"0ms":"150ms"}),i.elements.wrapper.setStyles(o),i.visible=!1)}}),e.namespace("Controls/Scroller",d,e)});

define("UWA/Storage/Adapter/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Storage"],function(t,s,e){"use strict";var r=s.extend(e,{type:"Abstract",limit:-1,init:function(t,s){this.storage=t||{},this.database=null,this.data={},this.includes=[],this.storage.isReady=!1,this.setOptions(s)},isAvailable:function(){return!1},interruptAccess:function(){if(!this.storage.isReady)throw new Error("Storage Adapter "+this.type+" is not ready.");return!0},get:function(t){return this.interruptAccess(),this.data[t]||null},set:function(t,s){return this.interruptAccess(),this.data[t]=s,s},rem:function(t){this.interruptAccess();var s=this.data[t];return this.data[t]=null,s}});return t.namespace("Storage/Adapter/Abstract",r,t)});

define("UWA/Storage/Adapter/Object",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var r=e.extend({type:"Object",limit:0,connect:function(t){this.database=t,this.db={},this.storage.isReady=!0},isAvailable:function(){return!0},get:function(t){return this.db[t]},set:function(t,e){return this.interruptAccess(),this.db[t]=e,e},rem:function(t){this.interruptAccess();var e=this.get(t);return delete this.db[t],e}});return t.namespace("Storage/Adapter/Object",r,t)});

define("UWA/Environments/Frame",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Utils/InterCom","UWA/Element","UWA/Event","UWA/Environment","UWA/Controls/Scroller","UWA/Storage/Adapter/Object"],function(e,t,n,i,o,s,r,a){"use strict";var d=r.extend({name:"frame",init:function(e){this._remoteQueue=[],this._parent(e)},getOption:function(e){var t=document.querySelector("body");return t.hasAttribute(e)&&t.getAttribute(e)},onInit:function(){var e=document.querySelector("body"),t=o.getElement.bind(e);t(".moduleFrame")||this.buildSkeleton(e),this.html={wrapper:t(".module"),header:t(".moduleHeader"),content:t(".moduleWrapper"),body:t(".moduleContent"),edit:t(".moduleEdit"),menus:t(".moduleHeader > menu"),footer:t(".moduleFooter"),counter:t(".counter"),title:t(".title"),icon:t(".icon"),shareAction:t(".share"),refreshAction:t(".refresh"),editAction:t(".edit")},!this.scroller&&Number(this.getOption("displayScroller"))&&(this.scroller=new a(this.html.content,{snap:!1,bounce:!0,momentum:!0,lockDirection:!0})),this.onResize()},buildSkeleton:function(t){var n=e.hosts,i=e.i18n,s=n.uwa+e.paths.img+"icon.png",r=16,a=["module moduleUwa"],d=this.getOption("chromeColor"),h=Number(this.getOption("displayHeader")),u=Number(this.getOption("displayFooter")),c=Number(this.getOption("displayEdit")),l=[];d&&a.push(d+"-module"),h&&l.push({tag:"div",class:"moduleHeader",html:[{tag:"span",class:"icon",html:{tag:"img",height:r,width:r,src:s}},{tag:"span",class:"counter"},{tag:"span",class:"title",text:i(document.title)||i("Loading...")},{tag:"menu",type:"toolbar",class:"menus"}]}),l.push({tag:"div",class:"moduleWrapper",html:[c&&{tag:"div",class:"moduleEdit"},{tag:"div",class:"moduleContent",html:i("Loading...")}]}),u&&l.push({tag:"div",class:"moduleFooter",html:[{tag:"a",class:"powered",href:n.netvibes,text:i("© Netvibes")},{tag:"a",class:"share",href:n.ecosystem,text:i("Subscribe to this app")}]}),o.setContent.call(t,{tag:"div",class:a.join(" "),html:l})},onResize:function(){var e=this,t=e.html,i=t.wrapper.getScrolls(),o=e.scroller?n.getSize():i,s=o.width,r=o.height;return r>0&&r!==e.prevHeight&&(this.sendRemote("onResizeHeight",r),this.scroller&&(["header","footer"].forEach(function(e){r-=t[e]?t[e].offsetHeight:0}),this.scroller.setOptions({height:r}),this.scroller.onRefresh()),this.prevHeight=r),this.prevWidth!==s&&(n.Engine.safari&&this.html.wrapper.setStyle("width",s+"px"),void(this.prevWidth=s))},onRegisterWidget:function(){this._parent(),this.sendRemote("onRegisterWidget"),s.onDomReady(function(){this.initRemote()},this)},registerMenus:function(){this.widget.readOnly||(this.widget.setMenu({name:"options",icon:"options"}),this.widget.setMenu({name:"options/preferences",icon:"cogwheel",label:e.i18n("Settings"),onExecute:"onMenuExecute"}),this.widget.setMenu({name:"options/refresh",icon:"refresh",label:e.i18n("Refresh"),onExecute:"onMenuExecute"}),this.widget.addEvent("onMenuExecute",function(e){"options/preferences"===e.name?this.dispatchEvent("toggleEdit"):"options/refresh"===e.name&&this.dispatchEvent("onRefresh")}.bind(this)))},onLoad:function(){this._parent(),this.sendRemote("onLoad")},onInitConfig:function(e){this._parent(),this.sendRemote("onInitConfig",e)},onUpdateCounter:function(e,t){this._parent(e,t),this.sendRemote("onUpdateCounter",e,t)},onUpdateTitle:function(e){this._parent(e),this.sendRemote("onUpdateTitle",e)},onUpdateIcon:function(e){this._parent(e),this.sendRemote("onUpdateIcon",e)},onUpdateValue:function(e,t){this.widget?this.widget.setValue(e,t):this.setData(e,t),this.sendRemote("onUpdateValue",e,t)},onUpdatePreferences:function(e){this._parent(e),this.sendRemote("onUpdatePreferences",e)},onSearch:function(e){this._parent(e),this.sendRemote("onSearch",e)},onResetSearch:function(){this._parent(),this.sendRemote("onResetSearch")},onViewRequest:function(e){this.sendRemote("onViewRequest",e)},initRemote:function(){var e,t=this,n=t.widget;t.socket||(t.remoteCallbacks={},e=new i.Socket(n.id+"-slave"),e.subscribeServer("uwa.embedded",window.parent,n.widgetDomain),e.addListener("environmentMessage",function(e){var n=e.args,i=n.shift();t.disableRemote=i,t.dispatchEvent(i,n),t.disableRemote=!1}),t.socket=e,t._runRemoteQueue())},_runRemoteQueue:function(){var e,t,n=this;n.socket&&0!==n._remoteQueue.length&&(t=n._remoteQueue.shift(),n.disableRemote===!0||n.disableRemote===t[0]?n.log("sendRemote message ignored: "+t):(e={id:n.widget.id,args:t},n.log("sendRemote message: "+t),n.socket.dispatchEvent("widgetMessage",e,[e.id+"-master"])),n._runRemoteQueue())},sendRemote:function(){var e=this;e._remoteQueue.push(t.toArray(arguments)),e._runRemoteQueue()}});return e.namespace("Environments/Frame",d,e)});

define("UWA/Class/Listener",["UWA/Core","UWA/Class"],function(e,n){"use strict";function t(n){return function(t,s,r,o){var a,l,v,h=t[n];if(a=e.typeOf(s),"object"===a&&(l=s),!h||!(l||"string"===a&&e.is(r,"function")))throw new Error("invalid input args");e.is(this._listeningTo)||(this._listeningTo={}),e.is(t._observableId)||(t._observableId="o"+ ++i),this._listeningTo[t._observableId]=t,l||(l={},l[s]=r);for(v in l)l.hasOwnProperty(v)&&h.call(t,v,l[v],this,o);return this}}var i,s;return i=0,s=n.extend({listenTo:t("addEvent"),listenToOnce:t("addEventOnce"),stopListening:function(n,t,i){var s,r,o,a,l=this._listeningTo;if(r="removeEvent",l){o=e.typeOf(t),i||(!1===o?s=!0:"object"===o&&(r="removeEvents",i=this)),n&&(l={},l[n._observableId]=n);for(a in l)n=l[a],n[r](t,i,this),!s&&n.hasEvent()||delete this._listeningTo[a]}return this}}),e.namespace("Listener",s,n)});

define("UWA/Class/Model",["UWA/Core","UWA/String","UWA/Data","UWA/Class","UWA/Class/Events","UWA/Class/Listener"],function(t,e,i,n,s,r){"use strict";function a(t,e){var i=e.onFailure;e.onFailure=function(n){i&&i(t,n,e),t.dispatchEvent("onError",[t,n,e])}}function o(){throw new Error('A "url" property or function must be specified')}function u(t){return Array.prototype.concat.apply([],Array.prototype.slice.call(t,0))}var h,c=0,l={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};return h=n.extend(s,r,{init:function(e,i){var n,s=e||{};this.cid="c"+ ++c,this._attributes={},i&&(t.is(i.collection)&&(this.collection=i.collection),i.parse===!0&&(s=this.parse(e,i)||{})),n=t.result(this,"defaults"),t.is(n)&&(s=t.merge(t.clone(s,!1),n)),this.set(s,i),this._changed={},this.setup.apply(this,arguments)},clone:function(){return new this.constructor(this._attributes)},setup:function(){},sync:function(e,n,s){var r;t.is(s)||(s={});var a=t.is(s.ajax,"function")?s.ajax:i.request,u={method:l[e],type:"json",headers:{}};s.url||(u.url=t.result(n,"url")||o()),t.is(s.data)||!n||"create"!==e&&"update"!==e&&"patch"!==e||(u.headers["Content-Type"]="application/json",u.data=s.attrs||n.toJSON(s)),"GET"!==u.method&&t.is(u.data,"object")&&(u.data=JSON.stringify(u.data));var h=s.onComplete;s.onComplete=function(t,i){var n;n=r&&r.xhr?r.xhr.status:200,s.responseHeaders=i,h&&h("delete"!==e||202!==n&&204!==n?t:void 0)};var c=s.onFailure;s.onFailure=function(t,e,i){s.responseHeaders=i,c&&(e&&0!==e.length||(e=t.message||""),c(e))};var d=t.extend(u,s);return r=s.request=a(d.url,d),n.dispatchEvent("onRequest",[n,r,s]),r},parse:function(t){return t},_validate:function(e,i){var n;return!i.validate||!this.validate||(e=t.extend(t.extend({},this._attributes),e),!(n=this.validationError=this.validate(e,i)||null)||(this.dispatchEvent("onValidationFailure",[this,n,t.extend(i,{validationError:n})]),!1))},url:function(){var e;return e=t.result(this,"urlRoot")||t.result(this.collection,"url")||o(),this.isNew()||(e+="/"===e.charAt(e.length-1)?"":"/",e+=encodeURIComponent(this.id)),e},idAttribute:"id",set:function(e,i,n){var s,r,a,o,u,h,c,l,d,p,f,v;if(e){if(t.is(e,"object")?(r=e,n=i||{}):(r={},r[e]=i,n=n||{}),!this._validate(r,n))return!1;f=n.unset,v=n.silent,o=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=t.clone(this._attributes,!1),this._changed={}),r.hasOwnProperty(this.idAttribute)&&(this.id=r[this.idAttribute]),c=this._attributes,l=this._previousAttributes,h=this._changed;for(s in r)i=r[s],t.equals(c[s],i)||o.push(s),t.equals(l[s],i)?delete h[s]:h[s]=i,f?delete c[s]:c[s]=i;if(!v)for(o.length&&(this._pending=!0),d=0,p=o.length;d<p;d++)a=o[d],this.dispatchEvent("onChange:"+a,[this,c[a],n]);if(!u){if(!v)for(;this._pending;)this._pending=!1,this.dispatchEvent("onChange",[this,n]);this._pending=!1,this._changing=!1}}return!0},unset:function(e,i){return this.set(e,void 0,t.extend(t.extend({},i),{unset:!0}))},clear:function(e){var i,n={};e=e?t.clone(e):{};for(i in this._attributes)n[i]=void 0;return this.set(n,t.extend(e,{unset:!0}))},get:function(t){return this._attributes[t]},escape:function(i){var n=this.get(i);return t.is(n)?e.escapeHTML(n.toString()):""},has:function(e){return t.is(this.get(e))},keys:function(){return Object.keys(this._attributes)},values:function(){var t,e,i=this.keys(),n=[];for(t=0,e=i.length;t<e;t++)n.push(this.get(i[t]));return n},pairs:function(){var t,e,i,n=this.keys(),s=[];for(t=0,e=n.length;t<e;t++)i=n[t],s.push([i,this.get(i)]);return s},toJSON:function(){return t.clone(this._attributes,!1)},pick:function(){var t=this,e={},i=u(arguments);return i.forEach(function(i){t.has(i)&&(e[i]=t.get(i))}),e},omit:function(){var t,e,i,n={},s=u(arguments),r=this.keys();for(t=0,e=r.length;t<e;t++)i=r[t],s.indexOf(i)===-1&&(n[i]=this.get(i));return n},isNew:function(){return!t.is(this.id)},isValid:function(t){return!this.validate||!this.validate(this._attributes,t)},hasChanged:function(e){var i,n=!1,s=this._changed;if(s)if(t.is(e))n=t.owns(s,e);else for(i in s)if(t.owns(s,i)){n=!0;break}return n},changedAttributes:function(e){var i,n,s=!1;if(t.is(e,"object")){i=this._changing?this._previousAttributes:this._attributes;for(n in e)t.equals(i[n],e[n])||(s=s||{},s[n]=e[n])}else this.hasChanged()&&(s=t.clone(this._changed,!1));return s},previous:function(e){var i=this._previousAttributes;return t.is(e)&&i?i[e]:null},previousAttributes:function(){return t.clone(this._previousAttributes,!1)},save:function(e,i,n){var s,r,o,u,h,c=this;if(s=c._attributes,t.is(e)&&"object"!==t.typeOf(e)?(r={},r[e]=i):(r=e,n=i),n=t.extend({validate:!0},n),r&&!n.wait){if(!c.set(r,n))return!1}else if(!c._validate(r,n))return!1;return r&&n.wait&&(c._attributes=t.extend(t.extend({},s),r)),void 0===n.parse&&(n.parse=!0),u=n.onComplete,n.onComplete=function(e){var i;return c._attributes=s,i=c.parse(e,n),n.wait&&(i=t.extend(r||{},i)),!("object"==typeof i&&null!==i&&!c.set(i,n))&&(u&&u(c,e,n),c.dispatchEvent("onSync",[c,e,n]))},a(this,n),o=this.isNew()?"create":n.patch?"patch":"update","patch"===o&&(n.attrs=r),h=this.sync(o,this,n),r&&n.wait&&(c._attributes=s),h},fetch:function(e){var i,n=this;return e=e?t.clone(e,!1):{},void 0===e.parse&&(e.parse=!0),i=e.onComplete,e.onComplete=function(t){return!!n.set(n.parse(t,e),e)&&(i&&i(n,t,e),n.dispatchEvent("onSync",[n,t,e]))},a(this,e),this.sync("read",this,e)},destroy:function(e){var i,n,s,r=this;return e=e?t.clone(e,!1):{},n=e.onComplete,i=function(){return r.dispatchEvent("onDestroy",[r,r.collection,e])},e.onComplete=function(t){if((e.wait||r.isNew())&&i(),n&&n(r,t,e),!r.isNew())return r.dispatchEvent("onSync",[r,t,e])},r.isNew()?(e.onComplete(),!1):(a(r,e),s=r.sync("delete",r,e),e.wait||i(),s)}}),t.namespace("Model",h,n)});

define("UWA/Class/Collection",["UWA/Core","UWA/Array","UWA/Utils","UWA/Class","UWA/Class/Debug","UWA/Class/Events","UWA/Class/Listener","UWA/Class/Model"],function(t,e,n,i,r,o,s,u){"use strict";var l,c,h,d;return l={add:!0,remove:!0,merge:!0},c={add:!0,remove:!1},h=function(e){return t.is(e,"function")?e:function(t){return t.get(e)}},d=i.extend(o,s,{init:function(e,n){t.is(n)||(n={}),n.url&&(this.url=n.url),n.model&&(this.model=n.model),void 0!==n.comparator&&(this.comparator=n.comparator),this._reset(),this._modelListener=function(t,e,n,i){return this._onModelEvent(t,e,n,i)},this.setup(e,n),e&&this.reset(e,t.extend({silent:!0},n))},clone:function(){return new this.constructor(this._models)},setup:function(){},sync:function(){return u.prototype.sync.apply(this,arguments)},parse:function(t){return t},model:u,add:function(e,n){return this.set(e,t.extend(t.extend({merge:!1},n),c))},push:function(e,n){return this.add(e,t.merge({at:this.length},n))},unshift:function(e,n){return this.add(e,t.merge({at:0},n))},remove:function(e,n){var i,r,o,s,u;for(t.is(n)||(n={}),u=!Array.isArray(e),e=u?[e]:t.clone(e,!1),o=0,s=e.length;o<s;o++)r=e[o]=this.get(e[o]),r&&(delete this._byId[r.id],delete this._byId[r.cid],i=this.indexOf(r),this._models.splice(i,1),this.length--,n.silent||(n.index=i,r.dispatchEvent("onRemove",[r,this,n])),this._removeReference(r));return u?e[0]:e},pop:function(t){var e;return e=this.at(this.length-1),this.remove(e,t),e},shift:function(t){var e;return e=this.at(0),this.remove(e,t),e},sort:function(e){if(t.is(e)||(e={}),!this.comparator)throw new Error("Cannot sort a collection without a comparator");return t.is(this.comparator,"string")||1===this.comparator.length?this._models=this.sortBy(this.comparator,this):this._models.sort(this.comparator.bind(this)),e.silent||this.dispatchEvent("onSort",[this,e]),this},set:function(e,n){var i,r,o,s,c,h,d,a,f,m,p,v,_,g,y,E,A,b,x,C,I,w,O=this;for(n=t.merge(t.merge({},n),l),n.parse&&(e=O.parse(e,n)),w=!Array.isArray(e),e=w?e?[e]:[]:t.clone(e,!1),i=n.at,g=O.model,r=O.comparator&&!t.is(i)&&n.sort!==!1,o="string"===t.typeOf(O.comparator)?O.comparator:null,s=[],c=[],h={},d=n.add,a=n.merge,f=n.remove,m=!(r||!d||!f)&&[],p=0,v=e.length;p<v;p++)E=e[p],_=E instanceof u?y=E:E[g.prototype.idAttribute],A=O.get(_),A?(f&&(h[A.cid]=!0),a&&(E=E===y?y._attributes:E,n.parse&&(E=A.parse(E,n)),A.set(E,n),r&&!b&&A.hasChanged(o)&&(b=!0)),e[p]=A):d&&(y=e[p]=O._prepareModel(E,n),y&&(e[p]=y,s.push(y),y.addEvent("onAnyEvent",O._modelListener,O),O._byId[y.cid]=y,t.is(y.id)&&(O._byId[y.id]=y))),m&&(A||y)&&m.push(A||y);if(f){for(p=0,v=O.length;p<v;++p)y=O._models[p],h[y.cid]||c.push(y);c.length&&O.remove(c,n)}if(s.length||m&&m.length)if(r&&(b=!0),O.length+=s.length,t.is(i))for(C=0,I=s.length;C<I;C++)O._models.splice(i+C,0,s[C]);else for(m&&(O._models.length=0),x=m||s,C=0,I=x.length;C<I;C++)O._models.push(x[C]);if(b&&O.sort({silent:!0}),!n.silent){for(p=0,v=s.length;p<v;p++)y=s[p],y.dispatchEvent("onAdd",[y,O,n]);(b||m&&m.length)&&O.dispatchEvent("onSort",[O,n])}return w?e[0]:e},reset:function(e,n){var i,r,o,s;for(n=n?t.clone(n,!1):{},s=this._models,r=0,o=s.length;r<o;r++)i=s[r],this._removeReference(i);return n.previousModels=this._models,this._reset(),e=this.add(e,t.extend({silent:!0},n)),n.silent||this.dispatchEvent("onReset",[this,n]),e},get:function(e){if(t.is(e))return this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(t){return this._models[t]},first:function(e,n){return t.is(e)&&!n?this._models.slice(0,e):this._models[0]},last:function(e,n){return t.is(e)&&!n?this._models.slice(Math.max(this._models.length-e,0)):this._models[this._models.length-1]},toArray:function(){return this.slice()},slice:function(t,e){return this._models.slice(t,e)},rest:function(e,n){return this._models.slice(!t.is(e)||n?1:e)},initial:function(e,n){return this._models.slice(0,this._models.length-(!t.is(e)||n?1:e))},without:function(){var t;return t=Array.prototype.concat.apply([],Array.prototype.slice.call(arguments)),this._models.filter(function(e){return t.indexOf(e)===-1})},indexOf:function(t,e){return this._models.indexOf(t,e)},lastIndexOf:function(t,e){return this._models.lastIndexOf(t,e)},contains:function(t){return this.indexOf(t)!==-1},size:function(){return this._models.length},isEmpty:function(){return 0===this._models.length},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},pluck:function(t){return this._models.map(function(e){return e.get(t)})},shuffle:function(){var t,e;return e=[],this.forEach(function(i,r){t=n.random(r),e[r]=e[t],e[t]=i}),e},where:function(e,n){return t.is(e)?this[n?"find":"filter"](function(t){var n;for(n in e)if(e[n]!==t.get(n))return!1;return!0}):n?void 0:[]},findWhere:function(t){return this.where(t,!0)},invoke:function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this._models),e.invoke.apply(null,t)},forEach:function(t,e){return this._models.forEach(t,e)},map:function(t,e){return this._models.map(t,e)},every:function(t,e){return this._models.every(t,e)},some:function(t,e){return this._models.some(t,e)},sortBy:function(t,e){var n,i;return n=h(t),i=this._models.map(function(t,i,r){return{model:t,index:i,criteria:n.call(e,t,i,r)}}),i.sort(function(t,e){var n,i;if(n=t.criteria,i=e.criteria,n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index<e.index?-1:1}),i.map(function(t){return t.model})},groupBy:function(e,n){var i,r,o=this._models;return i=h(e),r={},this.forEach(function(e,s){var u=i.call(n,e,s,o);t.owns(r,u)||(r[u]=[]),r[u].push(e)}),r},countBy:function(e,n){var i,r,o=this._models;return i=h(e),r={},this.forEach(function(e,s){var u=i.call(n,e,s,o);t.owns(r,u)||(r[u]=0),r[u]++}),r},find:function(t,e){var n;return this.some(function(i,r,o){if(t.call(e,i,r,o))return n=i,!0}),n},filter:function(t,e){return this._models.filter(t,e)},reject:function(t,e){return this.filter(function(e,n,i){return!t(e,n,i)},e)},reduce:function(t,e,n){var i=t;return n&&(i=i.bind(n)),arguments.length>1?this._models.reduce(i,e):this._models.reduce(i)},reduceRight:function(t,e,n){var i=t;return n&&(i=i.bind(n)),arguments.length>1?this._models.reduceRight(i,e):this._models.reduceRight(i)},max:function(t,e){var n,i;if(t&&!this.isEmpty())return i=h(t),n={computed:-(1/0),model:void 0},this.forEach(function(t,r,o){var s;if(s=i.call(e,t,r,o),s>=n.computed)return n={model:t,computed:s}}),n.model},min:function(t,e){var n,i;if(t&&!this.isEmpty())return i=h(t),n={computed:1/0,model:void 0},this.forEach(function(t,r,o){var s;if(s=i.call(e,t,r,o),s<n.computed)return n={model:t,computed:s}}),n.model},fetch:function(e){var n,i,r=this;return e=e?t.clone(e,!1):{},void 0===e.parse&&(e.parse=!0),n=e.onComplete,e.onComplete=function(t){var i;return i=e.reset?"reset":"set",r[i](t,e),n&&n(r,t,e),r.dispatchEvent("onSync",[r,t,e])},i=e.onFailure,e.onFailure=function(t){i&&i(r,t,e),r.dispatchEvent("onError",[r,t,e])},r.sync("read",r,e)},create:function(e,n){var i,r,o=this;return n=n?t.clone(n,!1):{},!!(i=o._prepareModel(e,n))&&(n.wait||o.add(i,n),r=n.onComplete,n.onComplete=function(t,e){if(n.wait&&o.add(t,n),r)return r(t,e,n)},i.save(null,n),i)},_reset:function(){return this.length=0,this._models=[],this._byId={},this._byId},_prepareModel:function(e,n){var i;return e instanceof u?(e.collection||(e.collection=this),e):(n=t.is(n)?t.clone(n,!1):{},n.collection=this,i=new this.model(e,n),i.validationError?(this.dispatchEvent("onValidationFailure",[this,i.validationError,n]),!1):i)},_removeReference:function(t){return this===t.collection&&delete t.collection,t.removeEvent("onAnyEvent",this._modelListener,this)},_onModelEvent:function(e,n,i,r){if("onAdd"!==e&&"onRemove"!==e||i===this)return"onDestroy"===e&&this.remove(n,r),n&&e==="onChange:"+n.idAttribute&&(delete this._byId[n.previous(n.idAttribute)],t.is(n.id)&&(this._byId[n.id]=n)),this.dispatchEvent(e,[n,i,r])}}),t.namespace("Collection",d,i)});

define("UWA/Class/Store",["UWA/Core","UWA/Utils","UWA/String","UWA/Class","UWA/Class/Debug"],function(t,e,r,s,i){"use strict";var n;return n=s.extend(i,{init:function(e,r,s){var i;t.log(["","*IMPORTANT NOTICE : UWA.Class.Store IS AN EXPERIMENTAL ","FEATURE SUBJECT TO REMOVAL, DEPRECIATION OR CHANGES IN THE ","NEXT RELEASE! IT IS PROVIDED AS A TEMPORARY CONVENIENCE, ","CONSEQUENTLY DO NOT USE THIS IN PRODUCTION CODE!*"].join("")),this._name=r,this._storage=e,this.debugMode=s&&s.debugMode,i=this._storage.get(this._name),this._records=i&&i.split(",")||[]},log:function(){return this._parent(r.format('Store "{0}": {1}',this._name,r.format.apply(null,arguments)))},_save:function(){return this._storage.set(this._name,this._records.join(","))},_set:function(t,e){return this._storage.set(this._name+"-"+t,JSON.stringify(e))},_rem:function(t){return this._storage.remove(this._name+"-"+t)},_insert:function(t,r){var s=e.getUUID();return t[r]=s,this._set(s,t)&&(this._records.push(s),this._save()?this.log('Successfully inserted model "{0}"',s):this._rem(s)?this._records.pop():this._throwError('Unable to rollback failed insertion of model "{0}"',s)),this._find(s)},_find:function(t){var e=this._storage.get(this._name+"-"+t);return e&&JSON.parse(e)},_findAll:function(){return this._records.map(function(t){return this._find(t)},this).filter(function(t){return t},this)},_update:function(e,r){var s;return s=this._find(e),s&&(s=this._set(e,t.extend(s,r)),s&&(s=this._find(e),s&&this.log('Successfully updated model "{0}"',e))),s},_remove:function(t){var e=this._rem(t);return e&&(this._records=this._records.filter(function(e){return e!==t}),this._save()?this.log('Successfully removed model "{0}"',t):this._set(t,e)?(this._records.push(t.toString()),e=null):this._throwError('Unable to rollback failed deletion of model "{0}"',t)),e},_clear:function(){this._records.forEach(function(t){this._rem(t)},this),this._storage.rem(this._name),this._records.length=0},_throwError:function(){throw new Error(r.format("Store {0}: {1}",this._name,r.format.apply(null,arguments)))},sync:function(e,s,i){var n,o,a,h,u;"create"!==e&&"update"!==e&&"patch"!==e||(o=s.toJSON(i)),n=s.id,a=s.idAttribute;try{switch(e){case"read":h=t.is(n)?this._find(n):this._findAll();break;case"create":h=this._insert(o,a);break;case"update":case"patch":h=this._update(n,o);break;case"delete":h=this._remove(n);break;default:this._throwError('Unsupported method "{0}"',e)}}catch(t){u=t.message}return h?i&&i.onComplete&&i.onComplete(h):i&&i.onFailure&&i.onFailure(u||r.format('Store "{0}": model "{1}" not found',this._name,n)),{cancel:function(){}}}}),t.namespace("Store",n,s)});

define("UWA/Class/View",["UWA/Core","UWA/Element","UWA/Class","UWA/Class/Listener","UWA/Controls/Abstract"],function(t,e,n,i,s){"use strict";function r(e,n){var i;return e&&(i=e[n],t.is(i,"function")&&(i=i.call(e))),i}var o,a,h;return h=["model","collection","container","id","attributes","className","tagName","domEvents"],a=0,o=s.extend(i,{tagName:"div",init:function(e){var n,i,s;for(this.cid="c"+ ++a,e=t.clone(e||{},!1),i=h.length-1;i>=0;i--)s=h[i],e.hasOwnProperty(s)&&(this[s]=e[s],delete e[s]);this._parent(e),this.container?this._ensureContainer(r(this,"container")):(n=t.extend({},r(this,"attributes")),this.id&&(n.id=r(this,"id")),this.className&&(n.class=r(this,"className")),this.container=t.createElement(r(this,"tagName"),n)),this.setup.apply(this,arguments),this.delegateDOMEvents()},setup:function(){},destroy:function(){this.undelegateDOMEvents(),this._parent()},render:function(){return this},setContainer:function(t){return this.undelegateDOMEvents(),this._ensureContainer(t),this.delegateDOMEvents(),this},_ensureContainer:function(n){var i;if(n instanceof e)return void(this.container=n);if(i=t.typeOf(n),"element"===i)this.container=t.extendElement(n);else{if("object"!==i)throw new Error("Invalid type of container");this.container=t.createElement(n.tag,n)}},getElement:function(t){return this.container.getElement(t)},getElements:function(t){return this.container.getElements(t)},delegateDOMEvents:function(e){var n,i;if(t.is(e)||(e=r(this,"domEvents")),!e)return this;this.undelegateDOMEvents();for(n in e){if(i=e[n],"function"!=typeof i){if("string"!=typeof i)throw new Error("Invalid type of value in hash of domEvents!");i=this[i]}if(!i)throw new Error("Method '"+e[n]+"' does not exist");i=i.bind(this),this.container.addEvent(n,i)}return this},undelegateDOMEvents:function(){if(!this.container)throw new Error("unexpected error");return this.container.removeEvent(),this}}),t.namespace("View",o,n)});

define("UWA/Controls/Segmented",["UWA/Core","UWA/Event","UWA/Controls/Abstract"],function(t,e,s){"use strict";var i=s.extend({name:"uwa-segmented",defaultOptions:{title:null,multiSelect:!1,atLeastOneSelected:!1,constantItemWidth:!1,className:"",data:null},itemLength:0,init:function(t){this._parent(t),this.options.data=this.options.data||{},this.elements.items={},this.selectedItemsName={},this.buildSkeleton(),this.options.data&&this.addItems(this.options.data)},buildSkeleton:function(){var e=this.elements,s=this.options;e.container=t.createElement("ul",{class:this.getClassNames()}),s.title&&t.createElement("li",{class:this.getClassNames("-title"),html:{tag:"span",text:s.title}}).inject(e.container),e.itemContainer=e.container},updateItemClassNames:function(){var t,e,s=this.elements.items,i=0;for(t in s)s.hasOwnProperty(t)&&(e=s[t],e.removeClassName(this.getClassNames("-item-first")),e.removeClassName(this.getClassNames("-item-last")),e.addClassName(this.getClassNames("-item")+" "+t),0===i&&e.addClassName(this.getClassNames("-item-first")),i===this.itemLength-1&&e.addClassName(this.getClassNames("-item-last")),i++)},createItem:function(s,i){var n,a=this.elements.items,l=i.text||"",m=this;return n=t.createElement("li",{html:{tag:"a",class:s+"-title "+this.getClassNames("-item-title"),html:{tag:"span",text:l},events:{click:function(t){e.stop(t),m.dispatchEvent("onClick",[s])}}}}),i.title&&(this.options.data[s].text=i.title,n.getElement("span").setHTML(i.title)),a[s]=n,i.pinned&&(n.addClassName("uwa-pinned"),this.selectItem(s,!1)),n},onResize:function(){var t,e,s=this.elements.items,i=0;if(this.options.constantItemWidth){for(t in s)s.hasOwnProperty(t)&&(e=s[t].getDimensions().width,i=e>i?e:i);for(t in s)s.hasOwnProperty(t)&&0!==i&&s[t].setStyle("width",i+"px")}},onClick:function(t){this.options.multiSelect?this.toggleItem(t):this.selectItem(t)},addItems:function(t){var e;for(e in t)t.hasOwnProperty(e)&&this.addItem(e,t[e])},addItem:function(t,e){var s,i,n;if(e=e||{},this.options.data[t]=e,e.where||(e.where="bottom"),i=e.where.split(" "),s=i[0],1!==i.length||"top"!==s&&"bottom"!==s){if(2!==i.length||"before"!==s&&"after"!==s)throw new Error('Has to be "top", "bottom", "before item" of "after item"');n=this.elements.items[i[1]]}else n=this.elements.itemContainer;this.createItem(t,e).inject(n,s),this.itemLength++,this.updateItemClassNames()},setItemTitle:function(t,e){var s=this.elements.items[t];s&&(this.options.data[t].text=e,s.getElement("span").setHTML(e))},setItemState:function(e,s,i){var n=this.options.data[e],a=this.elements.items[e];i=!t.is(i)||i,!s&&this.options.atLeastOneSelected&&1===this.getSelectedItems().length||(a||this.selectedItemsName[e]!==s)&&(this.options.multiSelect||this.unselectItems(),a.toggleClassName("selected",s),this.selectedItemsName[e]=s,i&&this.dispatchEvent("onChange",[e,s,n]))},toggleItem:function(t,e){this.setItemState(t,!this.isSelected(t),e)},unselectItem:function(t,e){this.setItemState(t,!1,e)},selectItem:function(t,e){this.setItemState(t,!0,e)},getSelectedItems:function(){var t,e=this.selectedItemsName,s=[];for(t in e)e.hasOwnProperty(t)&&e[t]===!0&&s.push(t);return s},isSelected:function(t){return this.selectedItemsName[t]},unselectItems:function(t,e){var s,i=this.selectedItemsName,n=this.elements.items;t=void 0===t||t;for(s in n)n.hasOwnProperty(s)&&i[s]&&!n[s].hasClassName("uwa-pinned")&&e!==s&&(n[s].removeClassName("selected"),i[s]=!1,t&&this.dispatchEvent("onChange",[s,!1,this.options.data[s]]))},enable:function(){this.enabled=!0,this.getContent().removeClassName("disabled")},disable:function(){this.enabled=!1,this.getContent().addClassName("disabled")},isEnabled:function(){return this.enabled}});return t.namespace("Controls/Segmented",i,t)});

define("UWA/Controls/Accordion",["UWA/Core","UWA/Controls/Segmented"],function(t,e){"use strict";var n=e.extend({name:"uwa-accordion",defaultOptions:{title:null,multiSelect:!1,constantItemWidth:!1,contentPosition:"bottom"},init:function(t){this._parent(t)},hasItem:function(t){return!!this.elements.items[t]},addItem:function(e,n){var o=this.elements,i=o.items=o.items||{},s=o.containers=o.containers||{};this._parent(e,n),s[e]=t.createElement("div",{class:this.getClassNames("-content")}).inject(i[e],"top"===this.options.contentPosition?"top":"bottom"),n.content&&this.setContent(e,n.content)},removeItem:function(t){var e=this.elements,n=e.items;n[t]&&(n[t].destroy(),n[t]=null)},updateContent:function(e,n,o){var i=this.elements.containers[e];return o&&i.empty(),t.is(n,"string")&&(n=t.createElement("div",{html:n})),i.addContent(n),i},buildSkeleton:function(){var e=this.elements;e.container=t.createElement("ul",{class:this.getClassNames()}),e.itemContainer=e.container},onClick:function(t){this.toggleItem(t)},onChange:function(t,e){e&&!this.options.multiSelect&&this.unselectItems(!1,t)},setContent:function(t,e){return this.updateContent(t,e,!0)},addContent:function(t,e){return this.updateContent(t,e,!1)}});return t.namespace("Controls/Accordion",n,t)});

define("UWA/Controls/Flash",["UWA/Core","UWA/Utils","UWA/Controls/Abstract"],function(e,t,a){"use strict";var s=a.extend({id:null,defaultOptions:{url:"",width:320,height:240,className:"uwa-swf",pluginspage:"http://www.macromedia.com/go/getflashplayer",flashVars:"",scale:"exactfit",wmode:"opaque",quality:"hight",allowScriptAccess:"sameDomain",bgcolor:!1,allowfullscreen:"true"},flashVersion:null,init:function(e){this._parent(e),e=this.options,this.id=e.id||t.random(10),this.flashVersion=this.detectFlashVersion(),this.buildSkeleton()},buildSkeleton:function(){function a(e){return String(e).replace(/(&amp;)|(&)/g,"%26")}var s,i,l,n,o=window.navigator,r=this.elements,c=this.options,h=c.flashVars||"",u=a(c.url||"");if(this.container=r.container=e.createElement("div",{class:c.className}),e.is(h,"string")||(h=a(t.toQueryString(h))),o.plugins&&o.mimeTypes&&o.mimeTypes.length)r.flashTag=e.createElement("embed",{id:this.id,type:"application/x-shockwave-flash",src:u,width:c.width,height:c.height,pluginspage:c.pluginspage,flashvars:h,scale:c.scale,quality:c.quality,allowScriptAccess:c.allowScriptAccess,wmode:c.wmode,allowfullscreen:c.allowfullscreen});else{n=[],s={movie:u,flashvars:h,quality:c.quality,allowScriptAccess:c.allowScriptAccess,wmode:c.wmode,allowfullscreen:c.allowfullscreen};for(i in s)s.hasOwnProperty(i)&&n.push({tag:"param",name:i,value:s[i]});r.flashTag=e.createElement("object",{id:this.id,width:c.width,height:c.height,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",html:n})}return r.flashTag.inject(r.container),this.object=r.flashTag,0===this.flashVersion.major&&(l=e.createElement("p",{text:e.i18n("You need Adobe Flash to display this Content."),styles:{textAlign:"center"}}),l.inject(r.container)),this.container},getFlashContainer:function(){return void 0===this.object&&this.getContent(),this.object},getFlashVersion:function(){return this.flashVersion},detectFlashVersion:function(){var e,t,a,s=[0,0,0];if(navigator.plugins&&navigator.mimeTypes.length)a=navigator.plugins["Shockwave Flash"],a&&a.description&&(s=a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0)for(e=1,t=3;e;)try{t++,e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t),s=[t,0,0]}catch(t){e=null}else{try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),s=[6,0,21],e.AllowScriptAccess="always"}catch(e){if(6===s.major)return s}try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){e=null}}null!==e&&(s=e.GetVariable("$version").split(" ")[1].split(","))}return{major:s[0],minor:s[1],rev:s[2]}}});return e.namespace("Controls/Flash",s,e)});

define("UWA/Controls/Slider",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract"],function(e,t,s,n,i,o){"use strict";var a=o.extend({name:"uwa-slider",defaultOptions:{className:"",isTouch:s.Features.touchEvents,value:0,handleButton:!1,handleDragTreshold:40,slider:{html:[{tag:"div",class:"scrubber-wrapper",html:{tag:"div",class:"scrubber",html:[{tag:"div",class:"progress"},{tag:"div",class:"loaded"},{tag:"div",class:"handle handle-hide"}]}}],scrubberClass:"scrubber",progressClass:"progress",handleClass:"handle",loadedClass:"loaded"}},init:function(e){e=e||{},this._parent(e),this.eventNames={start:this.options.isTouch?"touchstart":"mousedown",move:this.options.isTouch?"touchmove":"mousemove",end:this.options.isTouch?"touchend":"mouseup"},this.body=e.body||document.body,this.bodyEvents={},this.options.handleButton&&(this.bodyEvents[this.eventNames.move]=this.onHandleDrag.bind(this),this.bodyEvents[this.eventNames.end]=this.onHandleDragEnd.bind(this)),this._buildSkeleton(),this._attachEvents(),this.reset()},reset:function(){var e=this,t=e.elements;e.loadedPercent=0,t.progress.setStyle("width",0),e._updatePosition(0)},show:function(){this.container.show()},hide:function(){this.container.hide()},setValue:function(e){return e<0||e>100?void console.log("The value should be an integer between 0 and 100"):(this.setOption("value",e),void this._updatePosition(e))},setLoadedValue:function(e){this.elements.loaded.setStyle("width",e+"%")},onInjected:function(){this.options.value>0&&this._updatePosition(this.options.value)},onHandleDragStart:function(e){var t=this.elements.handle,s=n.getPosition(e).x,o=s-t.getPosition(document).x;Math.abs(o)<=this.options.handleDragTreshold&&(n.stop(e),i.addEvents.call(this.body,this.bodyEvents))},onHandleDrag:function(e){n.stop(e);var t=n.getPosition(e).x,s=this.elements.scrubber.getParent().getClientRects()[0].left;s=t-s,s<0?s=0:s>this.elements.scrubber.offsetWidth&&(s=this.elements.scrubber.offsetWidth),this._updateValue(s)},onHandleDragEnd:function(e){n.stop(e),i.removeEvents.call(this.body,this.bodyEvents),this.drag=null},onProgressBarClick:function(e){var t,s=n.getPosition(e);t=s.x-this.elements.scrubber.getPosition(document).x,this._updateValue(t)},_buildSkeleton:function(){var t,s,n=this,i=n.options,o=i.slider;return i.container&&e.is(i.container.getElement(".controls-slider"),"element")?(t=i.container.getElement(".controls-slider"),t.addClassName(this.getClassNames()),t.addContent(i.slider.html)):t=e.createElement("div",{class:this.getClassNames(),html:i.slider.html}),s=t.getElement.bind(t),n.elements={scrubber:s("."+o.scrubberClass),progress:s("."+o.progressClass),handle:s("."+o.handleClass),loaded:s("."+o.loadedClass)},i.handleButton&&n.elements.handle.removeClassName("handle-hide"),n.container=t,n},_attachEvents:function(){var e=this,t=e.elements,s=e.dispatchEvent.bind(e);return e.options.handleButton&&e.container.addEvent(e.eventNames.start,e.onHandleDragStart.bind(e)),t.scrubber.addEvent("click",s.bind(e,"onProgressBarClick")),this},_updateValue:function(e){var t=this.elements.scrubber.offsetWidth,s=Math.round(100*e/t);this.setOption("value",s),this._updatePosition(s),this.dispatchEvent("onChange",s)},_updatePosition:function(e){if(this.container&&this.container.isInjected()){var t=this.elements.progress,s=this.elements.scrubber,n=this.elements.handle,i=n.offsetWidth/2/s.offsetWidth*100;t.setStyle("width",e+"%"),n.setStyle("left",e-i+"%")}}});return e.namespace("Controls/Slider",a,e)});

define("UWA/Controls/AudioPlayer",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Flash","UWA/Controls/Slider"],function(t,e,a,s,i,o,n,r){"use strict";var l=0,d=o.extend({name:"uwa-audioplayer",defaultOptions:{url:"",autoPlay:!1,handleButton:!0,closeButton:!0,preload:"none",className:"",isTouch:a.Features.touchEvents,player:{html:[{tag:"div",class:"uwa-icon play-pause"},{tag:"div",class:"controls-times",html:[{tag:"span",class:"played",text:"00:00"},{tag:"span",class:"duration duration-hide",text:"00:00"}]},{tag:"div",class:"controls-slider"},{tag:"div",class:"controls-right",html:{tag:"div",class:"uwa-icon close close-hide"}}],playPauseClass:"play-pause",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",waitingClass:"waiting",errorClass:"error",closeClass:"close"}},adapter:null,init:function(e){var a=this;this.id=l,l++,t.Controls.AudioPlayer.Instances["x"+this.id]=this,e=e||{},this._parent(e),this.eventNames={start:this.options.isTouch?"touchstart":"mousedown",move:this.options.isTouch?"touchmove":"mousemove",end:this.options.isTouch?"touchend":"mouseup"},this.body=e.body||document.body,this.buildSkeleton(),this.attachEvents(),this.reset(),this.options.url&&this[this.options.autoPlay?"play":"load"](),this.container.addEvent("resize",function(){var t,e,s,i,o,n,r,l=30,d=10,u=7;t=a.elements,t.slider.show(),t.controlsTimes.show(),t.controlsRight.show(),e=a.container.getSize().width,s=t.playPause.getSize().width,i=t.slider.getSize().width,o=t.controlsTimes.getSize().width,n=t.controlsRight.getSize().width,i<l&&(t.slider.hide(),r=s+o+n,r>e-d&&(t.controlsTimes.hide(),r-=o,r>e-u&&t.controlsRight.hide()))})},getAdapter:function(e){var a,s,i=t.Controls.AudioPlayer.Adapter;for(a in i)i.hasOwnProperty(a)&&!s&&i[a].isAvailable(e)&&(s=i[a]);return s?(this.adapter||(this.adapter=s.build(this)),this.adapter.setUrl(e),this.adapter):void window.open(e)},buildSkeleton:function(){var e,a,s=this,i=s.options,o=i.player;return e=t.createElement("div",{class:this.getClassNames(),html:i.player.html}),a=e.getElement.bind(e),s.elements={playPause:a(".play-pause"),slider:null,controlsTimes:a(".controls-times"),controlsRight:a(".controls-right"),played:a("."+o.playedClass),duration:a("."+o.durationClass),play:a("."+o.playPauseClass),close:a("."+o.closeClass)},s.options.closeButton&&s.elements.close.removeClassName("close-hide"),s.container=e,s},attachEvents:function(){var t=this,e=t.elements,a=t.dispatchEvent.bind(t);return e.play.addEvent("click",a.bind(t,"onPlayPause")),this.options.closeButton&&e.close.addEvent("click",a.bind(t,"close")),t.slider=new r({_root:!1,container:t.container,events:{onChange:function(a){var s=a*t.adapter.getDuration()/100;t.adapter.setCurrentTime(s),e.played.setText(t.formatTime(s))}}}),t.elements.slider=t.slider.elements.scrubber,this},reset:function(){var t=this,e=t.elements;t.loadedPercent=0,t.canPlay=!1,t.shouldPlay=!1,e.duration.setText(t.formatTime(0)),e.played.setText(t.formatTime(0))},load:function(t){t=t||this.options.url,this.stop(),this.reset(),this.show(),this.adapter=this.getAdapter(t)},play:function(t,e){this.load(t,e),this.adapter.play(),this.shouldPlay=!0},pause:function(){this.adapter&&this.adapter.pause(),this.shouldPlay=!1},stop:function(){this.adapter&&(this.adapter.stop(),this.slider.reset())},close:function(){this.stop(),this.slider.reset(),this.hide()},onPlayPause:function(){this.adapter&&this.adapter[this.adapter.isPaused()?"play":"pause"]()},onPlay:function(){this.container.addClassName(this.options.player.playingClass).removeClassName("paused"),this.canPlay||this.container.addClassName(this.options.player.waitingClass),this.shouldPlay=!0},onPause:function(){this.container.removeClassName(this.options.player.waitingClass).removeClassName(this.options.player.playingClass).addClassName("paused"),this.shouldPlay=!1},onCanPlay:function(){(this.options.preload||"none"!==this.options.preload)&&this.trackLoadProgress(),this.container.removeClassName(this.options.player.waitingClass),this.canPlay=!0,this.shouldPlay&&this.adapter&&this.adapter.isPaused()&&this.adapter.play()},onMetadataLoaded:function(){this.elements.duration.setText(this.formatTime(this.adapter.getDuration()))},onTimeUpdate:function(){this.elements.played.setText(this.formatTime(this.adapter.getCurrentTime()));var t=100*this.adapter.getCurrentTime()/this.adapter.getDuration();this.slider.setValue(t)},trackLoadProgress:function(){this.loadTimer&&clearTimeout(this.loadTimer),this.loadedPercent<1&&(this.loadTimer=setTimeout(function(){this.onLoadProgress(),this.trackLoadProgress()}.bind(this),400))},onLoadProgress:function(){this.loadedPercent=this.adapter?this.adapter.getLoadProgress():0,this.loadedPercent&&this.slider.setLoadedValue(this.loadedPercent)},formatTime:function(t){var e=parseInt(t,10),a=Math.floor(e/60,10),s=e-60*a;return s=isNaN(s)?0:s,a=isNaN(a)?0:a,a+":"+(s<10?"0"+s:s)}});return d.Instances={},d.Adapter={audio:{audioTag:null,isAvailable:function(t){var e=document.createElement("audio");return!!e.canPlayType&&(/\.mp3$/.test(t)&&""!==e.canPlayType("audio/mpeg")||/\.m4a$/.test(t)&&""!==e.canPlayType("audio/x-m4a")||/\.ogg$/.test(t)&&""!==e.canPlayType('audio/ogg; codecs="vorbis"'))},build:function(e){return this.audioTag=t.createElement("audio",{id:"uwa-audioplayer-audio-"+e.id,preload:e.options.preload,events:{play:e.onPlay.bind(e),pause:e.onPause.bind(e),ended:function(){e.pause(),e.elements.played.setText(e.formatTime(0)),e.slider.reset()},timeupdate:function(){e.dispatchEvent("onTimeUpdate"),e.onLoadProgress()},loadedmetadata:e.onMetadataLoaded.bind(e),canplay:e.dispatchEvent.bind(e,"onCanPlay")}}).setStyles({position:"absolute",top:"-100000px"}),this.audioTag.inject(e.container),this},isPaused:function(){return this.audioTag.paused},play:function(){this.audioTag.play()},pause:function(){this.audioTag.pause()},stop:function(){this.audioTag.pause()},setCurrentTime:function(t){try{this.audioTag.currentTime=t}catch(t){}},getCurrentTime:function(){return this.audioTag.currentTime},getDuration:function(){return this.audioTag.duration},getLoadProgress:function(){var t=0,e=this.audioTag;return e&&e.buffered&&e.buffered.length>0&&e.buffered.end&&e.duration?t=e.buffered.end(0)/e.duration:e&&void 0!==e.bytesTotal&&e.bytesTotal>0&&void 0!==e.bufferedBytes&&(t=e.bufferedBytes/e.bytesTotal),100*t},setVolume:function(t){this.audioTag.volume=parseFloat(t/200)},getVolume:function(){return 200*this.audioTag.volume},setUrl:function(t){this.audioTag.src=t,this.audioTag.load()}},flash:{flashTag:null,isAvailable:function(t){return 0!==n.prototype.detectFlashVersion().major&&/\.mp3$/.test(t)},build:function(e){var s,i="uwa-audioplayer-flash-"+e.id,o=new n({_root:!1,id:i,url:t.hosts.uwa+"/lib/UWA/assets/img/flash/player_mp3_js.swf",width:1,height:1,flashVars:"listener=UWA.Controls.AudioPlayer.Instances.x"+e.id+".adapter.listener&interval=750&userexternalinterface=1",allowScriptAccess:"always"});if(this.pendingVariables=[],this.control=e,this.listener={isPlaying:!1,ready:!1,onInit:this.onReady.bind(this),onUpdate:function(){e.onMetadataLoaded(),e.dispatchEvent("onTimeUpdate"),e.onLoadProgress()}},this.flashTag=o.getFlashContainer(),this.flashTag.setStyles({position:"absolute",top:"-100000px"}),a.Engine.ie)try{s=document.createElement("<script for="+i+" event=FSCommand(command,args)></script>"),s.text="eval(args);",document.body.appendChild(s)}catch(t){}return this.flashTag.inject(e.container),this},SetVariable:function(t,e){var a=this;if(!a.listener.ready)return void a.pendingVariables.push([t,e]);a.variableTimers=a.variableTimers||{};try{clearTimeout(a.variableTimers[t]),a.flashTag.SetVariable(t,e)}catch(s){a.variableTimers[t]=setTimeout(function(){a.flashTag.SetVariable(t,e)},500)}},onReady:function(){this.listener.ready=!0,this.pendingVariables.forEach(function(t){this.SetVariable.apply(this,t)},this),this.control.dispatchEvent("onCanPlay")},isPaused:function(){return"true"!==this.listener.isPlaying},play:function(){this.SetVariable("enabled","true"),this.SetVariable("method:play"),this.control.onPlay()},pause:function(){this.SetVariable("method:pause"),this.control.onPause()},stop:function(){this.SetVariable("method:setPosition",0),this.SetVariable("method:stop"),this.control.onPause()},setCurrentTime:function(t){this.SetVariable("enabled","false"),this.SetVariable("method:setPosition",Math.round(1e3*t)),this.SetVariable("enabled","true")},getCurrentTime:function(){return this.listener.position/1e3},getDuration:function(){return this.listener.duration/1e3},getLoadProgress:function(){var t=this.listener.bytesPercent;return isNaN(t)?100:t},setVolume:function(t){t=isNaN(t)?100:t,this.SetVariable("method:setVolume",t)},getVolume:function(){return this.listener.volume},setUrl:function(t){this.SetVariable("method:setUrl",t)}}},t.namespace("Controls/AudioPlayer",d,t)});

define("UWA/Controls/AutocompleteAdaptors/Abstract",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options"],function(t,e,n,s){"use strict";var o;return o=n.extend(s,{init:function(t){this.setOptions(t)},getSuggestions:function(){throw new Error("Not implemented")},renderSuggestions:function(t){return{tag:"div",class:"category uwa-icon magnifying-glass",html:t.map(function(t){return{tag:"div",class:"suggestion",html:this.renderSuggestion(t)}},this)}},renderSuggestion:function(t){return e.escapeHTML(t.displayValue||t.fullValue||" ")}}),t.namespace("Controls/AutocompleteAdaptors/Abstract",o,t)});

define("UWA/Controls/AutocompleteAdaptors/Data",["UWA/Core","UWA/Controls/AutocompleteAdaptors/Abstract","UWA/Json","UWA/Data","UWA/String","UWA/Promise"],function(t,e,n,r,o,a){"use strict";var i;return i=e.extend({options:{url:null,dataParser:null,format:"{name}",minLength:1},dataCache:null,init:function(t){this._parent(t),this.dataCache={}},getSuggestions:function(t){var e,n=this,o=n.dataCache;return new a(function(a,i){t.length>=n.options.minLength?o[t]?a(o[t]):n.options.url&&(e=n.options.url.replace("{text}",t),r.request(e,{method:"GET",type:"text",onComplete:function(e){e=n.dataParse(e),e.length>0&&(o[t]=e),a(e)},onFailure:i,onTimeout:i})):a([])})},renderSuggestion:function(t){var e=t.fullValue;return this.options.format.replace(/\{(\w+)\}/g,function(n,r){return o.escapeHTML(t[r]||e)})},dataParse:function(e){var r,o,a,i=this.options.dataParser;if(t.is(i,"function"))e=i(e);else{if(n.isJson(e))e=n.decode(e),a=!0;else{e=n.xmlToJson(e);for(r in e)if(e.hasOwnProperty(r)){e=e[r];break}}for(r in e)if(e.hasOwnProperty(r)&&(o||(o=r),Array.isArray(e[r]))){e=e[r],a=!0;break}!a&&o&&(e=[e[o]])}return Array.isArray(e)?e:[]}}),t.namespace("Controls/AutocompleteAdaptors/Data",i,t)});

define("UWA/Controls/EnhancedTextarea",["UWA/Core","UWA/Class/Timed","UWA/Controls/Input"],function(t,e,n){"use strict";var s;return s=n.Text.extend(e,{name:"uwa-enhanced-textarea",options:{autoGrow:!1},_hiddenInput:!0,buildInput:function(){return t.createElement("textarea")},buildSkeleton:function(){this._parent();var e=this.elements;e.input.removeClassName("uwa-input-text"),e.caret=t.createElement("span",{class:this.getClassNames("-caret")}),e.input.addEvents({scroll:this.syncScroll.bind(this),mouseup:this.syncInput.bind(this),paste:this.syncInput.bind(this)}),e.container.addClassName("uwa-input-text").grab(e.input),this.isAutoGrow()&&e.container.addClassName("autogrow")},getCaretElement:function(){return this.elements.caret},isAutoGrow:function(){return this.options.autoGrow},syncInput:function(){this.setAnimate("sync-input",function(){var t=this.elements;t.content.empty(!0).addContent(this.buildContentMimic()," "),this.isAutoGrow()?t.content.offsetHeight!==t.container.offsetHeight?(t.container.setStyle("height",t.content.offsetHeight),this.dispatchEvent("onResize")):(this.syncScroll(),this._hideInputScroll()):this.syncScroll()})},buildContentMimic:function(){var t=this.elements,e=this.getValue(),n=t.input.selectionStart,s=e.slice(0,n),i=e.slice(n);return[s,t.caret,i]},_hideInputScroll:function(){if(this.isAutoGrow()){var t=this.elements.input;t.setStyles({overflow:t.offsetHeight===t.scrollHeight?"hidden":null})}},syncScroll:function(){this.elements.content.scrollTop=this.elements.input.scrollTop},onMouseDown:function(){}}),t.namespace("Controls/EnhancedTextarea",s,t)});

define("UWA/Controls/Autocomplete",["UWA/Core","UWA/Array","UWA/Class/Timed","UWA/Promise","UWA/Utils/Scroll","UWA/Controls/AutocompleteAdaptors/Data","UWA/Controls/Abstract","UWA/Controls/EnhancedTextarea","UWA/Controls/Input","UWA/Controls/DropDown","UWA/Controls/ThemedScroller","UWA/Event"],function(t,e,n,s,i,o,u,g,l,r,a,h){"use strict";var d,p;return d=g.extend({setInlineText:function(t){this.elements.inlineText.setText(t)},getInlineText:function(){return this.elements.inlineText.getText()},buildSkeleton:function(){this._parent(),this.elements.inlineText=t.createElement("span",{class:this.getClassNames("-inline-text")})},buildContentMimic:function(){return[this._parent(),"​",this.elements.inlineText]}}),p=u.extend(n,{name:"uwa-autocomplete",options:{typeDelay:500,adaptor:null,adaptorOptions:{},inputOptions:{},multiline:!1,floatingSuggestions:!1,previewSuggestion:!1,minLength:1,suggestFormat:"{name}",suggestUrl:null,dataParser:null,placeholder:""},init:function(t){this._parent(t)},isFloating:function(){return this.options.multiline&&this.options.floatingSuggestions},getAdaptor:function(){if(!this._adaptor){var e=this.options,n=t.typeOf(e.adaptor);this._adaptor="class"===n?new e.adaptor(e.adaptorOptions):"object"===n?e.adaptor:new o(t.merge({format:e.suggestFormat,url:e.suggestUrl,dataParser:e.dataParser,minLength:e.minLength},e.adaptorOptions))}return this._adaptor},getContent:function(){return this.elements.container||this.buildSkeleton(),this.elements.container},getInputControl:function(){return this.elements.input||this.buildSkeleton(),this.elements.input},getInputElement:function(){return this.getInputControl().getInputElement()},buildSkeleton:function(){var e=this,n=e.options,s=e.elements,i=t.clone(n.inputOptions),o=this.isFloating();n.placeholder&&(i.attributes||(i.attributes={}),i.attributes.placeholder=n.placeholder),i._root=!1,s.input=n.multiline?new d(i):new l.Text(i),n.multiline&&s.input.addEvent("onResize",function(){s.dropdown.updatePosition()}),s.input.addEvents({onKeyDown:this.dispatchEvent.bind(this,"onKeyDown"),onChange:this.dispatchEvent.bind(this,"onChange")}),s.input.getInputElement().addEvents({blur:function(){this.elements.container.removeClassName("focus"),this.setDelayed("blur-hide-suggestions",this.hideSuggestions,1)}.bind(this),focus:function(){this.elements.container.addClassName("focus"),this.setDelayed("focus-update-suggestion",this.updateSuggestions,400)}.bind(this)}),o?s.dropdown=new r.Pointy({_root:!1,target:s.input.getCaretElement(),className:this.getClassNames("-floating-dropdown"),autoPosition:["below-center","above-center"],positionOptions:{fit:"resize-max"}}):s.dropdown=new r({_root:!1,className:this.getClassNames("-dropdown"),position:function(){return{x:0,y:s.input.getContent().getSize().height}},positionOptions:{fit:"resize-max",relative:s.container,boundaryMargin:4}}),s.suggestions=t.createElement("div",{class:this.getClassNames("-suggestions"),events:{mousedown:this._selectionMouseHandler.bind(this),mouseover:this._selectionMouseHandler.bind(this)}}),s.scroller=new a({_root:!1}),s.scroller.getInnerElement().setContent(s.suggestions),s.dropdown.getInnerElement().setContent(s.scroller),s.dropdown.addEvents({onHide:function(){e.dispatchEvent("onHideSuggestions")},onPreUpdatePosition:function(){s.scroller.getContent().setStyle("height",Math.min(s.suggestions.scrollHeight,200));var t=this.getContent();t.setStyles({"max-height":null,"max-width":null})},onShow:function(){var t=Math.min(s.dropdown.getContent().getComputedSize("maxHeight"),s.suggestions.getSize().height,200);s.scroller.getContent().setStyle("height",t),e.dispatchEvent("onShowSuggestions")}}),s.container=t.createElement("div",{class:this.getClassNames()+(o?" floating":" not-floating")+(n.multiline?" multiline":" singleline"),html:[s.input,s.dropdown]})},updateSuggestions:function(e){var n=this.getValue(),i=s.deferred(),o=this.getInputElement(),u=o.selectionStart,g=n+"-"+u,l=e&&e.resetInput,r=e&&t.is(e.typeDelay)?e.typeDelay:this.options.typeDelay;return o.getDocument().activeElement!==o?(this.hideSuggestions({resetInput:l}),this.clearDelayed("getSuggestions"),i.resolve()):this._updateSuggestionRun&&g===this._updateSuggestionRun.key?this._updateSuggestionRun&&this._updateSuggestionRun.promise.then(i.resolve,i.reject):(this._updateSuggestionRun={promise:i.promise,key:g},this.setDelayed("hideSuggestionsIfGettingThemIsToSlow",function(){this.hideSuggestions({resetInput:l,cancelUpdateSuggestions:!1})},100),this.setDelayed("getSuggestions",function(){this.getSuggestions(n,u).done(function(t){this._updateSuggestionRun&&g===this._updateSuggestionRun.key?(t.length?this.displaySuggestions(t):this.hideSuggestions({resetInput:!1,cancelUpdateSuggestions:!1}),this.clearDelayed("hideSuggestionsIfGettingThemIsToSlow"),i.resolve()):i.reject(new Error("Aborted by another call to updateSuggestion"))}.bind(this))},r)),i.promise},getSuggestions:function(t,e){return s.cast(this.getAdaptor().getSuggestions(t,e)).then(function(t){return(t||[]).map(function(t){return"string"==typeof t?{fullValue:t}:t})})},areSuggestionsDisplayed:function(){return Boolean(this._displayedSuggestions)},displaySuggestions:function(t){this._displayedSuggestions=t,this._currentSuggestionIndex=null;var e=this.elements.dropdown,n=this.elements.suggestions;n.setContent(this.getAdaptor().renderSuggestions(t)),e.show(),this._useFX&&n.setStyle("height",n.scrollHeight);var s=t[0];!this._isInlineSuggestionAvailable(s)&&this.options.previewSuggestion||this._highlightSuggestion(s)},hideSuggestions:function(t){this._resetSuggestion(!t||t.resetInput),t&&t.cancelUpdateSuggestions===!1||(this._updateSuggestionRun=null),this._displayedSuggestions=null,this._useFX?this.elements.suggestions.setStyle("height",8):this.elements.dropdown.hide()},getValue:function(){return this.getInputControl().getValue()},setValue:function(t){this.getInputControl().setValue(t),this.updateSuggestions({resetInput:!1})},_selectionMouseHandler:function(t){var e,n=h.findElement(t,".suggestion");n&&(e=this._getSuggestion(n),e&&("mousedown"===t.type?this._setSuggestion(e):this._highlightSuggestion(e),h.stop(t)))},_getParts:function(t,e){var n=this.getInputElement();return void 0===t&&(t=n.selectionStart),void 0===e&&(e=n.selectionEnd),{before:n.value.slice(0,t),between:n.value.slice(t,e),after:n.value.slice(e)}},_setParts:function(t,e){var n=this.getInputElement();n.value=t.before+t.between+t.after;var s=t.before.length,i=s+t.between.length;switch(e){case"start":i=s;break;case"end":s=i}n.selectionStart=s,n.selectionEnd=i},_getSuggestionIndex:function(e){if(t.is(e)||(e=this._currentSuggestionIndex,t.is(e)))return e.nodeType?e=this.elements.suggestions.getElements(".suggestion").indexOf(e):"object"==typeof e&&(e=this._displayedSuggestions.indexOf(e)),t.is(e,"number")&&e>=0?e:void 0},_getSuggestion:function(t){if(t=this._getSuggestionIndex(t),void 0!==t)return this._displayedSuggestions?this._displayedSuggestions[t]:void 0},_getSuggestionElement:function(t){if(t=this._getSuggestionIndex(t),void 0!==t)return this.elements.suggestions.getElements(".suggestion")[t]},_resetSuggestion:function(t){var n=this._getSuggestion();if(n){if(e.invoke(this.elements.suggestions.getElements(".current"),"removeClassName","current"),this.options.multiline&&this.elements.input.setInlineText(""),t!==!1&&this.options.previewSuggestion){var s=this._previousValue||"",i=this._getParts();i.between=s,this._setParts(i,"end")}this._previousValue=null,this._currentSuggestionIndex=null}},_getSuggestionParts:function(t){var e,n=this.getInputElement();return t.inlineValue?(e=this._getParts(),e.previous=e.between,e.between=t.inlineValue):t.fullValue&&(e=this._getParts(void 0!==t.start?t.start:0,void 0!==t.end?t.end:n.value.length+t.fullValue.length),e.previous=e.between,e.between=t.fullValue),e},_highlightSuggestion:function(t){if(t=this._getSuggestion(t),void 0!==t){this._resetSuggestion(),this._currentSuggestionIndex=this._getSuggestionIndex(t);var e=this._getSuggestionElement(t),n=e.getParent(".category");e.addClassName("current"),i.scrollToElement(e),n&&n.addClassName("current");var s=this._getSuggestionParts(t);this._isInlineSuggestionAvailable(t)?this.elements.input.setInlineText(s.between):this.options.previewSuggestion&&this._setParts(s,"around"),this._previousValue=s.previous}},_isInlineSuggestionAvailable:function(t){var e=this.getInputElement();return t.inlineValue&&this.options.multiline&&e.selectionStart===e.value.length},_setSuggestion:function(t,e){t=this._getSuggestion(t),t&&(this._resetSuggestion(),this._setParts(this._getSuggestionParts(t),e&&e.selectionAtStart?"start":"end"),this.hideSuggestions(),this.dispatchEvent("onSetSuggestion",[t]),this.getInputControl()._dispatchOnChange())},onHideSuggestions:function(){var t=this.elements;t.container.removeClassName("suggestions-displayed")},onShowSuggestions:function(){var t=this.elements;t.container.addClassName("suggestions-displayed")},onClick:function(){this.elements.input.focus()},onKeyDown:function(t){function e(){return Array.prototype.indexOf.call(arguments,u)>=0}function n(){o.setDelayed("updateSuggestions",o.updateSuggestions.bind(o,{resetInput:!1}),5)}function s(){o.dispatchEvent("onSubmit",[o.getValue()])}function i(t){var e=o._currentSuggestionIndex,n=o._displayedSuggestions.length;null===e&&(e=t<0?n:-1),o._highlightSuggestion(o._getSuggestion((e+t+n)%n))}var o=this,u=h.whichKey(t),g=null!==this._currentSuggestionIndex,l=!0;this.areSuggestionsDisplayed()?e("up","shift+tab")?i(-1):e("down","tab")?i(1):e("return")&&g?this._setSuggestion(null,{selectionAtStart:e("left")}):e("return")&&this.hasEvent("onSubmit")?(this.hideSuggestions({resetInput:!1}),s()):e("esc")?this.hideSuggestions():e("shift")||(n(),l=!1):e("return")&&this.hasEvent("onSubmit")?s():(n(),l=!1),l&&h.stop(t)}}),t.namespace("Controls/Autocomplete",p,t)});

define("UWA/Controls/Calendar",["UWA/Core","UWA/Date","UWA/Event","UWA/Controls/Abstract","UWA/String"],function(e,t,i,n,s){"use strict";function a(e,t){var i=!e,n=!t;return i===n&&(i||e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function r(e,t,i){var n=e.getDate();if(void 0===i&&(i=1),"year"===t?(i*=12,t="month"):"week"===t&&(i*=7,t="day"),"month"===t)e.setDate(1),e.setMonth(e.getMonth()+i+1),e.setDate(0),n<e.getDate()&&e.setDate(n);else{if("day"!==t)throw new Error('Unknown unit "'+t+'"');e.setDate(n+i)}}var l,h=e.i18n;return l=n.extend({name:"uwa-calendar",defaultOptions:{view:"month",weekFirstDay:"monday",limit:{}},weekOffset:{monday:1,sunday:0,saturday:6},init:function(e){this._parent(e),this.buildSkeleton(),this.bound={refreshLimit:this.refreshLimit.bind(this)},this.setLimit(this.options.limit),this.setDate(this.options.date),this.displayView(this.options.view)},getWeekOffset:function(){return this.weekOffset[this.options.weekFirstDay]||0},getMonthFirstDay:function(){var e=this.displayDate,t=new Date(e.getFullYear(),e.getMonth(),1);return(t.getDay()-this.getWeekOffset()+7)%7},getWeekFirstDay:function(){var e=this.displayDate;return e.getDate()-(7+e.getDay()-this.getWeekOffset())%7},iterateWeek:function(e,t){var i,n=this.displayDate,s=new Date(n.getFullYear(),n.getMonth(),this.getWeekFirstDay()),a=s.getDate();for(i=0;i<7;i+=1){var r=new Date(s);r.setDate(a+i),e.call(t,i,r)}return this},displayView:function(e){if(["month","week"].indexOf(e)<0)throw new Error("Unknown view "+e+"options");return e!==this.currentView&&(this.container.setContent(this["build"+s.ucfirst(e)+"View"]()),this.currentView=e,this.dispatchEvent("onRefresh")),this},setDate:function(e,t){t||(e||(e=new Date,e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),t=e);var i=!a(e,this.selectDate);return!i&&a(t,this.displayDate)||(this.selectDate=e,this.displayDate=t,this.dispatchEvent("onRefresh"),i&&this.dispatchEvent("onDateChange",[e])),this},getDate:function(){return this.selectDate||null},setLimit:function(e){e||(e={});var t=this.options.limit;return this.options.limit=e,[t.max,t.min,e.max,e.min].forEach(function(e,t){e instanceof l&&e[t<2?"removeEvent":"addEvent"]("onDateChange",this.bound.refreshLimit)},this),this.refreshLimit(),this},getLimit:function(){var e,t,i,n=this.options.limit||{},s={};for(e=0;e<2;e+=1)t=e?"max":"min",i=n[t],s[t]=i&&new Date((i.getTime||i.getDate||i).call(i)).getTime()||(e?1/0:-(1/0));return s.min-=864e5,s},refreshLimit:function(){var e=this.getLimit();if(e.end<e.start)throw new Error("Bad limit specified");return this.selectDate&&(this.preventRefresh(),this.setDate(new Date(Math.max(Math.min(e.max,this.selectDate),e.min))),this.allowRefresh()),this.dispatchEvent("onRefresh")},preventRefresh:function(){return this.doNotRefresh=this.doNotRefresh+1||1,this},allowRefresh:function(){return this.doNotRefresh=this.doNotRefresh-1||0,this},buildSkeleton:function(){this.container=e.createElement("div",{class:this.getClassNames(),events:{click:this.onClick.bind(this),mousedown:i.preventDefault}})},buildMonthView:function(){var i,n,s,a=e.createElement("div",{class:"monthView"}),r=e.createElement("div",{class:"top"}).inject(a),l=e.createElement("table").inject(a),h=e.createElement("tbody").inject(l),o=e.createElement("tr").inject(h);for(this.iterateWeek(function(i,n){e.createElement("th",{text:t.strftime(n,"%a")[0]}).inject(o)}),n=0;n<42;n+=1)n%7===0&&(i=e.createElement("tr").inject(h)),s=e.createElement("td").inject(i),e.createElement("div",{class:"day"}).inject(s);return e.createElement("span",{class:"previous uwa-icon","data-icon":"l"}).inject(r),e.createElement("span",{class:"title"}).inject(r),e.createElement("span",{class:"next uwa-icon","data-icon":"m"}).inject(r),this.elements.monthView=a,a},buildWeekView:function(){var i,n,s=e.createElement("div",{class:"weekView"}),a=e.createElement("div",{class:"top"}).inject(s),r=e.createElement("table").inject(s),l=e.createElement("tbody").inject(r),h=e.createElement("tr").inject(l);for(this.iterateWeek(function(i,n){e.createElement("th",{text:t.strftime(n,"%a")[0]}).inject(h)}),n=0;n<7;n+=1)n%7===0&&(i=e.createElement("tr").inject(l)),e.createElement("td",{html:{tag:"div",class:"day"}}).inject(i);return e.createElement("span",{class:"previous",text:"←"}).inject(a),e.createElement("span",{class:"title"}).inject(a),e.createElement("span",{class:"next",text:"→"}).inject(a),this.elements.weekView=s,s},refreshMonthView:function(){var e,i,n=this.displayDate,s=new Date(n.getFullYear(),n.getMonth(),(-this.getMonthFirstDay())),a=this.elements.monthView,r=a.getElements(".day");for(e=0,i=r.length;e<i;e+=1)s.setDate(s.getDate()+1),r[e]=this.buildDay(r[e],s);a.getElement("tbody").getElements("tr")[6][s.getDate()>6?"hide":"show"](),a.getElement(".title").setText(t.strftime(n,h("%B %Y")))},refreshWeekView:function(){var e,i,n,s=this.displayDate,a=new Date(s.getFullYear(),s.getMonth(),this.getWeekFirstDay()),r=t.strftime(a,h("%e %B")),l=this.elements.weekView,o=l.getElements(".day");for(e=0,i=o.length;e<i;e+=1)o[e]=this.buildDay(o[e],a),a.setDate(a.getDate()+1);a.setDate(a.getDate()-1),n=t.strftime(a,h("%e %B %Y")),l.getElement(".title").setText(r+" - "+n)},buildDay:function(e,t){var i=new Date,n=this.displayDate,s=this.getLimit(),r=e.getClosest("td");return r.toggleClassName("currentDay",a(t,n)).toggleClassName("selectDate",a(t,this.selectDate)).toggleClassName("today",a(t,i)).toggleClassName("currentMonth",t.getMonth()===n.getMonth()).toggleClassName("disabled",t<s.min||t>s.max),e.setText(t.getDate()),e},onRefresh:function(){var e=this.currentView;e&&!this.doNotRefresh&&this["refresh"+s.ucfirst(e)+"View"]()},onClick:function(e){var t,n=this.container,s=i.getElement(e),a=s.hasClassName("next")?1:s.hasClassName("previous")?-1:0,l=new Date(this.displayDate);s.getClosest(".disabled")||(s.hasClassName("day")?(t=n.getElements(".day"),r(l,"day",t.indexOf(s)-t.indexOf(n.getElement(".currentDay .day"))),this.setDate(l),this.dispatchEvent("onDateSelect",[l])):a&&(r(l,this.currentView,a),this.setDate(this.selectDate,l)))}}),e.namespace("Controls/Calendar",l,e)});

define("UWA/Controls/Carousel",["UWA/Core","UWA/Class/Timed","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Scroller"],function(t,e,s,i,o,l,n){"use strict";var r=l.extend(e,{defaultOptions:{className:"uwa-carousel",orientation:"horizontal",scrollSize:3,scrollerOptions:{lockDirection:!0,momentum:!1,scrollbarH:!1,scrollbarV:!1,scrollDrag:s.Features.touchEvents},nextButton:null,previousButton:null,scrollButtonClassName:"uwa-carousel-button",scrollDuration:300,autoScrollPressedDelay:500,itemSelector:"li"},init:function(e,s){this._parent(s),this.element=t.extendElement(e),this.elements.container=t.createElement("div",{class:this.options.className}).inject(this.element,"before").grab(this.element),this.initEvents(),this.options.scrollerOptions.scrollableY=this.isVertical(),this.options.scrollerOptions.scrollableX=!this.options.scrollerOptions.scrollableY,this.scroller=new n(e,t.merge({_root:!1},this.options.scrollerOptions)),this.scroller.addEvent("onMouseWheel",this.updateScrollButtonsDisabledState.bind(this)),this.scroller.addEvent("onScrollEnd",this.updateScrollButtonsDisabledState.bind(this)),this.scroller.addEvent("onRefresh",this.dispatchEvent.bind(this,"onRefresh"))},scrollHead:function(t){this.scrollToItem(this.element.firstChild,t)},scrollTail:function(t){this.scrollToItem(this.element.lastChild,t)},scrollNext:function(t){this.scrollTo("next",t)},scrollPrevious:function(t){this.scrollTo("previous",t)},scrollToItem:function(t,e){var s,i,o,l,n;this.hasDelayed("onRefresh")&&(this.clearDelayed("onRefresh"),this.onRefreshNoDelay()),isNaN(e)&&(e=this.options.scrollDuration),this.element.firstChild===t?s="start":this.element.lastChild===t?s="end":(i=this.getItems(),o=this.getVisibleItems(!0),l=i.indexOf(t),n=i.indexOf(o[0]),s=l>n?"end":"before"),this.scroller.scrollToElement(t,s,e)},scrollTo:function(t,e,s){var i,o,l=this.getItems();e=e||this.options.scrollSize,isNaN(s)&&(s=this.options.scrollDuration),"next"===t?(i=l.indexOf(this.getLastItemVisible())+e,o="end"):"previous"===t&&(i=l.indexOf(this.getFirstItemVisible())-e,o="start"),i=Math.min(l.length-1,Math.max(0,i)),this.scroller.scrollToElement(l[i],o,s),this.updateScrollButtonsDisabledState()},isItemVisible:function(t,e){var s=this.isVertical()?"y":"x";return this.scroller.isInViewport(t,e!==!1,s)},getFirstItemVisible:function(){var t,e,s,i=this.getItems();for(e=0,s=i.length;e<s;e+=1)if(t=i[e],this.isItemVisible(t,!1))return t;return null},getLastItemVisible:function(){var t=this.getVisibleItems(!1);return t.length?t[t.length-1]:null},getVisibleItems:function(t){var e,s,i;return this.getItems().filter(function(o){return i!==!0?(e=this.isItemVisible(o,t),i=e===!1&&s===!0,s=e):e=!1,e},this)},nextButton:function(){return this.elements.nextButton||(this.elements.nextButton=this._createScrollButton("next")),this.elements.nextButton},previousButton:function(){return this.elements.previousButton||(this.elements.previousButton=this._createScrollButton("previous")),this.elements.previousButton},initEvents:function(){var t,e=s.Features.touchEvents,i={};i[e?"touchstart":"mousedown"]=this.onScrollButtonDown.bind(this),i[e?"touchend":"mouseup"]=this.onScrollButtonUp.bind(this),i.click=this.onScrollButtonClick.bind(this),t=this.nextButton(),t&&(t.addEvents(i),t.setAttribute("data-scroll","next")),t=this.previousButton(),t&&(t.addEvents(i),t.setAttribute("data-scroll","previous"))},onScrollButtonClick:function(t){if(!this.stopScroll()){var e=t.timeStamp||Date.now();this.lastClickTime&&e-this.lastClickTime<=300?(delete this.lastClickTime,this.onScrollButtonDblClick(t)):(i.preventDefault(t),this.lastClickTime=e,this.scrollTo(this.getScrollButtonFromEvent(t).getAttribute("data-scroll"),this.options.scrollSize))}},onScrollButtonDblClick:function(t){i.stop(t),this.scrollTo(this.getScrollButtonFromEvent(t).getAttribute("data-scroll"),this.getVisibleItems(!0).length)},onScrollButtonDown:function(t){this.setDelayed("pressedTimeout",this.autoScroll.bind(this,this.getScrollButtonFromEvent(t).getAttribute("data-scroll")),this.options.autoScrollPressedDelay)},onScrollButtonUp:function(){this.stopScroll()},autoScrollNext:function(){this.autoScroll("next")},autoScrollPrevious:function(){this.autoScroll("previous")},autoScroll:function(t){this.stopScroll(),this.setPeriodical("scrollTimer",function(){var e=this.scroller.getPosition(),s=this.isVertical()?"y":"x";"previous"===t?e[s]+=20:"next"===t&&(e[s]-=20),this.scroller.setPosition(e.x,e.y,0)}.bind(this),20)},stopScroll:function(){this.clearDelayed("pressedTimeout");var t=this.hasPeriodical("scrollTimer");return this.clearPeriodical("scrollTimer"),this.scroller.dragScrolling&&(this.scroller.dragScrolling=!1),t},onRefresh:function(){this.setDelayed("onRefresh",this.onRefreshNoDelay.bind(this),50)},onRefreshNoDelay:function(){if(this.isInjected()){var t,e=this.isVertical()?"y":"x",s=this.scroller.maxScroll[e];this.elements.container.hasAttribute("overflow")||this._updateOverflowStatus(),this._updateOverflowStatus(),this.scroller.dispatchEvent("onRefresh"),t=Math.abs(s)-Math.abs(this.scroller.maxScroll[e]),this.dispatchEvent("onScrollerResize",[{deltaScroll:t}]),this.updateScrollButtonsDisabledState()}},updateScrollButtonsDisabledState:function(){var t,e,s=this,i=s.elements,o=s.isVertical()?"y":"x";[i.nextButton,i.previousButton].forEach(function(l,n){l&&(t=s.scroller.isMaxPosition(o,!1,2*n-1),l.toggleClassName("disabled",t),e="max-scroll-"+l.getAttribute("data-scroll"),t?i.container.setAttribute(e,"true"):i.container.removeAttribute(e))})},hasOverflow:function(){return"true"===this.elements.container.getAttribute("overflow")},isVertical:function(){return"vertical"===this.options.orientation},getItems:function(){return this.element.getElements(this.options.itemSelector)},isInjected:function(){return this.injected!==!0&&(this.injected=this.elements.container&&this.elements.container.isInjected()),this.injected},getScrollButtonFromEvent:function(e){return t.Event.getElement(e).getClosest("."+this.options.scrollButtonClassName)},_createScrollButton:function(e){var s=this.options,i=e+"Button",o=!1;return s[i]!==!1&&(o=t.is(s[i],"function")?s[i](this.elements.container):t.is(s[i],"element")?s[i]:t.createElement("a",{class:s.scrollButtonClassName+" "+s.scrollButtonClassName+"-"+e}).grab(t.createElement("span")).inject(this.elements.container),o=t.extendElement(o)),o},_updateOverflowStatus:function(){var t=this.isVertical()?"y":"x",e=this.scroller.hasOverflow(t);this.elements.container.setAttribute("overflow",String(e)),this.scroller.setOptions({preventDefaultMouseWheel:e})}});return t.namespace("Controls/Carousel",r,t)});

define("UWA/Controls/Picker",["UWA/Core","UWA/Utils","UWA/Event","UWA/Class/Timed","UWA/Controls/Input","UWA/Controls/DropDown","UWA/Element"],function(t,n,e,o,i,s,a){"use strict";var l=i.extend(o,{name:"uwa-picker",options:{navigation:null,button:null,valueInput:"text",dropdownOptions:{global:!0},dropdownContainer:null},buildSkeleton:function(){var n=this.options,e=this.elements;this._parent(),n.valueInput&&n.button?e.content.addClassName(this.getClassNames("-split")):n.button?e.container.addClassName("button-only"):n.valueInput&&e.container.addClassName("value-only"),n.valueInput&&(e.content.setContent(e.value=t.createElement("div",{class:this.getClassNames("-value")})),"text"===n.valueInput&&e.value.addClassName(this.getClassNames("-text"))),n.button&&e.content.addContent(e.button=t.createElement("div",{class:this.getClassNames("-button"),html:n.button}))},buildContent:function(){},buildNavigation:function(e){return n.splat(e).map(function(n){return t.is(n,"element")?n:this.buildNavigationItem(n)},this)},buildNavigationItem:function(n){var e=this;return t.createElement("div",{text:n.label,class:this.getClassNames("-navigationlink"),events:{click:function(t){e.dispatchEvent("onNavigationClick",[t,n])}}})},syncInput:function(){var t=this.elements.value;t!==this.elements.input&&t.setText(this.getValue())},isOpen:function(){return Boolean(this.elements.dropdown&&this.elements.dropdown.isOpen())},focus:function(t){var n=this,e=n._parent;setTimeout(function(){function o(){a.removeEvent.call(i,"blur",o),n.focus(!1)}var i=document.activeElement,s=n.elements.dropdown;i&&s&&a.isInjected.call(i,s.getInnerElement())?a.addEvent.call(i,"blur",o):(e.call(n,t),t===!1&&n.toggle(t))},0)},open:function(){return this.toggle(!0)},close:function(){return this.toggle(!1)},toggle:function(n){var o=this.elements,i=this.options;if((n===!0||void 0===n)&&!o.dropdown){var a=t.extend({target:o.button||o.content,autoPosition:["below-end","right-start","above-end","left-start"]},i.dropdownOptions);a._root=!1,a.className=this.getClassNames("-dropdown")+" "+(a.className||""),o.dropdown=new s.Pointy(a).addEvents({onShow:this.dispatchEvent.bind(this,"onOpen"),onHide:this.dispatchEvent.bind(this,"onClose")}),i.navigation&&(o.navigation=t.createElement("div",{class:this.getClassNames("-navigation"),html:this.buildNavigation(this.options.navigation)})),o.dropdown.getInnerElement().addEvent("mousedown",e.stopPropagation).addEvent("click",e.stopPropagation).addContent({tag:"div",class:this.getClassNames("-selector"),html:this.buildContent()},o.navigation),o.dropdown.inject(i.dropdownContainer||o.container)}o.dropdown&&o.dropdown.toggle(n)},onClick:function(){this.setDelayed("debounced-toggle",this.toggle,1)},onOpen:function(){this.elements.container.addClassName("open")},onClose:function(){this.elements.container.removeClassName("open")},onNavigationClick:function(t,n){this.setValue(n.value)}});return t.namespace("Controls/Picker",l,t)});

define("UWA/Controls/ColorPicker",["UWA/Core","UWA/Event","UWA/Color","UWA/Controls/Picker","UWA/Controls/Drag","UWA/Controls/Input"],function(e,t,s,i,n,l){"use strict";var a=function(e,t){var s=e&&e.match(t?/^\s*#?([0-9a-f]{0,6})/i:/^\s*#?(|[0-9a-f]{3}|[0-9a-f]{6})\s*$/i);return s?s[1]:""},r=n.extend({defaultOptions:{touchSnap:0,mouseSnap:0},start:function(e){this.move(e,{distance:0,x:0,y:0})},move:function(t,s){var i=this.element.getOffsets(),n=this.element.getSize(),l={x:t.x-i.x,y:t.y-i.y};l.x=Math.max(0,Math.min(n.width,l.x)),l.y=Math.max(0,Math.min(n.height,l.y));var a={x:l.x/n.width,y:l.y/n.height};this.options.pickCallback(a,l),this.options.hideCursorWhileDragging&&s.distance>0&&!this.injectedStylesheet&&(this.injectedStylesheet=e.createElement("style",{html:"* { cursor: none !important; }"}).inject(document.body))},reset:function(){this.injectedStylesheet&&(this.injectedStylesheet.remove(),this.injectedStylesheet=null),this._parent()}}),o=i.extend({name:"uwa-colorpicker",previouslyDisplayedHue:null,options:{button:{tag:"div",class:"uwa-colorpicker-well"},dropdownOptions:{},defaultValue:null},init:function(e){this._parent(e),/\bdark\b/.test(this.options.className)&&!this.options.dropdownOptions.className&&(this.options.dropdownOptions.className="dark"),this.elements.well=this.elements.button.getElement(".uwa-colorpicker-well"),this._updateWell(),this.syncInput()},_getColor:function(){var t=this.getValue()||this.options.defaultValue||"ffffff";if(this._color){var i=s.parse(t),n=this._color;if(e.equals(n.toRGBString(),i.toRGBString()))return this._color;this._color=null}return s.parse(t)},_setColor:function(e){this.setValue(e.toHSLString())},setValue:function(e){"string"==typeof e&&(e=s.parse(e)),e&&(this._color=e,this._parent(e.toHexString().substring(1)))},buildContent:function(){var s=this,i=/\bdark\b/.test(this.options.className),n=e.createElement("div",{html:[this.elements.slPicker=e.createElement("div",{class:this.getClassNames("-sl-picker"),html:[this.elements.slPickerCanvas=e.createElement("canvas",{class:this.getClassNames("-sl-picker-canvas"),width:220,height:220}),this.elements.slPickerCursor=e.createElement("div",{class:this.getClassNames("-sl-picker-cursor")})]}),this.elements.huePicker=e.createElement("div",{class:this.getClassNames("-hue-picker"),html:[this.elements.huePickerArrows=e.createElement("div",{class:this.getClassNames("-hue-picker-arrows")}),this.elements.huePickerCanvas=e.createElement("canvas",{class:this.getClassNames("-hue-picker-canvas"),width:26,height:220})]}),this.elements.hexField=e.createElement("div",{class:this.getClassNames("-hex-field"),html:[this.elements.hexFieldInput=new l.Text({_root:!1,className:this.getClassNames("-hex-field-input")}),e.createElement("span",{class:this.getClassNames("-hex-field-icon"),text:"#"})]}),this.elements.clearButton=e.createElement("div",{class:this.getClassNames("-clear-button")+" uwa-icon","data-icon":"p",events:{mousedown:function(e){t.preventDefault(e)},click:function(e){t.preventDefault(e),s.setValue(s.options.defaultValue)}}}),new l.Button({_root:!1,value:"Done",className:this.getClassNames("-done-button")+(i?" extra-dark-grey":" dark-grey"),events:{onMouseDown:function(e){t.preventDefault(e)},onClick:function(){s.toggle(!1)}}})]});return new r({element:this.elements.slPicker,hideCursorWhileDragging:!0,pickCallback:function(e){var t,i=e.x,n=1-e.y,l=(2-i)*n;n>0?(t=i*n,t/=l<=1?l:2-l,t=t||0,l/=2):t=e.x,l*=100,t*=100,s._setColor(s._getColor().cloneWith({l:l,s:t}))}}),new r({element:this.elements.huePicker,pickCallback:function(e){s._setColor(s._getColor().cloneWith({h:360*(1-e.y)}))}}),this.elements.hexField.getElement(".uwa-input-hex-field input").addEvents({keyup:function(){s._readInputFieldValue()},input:function(){s._readInputFieldValue()},change:function(){s._readInputFieldValue()}}),this.elements.dropdown.elements.inner.addEvent("mousedown",function(e){e.target===this&&t.preventDefault(e)}),this._renderHuePicker(),this.syncInput(),n},_renderHuePicker:function(){for(var e=37,t=this.elements.huePickerCanvas,i=this.elements.huePickerCanvas.getContext("2d"),n=i.createLinearGradient(0,0,0,t.height),l=0;l<e;l++){var a=l/(e-1),r=s.parse("hsl("+360*(1-a)+", 100%, 50%)");n.addColorStop(a,r.toHSLString())}i.fillStyle=n,i.fillRect(0,0,t.width,t.height)},_updateWell:function(){this.elements.well.setStyle("background",this._getColor().toHSLString())},_updateSlPicker:function(){var e=this.elements.slPickerCanvas,t=this.elements.slPickerCanvas.getContext("2d"),i=this._getColor(),n=i.toObject();if(this.previouslyDisplayedHue!==n.h){this.previouslyDisplayedHue=n.h;var l=t.createLinearGradient(0,0,e.width,0),a=s.parse("hsl("+n.h+", 100%, 50%)");l.addColorStop(0,"white"),l.addColorStop(1,a.toHSLString()),t.fillStyle=l,t.fillRect(0,0,e.width,e.height);var r=t.createLinearGradient(0,0,0,e.height);r.addColorStop(0,"transparent"),r.addColorStop(1,"black"),t.fillStyle=r,t.fillRect(0,0,e.width,e.height)}var o,h,u,c,d=this.elements.slPickerCursor;o=n.l/100*2,h=n.s/100*(o<=1?o:2-o),c=(o+h)/2,u=o>0?2*h/(o+h):n.s/100,u=Math.round(u*this.elements.slPickerCanvas.width),c=Math.round((1-c)*this.elements.slPickerCanvas.height),d.setStyle("left",u+"px"),d.setStyle("top",c+"px"),d.setStyle("background",i.toHexString())},_updateHuePicker:function(){var e=this.elements.huePickerArrows,t=(360-this._getColor().toObject().h)/360,s=t*this.elements.huePickerCanvas.height;e.setStyle("top",Math.round(s)+"px")},_updateHexField:function(){var t=this.elements.hexFieldInput;if(this.getValue()){var i=this._getColor(),n=s.parse(t.getValue());n&&e.equals(i.toRGBString(),n.toRGBString())||t.setValue(i.toHexString().substring(1))}else t.setValue("")},_updateDefaultButton:function(){this.elements.clearButton.toggle(e.is(this.options.defaultValue)&&this.options.defaultValue!==this.getValue())},syncInput:function(){if(this.elements.well&&this._updateWell(),this.elements.slPicker&&(this._updateSlPicker(),this._updateHuePicker(),this._updateHexField(),this._updateDefaultButton()),this.elements.value){var e=this.getValue();e=e?e.toLowerCase():"",this.elements.value.setText(e)}},_readInputFieldValue:function(){var e=this.elements.hexFieldInput.getValue(),t=a(e,!0);if(t!==e&&this.elements.hexFieldInput.setValue(t),3===t.length||6===t.length){var i=t.replace(/\-/g,"Z"),n=s.parse(i);this.setValue(n)}},toggle:function(e){this._parent.apply(this,arguments),e===!1&&this._dispatchOnChange()}});return e.namespace("Controls/ColorPicker",o,e)});

define("UWA/Controls/DataGrid",["UWA/Core","UWA/Event","UWA/String","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Scroller"],function(t,e,s,i,r,a){"use strict";function o(e){var s=t.createElement(e.tag||"th",{class:e.dataIndex,html:{tag:"span",html:e.text}});if(e.sortable){var i=t.createElement("span",{class:"sort",text:""}).inject(s);s.addClassName("sortable"),e.isSorted&&i.setText(e.sortReverse?"D":"E")}else s.addClassName("no-sortable"),e.text||s.addClassName("empty");return e.className&&s.addClassName(e.className),e.isFirst&&s.addClassName("first"),e.color&&s.setStyles({"background-color":e.color,color:"#FFFFFF"}),s}function l(e){var i=t.createElement(e.tag||"td",{class:e.dataIndex,"data-itemId":e.itemId,html:e.format?e.format(e.text):e.text});if(e.className&&i.addClassName(e.className),e.isFixed&&i.addClassName("is-fixed"),e.isFirst?i.addClassName("first"):i.addClassName("grid-data"),e.color){var r=s.hexToRgb(e.color,!0);i.setStyle("background-color","rgba("+r.toString()+",0.2)")}return i}var n=r.extend({defaultOptions:{className:"",data:null,columns:null,sortable:!1,orderBy:"",sortReverse:!1,scrollerOptions:{}},name:"uwa-datagrid",dataGrid:null,columns:null,init:function(t){this._parent(t),this.dataGrid=t.data,this.columns=t.columns,this.buildSkeleton(),this.fillGrid(),this.initEvents()},buildSkeleton:function(){var e=this.options,s=this.elements;s.container=t.createElement("div",{class:this.getClassNames()}),s.grid=t.createElement("table",{class:this.getClassNames("-table")}).inject(s.container),e.sortable&&s.grid.addClassName("sortable")},initEvents:function(){this.elements.container.addEvent("click",this.handleEvent.bind(this))},handleEvent:function(t){var s=e.getElement(t).getClosest("th");this.options.sortable&&s&&!s.hasClassName("no-sortable")&&this.onOrderColumn(s.className.split(" ")[0])},fillGrid:function(){this.fillHeader(),this.fillBody()},fillHeader:function(){var e,s,i,r=this.elements,a=this.columns;for(r.grid.empty(),i=t.createElement("tr").inject(r.grid),e=0,s=a.length;e<s;e++)o({isSorted:this.options.orderBy===a[e].dataIndex,sortReverse:this.options.sortReverse,className:a[e].className,dataIndex:a[e].dataIndex,text:a[e].text,isFirst:a[e].isFirst,sortable:this.options.sortable&&!a[e].noSortable,color:a[e].color}).inject(i)},fillBody:function(){var e,s,i,r,a,o=this.elements,n=this.options,d=this.columns,c=this.dataGrid;for(n.sortable&&n.orderBy&&(c=this.sortData()),e=0,s=c.length;e<s;e++)for(a=t.createElement("tr").inject(o.grid),i=0,r=d.length;i<r;i++){var h=c[e][d[i].dataIndex];l({text:h,isFixed:c[e].isFixed||d[i].isFixed,className:(c[e].className||"")+" "+(d[i].className||""),dataIndex:d[i].dataIndex,itemId:t.is(h,"object")&&h.itemId,format:d[i].format,isFirst:d[i].isFirst,color:d[i].color}).inject(a)}},sortData:function(){var t=this.options,e=this.dataGrid,s=this.columns.filter(function(e){return e.dataIndex===t.orderBy})[0];return e.sort(function(e,i){var r,a;return r=s.sortKey?s.sortKey(e[t.orderBy]):e[t.orderBy],a=s.sortKey?s.sortKey(i[t.orderBy]):i[t.orderBy],r<a?t.sortReverse?1:-1:r>a?t.sortReverse?-1:1:0}),e},onOrderColumn:function(t){var e=this.options;e.orderBy===t?e.sortReverse=!e.sortReverse:e.sortReverse=!1,e.orderBy=t,this.fillGrid(),this.scroller&&this.scroller.updateFixedHeaders(this.elements.grid),this.dispatchEvent("updateSortOptions",e)},updateData:function(t,e){this.dataGrid=e,this.columns=t,this.fillGrid(),this.scroller&&this.updateScroller()},addScroller:function(){this.scroller=new n.GridScroller(this.elements.grid,t.extend({_root:!1},this.options.scrollerOptions))},updateScroller:function(){this.scroller&&this.scroller.destroy(),this.addScroller()}});return n.GridScroller=a.extend({defaultOptions:{lockDirection:!1},init:function(t){this._parent.apply(this,arguments),this.updateFixedHeaders(t)},_buildFixedHeaders:function(t){var e=this._getFixedHeadersSize(t),s=e.top,i=e.left;e.left&&(e.left=this._buildFixedHeader(t,e.left,1/0)),e.bottom&&(e.bottom=this._buildFixedHeader(t,1/0,-e.bottom)),e.right&&(e.right=this._buildFixedHeader(t,-e.right,1/0)),e.top&&(e.top=this._buildFixedHeader(t,1/0,e.top),e.left&&(e.topLeft=this._buildFixedHeader(t,i,s))),this._fixedHeaders=e},_isHeaderCell:function(t){return"th"===i.getTagName.call(t)||i.hasClassName.call(t,"is-fixed")},_getFixedHeadersSize:function(t){var e={top:0,bottom:0,left:1/0,right:1/0},s=!0,r=this;return i.getElements.call(t,"tr").forEach(function(t){var a=0,o=0,l=!0;i.getChildren.call(t).forEach(function(t){r._isHeaderCell(t)?(l&&a++,o++):(l=!1,o=0)}),e.left=Math.min(e.left,a),e.right=Math.min(e.right,o),l?(s&&e.top++,e.bottom++):(s=!1,e.bottom=0)}),e},_buildFixedHeader:function(t,e,s){function r(t,e){return e<0?t.slice(e):t.slice(0,e)}var a,o={tag:"tbody",html:[]},l={width:0,height:0},n=!0;return r(i.getElements.call(t,"tr"),s).forEach(function(t){var s={tag:"tr",html:[]},a=i.getDimensions.call(t);l.height+=a.outerHeight,o.html.push(s),r(i.getChildren.call(t),e).forEach(function(t){var e=i.getDimensions.call(t),r=t.cloneNode(!0);i.setStyles.call(r,{width:e.innerWidth,height:e.innerHeight}),n&&(l.width+=e.outerWidth),s.html.push(r)}),n=!1}),a=t.cloneNode(),i.set.call(a,{html:o,styles:l}),i.addClassName.call(a,"fixed-column"),this.elements.scroller.grab(a),a},_updateHeaderPositions:function(t){var e=this._fixedHeaders;e.top&&i.setPosition.call(e.top,{y:0,x:t.x}),e.left&&i.setPosition.call(e.left,{y:t.y,x:0}),e.right&&i.setPosition.call(e.right,{y:t.y,x:this.scroll.width-i.getSize.call(e.right).width}),e.bottom&&i.setPosition.call(e.bottom,{x:t.x,y:this.scroll.height-i.getSize.call(e.bottom).height}),e.topLeft&&i.setPosition.call(e.topLeft,{y:0,x:0})},updateFixedHeaders:function(t){var e;if(this._fixedHeaders)for(e in this._fixedHeaders)this._fixedHeaders[e]&&i.destroy.call(this._fixedHeaders[e]);this._buildFixedHeaders(t),this._updateHeaderPositions(this.position)},onScroll:function(){this._parent.apply(this,arguments),this._updateHeaderPositions(this.getPosition(!0))}}),t.namespace("Controls/DataGrid",n,t)});

define("UWA/Controls/DatePicker",["UWA/Core","UWA/Date","UWA/Event","UWA/Controls/Calendar","UWA/Controls/Abstract","UWA/Controls/Picker"],function(e,t,n,a,i,s){"use strict";var o;return o=s.extend({name:"uwa-datepicker",options:{format:"%x",calendarOptions:{},button:{tag:"div",class:"uwa-icon uwa-icon-only calendar"},time:!1,utc:!1},setOptions:function(e){return e||(e={}),e.date&&(e.value=e.date/1e3),this._parent(e)},syncInput:function(){var e=this.elements,n=this.getDate();e.value&&e.value.setText(n?t.strftime(n,this.options.format):""),e.calendar&&e.calendar.setDate(n),e.time&&n&&(e.time.getElement(".value").setText(t.strftime(n,"%x")),e.time.getElements("input").forEach(function(e){e.value=n["get"+e.getAttribute("data-action")]()||""}))},onChange:function(){this.dispatchEvent("onDateSelect",[this.getDate()])},onOpen:function(){this._parent();var e=this.elements;e.calendar.refreshLimit(),e.time&&(e.time.hide(),e.calendar.show())},buildContent:function(){function t(e){var t=s.getDate();t?(t.setDate(e.getDate()),t.setMonth(e.getMonth()),t.setFullYear(e.getFullYear())):t=e,s.setDate(t),s.options.time?(s.elements.calendar.hide(),s.elements.time.show().getElement("input").select(),s.elements.dropdown.updatePosition()):(s.toggle(!1),s.dispatchEvent("onChange",[s.getValue()]))}var i,s=this;return i=function(e){var t=this,a=n.whichKey(e);1===a.length&&isNaN(a)&&n.preventDefault(e),setTimeout(function(){var e,n,a=s.getDate()||new Date;a["set"+t.getAttribute("data-action")](t.value),s.setDate(a),t.value.length>=2&&(e=s.elements.time.getElements("input"),n=(e.indexOf(t)+1)%e.length,e[n].select())},1)},s.elements.content=e.createElement("div",{html:[s.elements.calendar=new a(e.extend({_root:!1},s.options.calendarOptions)).setDate(this.getDate()).addEvent("onDateSelect",t),s.elements.time=s.options.time&&e.createElement("div",{class:s.getClassNames("-time"),html:[{tag:"div",class:"value"},{tag:"input",type:"text",class:s.getClassNames("-text"),"data-action":"Hours",events:{keydown:i}},":",{tag:"input",type:"text",class:s.getClassNames("-text"),"data-action":"Minutes",events:{keydown:i}}]}).hide()]}),s.elements.content},buildNavigationItem:function(e){return e.date&&(e.value=e.date/1e3),this._parent(e)},setDate:function(e){return e&&this.options.utc&&(e=e.getTime()-6e4*e.getTimezoneOffset()),this.setValue(e/1e3||"")},getDate:function(){var e=this.getValue();if(e)return this.options.utc&&(e=Number(e)+60*(new Date).getTimezoneOffset()),new Date(1e3*e)},setLimit:function(e){return this.elements.calendar?this.elements.calendar.setLimit(e):this.setOptions({calendarOptions:{limit:e}}),this}}),e.namespace("Controls/DatePicker",o,e)});

define("UWA/Controls/Ellipsis",["UWA/Core","UWA/Controls/Abstract"],function(t,e){"use strict";var s=e.extend({defaultOptions:{reference:null,refreshOn:[],ellipsis:"&#8230;",spaces:/[\s,.:]+/g},init:function(e,s){this._parent(s),s=this.options,this.element=e,this.ellipsis=t.createElement("span",{html:this.options.ellipsis})},destroy:function(){this.ellipsis.destroy()},onRefresh:function(){var t,e,s,i,o,n=this.element,l=this.options,h=l.reference||n;if(n.offsetWidth){for(this.dispatchEvent("onPreRefresh"),this.totalWords||(this.totalWords=this.computeData(n)),t=Math.floor(this.totalWords/2),e=Math.ceil(t/2)||1,n.appendChild(this.ellipsis),o=10;o>0;o-=1){if(this.setWordCount(n,t),s=h.offsetHeight+1<h.scrollHeight,t>=this.totalWords&&!s){n.removeChild(this.ellipsis);break}if(1===e){if(void 0!==i&&i!==s)break;i=s}t+=s?-e:e,e=Math.ceil(e/2)}s&&this.setWordCount(n,t-1),this.dispatchEvent("onPostRefresh")}return this},setWordCount:function(t,e){var s,i,o,n,l,h,r=e;if(t===this.ellipsis)return 0;if(t!==this.element&&(t.style.display=e?"":"none"),e||t===this.element)if(s=t.childNodes.length)for(l=0;l<s;l+=1)h=t.childNodes[l],3===h.nodeType?(o=t.ellipsisData[l].spaces,i=t.ellipsisData[l].original,n=o.length,h.data=r?!n||n+1<=r?i:i.substr(0,o[r-1]||0):"",r-=Math.min(r,n+1)):1===h.nodeType&&(r-=r-this.setWordCount(h,r));else r=e-1;return r},computeData:function(t){var e,s,i,o,n,l,h,r,a,p=t.ellipsisData=[],d=t.childNodes,f=0;for(e=0,s=d.length;e<s;e+=1)if(n=d[e],3===n.nodeType){for(p[e]={original:r=n.data,spaces:h=r.match(this.options.spaces)||[]},i=0,o=h.length;i<o;i+=1)a=r.indexOf(h[i],i?a+l:0),l=h[i].length,h[i]=a;h[o-1]+l===r.length&&h.pop(),0===h[0]&&h.shift(),f+=h.length+1}else 1===n.nodeType&&(f+=this.computeData(n));return f}});return t.namespace("Controls/Ellipsis",s,t)});

define("UWA/Controls/ToolTip",["UWA/Core","UWA/Event","UWA/Controls/Abstract","UWA/Element","UWA/Class/Timed","UWA/Utils/Client","UWA/Controls/DropDown"],function(t,e,o,i,n,s,l){"use strict";var d,r=new l.Pointy({autoPosition:["below-start","right-start","left-start","above-start"],margin:20,positionOptions:{relative:document.querySelector("body")}}),a=new n,h=o.extend({name:"uwa-tooltip",content:"",defaultOptions:{id:"uwa-tooltip",className:"",width:"auto",delay:800,showOver:!0,root:null},mousePosition:{},init:function(e,o,i){this._parent(i),this.content=o||"",this._tooltipped=t.extendElement(e),this._attachEvents()},destroy:function(){this.hide(),this._detachEvents(),this._parent()},_attachEvents:function(){if(!this._events){var t=this._events={tooltipped:{},tooltippedOnShown:{},bodyOnShown:{}};this.options.showOver&&(t.tooltipped.mouseover=this.dispatchAsEventListener("onShowTooltip"),t.tooltippedOnShown.mouseout=this.dispatchAsEventListener("onHideTooltip"),t.tooltippedOnShown.click=this.dispatchAsEventListener("onHideTooltip"),t.bodyOnShown.mousemove=this.dispatchAsEventListener("onMoveTooltip"))}this._tooltipped.addEvents(this._events.tooltipped)},_detachEvents:function(){this._events&&(this._tooltipped.removeEvents(this._events.tooltipped),this._tooltipped.removeEvents(this._events.tooltippedOnShown),i.removeEvents.call(document.querySelector("body"),this._events.bodyOnShown,!0))},buildSkeleton:function(){for(var t,e=this,o=e.options,n=i.getDocument.call(e._tooltipped),s=e.getRootNode(),l=i.getChildren.call(s),a=o.id,h=0;;){if(t=n.getElementById(o.id),!t||l.indexOf(t)>=0)break;o.id=a+"-"+h++}return t||(t=r.getContent(),t.id=o.id,void 0===d&&(d=t.className),t.set("class",d+" "+this.getClassNames()),t.setStyle("width",o.width),t.inject(s)),e._tooltip=t,t},_tooltippedIsActive:function(){function t(t){var e=t.getStyles(["visibility","opacity"]);return"hidden"!==e.visibility&&e.opacity>.5}var e=this._tooltipped,o=t(e)&&e.getParents().every(t),n=s.getScrolls(),l=document.elementFromPoint(this.mousePosition.x-n.x,this.mousePosition.y-n.y),d=i.isInjected.call(l,e)||l===e;return o&&d},show:function(e,o){var i,n,s,l,d,a=this,h=t.is,p=a._tooltip,u=a._tooltipped;if(e||this._tooltippedIsActive()){if(p||(p=a.buildSkeleton()),r.getInnerElement().setContent(a.content),p.show(),h(e)){if((h(e,"string")||h(e,"object")&&h(e.x,"string")&&h(e.y,"string"))&&(e=u.getPosition(!1,e),l={relative:this._tooltipped.getOffsetParent()},o))for(d=p.getDimensions(),i=0;i<2;i+=1)n=i?"x":"y",s=i?"width":"height",e[n]=e[n]-d[s]/2}else e=a.mousePosition,l={relative:document.querySelector("body")};return p.addClassName("show"),r.setPosition(e,l),a.visible=!0,a}},hide:function(){var t=this,e=t._tooltip;return t.visible&&(e.removeClassName("show"),e.hide()),a.clearDelayed(),t.visible=!1,t},toggle:function(){var t=this;t.visible?t.hide():t.show()},setDelay:function(){var t=this,e=t.options,o=e.delay;t.visible||a.setDelayed("tooltip",function(){t.show()},o)},onShowTooltip:function(t){var o=this;o.mousePosition=e.getPosition(t),this._tooltipped.addEvents(this._events.tooltippedOnShown),i.addEvents.call(document.querySelector("body"),this._events.bodyOnShown,null,null,!0),this.options.delay?o.setDelay():o.show()},onMoveTooltip:function(t){var o=this,i=o.options,n=i.delay;o.mousePosition=e.getPosition(t),n>0?(o.hide(),o.setDelay()):r.setPosition(o.mousePosition)},onHideTooltip:function(){this._tooltipped.removeEvents(this._events.tooltippedOnShown),i.removeEvents.call(document.querySelector("body"),this._events.bodyOnShown,!0),this.hide()},getRootNode:function(){return this.options.root||this._tooltipped.getOffsetParent()}});return e.onDomReady(function(){var t=s.Features.touchEvents;t||i.addEvent.call(document.querySelector("body"),"mouseover [uwa-tooltip]",function(t){var o=e.getElement(t);if(o&&o.getAttribute("uwa-tooltip")){o.set("title","");var n=new h(o,o.getAttribute("uwa-tooltip"),{root:document.querySelector("body"),delay:Number(o.getAttribute("uwa-tooltip-delay"))||800,showOver:!1});n.dispatchEvent("onShowTooltip",[t]);var s={"mousemove [uwa-tooltip]":function(t){n.dispatchEvent("onMoveTooltip",[t])},"mouseout [uwa-tooltip]":function(t){n.dispatchEvent("onHideTooltip",[t]),i.removeEvents.call(document.querySelector("body"),s)}};i.addEvents.call(document.querySelector("body"),s)}})}),t.namespace("Controls/ToolTip",h,t)});

define("UWA/Controls/EmbedToolTip",["UWA/Core","UWA/Class/Timed","UWA/Event","UWA/Controls/ToolTip","UWA/Element"],function(t,i,o,e,s){"use strict";var l=e.extend(i,{defaultOptions:{id:"uwa-embedToolTip",className:"uwa-embedToolTip",width:100,overDelay:1e3,margin:5},show:function(){var t,i=this._parent;this._tooltip||this.buildSkeleton(),this.setDelayed("showEmbedToolTip",function(){this._tooltippedSize=s.getSize.call(this._tooltipped),this._originalStyle=s.getStyles.call(this._tooltipped,["z-index","position"]),t=parseInt(this._originalStyle["z-index"],10)+100||1e3,s.setStyles.call(this._tooltipped,{zIndex:String(t),position:"relative"}),s.setStyles.call(this._tooltip,{zIndex:String(t-1),paddingBottom:this._tooltippedSize.height+this.options.margin,width:Math.max(this.options.width,this._tooltippedSize.width)}),i.call(this),this._tooltip.show(),this.setPosition()},this.options.overDelay)},hide:function(){this._parent(),this.clearDelayed("showEmbedToolTip"),this.options.fx||s.setStyles.call(this._tooltipped,this._originalStyle)},setPosition:function(){this._tooltip.setPosition({x:-this.options.margin,y:-this._tooltip.getSize().height+(this._tooltippedSize?this._tooltippedSize.height:this._tooltipped.getSize().height)+this.options.margin},{relative:this._tooltipped})},fxCompleted:function(){this._parent(),this.options.fx&&!this.visible&&s.setStyles.call(this._tooltipped,this._originalStyle)}});return t.namespace("Controls/EmbedToolTip",l,t)});

define("UWA/Controls/FeedView",["UWA/Core","UWA/Class","UWA/Event","UWA/String","UWA/Controls/Abstract","UWA/Controls/Ellipsis","UWA/Controls/Scroller","UWA/Controls/Pager"],function(e,t,i,s,n,o,r,a){"use strict";var l=n.extend({defaultOptions:{nbItems:10,showDate:!0,messages:{noItem:"There is no news in this feed.",loadMore:"Load more news.",websiteLink:"Go to website",readMore:"Read more"},images:{loader:e.hosts.uwa+e.paths.css+"base/img/loader.gif",image:e.hosts.uwa+e.paths.css+"base/img/article.png"},scroller:{lockDirection:!0,momentum:!0,bounce:!0},pager:{type:0,showMoreLink:!0}},pagerPosition:"bottom",scrollPosition:"top",itemPerPage:0,init:function(e){this._parent(e),this.itemsEllipsis=[],this.itemsImages={loaded:[],loading:[],waiting:[],maxLoading:2},this.buildSkeleton()},buildSkeleton:function(){var t=this,i=t.pagerPosition;return t.container=e.createElement("div",{class:"uwa-feedview content uwa-feedview-"+t.viewName.replace(/ /g," uwa-feedview-"),events:{resize:this.dispatchAsEventListener("onResize"),mousedown:this.dispatchAsEventListener("onMouseDown")}}),this.buildItems(),t.buildScroller(),i&&(["top","both"].indexOf(i)!==-1&&t.buildPager("top"),["bottom","both"].indexOf(i)!==-1&&t.buildPager("bottom")),t.container},buildItems:function(){var t=this,i=t.options,s=i.messages,n=t.elements;return n.item=[],n.items=e.createElement("div",{class:"items"}),n.itemsActions=e.createElement("div",{class:"actions",html:[{tag:"div",class:"loadMore action",html:{tag:"a",href:"#",text:e.i18n(s.loadMore)},styles:{display:"none"}},{tag:"div",class:"noItem action",text:e.i18n(s.noItem),styles:{display:"none"}},{tag:"div",class:"websiteLink action",html:{tag:"a",href:"#",text:e.i18n(s.websiteLink)},styles:{display:"none"}}]}).inject(n.items),n.items.inject(t.container),n.items},buildScroller:function(){var t=this,i=t.elements,s=e.merge({events:{onRefresh:function(){t.refreshPager(),t.loadItemsImages()},onScrollEnd:function(){t.loadItemsImages()}}},t.options.scroller);i.scrollarea=e.createElement("div",{class:"scrollarea"}).grab(i.items).inject(t.container,"top"),t.scroller=new r(t.elements.items,s)},setScrollerHeight:function(e){this.pager&&(e-=this.pager.getContent().getDimensions().outerHeight),this.elements.top&&(e-=this.elements.top.getDimensions().outerHeight),this.elements.scrollarea?this.elements.scrollarea.setStyle("height",e+"px"):this.container.setStyle("height",e+"px"),this.refreshScroller()},refreshScroller:function(){var e=this,t=e.scroller;t&&t.dispatchEvent("onRefresh")},buildPager:function(t){var i=this,s=e.merge({_root:!1,events:{onOffsetChange:function(e){var t=i.options.source.getItems();i.showItem(t[e])}}},i.options.pager);i.pager=new a(s),i.pager.inject(i.container,t)},refreshPager:function(){var e,t,i,s=this,n=s.pager,o=s.options,r=o.source;n&&(e=r.getItems(),i=s.getItemsPerPage(),t=e.indexOf(s.currentItem),n.options.moreLink=r.getLink(),n.setLength(e.length),n.setLimit(i),n.setOffset(t===-1?0:t),n.dispatchEvent("onRefresh"))},getItemsPerPage:function(){var e,t,i=this,s=0,n=i.elements.item;for(e=0,t=n.length;e<t;e++)i.scroller.isInViewport(n[e])&&s++;return i.itemPerPage=s,i.itemPerPage},buildItem:function(t){var i,n=this.options,o=n.source.isItemRead(t),r=!(!n.showDate||!t.date)&&s.parseRelativeTime(t.date.toString());return i=e.createElement("div",{class:"item "+(o?"read":"unread"),html:{tag:"div",class:"content",html:{tag:"div",class:"infos",html:[{tag:"div",class:"title",html:[{tag:"a",class:"link ellipsis",href:t.link,html:s.stripTags(t.title)},{tag:"div",class:"separator"}]},r&&{tag:"div",class:"date",html:[{tag:"span",html:r},{tag:"div",class:"separator"}]}]}},events:{click:this.dispatchAsEventListener("onItemClick",t)}}),this.addEllipsis({reference:i.getElement(".content"),element:i.getElement(".ellipsis")}),i.setData("href",t.link),i.setData("item-index",t.index),i},getItem:function(e){var t=e.index,i=this.elements.item;return i[t]||(i[t]=this.buildItem(e)),i[t]},getItems:function(e){return e.map(this.getItem,this)},refreshItems:function(){var e=this,t=e.options,i=t.source,s=i.getItems();e.injectItems(s)},injectItems:function(e){var t=this,i=t.getItems(e),s=i.length,n=t.elements,o=t.options,r=o.source,a=r.getItems().length,l=r.hasMore(n.items.length);n.itemsActions.getElement(".loadMore").toggle(l),n.itemsActions.getElement(".noItem").toggle(!a),i=i.splice(0,o.nbItems),i.push(n.itemsActions),i.forEach(function(e,t){0===t?e.addClassName("first"):t===s-1&&e.addClassName("last"),e.addClassName(t%2===0?"odd":"even")}),n.items.addContent(i),!t.currentItem&&e[0]&&t.showItem(e[0])},showItem:function(e){var t=this,i=t.currentItem,s=t.options,n=s.source;i!==e&&(i&&t.getItem(i).removeClassName("active"),t.getItem(e).removeClassName("unread").addClassName("read").addClassName("active"),n.setItemRead(e),t.currentItem=e,t.scroller&&t.scroller.scrollToElement(t.getItem(e),t.scrollPosition))},loadMore:function(e){var t=this,i=t.options,s=i.source.getLoaded();e=e||i.nbItems,this.injectItems(s.splice(t.elements.items.length,e))},destroy:function(){this.container&&this.container.destroy()},addEllipsis:function(e){this.itemsEllipsis.push(e)},loadEllipsis:function(){var e,t,i,s=this,n=s.itemsEllipsis;for(e=0,t=n.length;e<t;e++)i=n[e],i.ellipsis||(i.ellipsis=new o(i.element,{_root:!1,reference:i.element.getParent()}));s.refreshEllipsis()},refreshEllipsis:function(){var e,t,i,s=this.itemsEllipsis;for(e=0,t=s.length;e<t;e++)i=s[e],i.ellipsis&&i.ellipsis.dispatchEvent("onRefresh")},resizeItemImage:function(e){var t,i,s,n,o,r=e&&e.getElement("img");e=r&&r.getParent(),e&&e.offsetWidth>0&&e.isInjected()&&(t={width:"auto",height:"auto",marginTop:0,marginLeft:0},r.setStyles(t),i={width:r.offsetWidth,height:r.offsetHeight},s={width:e.offsetWidth,height:e.offsetHeight},o=s.width/s.height,n=i.width/i.height,this.options.images.loader===r.src&&(s.width>i.width||s.height>i.height)?(t.marginLeft=s.width/2-i.width/2+"px",t.marginTop=s.height/2-i.height/2+"px"):o<n?(t.height="100%",t.marginLeft=-(s.height*n-s.width)/2+"px"):(t.width="100%",t.marginTop=-(s.width/n-s.height)/2+"px"),r.setStyles(t))},buildItemImage:function(t,i){var n=this,o=n.options.images,r=o[i],a=t[i]||r,l=e.createElement("img"),m=e.createElement("div",{class:"image",html:{tag:"a",title:s.stripTags(t.title),href:t.link,html:l}}),c=n.resizeItemImage.bind(n,m);return this.addItemImage({item:t,container:m,src:a,onLoad:function(){l.setAttribute("src",a),c()},onError:function(){l.setAttribute("src",r),c()},onLoading:function(){l.setAttribute("src",o.loader),c()}}),m},addItemImage:function(e){this.itemsImages.waiting.push(e)},loadItemsImages:function(){var e,t,i,s=this,n=[],o=s.itemsImages;for(e=0,t=o.waiting.length;e<t;e++)i=o.waiting[e],(i.item===s.currentItem||s.scroller.isInViewport(i.container,!0))&&n.push(i);for(e=0,t=n.length;e<t;e++)s.loadItemImage(n[e])},loadItemImage:function(t){var i,s=this,n=s.itemsImages,o=function(){var e,i,o,r,a=[];if(o=n.loading.indexOf(t),o!==-1&&n.loading.splice(o,1),o=n.loaded.indexOf(t),o===-1){for(n.loaded.push(t),e=0,i=n.waiting.length;e<i;e++)r=n.waiting[e],t.src===r.src&&(a.push(r),n.loaded.push(r));for(e=0,i=a.length;e<i;e++)s.loadItemImage(a[e])}};i=n.waiting.indexOf(t),i!==-1&&n.waiting.splice(i,1),n.loaded.indexOf(t)!==-1?(t.onLoad(),o()):(t.onLoading(),n.loading.push(t),e.createElement("img",{styles:{display:"none"},events:{load:function(){t.onLoad(),this.destroy(),o()},error:function(){t.onError(),this.destroy(),o()}}}).inject(document.body).setAttribute("src",t.src))},onPostInject:function(){this.refreshItems()},onResize:function(){this.itemPerPage=0,this.refreshScroller()},onItemClick:function(e,t){var s=this;t&&s.showItem(t)&&i.stop(e),s.refreshPager()},onMouseDown:function(e){i.preventDefault(e)}});return l.Full=l.extend({buildItem:function(t){var i,n=this._parent(t),o=n.getElement(".content");return i=e.createElement("div",{class:"description ellipsis",html:{tag:"div",html:s.stripTags(t.content)}}).inject(o),this.addEllipsis({reference:i,element:i.getElement("div")}),this.buildItemImage(t,"image").inject(n,"top"),n}}),l.Presentable=l.Full.extend({presentedItem:null,buildSkeleton:function(){return this._parent().grab(this.buildItemTop(),"top")},buildItemTop:function(){return this.elements.top=e.createElement("div",{class:"top",html:{tag:"div",class:"actions",html:{tag:"div",class:"readMore action",html:{tag:"a",text:e.i18n(this.options.messages.readMore)}}}}),this.elements.top},showItem:function(e){var t,i=this.elements.top;if(this._parent(e),!this.presentedItem||this.presentedItem.getData("item-index")!==e.index)return this.presentedItem&&this.presentedItem.remove(),t=this.buildItem(e),t.inject(i,"top"),i.getElement(".readMore").getElement("a").setAttribute("href",e.link),this.presentedItem=t,this.loadItemsImages(),!0}}),l.Adapter={},l.Adapter.Abstract=t.extend({init:function(e){this.object=e},hasMore:function(){return!1},isItemRead:function(){return!1},setItemRead:function(){return!1},getItems:function(){return[]},getLink:function(){return null}}),l.Adapter.Feed=l.Adapter.Abstract.extend({getItems:function(){return this.object.getItems()},isItemRead:function(e){return this.object.isItemRead(e.index)},setItemRead:function(e){return this.object.setItemRead(e.index)},getLink:function(){return this.object.getLink()}}),e.namespace("Controls/FeedView",l,e,!0)});

define("UWA/Controls/FeedView/Carousel",["UWA/Core","UWA/Controls/FeedView"],function(e,t){"use strict";var i=t.Presentable.extend({viewName:"carousel",scrollPosition:"center",getItemsPerPage:function(){var e,t,i=this,r=0,n=i.elements.item;if(!i.itemPerPage){for(e=0,t=n.length;e<t;e++)i.scroller.isInViewport(n[e],!0)&&r++;i.itemPerPage=r}return i.itemPerPage},onResize:function(){this._parent();var e=this.elements.items.getChildren(),t=0;e.forEach(function(e){t+=e.offsetWidth}),this.elements.items.setStyle("width",t+"px")}});return e.namespace("Controls/FeedView_Carousel",i,e)});

define("UWA/Controls/FeedView/Channel",["UWA/Core","UWA/String","UWA/Controls/FeedView/Carousel","UWA/Controls/Pager","UWA/Event"],function(e,t,n,i,s){"use strict";var a=n.extend({eltMargin:20,displayPager:!1,viewName:"carousel channel",showItem:function(e){var t;this._parent(e),this.presentedItem&&this.presentedItem.remove(),this.presentedItem=t,this.loadItemsImages()},buildItemImage:function(n,i){var s=this,a=s.options,r=a.images,o=n[i]||"",l=e.createElement("img"),d="",c=e.createElement("div",{class:"hentry"}),h=e.createElement("div",{class:"entry-image",html:l}),m=e.createElement("div",{class:"entry-title",html:{tag:"span",class:"title",html:n.title?t.stripTags(n.title):""}}),p=e.createElement("div",{class:"entry-share"}),g=e.createElement("div",{class:"item-date",text:n.date?t.parseRelativeTime(n.date.toString()):""}),u=e.createElement("div",{class:"item-dragAndFollow"}),f="",v=s.resizeItemImage.bind(s,c),C=125,I="no-image";return d=n.description||n.content||"",n[i]||(p.addClassName(I),m.addClassName(I),d=t.stripTags(d),d=t.cut(d,C),f=e.createElement("span",{class:"entry-description",text:d}),m.appendChild(f)),a.enableShare&&(a.shareFunction&&p.addEvent("click",this.share.bind(this)),h.appendChild(p)),c.appendChild(h),h.appendChild(m),c.appendChild(g),a.enableDragAndFollow&&c.appendChild(u),this.addItemImage({item:n,container:c,src:o,onLoad:function(){l.setAttribute("src",o),v()},onError:function(){l.destroy()},onLoading:function(){l.setAttribute("src",r.loader),v()}}),c},onResize:function(){this._parent();var e=this.elements.items.getChildren(),t=0;e.forEach(function(e){t+=e.offsetWidth+this.eltMargin},this),this.elements.items.setStyle("width",t+"px"),this.refreshScroller(),this.pager&&this.refreshPager()},buildPager:function(t){if(this.displayPager){var n=this,s=e.merge({_root:!1,events:{onOffsetChange:function(e){var t=n.options.source.getItems();n.showItem(t[e])}}},n.options.pager);n.pager=new i(s),n.pager.inject(n.container,t)}},share:function(e){s.stopPropagation(e),this.options.shareFunction()}});return e.namespace("Controls/FeedView_Channel",a,e)});

define("UWA/Controls/FeedView/Gallery",["UWA/Core","UWA/Controls/FeedView/Carousel"],function(e,r){"use strict";var l=r.extend({viewName:"carousel gallery"});return e.namespace("Controls/FeedView_Gallery",l,e)});

define("UWA/Controls/FeedView/Headline",["UWA/Core","UWA/Controls/FeedView"],function(e,n){"use strict";var i=n.Full.extend({viewName:"headline"});return e.namespace("Controls/FeedView_Headline",i,e)});

define("UWA/Controls/FeedView/Magazine",["UWA/Core","UWA/Controls/FeedView"],function(e,n){"use strict";var a=n.Presentable.extend({viewName:"magazine"});return e.namespace("Controls/FeedView_Magazine",a,e)});

define("UWA/Controls/FeedView/Normal",["UWA/Core","UWA/Controls/FeedView"],function(e,o){"use strict";var r=o.Full.extend({viewName:"normal"});return e.namespace("Controls/FeedView_Normal",r,e)});

define("UWA/Controls/FeedView/Scoop",["UWA/Core","UWA/Controls/FeedView"],function(e,o){"use strict";var n=o.Presentable.extend({viewName:"scoop normal"});return e.namespace("Controls/FeedView_Scoop",n,e)});

define("UWA/Controls/FeedView/SimpleList",["UWA/Core","UWA/Controls/FeedView"],function(e,i){"use strict";var t=i.extend({viewName:"simplelist"});return e.namespace("Controls/FeedView_SimpleList",t,e)});

define("UWA/Controls/FeedView/Ticker",["UWA/Core","UWA/String","UWA/Controls/FeedView","UWA/Controls/Flash"],function(e,t,s,r){"use strict";var i=s.extend({viewName:"ticker",color:"blank",colors:{blue:["014446","6eb8bd","1fd3e3","6EB8BD"],green:["232908","787F57","B6D800","787F57"],red:["5B0000","D5827C","E9440B","D5827C"],orange:["440121","C57C9A","FE4792","C57C9A"],white:["343434","8E8D8D","FFFFFF","8E8D8D"],yellow:["502200","BF934E","FCBC13","BF934E"],blank:["transparent","8E8D8D","333333","333333"],borderless:["transparent","8E8D8D","333333","333333"]},buildSkeleton:function(){var t,s=this.colors,i=this.color,n=this.options;return this.container=e.createElement("div",{class:"uwa-feedview content uwa-feedview-"+this.viewName}),t=new r({_root:!1,url:e.hosts.uwa+e.paths.img+"flash/ticker.swf",height:80,width:"100%",allowScriptAccess:"always",flashVars:{background:s[i][0],arrow:s[i][1],text:s[i][2],subtext:s[i][3],shareLabel:e.i18n("Share"),direction:n.direction,share:n.displayShare?"1":"0"}}).inject(this.container),this.elements.flash=t.getFlashContainer(),this.registerOnFlashLoad(),this.container},registerOnFlashLoad:function(){function e(){t.onFlashLoad()||setTimeout(e,500)}var t=this;setTimeout(e,1e3)},onFlashLoad:function(){var e,s,r,i=this.options,n=i.source.getItems(),a=this.elements.flash;if("function"==typeof a.addItem){for(e=0,s=n.length;e<s;e++)r=n[e],a.addItem(e,t.stripTags(r.title),i.showDate?t.parseRelativeTime(r.date):"");return a.start(),!0}return!1},onResize:function(){},refreshItems:function(){}});return e.namespace("Controls/FeedView_Ticker",i,e)});

define("UWA/Controls/FlashPlayer",["UWA/Core","UWA/Utils","UWA/String","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Flash"],function(e,t,n,l,i,s,o,h){"use strict";var a=o.extend({className:"uwa-flashplayer",defaultOptions:{flashVars:"",flashUrl:"",width:"",height:"",wmode:"opaque",aspectRatio:1.3,showToolbar:!0,showFullScreenLink:!0},isFullScreen:!1,init:function(e){this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var t=this.elements;t.container=e.createElement("div",{class:this.className,align:"center"}),t.container.hide()},buildLinks:function(t,l){var s=this.options,o=this.elements;o.links=e.createElement("p",{align:"center"}),s.showFullScreenLink&&(e.createElement("a",{href:"#flashPlayer-FullScreen",text:e.i18n("Full screen"),events:{click:function(e){i.stop(e),this.toogleFullScreenMode(!0)}.bind(this)}}).inject(o.links),o.links.appendText(" | ")),t&&l&&(e.createElement("a",{href:t,rel:"external",html:n.stripTags(l)}).inject(o.links),o.links.appendText(" | ")),e.createElement("a",{href:"#flashPlayer-Close",html:"<strong>"+e.i18n("Close Video")+"</strong>",events:{click:function(e){i.stop(e),this.hide()}.bind(this)}}).inject(o.links),o.links.inject(o.container)},toogleFullScreenMode:function(t){t=!!t;var n=l.getSize(),i=this.elements;t?(this.isFullScreen=!0,window.scrollTo(0,0),s.setStyle.apply(document.body,["overflow","hidden"]),i.fullScreenContainer=e.createElement("div",{align:"center",styles:{backgroundColor:"#000",position:"absolute",top:0,left:0,width:n.width+"px",height:n.height+"px"}}).inject(document.body),i.flashObject.inject(i.fullScreenContainer),this.buildCloseFullScreenButton()):(this.isFullScreen=!1,i.flashObject.inject(i.flashContainer,"top"),i.fullScreenCloseButton.remove(),i.fullScreenContainer.remove(),s.setStyle.apply(document.body,["overflow",""])),this.onResize()},buildCloseFullScreenButton:function(){var t=this.elements;t.fullScreenCloseButton=e.createElement("input",{type:"button",value:e.i18n("Close FullScreen"),styles:{position:"absolute",top:"2px",right:"2px"}}).inject(t.fullScreenContainer),l.Engine.ie&&l.Engine.version>6&&(t.fullScreenCloseButton.style.width=t.fullScreenCloseButton.value.length+"em"),t.fullScreenCloseButton.addEvent("click",function(e){i.stop(e),this.toogleFullScreenMode(!1)}.bind(this))},show:function(n,i,s){s&&this.setOptions(s),s=this.options;var o=this.elements;(n||i)&&(s.flashUrl=n,s.flashVars=i),/\.flv$/.test(s.flashUrl)&&(s.flashVars="flv="+encodeURIComponent(s.flashUrl)+"&showplayer=autohide&autoplay=1&showvolume=1&showtime=1",s.flashUrl=e.hosts.uwa+e.paths.img+"flash/player_flv.swf"),l.Engine.ie&&s.flashUrl.indexOf("?")!==-1&&(s.flashUrl+="&"+t.random(100)),o.container.empty(),o.flashControl=new h({_root:!1,url:s.flashUrl,width:s.width,height:s.height,flashVars:s.flashVars,wmode:s.wmode,styles:{width:s.width,height:s.height}}).inject(o.container),o.flashContainer=o.flashControl.elements.container,o.flashObject=o.flashControl.getFlashContainer(),s.showToolbar&&this.buildLinks(s.mediaLinkUrl,s.mediaLinkText),o.container.show(),this.onResize()},hide:function(){var e=this.elements;e.container&&(e.container.empty(),e.container.hide())},onResize:function(){var e,t,n,i=this.elements,s=this.options,o=l.getSize();this.isFullScreen&&i.fullScreenContainer.setStyles({height:o.height+"px",width:o.width-l.getScrollbarWidth()+"px","z-index":1}),i.flashObject&&(e=i.flashObject.getParent().getDimensions(),n=s.width?s.width:e.innerWidth,t=s.height?s.height:Math.min(o.height,n/s.aspectRatio),i.flashObject.setStyles({height:t+"px",width:n+"px"}),i.flashObject.setAttribute("height",t),i.flashObject.setAttribute("width",n))}});return e.namespace("Controls/FlashPlayer",a,e)});

define("UWA/Controls/Overlay",["UWA/Core","UWA/Event","UWA/Fx","UWA/Controls/Abstract","UWA/Class/Timed"],function(e,t,i,n,s){"use strict";var o=new WeakMap,l=new WeakMap,a=n.extend(s,{name:"uwa-overlay",defaultOptions:{exclusive:!0,exclusiveWith:function(e){return e.name===this.name},closeable:!0,fxOptions:{},resizeParent:!1},init:function(t){this._parent(t),this.buildSkeleton(),this.fx=new i(this.elements.container,e.merge({wait:!1,events:{onComplete:this.onFxComplete.bind(this)}},this.options.fxOptions))},buildSkeleton:function(){var i=this.elements.container=e.createElement("div",{class:this.getClassNames(),styles:{display:"none",opacity:0}});o.set(i,this),this.options.closeable&&i.addClassName("closeable").addEvent("click",function(e){t.getElement(e)===i&&this.close()}.bind(this))},closeOverlays:function(e){function t(){i-=1,0===i&&e()}var i=1;if(this.options.exclusive){var n=this.elements.container&&this.elements.container.getParent();n&&n.getElements(".uwa-overlay").forEach(function(e){var n=o.get(e);n&&this!==n&&n.isOpen()&&this.options.exclusiveWith.call(this,n)&&(i+=1,n.addEventOnce("onClose",t),n.close())},this)}t()},onFxComplete:function(){var e=this.opening,t=this.elements.container;e||(t.setStyle("display","none"),this.resize(!0)),this.dispatchEvent(e?"onOpen":"onClose",[t]),this.opening=null},isOpen:function(){var e=this.elements.container;return e.getParent()&&"none"!==e.getStyle("display")&&this.opening!==!1},open:function(){return this.setPeriodical("needResize",this.resize,500),this.toggle(!0)},close:function(){return this.clearPeriodical("needResize"),this.toggle(!1)},toggle:function(e){var t=this.elements.container,i=this.isOpen();if(void 0===e)e=!i;else if(e===i)return;return this.dispatchEvent(e?"onPreOpen":"onPreClose",[t]),this.opening=e,t.setStyle("display","block"),this.fx&&this.fx.fade(e?"in":"out"),e&&this.closeOverlays(function(){this.resize()}.bind(this)),this.fx||this.onFxComplete(),this},resize:function(e){if(this.options.resizeParent){var t=l.get(this),i=this.getContent(),n=i.getOffsetParent();!t||n&&t===n||(t.setStyle("height",""),l.delete(this)),n&&(e?(n.setStyle("height",""),l.delete(this)):i.scrollHeight>n.offsetHeight&&(n.setStyle("height",i.scrollHeight),l.set(this,n)))}},onRemoved:function(){this.resize(!0)},onInjected:function(){this.resize()},destroy:function(){this.resize(!0),this._parent()}});return e.namespace("Controls/Overlay",a,e)});

define("UWA/Controls/Lightbox",["UWA/Core","UWA/Controls/Overlay"],function(t,n){"use strict";var e=n.extend({getInnerElement:function(){return this.elements.container},setContent:function(t){return this.getInnerElement().setContent(t),this},addContent:function(t){return this.getInnerElement().addContent(t),this}});return t.namespace("Controls/Lightbox",e,t)});

define("UWA/Controls/Map",["UWA/Core","UWA/Utils","UWA/Array","UWA/Controls/Abstract","UWA/Class/Timed"],function(t,i,a,e,o){"use strict";var n=e.extend(o,{id:null,api:null,map:null,defaultOptions:{width:320,height:240,className:"uwa-map",googleApiKey:null,api:{zoom:15}},init:function(a){if(this._parent(a),this.id=i.random(1e5),this.apiCallbacks=[],!n.States.apiLoading&&!n.States.apiLoaded){n.States.apiLoading=!0;var e="https://maps.google.com/maps/api/js?callback=UWA.Controls.Map.onApiLoad";this.options.googleApiKey&&(e+="&key="+this.options.googleApiKey),t.createElement("script",{type:"text/javascript",src:e}).inject(document.body)}this.setPeriodical("checkLoad",function(){n.States.apiLoaded&&(this.clearPeriodical("checkLoad"),this.onApiReady())},100),this.buildSkeleton()},buildSkeleton:function(){var i=this.options,a=this.elements;a.container=t.createElement("div",{id:"map_canvas"+this.id,class:i.className,styles:{height:i.height+"px",width:i.width+"px"},events:{resize:this.dispatchEvent.bind(this,"onResize")}})},callApi:function(t){n.States.apiLoaded?t.call(this,this.api,this.map):this.apiCallbacks.push(t)},setPosition:function(t){this.callApi(function(){this.map.setCenter(new this.api.LatLng(t.coords.latitude,t.coords.longitude))}.bind(this))},addMarker:function(t,i,a){var e=this;this.callApi(function(){var o=e.api,n=e.map,s=new o.InfoWindow({content:a});e.marker=new o.Marker({position:new o.LatLng(t.coords.latitude,t.coords.longitude),map:n,title:i}),o.event.addListener(e.marker,"click",function(){s.open(n,e.marker)})})},onApiReady:function(){var i=this.options,e=this.elements;this.api=google.maps,this.map=new this.api.Map(e.container,t.extend({mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.HYBRID},i.api)),this.dispatchEvent("onLoad"),this.apiCallbacks.length&&(a.invoke(this.apiCallbacks,"call",this,this.api,this.map),this.apiCallbacks.length=0)},onLoad:function(){},onResize:function(){this.setDelayed("resize",function(){this.map&&this.api&&this.api.event.trigger(this.map,"resize")},500)}});return n.States={apiLoading:!1,apiLoaded:!1},n.onApiLoad=function(){n.States.apiLoading=!1,n.States.apiLoaded=!0},t.namespace("Controls/Map",n,t)});

define("UWA/Controls/Notify",["UWA/Core","UWA/Controls/Abstract","UWA/Event","UWA/Fx"],function(t,e,s,n){"use strict";var o=e.extend({defaultOptions:{className:"",showOnInject:!0,closeOnClick:!0,transition:"quadOut",duration:500,fx:!0,from:"top",to:"bottom",max:0},messages:null,init:function(t){var e=this;e.messages=[],e._parent(t),e.options.messages&&e.addMessage(e.options.messages),e.buildSkeleton()},buildSkeleton:function(){var e=this,s=e.elements,n=e.options;s.container=t.createElement("div",{class:"uwa-notify",events:{resize:e.dispatchAsEventListener("onResize")}}),n.className&&s.container.addClassName(n.className)},showMessage:function(t){var e,s,n=this,o=n.messages;return t?(s=o.indexOf(t),s=s>-1&&o.splice(s,1)[0]):s=o.shift(),s&&(e=n.injectItem(s)),e},addMessage:function(t,e){this.messages.push(t),e&&this.showMessage(t)},addMessages:function(t){var e=this;t.forEach(function(t){e.messages.push(t)})},getItems:function(){return this.getContent().getElements(".uwa-notify-item")},injectItem:function(e){var o,i,a,c,l=this,r=l.options,u=l.getContent(),m=l.getItems(),f=u.getOffsetParent(),g=f.getDimensions(),h=0,d={},p={};return c=t.createElement("div",{class:"uwa-notify-item",html:{tag:"div",class:"uwa-notify-msg",html:[{tag:"div",class:"uwa-notify-header"},{tag:"a",class:"uwa-notify-close",text:"×",href:"#close"},{tag:"div",class:"uwa-notify-body",html:e},{tag:"div",class:"uwa-notify-footer"}]},styles:{visibility:"hidden",zIndex:String(100-m.length)}}),c.addEvent("click",function(t){var e=s.getElement(t),n="onClick";e.hasClassName("uwa-notify-close")&&(n="onClose"),l.dispatchEvent(n,[t,c])}),m.forEach(function(t){h+=t.getDimensions().outerHeight}),c.inject(u),l.updateItems(),i=c.getPosition(),a=c.getDimensions(),"top"===r.to?p.top=h+"px":"bottom"===r.to&&(p.top=g.innerHeight-a.outerHeight-h+"px"),"top"===r.from?d.top=-a.outerHeight+"px":d.top=a.outerHeight+g.outerHeight+"px",c.setStyles({left:g.innerWidth/2-a.width/2+"px",visibility:"visible"}),r.fx?(r.fade&&(d.opacity=0,p.opacity=1),c.setStyles(d),o=new n(c,{transition:r.transition,duration:r.duration,events:{onStart:function(){c.addClassName("moving")},onComplete:function(){c.removeClassName("moving")}}}).start(p)):c.setStyles(p),c},updateItems:function(){var t=this,e=t.options,s=t.getContent(),n=t.getItems(),o=s.getOffsetParent(),i=o.getDimensions(),a=0;n.forEach(function(t){var s,n=t.getDimensions();"top"===e.to?s=a:"bottom"===e.to&&(s=i.innerHeight-n.outerHeight-a),a+=n.outerHeight,t.hasClassName("moving")||t.setStyles({left:i.innerWidth/2-n.width/2+"px",top:s+"px"})})},onPostInject:function(){this.options.showOnInject&&this.showMessage()},onResize:function(){this.updateItems()},onClose:function(t,e){var o,i=this;s.stop(t),e.hasClassName("closing")||(o=new n(e,{events:{onStart:function(){e.addClassName("closing")},onComplete:function(){e.destroy(),i.updateItems()}}}).fade("out"))},onClick:function(t,e){var n=this,o=s.getElement(t);(n.options.closeOnClick||o.hasClassName("uwa-notify-close"))&&n.dispatchEvent("onClose",[t,e])}});return t.namespace("Controls/Notify",o,t)});

define("UWA/Controls/Popup",["UWA/Core","UWA/Controls/Abstract"],function(e,t){"use strict";var n=t.extend({defaultOptions:{url:"about:blank",status:!1,toolbar:!1,location:!1,menubar:!1,resizable:!1,scrollbars:!1,fullscreen:!0,width:320,height:240,left:160,top:120},init:function(e){var t=this;t._parent(e)},open:function(e){var t=this;t.close(),t.elements.popup||t.buildSkeleton(e)},close:function(){var e=this;e.elements.popup&&(e.elements.popup.close(),e.elements.popup=null,e.dispatchEvent("onClose"))},setPosition:function(e,t){this.elements.popup&&this.elements.popup.moveBy(parseInt(e,10),parseInt(t,10))},focus:function(){this.elements.popup&&this.elements.popup.focus()},buildSkeleton:function(e){var t,n=this,o=n.options,s=["dependent=yes"],l=["width","height","status","toolbar","location","menubar","personalbar","resizable","scrollbars","fullscreen"];l.forEach(function(e,t){t<2&&o[e]?s.push(e+"="+parseInt(o[e],0)):t>1&&s.push(e+"="+(o[e]?"yes":"no"))}),e=e||o.url,t=window.open(e,"_blank",s.join(",")),t&&t.moveBy?(n.elements.popup=t,n.timer=window.setInterval(n.checkClosed.bind(n),100),setTimeout(function(){n.focus(),n.setPosition(o.left,o.top),n.dispatchEvent("onOpen")},100)):n.dispatchEvent("onBlocked")},checkClosed:function(){var e=this,t=e.elements.popup;t&&!t.closed||e.handleApproval()},handleApproval:function(){var e=this;e.timer&&(window.clearInterval(e.timer),e.timer=null),e.close()}});return e.namespace("Controls/Popup",n,e)});

define("UWA/Controls/SchemaForm/Inputs",["UWA/Core","UWA/Utils","UWA/Controls/Abstract","UWA/Controls/Input"],function(e,t,n,s){"use strict";var o;return o={"uwa-text":s.Text,"uwa-select":s.Select,"uwa-radiogroup":n.extend({name:"uwa-schemaform-radiogroup",init:function(e){this._parent(e),this.options.value&&this.setValue(this.options.value),this.radioGroupName="schema-form-"+t.getUniqueId()},getContent:function(){var t=this;return this.elements.container||(this.elements.container=e.createElement("div",{class:this.getClassNames()}),this.elements.radios=[],this.options.options.forEach(function(n,o){var i=new s.Radio({attributes:{name:t.radioGroupName,value:o}}),a=e.createElement("span",{class:t.getClassNames("-label"),text:n.label});e.createElement("label",{html:[i,a]}).inject(t.elements.container),t.elements.radios.push(i)})),this.elements.container},getValue:function(){var e=this.elements.container.getElement(":checked");return e?this.options.options[e.value].value:null},setValue:function(t){this.getContent(),this.options.options.forEach(function(n,s){e.equals(t,n.value)&&this.elements.radios[s].check(!0)},this)}}),"uwa-checkbox":s.Checkbox.extend({getValue:function(){return this.isChecked()},setValue:function(e){this.check(Boolean(e))}}),"uwa-checkboxgroup":n.extend({name:"uwa-schemaform-checkboxgroup",init:function(e){this._parent(e),this.options.value&&this.setValue(this.options.value)},getContent:function(){var t=this;return this.elements.container||(this.elements.container=e.createElement("div",{class:this.getClassNames()}),this.elements.checkboxes=[],this.options.options.forEach(function(n){var o=new s.Checkbox,i=e.createElement("span",{class:t.getClassNames("-label"),text:n.label});e.createElement("label",{html:[o,i]}).inject(t.elements.container),t.elements.checkboxes.push(o)})),this.elements.container},getValue:function(){var e=[];return this.elements.checkboxes.forEach(function(t,n){if(t.isChecked()){var s=this.options.options[n].value;e.indexOf(s)===-1&&e.push(s)}},this),e},setValue:function(e){this.getContent(),this.elements.checkboxes.forEach(function(e){e.check(!1)}),e&&e.forEach&&e.forEach(function(e){this.elements.checkboxes.forEach(function(t,n){var s=this.options.options[n].value;s===e&&t.check(!0)},this)},this)}})},e.namespace("Controls/SchemaForm/Inputs",o,e)});

define("UWA/Controls/SchemaForm/Sanitizers",["UWA/Core"],function(r){"use strict";var e;return e={"uwa-trim":function(r){return(r||"").trim()},"uwa-normalize-number":function(r){return"string"==typeof r?""===r?void 0:Number(r.replace(",",".").replace(" ","")):Number(r)}},r.namespace("Controls/SchemaForm/Sanitizers",e,r)});

define("UWA/Controls/SchemaForm/Validators",["UWA/Core"],function(r){"use strict";var t;return t={"uwa-integer":function(t){var a=Number(t);if(Math.round(a)!==a)throw Error(r.i18n("“{0}” is not an integer.").format(t))},"uwa-number":function(t){var a=Number(t);if(!isFinite(a))throw Error(r.i18n("“{0}” is not a number.").format(t))},"uwa-stringlength":function(t,a){if(!t||t.length<a.min)throw a.min>1?Error(r.i18n("Please enter at least {0} characters.").format(a.min)):Error(r.i18n("Please enter at least {0} character.").format(a.min));if(t.length>a.max)throw a.max>1?Error(r.i18n("Please enter at most {0} characters.").format(a.max)):Error(r.i18n("Please enter at most {0} character.").format(a.max))},"uwa-arraylength":function(t,a){if(!t||t.length<a.min)throw a.min>1?Error(r.i18n("Please select at least {0} options.").format(a.min)):Error(r.i18n("Please select at least {0} option.").format(a.min));if(t.length>a.max)throw a.max>1?Error(r.i18n("Please select at most {0} options.").format(a.max)):Error(r.i18n("Please select at most {0} option.").format(a.max))},"uwa-twitterusername":function(t){if(!/^@\w+$/.test(t))throw Error(r.i18n("“{0}” is not a valid Twitter username.").format(t))}},r.namespace("Controls/SchemaForm/Validators",t,r)});

define("UWA/Controls/SchemaForm",["UWA/Core","UWA/Array","UWA/Class","UWA/Promise","UWA/Controls/Abstract","UWA/Controls/SchemaForm/Inputs","UWA/Controls/SchemaForm/Sanitizers","UWA/Controls/SchemaForm/Validators","UWA/Controls/Input"],function(t,e,i,s,n,a,o,l,h){"use strict";var r,c;return r=n.extend({name:"uwa-schemaform",fields:null,onChangePaused:!1,isPropagatingChanges:!1,options:{schema:null,initialValue:{},inputs:a,sanitizers:o,validators:l,submitButton:!0,clearButton:!1,data:null,baseInputOptions:{}},init:function(t){this._parent(t),this._initFields()},_initFields:function(){this.fields={},Object.keys(this.options.schema.fields).forEach(function(t){var e=this.options.initialValue&&this.options.initialValue[t];this.fields[t]=new c(this,t,this.options.schema.fields[t],e)},this)},getContent:function(){return this.elements.container||this._buildContent(),this.elements.container},buildNotice:function(e,i,s){i=i?i:"tooltip",this.notices[s]?this.notices[s].innerHTML=e:this.notices[s]=t.createElement("div",{class:this.getClassNames("-notice uwa-icon "+i),html:e}),this.notices[s].inject(s?this.fields[s].getContent():this.elements.container)},_buildContent:function(){var e=this;return this.elements.container=t.createElement("div",{class:this.getClassNames()}),this.notices={},this.options.schema.notice&&this.buildNotice(this.options.schema.notice.text,this.options.schema.notice.icon),Object.keys(this.fields).forEach(function(t){this.elements.container.addContent(this.fields[t].getContent()),this.fields[t].schema.input.options&&this.fields[t].schema.input.options.hidden&&this.fields[t].getContent().hide()},this),(this.options.submitButton||this.options.clearButton)&&(this.elements.buttonContainer=t.createElement("div",{class:this.getClassNames("-buttons")}).inject(this.elements.container),this.options.clearButton&&(this.elements.clearButton=new h.Button(t.merge({_root:!1,value:"Clear",events:{onClick:function(){e.clearValue()}}},this.options.baseInputOptions)).inject(this.elements.buttonContainer)),this.options.submitButton&&(this.elements.submitButton=new h.Button(t.merge({_root:!1,value:"Submit",events:{onClick:function(){e.isValid().then(function(){e.dispatchEvent("onSubmit",[{value:e.getValue()}])})}}},this.options.baseInputOptions)).inject(this.elements.buttonContainer))),this.elements.container},getValue:function(){var t={};return Object.keys(this.fields).forEach(function(e){t[e]=this.fields[e].getValue()||null},this),t},getDisplayValue:function(){var t={};return Object.keys(this.fields).forEach(function(e){t[e]=this.fields[e].getDisplayValue()},this),t},getFieldValue:function(t){var e=this.fields[t];return e?e.getValue():null},setFieldValue:function(t,e){this.fields[t]&&(this.fields[t].setValue(e),this._onFieldChanged(t))},setFieldTitle:function(t,e){this.fields[t]&&this.fields[t].setTitle(e)},getValidatedValue:function(){var t=this.getValue();return this.isValid().then(function(){return t})},getValidatedFieldValue:function(t){var e=this.fields[t];return e.isValid().then(function(){return e.getValue()})},setValue:function(t){this.onChangePaused=!0,t=t||{},Object.keys(this.fields).forEach(function(e){t.hasOwnProperty(e)&&this.fields[e].setValue(t[e])},this),this.updateValidityMessages(),this.onChangePaused=!1},clearValue:function(){this.onChangePaused=!0,Object.keys(this.fields).forEach(function(t){this.fields[t].setValue(null)},this),this.updateValidityMessages(),this.onChangePaused=!1},isValid:function(){return s.allSettled(Object.keys(this.fields).map(function(t){return this.fields[t].isValid().fail(function(e){return s.reject(Object.assign(e,{fieldName:t}))})},this)).then(function(t){var e={};if(t.forEach(function(t){"rejected"===t.state&&(e[t.reason.fieldName]=t.reason)}),0!==Object.keys(e).length)throw Object.assign(new Error("There is an error within a field"),{fieldErrors:e})})},updateValidityMessages:function(){Object.keys(this.fields).forEach(function(t){this.fields[t].updateValidityMessage({forceValidation:!0})},this)},getSchemaformData:function(){return this.options.data},_createContextForField:function(){var t={getFieldValue:this.getFieldValue.bind(this),setFieldValue:this.setFieldValue.bind(this),getValidatedFieldValue:this.getValidatedFieldValue.bind(this),getSchemaformData:this.getSchemaformData.bind(this),hideField:this.hideField.bind(this),showField:this.showField.bind(this),buildNotice:this.buildNotice.bind(this),addValidityMessage:this.addValidityMessage.bind(this),hideValidityMessage:this.hideValidityMessage.bind(this),setFieldTitle:this.setFieldTitle.bind(this)};return t},addValidityMessage:function(t,e){this.fields[t]&&this.fields[t].addValidityMessage(e)},hideValidityMessage:function(t){this.fields[t]&&this.fields[t].hideValidityMessage()},hideField:function(t){this.fields[t]&&this.fields[t].getContent().hide()},showField:function(t){this.fields[t]&&this.fields[t].getContent().show()},_executeSanitizers:function(t,e,i){var s=this,n=i,a=this._getSanitizersFor(t);return a.forEach(function(t){var i=s._evaluateOptions(t,e),a=s.options.sanitizers[t.id];n=a(n,i)}),n},_executeValidators:function(t,e,i){var n,a=this,o=this._getValidatorsFor(t);return n=s.all(o.map(function(n){var o=a._evaluateOptions(n,e),l=a.options.validators[n.id],h=l.bind(null,i,o,t);return s.resolve().then(h)}))},_getSanitizersFor:function(t){return t.sanitizers?t.sanitizers:t.sanitizer?[t.sanitizer]:[]},_getValidatorsFor:function(t){return t.validators?t.validators:t.validator?[t.validator]:[]},_evaluateOptions:function(e,i){var s;if(e.computedOptions){s={};var n=e.computedOptions;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a],l=o.sourceFieldName,h=this.getFieldValue(l);h=this._executeSanitizers(o,i,h),s[a]=h}e.options&&(s=t.merge(s,e.options))}else s=e.options?e.options:{};return s=t.merge(s,{context:i})},_findDependencies:function(t){if(!t)return[];var e=[];if(t.computedOptions){var i=t.computedOptions;for(var s in i)if(i.hasOwnProperty(s)){var n=i[s],a=this._getSanitizersFor(n);if("string"==typeof n.sourceFieldName&&""!==n.sourceFieldName&&e.push(n.sourceFieldName),a)for(var o=0;o<a.length;o++){var l=a[o],h=this._findDependencies(l);e=e.concat(h)}}}return e},_onFieldChanged:function(t){this.isPropagatingChanges||(this._propagateChanges([t]),this.onChangePaused||this.dispatchEvent("onChange",[{value:this.getValue()}]))},_propagateChanges:function(t){this.isPropagatingChanges=!0;for(var e=0;t.length;){for(var i=[],s=0;s<Object.keys(this.fields).length;s++){var n=Object.keys(this.fields)[s],a=this.fields[n],o=a.onFieldsChanged(t);o&&i.push(n)}if(t=i,++e>500)throw new Error("I reckon there might be some good old cyclical references in your computedOptions, partner.")}this.isPropagatingChanges=!1},destroy:function(){Object.keys(this.fields).forEach(function(t){this.fields[t].destroy()},this),this._parent()}}),c=i.extend({host:null,schema:null,elements:null,fallbackValue:void 0,context:null,dependencies:null,validationCacheIsFor:null,cachedValidationPromise:null,init:function(t,e,i,s){function n(t){var e=[];return t.forEach(function(t){e=e.concat(a.host._findDependencies(t))}),e}var a=this;this.host=t,this.schema=i,this.name=e,this.elements={},this.fallbackValue=s,this.context=t._createContextForField(this),this.dependencies={input:this.host._findDependencies(this.schema.input),sanitizer:n(this.host._getSanitizersFor(this.schema)),validator:n(this.host._getValidatorsFor(this.schema))}},getContent:function(){return this.elements.container||this._buildContent(),this.elements.container},_buildContent:function(){this.elements.container=t.createElement("div",{class:this.host.getClassNames("-field")+" input-"+this.schema.input.id}),this.elements.validityMessage=t.createElement("div",{class:this.host.getClassNames("-field-validity-message")}).inject(this.elements.container),this.elements.title=t.createElement("div",{class:this.host.getClassNames("-field-title"),text:this.schema.title}).inject(this.elements.container),this.elements.inputWrapper=t.createElement("div",{class:this.host.getClassNames("-field-wrapper")}).inject(this.elements.container),this._buildInput(),this.schema.notice&&this.context.buildNotice(this.schema.notice.text,this.schema.notice.icon,this.name)},setTitle:function(t){this.elements.title&&this.elements.title.setText(t)},_buildInput:function(){this.elements.control&&(this.elements.control.destroy(),this.elements.inputWrapper.empty());var e=this.host.options.inputs[this.schema.input.id],i=t.clone(this.host._evaluateOptions(this.schema.input,this.context));Object.assign(i,this.host.options.baseInputOptions,{_root:!1,context:this.context,schema:this.schema,name:this.name}),this.fallbackValue&&Object.assign(i,{value:this.fallbackValue}),this.elements.control=new e(i).inject(this.elements.inputWrapper),this.elements.control.addEvent&&this.elements.control.addEvent("onChange",function(){this.fallbackValue=this.elements.control.getValue(),this.updateValidityMessage(),this.host._onFieldChanged(this.name)},this)},_isValidationCacheUpToDate:function(){return this.cachedValidationPromise&&this.validationCacheIsFor===this._getRawValue()},getValue:function(){return this._sanitize(this._getRawValue())},getDisplayValue:function(){return this.elements.control&&this.elements.control.getDisplayValue?this.elements.control.getDisplayValue():this._getRawValue()},_getRawValue:function(){return this.elements.control?this.elements.control.getValue():this.fallbackValue},_sanitize:function(t){return this.host._executeSanitizers(this.schema,this.context,t)},setValue:function(t){this.elements.control?this.elements.control.setValue(t):this.fallbackValue=t},isEmpty:function(){return!this.elements.control||this.elements.control.isEmpty()},isValid:function(){var t=this.host._getValidatorsFor(this.schema).filter(function(t){return"one-of"===t.id}).length;return this._isValidationCacheUpToDate()&&!t||(this.validationCacheIsFor=this._getRawValue(),this.cachedValidationPromise=this.host._executeValidators(this.schema,this.context,this.getValue())),this.cachedValidationPromise},updateValidityMessage:function(t){var e=this;(void 0!==this.fallbackValue||t&&t.forceValidation)&&this.isValid().then(function(){e.hideValidityMessage()},function(t){e.addValidityMessage(t)})},addValidityMessage:function(t){this.elements.validityMessage&&(this.elements.validityMessage.textContent=t.message,this.elements.container.addClassName("invalid"))},hideValidityMessage:function(){this.elements.validityMessage&&(this.elements.validityMessage.textContent="",this.elements.container.removeClassName("invalid"))},onFieldsChanged:function(t){function e(e){var s=i.dependencies[e];return t.some(function(t){return s.indexOf(t)>-1})}var i=this,s=!1;return e("input")&&this.elements.container&&(s=!0,this._buildInput()),e("sanitizer")&&(s=!0),e("validator")&&(this.validationCacheIsFor=null,this.updateValidityMessage()),s},destroy:function(){this.elements.container&&(this.elements.container.destroy(),this.elements.control.destroy&&this.elements.control.destroy())}}),t.namespace("Controls/SchemaForm",r,t,"replace")});

define("UWA/Controls/SearchForm",["UWA/Core","UWA/Utils/Client","UWA/Json","UWA/Event","UWA/Class/Timed","UWA/Controls/Abstract"],function(t,e,i,s,n,o){"use strict";var r=o.extend(n,{name:"uwa-searchform",defaultOptions:{searchText:"",faviconUrl:"",submitButton:"button",className:"nv-search",showCheckbox:!1,showHistory:!1,allowEmpty:!1,dir:"ltr",limit:10},init:function(t){this.historyList=[],this._parent(t),this.buildSkeleton(),this.options.faviconUrl&&this.setFavicon(t.faviconUrl),this.options.searchText&&this.setSearchText(t.searchText)},setOptions:function(t){t=t||{},t.searchHistory&&(t.showHistory=!0),this._parent(t)},setInitialState:function(t,e){var i=this;i.setFavicon(t),i.setSearchText(e),i.setCheckboxState(e)},buildSkeleton:function(){var e,i,s=t.i18n,n=this,o=n.options,r=n.elements;e=t.createElement("div",{class:"search "+this.getClassNames()}),r.form=t.createElement("form",{events:{submit:this.dispatchAsEventListener("onSubmitByHistoryLink")}}).inject(e),r.favicon=t.createElement("img",{class:"favicon",src:t.hosts.uwa+t.paths.css+"base/img/s.gif",width:16,height:16,styles:{display:"none"}}).inject(r.form),r.inputSearch=t.createElement("input",{class:"search",type:"text",value:"",events:{focus:this.dispatchAsEventListener("onFocusSearch"),blur:this.dispatchAsEventListener("onBlurSearch"),click:this.dispatchAsEventListener("onClickSearch"),keypress:this.dispatchAsEventListener("onSearchKeyPress")}}).inject(r.form),r.resetButton=t.createElement("img",{class:"clear",alt:s("Clear"),title:s("Clear"),src:t.hosts.uwa+t.paths.css+"base/img/clear.gif",events:{click:this.dispatchAsEventListener("onResetSearch")},styles:{display:"none"}}).inject(r.form),i=o.submitButton&&"string"!=typeof o.submitButton?o.submitButton:"icon"===o.submitButton?t.createElement("a",{"data-icon":"U",class:"uwa-icon uwa-icon-only",alt:t.i18n("Search"),events:{click:this.dispatchAsEventListener("onSubmitByHistoryLink")}}):t.createElement("input",{type:"submit",value:t.i18n("Search")}),r.form.addContent(i),r.form.lastChild.addClassName("submit"),o.showCheckbox&&(r.checkbox=t.createElement("input",{class:"check",type:"checkbox",title:o.checkboxTitle||"",value:"",events:{click:this.dispatchAsEventListener("onToggleSearch")}}).inject(r.form),"rtl"===o.dir?r.checkbox.setStyle("left","5px"):r.checkbox.setStyle("right","5px")),n.inputSearch=r.inputSearch,n.form=r.form,this.container=e},buildHistoryBox:function(){this.hideHistory();var e=this,i=e.elements,n=i.inputSearch,o=n.getSize(),r=e.getSearchText(),c=e.historyList,h=t.createElement("ul",{class:"uwa-popup-menu",events:{click:function(i){s.stop(i);var n=t.Event.getElement(i),o=n.getText();e.setSearchText(o),e.dispatchEvent("onSubmitByHistoryLink",[i])}}});c.forEach(function(t){r!==t&&e.getHistoryBoxItem(t).inject(h)}),t.createElement("li",{class:"uwa-popup-menu-item action",html:{tag:"a",text:t.i18n("Clear recent searches"),events:{click:function(t){s.stop(t),e.clearHistory()}}}}).inject(h),h.inject(i.form),h.setStyles({width:o.width-n.getComputedSize("borderWidth")+"px"}),h.setPosition({x:0,y:o.height-n.getComputedSize("borderWidth")},{relative:n}),i.historyBox=h},getHistoryBoxItem:function(e){return t.createElement("li",{class:"uwa-popup-menu-item",html:{tag:"a",href:"#history:"+e,html:{tag:"span",text:e}}})},setFavicon:function(t,e){var i=this.elements.favicon;i.src=t,i.alt=i.title=e,i[t&&t.length?"show":"hide"]()},setSearchText:function(t){var e=this,i=e.elements,s=i.inputSearch,n=i.resetButton;s.value=t||"",n[t&&t.length?"show":"hide"](),e.addHistory(t)},getSearchText:function(){return this.elements.inputSearch.value},setCheckboxState:function(t){var e=this.elements.checkbox;e&&(t?(e.setAttribute("checked","checked"),e.defaultChecked=!0):(e.setAttribute("checked",""),e.defaultChecked=!1))},getCheckboxState:function(){var t=this.elements.checkbox;return t&&"checked"===t.getAttribute("checked")},setHistoryString:function(e){var s=this,n=[];if(t.is(e,"string"))try{e=i.decode(e)||e}catch(t){}t.is(e,"array")?n=e:t.is(e)&&(n=String(e).split(":")),n.forEach(s.addHistory,s)},getHistoryString:function(){return i.encode(this.historyList)},addHistory:function(e){var i=this,s=i.historyList,n=s.indexOf(e);t.is(e,"string")&&e.length>0&&(n>-1&&s.splice(n,1),s.unshift(e),s.length>i.options.limit&&s.pop(),i.dispatchEvent("updateHistory"))},clearHistory:function(){var t=this;t.historyList=[],t.dispatchEvent("updateHistory"),t.hideHistory()},hideHistory:function(){var t=this;t.elements.historyBox&&t.elements.historyBox.destroy(),t.elements.historyBox=null},showHistory:function(){var t=this,e=t.historyList,i=t.getSearchText();t.options.showHistory&&(e.length>1||1===e.length&&e[0]!==i)&&t.buildHistoryBox()},toggleHistory:function(){var t=this;t.options.showHistory&&(t.elements.historyList?t.hideHistory():t.showHistory())},onSubmitSearch:function(t,e){var i=this;i.hideHistory(),i.setSearchText(t),i.dispatchEvent("submit",[t,e])},onSubmitByHistoryLink:function(t){s.stop(t);var e=this.getSearchText(),i="onSubmitSearch";0!==e.trim().length||this.options.allowEmpty||(i="onResetSearch"),this.dispatchEvent(i,[e,this.getCheckboxState()])},onResetSearch:function(){var t=this;t.hideHistory(),t.setSearchText(""),t.dispatchEvent("reset")},onToggleSearch:function(){this.dispatchEvent("toggle")},onFocusSearch:function(){this.dispatchEvent("focus"),this.clearDelayed("onBlurSearch")},onBlurSearch:function(){this.options.showHistory&&this.setDelayed("onBlurSearch",this.hideHistory,500,!1,this),this.dispatchEvent("blur")},onClickSearch:function(){this.options.showHistory&&this.toggleHistory()},onSearchKeyPress:function(){this.options.showHistory&&this.hideHistory()}});return t.namespace("Controls/SearchForm",r,t)});

define("UWA/Controls/StackedColumn",["UWA/Core","UWA/String","UWA/Element","UWA/Controls/Segmented","UWA/Controls/ToolTip"],function(t,o,e,s,i){"use strict";var n=s.extend({defaultOptions:{spacer:.5,showText:!0,hoverColors:null,minHeight:10,className:"uwa-stackedColumn"},init:function(t){this.total=0,this._parent(t),this.options.hoverColors&&this.baseEvents()},addItem:function(t,o){var s,n=this;this._parent(t,o),this.total+=o.value,this.updatePourcents(),this.elements.items[t].addEvent("click",function(){n.dispatchEvent("onClick",[t,o,this])}),e.addEvent.call(this.elements.items[t],"mouseenter",function(){n.dispatchEvent("onMouseOver",[t,o,this])}),e.addEvent.call(this.elements.items[t],"mouseleave",function(){n.dispatchEvent("onMouseOut",[t,o,this])}),this.options.toolTip&&this.options.toolTip.formatter&&(s=new i(this.elements.items[t],this.options.toolTip.formatter(o.raw,o.raw.type),{width:this.options.toolTip.width||120,fx:!1}))},updatePourcents:function(){var t,o=this.elements.items;for(t in o)o.hasOwnProperty(t)&&this.updateItem(t,o[t])},updateItem:function(t,e){var s=this.options.data[t],i=s.value/this.total*100,n=i,a='<p>{0}<span class="pourcent">{1}%</span></p>';e.setStyle("background-color",s.background),e.hasClassName(this.options.className+"-item-last")||e.setStyle("margin-right",this.options.spacer+"%"),n=i-this.options.spacer,e.setStyle("width",n+"%"),e.empty(),this.options.showText?e.setHTML(o.format(a,s.text,Math.round(i))):e.setStyle("height",this.options.minHeight+"px")},updateItemColor:function(t,o){this.options.data[t]&&(this.options.data[t].background=o,this.elements.items[t].setStyle("background-color",o))},toggleItemColor:function(t,o){this.elements.items[t].getStyle("background-color").toLowerCase()===this.options.data[t].background.toLowerCase()?this.elements.items[t].setStyle("background-color",o):this.elements.items[t].setStyle("background-color",this.options.data[t].background)},getItemInfo:function(t){return{config:this.options.data[t],dom:this.elements.items[t]}},baseEvents:function(){this.addEvents({onMouseOver:this.toggleBgColors,onMouseOut:this.toggleBgColors})},toggleBgColors:function(t){var o=this.options.data[t],e=this.findColor(o);e&&this.updateItemColor(t,e)},findColor:function(t){var o,e,s=this.options.hoverColors;for(o in s)if(s.hasOwnProperty(o)){if(o===t.background){e=s[o];break}if(s[o]===t.background){e=o;break}}return e}});return t.namespace("Controls/StackedColumn",n,t)});

define("UWA/Controls/TabView",["UWA/Core","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Carousel"],function(e,t,s,n,i,o){"use strict";var l=i.extend({defaultOptions:{element:null,selectedTab:null,className:"",classNames:{tabView:"uwa-tabview",tabList:"uwa-tablist",tabPanels:"uwa-tabview-panel",tabPanel:"uwa-tab-panel",tab:"uwa-tab",selected:"selected",disabled:"disabled"},scroller:{scrollSize:1,nextButton:null,previousButton:null},tabScroller:!1,tabSelector:".uwa-tab",allowReload:!1,noContent:!1},tabs:null,selectedTab:null,init:function(t){this._parent(t),this.tabs=[],this.selectedTab=null,this.buildContainer(),this.initEvents(),e.is(this.options.tabs,"array")&&(this.options.tabs.forEach(this.addTab,this),delete this.options.tabs),(this.options.tabScroller||this.options.scroller.nextButton||this.options.scroller.previousButton)&&this.createScroller()},addTab:function(t,s){var n;return t instanceof l.Tab==!1&&(t=new l.Tab(t)),t.setOption("classNames",this.options.classNames),e.is(s,"number")&&s<this.tabs.length&&s>=0?(t.tabElement().inject(this.getTab(s).tabElement(),"before"),this.tabs.splice(s,0,t)):(this.elements.tabList.grab(t.tabElement()),this.tabs.push(t)),this.elements.contentNode&&(n=t.contentElement(),n&&this.elements.contentNode.grab(t.contentElement())),t.options.selected&&this.selectTab(t),this.onResize(),this.dispatchEvent("onAddTab",[t]),this},removeTab:function(e){var t=this.getTab(e);return t&&(t.remove(),this.tabs.splice(this.tabs.indexOf(t),1),this.onResize(),this.dispatchEvent("onRemoveTab",[t])),this},selectTab:function(e,t){var s,n,i=this.getTab(e);i&&((i!==this.selectedTab||this.options.allowReload)&&(s=this.selectedTab,s?s.setSelected(!1):n=0,this.dispatchEvent("onPreSelectTab",[i,s,t]),this.selectedTab=i.setSelected(!0),this.onResize(),this.dispatchEvent("onSelectTab",[i,s,t])),this.ensureTabIsVisible(i,!1,n))},enableTab:function(e,t){var s=this.getTab(e);s&&s.setDisabled(void 0!==t&&!t)},getTab:function(t){var s,n,i=!1;if(e.is(t))if(t instanceof l.Tab)i=t;else for(s=0,n=this.tabs.length;s<n&&(i=this.tabs[s],!t||!t.nodeType||i.tabElement()!==t)&&(s!==t&&i.getId()!==t&&i.getName()!==t);s+=1)i=!1;else i=this.selectedTab;return i},moveTab:function(e,t){var s,n,i=t+1>=this.tabs.length;return s=this.getTab(e),n=this.tabs.indexOf(s),n!==t&&(this.tabs.splice(t,0,this.tabs.splice(n,1)[0]),i?s.tabElement().inject(this.getTab(t-1).tabElement(),"after"):s.tabElement().inject(this.getTab(t+1).tabElement(),"before"),!0)},selectDefaultTab:function(){var e,t,s;for(t=0,s=this.tabs.length;t<s;t+=1)if(e=this.tabs[t],e.isSelectable())return this.selectTab(e),e;return!1},setTabContent:function(e,t){return this.getTab(e).setContent(t),this},getTabContent:function(e){return this.getTab(e).contentElement()},buildContainer:function(){this.options.element?(this.elements.container=e.extendElement(this.options.element),delete this.options.element):this.elements.container=e.createElement("div"),this.elements.container.addClassName(this.options.classNames.tabView+" "+this.options.className),this.elements.tabList=e.createElement("ul",{class:this.options.classNames.tabList}).inject(this.elements.container),this.options.noContent||(this.elements.contentNode=e.createElement("div",{class:this.options.classNames.tabPanels}).inject(this.elements.container))},initEvents:function(){this.elements.container.addEvent("click",this.handleEvent.bind(this))},handleEvent:function(t){var n=this.getTabFromEvent(t);n&&(s.preventDefault(t),e.is(n.handleEvent,"function")&&n.handleEvent(t,this),n.isDisabled()||this.selectTab(n,t))},getTabFromEvent:function(e){var t=s.getElement(e).getClosest(this.options.tabSelector);return t&&this.getTab(t)},createScroller:function(){var e=this,t=e.elements.container;t.setAttribute("scrollable","true"),this.scroller=this.getScroller(),this.scroller.addEvent("onScrollerResize",this.onScrollerResize.bind(this))},getScroller:function(){return this.scroller||(this.scroller=new o(this.elements.tabList,this.options.scroller)),this.scroller},onScrollerResize:function(e){var t=this.overflow;this.overflow=this.scroller.hasOverflow(),this.overflow&&this.selectedTab&&e&&Math.abs(e.deltaScroll)>100&&this.ensureTabIsVisible(this.selectedTab,!1,0),t!==this.overflow&&(this.elements.container.setAttribute("overflow",String(this.overflow)),this.dispatchEvent("onOverflowChange",[{overflow:this.overflow}]))},reload:function(){var e=this.selectedTab;this.selectedTab=null,this.selectTab(e)},showTabList:function(){this.elements.tabList.show()},hideTabList:function(){this.elements.tabList.hide()},isTabVisible:function(e,t){var s=!1,n=this.getTab(e);return n&&(s=this.scroller&&this.scroller.isItemVisible(n.tabElement(),t)),s},ensureTabIsVisible:function(e,t,s){this.scroller&&(this.isTabVisible(e,t)||this.scrollToTab(e,s))},scrollNext:function(){this.scroller&&this.scroller.scrollNext()},scrollPrevious:function(){this.scroller&&this.scroller.scrollPrevious()},scrollToTab:function(e,t){var s=this.getTab(e).tabElement();s&&this.scroller.scrollToItem(s,void 0,t)},selectTabItem:function(e,t,s,n){var i=this.getTab(e);return i instanceof l.DropdownTab&&i.items.forEach(function(e){e[t]===s&&i.selectItem(e,this,n!==!1)},this),this},onResize:function(){this.scroller&&this.scroller.onRefresh()},onPreInject:function(){null===this.options.selectedTab&&this.selectDefaultTab()},onPostInject:function(){null!==this.options.selectedTab&&this.selectTab(this.options.selectedTab)}});return l.Tab=i.extend({defaultOptions:{id:"",disabled:!1,selected:!1,text:"",icon:"",name:"",content:null,className:""},init:function(e){!e||e.id||0===e.id||e.name||(e.id=Date.now().toString(36)),this._parent(e)},getId:function(){return this.options.id},getName:function(){return this.options.name},getText:function(){return this.options.text},setIcon:function(t){return t?this.elements.icon?this.options.icon!==t&&(this.options.icon=t,this.elements.icon.src=t):this.elements.icon=e.createElement("img",{class:"icon",src:t}).inject(this.tabElement().getElement(".title"),"before"):this.elements.icon&&this.elements.icon.remove(),this},setText:function(e){return this.tabElement().getElement(".title").setText(e),this},setDisabled:function(e){return void 0===e&&(e=!0),this.tabElement().toggleClassName("disabled",e),this.elements.content&&this.elements.content.toggleClassName("disabled",e),this.options.disabled=e,this},setSelected:function(e){return this.tabElement().toggleClassName("selected",e),this.elements.content&&this.elements.content.toggleClassName("selected",e).toggleClassName("hidden",!e),this.options.selected=e,this},setContent:function(e){return this.contentElement().setHTML(e),this},isSelectable:function(){return!this.isDisabled()},isSelected:function(){return this.options.selected},isDisabled:function(){return this.options.disabled},remove:function(){this.tabElement().remove(),this.elements.content&&this.elements.content.remove()},tabElement:function(){return this.elements.container||(this.elements.container=this._createTabElement(),this.options.name&&this.elements.container.addClassName(this.options.name),this.options.className&&this.elements.container.addClassName(this.options.className),this.options.icon&&this.setIcon(this.options.icon)),this.elements.container},contentElement:function(){return this.elements.content||(this.elements.content=this._createContentElement(),this.elements.content&&this.elements.content.addClassName("hidden "+this.options.name)),this.elements.content},_createTabElement:function(){var t=e.createElement("li",{class:this.options.classNames.tab});return t.grab(this._createInnerTabElement(t))},_createInnerTabElement:function(){return e.createElement("a",{href:this.options.id?"#"+this.options.id:""}).grab(e.createElement("span",{class:"title",text:this.options.text}))},_createContentElement:function(){var t=e.createElement("div",{id:this.options.id,html:this.options.content||e.i18n("Loading..."),class:this.options.classNames.tabPanel});return delete this.options.content,t}}),l.DropdownTab=l.Tab.extend({defaultOptions:{autohide:!0,popupMenuItemSelector:".uwa-popup-menu-item",classNames:{dropdownTab:"uwa-tab-dropdown",popupMenu:"uwa-popup-menu",popupMenuItem:"uwa-popup-menu-item"}},init:function(t,s){this.items=s,this.selectedItem=s[0],this._parent(e.merge({name:String(t)},this.selectedItem))},setSelected:function(e){return this._parent(e),this.options.autohide&&this.elements.container.getElement(".dropdown").toggleClassName("hidden",!e),this},handleEvent:function(e,t){this.isSelected()&&(s.stop(e),this.tabView=t,this.togglePopupMenu())},togglePopupMenu:function(){var e=this.elements.container.hasClassName("open");return e?this.hidePopupMenu():this.showPopupMenu(),!e},showPopupMenu:function(){this.createPopupMenu(),this.elements.container.addClassName("open")},hidePopupMenu:function(t){if(t){var s=e.Event.getElement(t).getClosest("."+this.options.classPopupMenu);if(s)return}this.elements.container.removeClassName("open"),this.elements.popupMenu&&(this.elements.popupMenu.destroy(),delete this.elements.popupMenu),this.boundHidePopupMenu&&(n.removeEvent.apply(document.body,["click",this.boundHidePopupMenu]),delete this.boundHidePopupMenu),this.tabView&&(this.tabView=null,delete this.tabView)},createPopupMenu:function(){var t,s,i,o;for(this.elements.popupMenu&&this.elements.popupMenu.remove(),this.elements.popupMenu=e.createElement("ul",{class:this.options.classNames.popupMenu,events:{click:this.onPopupMenuItemClick.bind(this)}}),t=0,s=this.items.length;t<s;t++)this.selectedItem!==this.items[t]&&this._createPopupMenuItem(this.items[t]).inject(this.elements.popupMenu).setAttribute("data-index",t);return this.elements.popupMenu.inject(this.elements.container.getParent("."+this.options.classNames.tabView)).setPosition({x:0,y:this.elements.container.getDimensions().height},{relative:this.elements.container,boundary:"auto",fit:"resize-max"}),i=this.elements.popupMenu.getDimensions(),o=this.elements.container.getDimensions(),i.width<o.width&&this.elements.popupMenu.setStyle("width",o.width+"px"),this.boundHidePopupMenu||(this.boundHidePopupMenu=this.hidePopupMenu.bind(this),n.addEvent.apply(document.body,["click",this.boundHidePopupMenu])),this.elements.popupMenu},selectItem:function(t,s,n){if(e.is(t,"object")){if(e.is(t.handler,"function"))t.handler.call(this);else if(t!==this.selectedItem){var i=s||this.tabView;this.tabElement().getElement(".title").setText(t.text||""),t.icon&&this.setIcon(t.icon),this.previousItem=this.selectedItem,this.selectedItem=t,i&&n!==!1&&(i.selectedTab=null,i.selectTab(this))}this.hidePopupMenu()}},onPopupMenuItemClick:function(t){s.stop(t);var n,i,o=e.Event.getElement(t).getClosest(this.options.popupMenuItemSelector);o&&(n=Number(o.getAttribute("data-index")),i=this.items[n],i&&this.selectItem(i))},_createPopupMenuItem:function(t){var s=e.createElement("li",{class:this.options.classNames.popupMenuItem}),n=e.createElement("a").inject(s);return t.icon&&n.grab(e.createElement("img",{src:t.icon,class:"icon"})),n.grab(e.createElement("span",{text:t.text})),s},_createTabElement:function(){return this._parent().addClassName(this.options.classNames.dropdownTab)},_createInnerTabElement:function(){return e.createElement("a",{href:this.options.id?"#"+this.options.id:""}).grab(e.createElement("span",{class:"title",text:this.options.text})).grab(e.createElement("span",{class:"dropdown hidden"}))}}),e.namespace("Controls/TabView",l,e)});

define("UWA/Controls/Tag",["UWA/Core","UWA/Event","UWA/Controls/Input"],function(t,e,s){"use strict";var n=s.Button.extend({name:"uwa-tag",options:{closable:!1},buildSkeleton:function(){this._parent();var e=this.elements.input.getText();this.elements.input.empty(),this.elements.input=t.createElement("div",{class:this.getClassNames("-title"),text:e}),this.elements.content.addContent([this.elements.input,t.createElement("div",{class:this.getClassNames("-close")+" uwa-icon","data-icon":",",events:{click:this._close.bind(this)}})]),this.setClosable(this.options.closable)},setClosable:function(t){this.elements.container.toggleClassName("closable",t!==!1)},_close:function(t){this.dispatchEvent("onClose"),e.stop(t)},buildInput:function(){return t.createElement("div",{tabindex:"0"})}});return t.namespace("Controls/Tag",n,t)});

define("UWA/Controls/Web",["UWA/Core","UWA/Utils","UWA/Controls/Abstract","UWA/Class/Timed"],function(e,t,s,n){"use strict";function i(){var e,t,s={};for(e=0,t=arguments.length;e<t;e++)s[arguments[e]]=!0;return s}var a=i("www.skateslate.com","www.pravdareport.com"),r=s.extend(n,{defaultOptions:{url:"about:blank",width:"100%",height:"",className:"uwa-web",scrolling:"auto",border:!1,sandbox:!1,withMessage:!1},init:function(e){this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var t,s,n=this.elements,i=this.options;s={width:i.width,height:i.height,scrolling:i.scrolling,frameborder:i.border?1:0},i.sandbox&&(s.sandbox="allow-same-origin allow-forms allow-scripts allow-popups"),i.url||(i.url="about:blank"),n.container=e.createElement("div",{class:i.className}),n.iframe=t=e.createElement("iframe",s),t.onload=this.dispatchAsEventListener("onLoad"),t.onerror=this.dispatchAsEventListener("onError"),i.withMessage&&(n.container.addContent(e.createElement("div",{class:"uwa-web-message",html:n.loadingMessage=e.createElement("p",{class:"loading-message"})})),this.addEvent("onLoad",function(){return this._shouldClearMessage()?void n.loadingMessage.empty():void(this._isSecureIFrame(i.url)?this.setDelayed("websitemessage",function(){n.loadingMessage.setText(_("This website prevents embedding via iframe."))},1e3):this.setDelayed("websitemessage",function(){n.loadingMessage.setText(_("This app is trying to load unsecure content."))},1e3))}.bind(this))),n.container.addContent(t),this._isSecureIFrame(i.url)&&this.setSrc(i.url)},setSrc:function(e){this.elements.iframe.src=e,this.options.withMessage&&("about:blank"===e?this.elements.loadingMessage.empty():this.elements.loadingMessage.setText(_("Loading…")))},setIFrameHeight:function(e){this.elements.iframe.setStyle("height",e)},isBlank:function(){return"about:blank"===this.elements.iframe.src},getIFrame:function(){return this.elements.iframe},_isSecureIFrame:function(e){var s=t.parseUrl(window.location.href),n=t.parseUrl(e);return"http"===s.protocol||s&&"https"===s.protocol&&n&&"https"===n.protocol},_shouldClearMessage:function(){var s=this.elements.iframe.src;if(this.isBlank()||/\.(png|jpe?g|gif|txt)$/i.test(s))return!0;var n=t.parseUrl(s).domain;return e.owns(a,n)}});return e.namespace("Controls/Web",r,e)});

define("UWA/Services/Auth",["UWA/Core","UWA/Class","UWA/Class/Options"],function(t,e,i){"use strict";var n=e.extend(i,{Adapter:null,defaultOptions:{adapter:null,adapterOptions:{}},init:function(t){this.setOptions(t),this.initAdapter()},initAdapter:function(){var e=this.options.adapter,i=this.options.adapterOptions;if(e instanceof t.Services.Auth.Adapter.Abstract)e.setOptions(i),this.Adapter=e;else{if("string"!=typeof e)throw new Error("Bad adapter options value <"+e+">.");try{if(this.Adapter=new t.Services.Auth.Adapter[e](i),!(this.Adapter instanceof t.Services.Auth.Adapter.Abstract))throw new Error("UWA.Services.Auth.Adapter."+e+" is not an instance of UWA.Services.Auth.Adapter.Abstract")}catch(t){throw new Error("Unable to initialize adapter with name <"+e+"> cause: "+t)}}},hasIdentity:function(t,e){this.Adapter.hasIdentity(t,e)},getIdentity:function(t,e){this.Adapter.getIdentity(t,e)},clearIdentity:function(t){this.Adapter.clearIdentity(t)},authenticate:function(t,e,i){this.Adapter.authenticate(t,e,i)},toQueryString:function(){return this.Adapter.toQueryString()}});return t.namespace("Services/Auth",n,t)});

define("UWA/Plugins/Auth",["UWA/Core","UWA/Plugins/Abstract","UWA/Utils/Client","UWA/Event","UWA/Controls/Form","UWA/Services/Auth"],function(t,e,i,n,s,o){"use strict";var a=e.extend({defaultOptions:{formOptions:{loginLabel:"Login",passwordLabel:"Password",logoutLabel:"Logout",submitLabel:"Sign In",loadingCredential:"Credentials validation loading...",requireCredential:"Authentication required!",invalidCredential:"Login / Password combination is incorrect."}},state:0,init:function(t,e){this.elements={},this._parent(t,e),this.auth=new o(this.options),this.saveWidgetBody(),i.isOnline()?(this.addEvent("onLoad",this.checkIdentity,this,1),this.addEvent("onRefresh",this.checkIdentity,this,1)):this.onAuthenticateFailure("offline")},checkIdentity:function(){return 0===this.state&&(this.state=1,this.onAuthenticateLoading(),this.auth.hasIdentity(this.onAuthenticateSuccess.bind(this),this.onAuthenticateFailure.bind(this))),4===this.state},onAuthenticateSuccess:function(){this.state=4,this.addLogout(),this.restoreWidgetBody(),this.dispatchEvent("onLoad")},onAuthenticateFailure:function(t){this.error=t,2===this.state&&(this.state=3),this.addForm()},onAuthenticateLoading:function(){this.addLoading()},onClearIdentity:function(){this.auth.clearIdentity(),this.state=0,this.addForm()},onFormSubmit:function(t){n.stop(t),this.elements.form.getField("signin").disabled=!0,this.onAuthenticateLoading(),this.state=2,this.auth.authenticate(this.onAuthenticateSuccess.bind(this),this.onAuthenticateFailure.bind(this),this.elements.form.getFormValues())},saveWidgetBody:function(){if(!this.widgetBody){var t,e,i=this.widget,n=i.body.getChildren();for(this.widgetBody=document.createDocumentFragment(),t=0,e=n.length;t<e;t++)this.widgetBody.appendChild(n[t])}},restoreWidgetBody:function(){this.widget.setBody(this.widgetBody),this.widgetBody=!1},addLoading:function(){var e=this,i=e.widget;e.elements.loading=i.createElement("p",{text:t.i18n(this.options.formOptions.loadingCredential),styles:{textAlign:"center"}}).inject(i.elements.body.empty())},addForm:function(){var e=this,i=t.i18n,n=e.widget,o=e.options.formOptions;this.removeLogout(),e.elements.form=new s({fields:[{type:"img",src:o.logoUrl},{type:"html",html:{tag:"p",title:this.error&&(this.error.message||this.error),text:3===this.state?o.invalidCredential:o.requireCredential,styles:{textAlign:"center"}}},{type:"text",name:"login",label:i(o.loginLabel),value:""},{type:"password",name:"password",label:i(o.passwordLabel),value:""},{type:"submit",name:"signin",value:i(o.submitLabel)},{type:"html",html:[{tag:"b",text:o.warningTitle},{tag:"p",text:o.warningText,styles:{textAlign:"justify"}}]}],events:{onSubmit:this.onFormSubmit.bind(this)}}).inject(n.elements.body.empty()),"vista"!==n.environment.name&&e.elements.form.getField("login").focus()},removeLogout:function(){var t=this.elements.logout;t&&t.remove()},addLogout:function(){var e=this,i=e.widget,s=t.i18n(e.options.formOptions.logoutLabel);e.elements.logout=i.createElement("a",{title:s,styles:{border:"none",position:"absolute",top:"0px",right:"5px"},html:{tag:"img",src:t.hosts.uwa+t.paths.css+"base/img/logout.png",height:18,width:20,alt:s},events:{click:function(t){n.stop(t),e.onClearIdentity()}}}).inject(i.elements.content)}});return t.namespace("Plugins/Auth",a,t)});

define("UWA/Plugins/Ecosystem",["UWA/Core","UWA/Plugins/Abstract","UWA/Utils","UWA/Utils/Client","UWA/Data","UWA/Storage"],function(t,s,e,a,i,n){"use strict";var u=s.extend({defaultOptions:{api:t.hosts.ecosystem.replace("://","://api."),front:t.hosts.ecosystem,interval:86400,messages:{unavailable:"This Application is not available because it's under maintenance.",suspended:"This Application is not available because it's suspended."}},status:["unknown","online","unavailable","suspended"],init:function(t,s){this._parent(t,s),this.database=new n({database:"__plugin_ecosystem_"+e.getCheckSum(t.getUrl())}),a.isOnline()&&this.addEvent("onLoad",this.checkStatus)},checkStatus:function(){var s=this.getStatus();return this.database.isReady?t.is(s)?(this.removeEvent("onLoad",this.checkStatus),this.checkStatusComplete(s)):i.request(this.options.api+"/widget/status",{onComplete:this.checkStatusComplete.bind(this),onFailure:this.checkStatusFailure.bind(this),cache:!1,type:"json",data:{url:this.widget.getUrl(),format:"json"}}):this.environment.setDelayed("EcosystemCheckStatus",this.checkStatus.bind(this),5e3),!1},checkStatusComplete:function(t){var s=this.status,e=t.state?parseInt(t.state,10):1;this.saveStatus(e),e>1?this.setStatusMessage(s[e]):this.dispatchEvent("onLoad")},checkStatusFailure:function(){this.saveStatus(0),this.dispatchEvent("onLoad")},getStatus:function(){var s=this.database.get("status"),e=parseInt(this.database.get("status_timestamp"),10),a=Math.round(Date.now()/1e3)-this.options.interval;return!t.is(s)||e<a?null:s},saveStatus:function(t){this.database.set("status",t),this.database.set("status_timestamp",Math.round(Date.now()/1e3))},setStatusMessage:function(s,e){var a=t.i18n,i=this.widget;e=e||this.options.messages[s],i.setTitle(a("Unavailable Application")),i.setBody(a(e))}});return t.namespace("Plugins/Ecosystem",u,t)});

define("UWA/Plugins/GoogleAnalytics",["UWA/Core","UWA/Plugins/Abstract","UWA/Utils","UWA/Utils/Client","UWA/Json"],function(t,i,e,n,o){"use strict";var s=i.extend({init:function(t,i){this._parent(t,i),this.initScript(),this.addEvent("beforeLoad",this.loadScript)},initScript:function(){var i,e,n,s,a=this.options,r=window._gaq||[];for(i in a)if(a.hasOwnProperty(i))if(e=a[i],n=t.typeOf(e),i.contains("UA-")&&(s&&r.push(["_trackPageview"]),s=!0,r.push(["_setAccount",i])),o.isJson(e)&&(e=o.decode(e),n=t.typeOf(e)),"array"===n)r.push(e);else{if("string"!==n&&"number"!==n)throw new Error('Invalid GoogleAnalytics Plugin option with value "'+o.encode(e)+'".');s||"string"!==n||(s=e.contains("UA-")),r.push([i,e])}s&&(this.addCustomVars(r),r.push(["_trackPageview"])),window._gaq=r,this.addEvent("onOpenURL",this.openURL)},addCustomVars:function(t){var i,n=e.parseUrl(this.widget.getUrl());try{i=String(window.top.location)}catch(t){i=this.widget.widgetDomain||String(window.location)}t.push(["_setCustomVar",1,"widget_url",n.source,5]),t.push(["_setCustomVar",2,"widget_platform",this.widget.environment.name,5]),t.push(["_setCustomVar",3,"widget_referer",i,5])},loadScript:function(){var i=document.getElementsByTagName("script")[0];t.createElement("script",{src:("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",async:!0,type:"text/javascript"}).inject(i||document.body||document.head,i?"after":"bottom"),this.removeEvent("afterLoad",this.loadScript)},openURL:function(){}});return t.namespace("Plugins/GoogleAnalytics",s,t)});

define("UWA/Plugins/I18n",["UWA/Core","UWA/Plugins/Abstract"],function(n,i){"use strict";var t=i.extend({init:function(i,t){this._parent(i,t),n.is(t[i.lang],"object")&&n.i18n(t[i.lang])}});return n.namespace("Plugins/I18n",t,n)});

define("UWA/Services/Auth/Adapter/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options"],function(t,e,n){"use strict";var i=e.extend(n,{init:function(t){this.setOptions(t)},hasIdentity:function(){},getIdentity:function(){},clearIdentity:function(){},authenticate:function(){}});return t.namespace("Services/Auth/Adapter/Abstract",i,t)});

define("UWA/Services/Auth/Adapter/Exposition",["UWA/Core","UWA/Utils","UWA/Json","UWA/Services/Auth/Adapter/Abstract","UWA/Controls/Popup"],function(t,e,n,i,o){"use strict";var r=i.extend({defaultOptions:{},hasIdentity:function(t,e){function n(n){n?t():e("No identity found.")}this.request("hasidentity",n,e)},getIdentity:function(t,e){this.request("getidentity",t,e)},clearIdentity:function(t){this.request("clearidentity",t,t)},authenticate:function(e,n){function i(i){"redirect"===i.type&&new o({url:i.url,events:{onClose:function(){r.hasIdentity(e,n)},onBlocked:function(){t.is(n)&&n("Unable to open popup due popup blocker.")}}}).open()}var r=this;this.request("authenticate",i,n)},toQueryString:function(){var e=this.options;return t.Utils.toQueryString(t.merge({auth:e.provider},e.data))},getActionUrl:function(n){var i=this.options,o=t.clone(i.data||{}),r=t.hosts.exposition+"/services/auth/"+n+"/"+i.provider;return r+=(r.indexOf("?")>-1?"&":"?")+e.toQueryString(o)},request:function(e,i,o){function r(n){t.is(n[e])?i(n[e]):o("Invalid Auth response.")}var s=this.getActionUrl(e);n.request(s,{cache:-1,onFailure:o,onComplete:r})}});return t.namespace("Services/Auth/Adapter/Exposition",r,t)});

define("UWA/Services/Auth/Adapter/Form",["UWA/Core","UWA/Utils","UWA/Ajax","UWA/Json","UWA/Data","UWA/Services/Auth/Adapter/Abstract"],function(t,e,n,i,o,a){"use strict";var r=a.extend({defaultOptions:{timeout:15e3,checkUrl:"https://example.com/myapp/test.json",loginUrl:"https://example.com/global/2.0/login.fcc",logoutUrl:"https://example.com/global/2.0/logout.fcc",params:{},fields:{},variables:{}},isAjaxPostAllowed:function(){return o.allowCrossOriginRequest},hasIdentity:function(t,e){var n=this.options;i.request(n.target,{useOfflineCache:!1,timeout:n.timeout,onComplete:function(e){"function"==typeof t&&t(e)}.bind(this),onFailure:function(t){"function"==typeof e&&e(t)}.bind(this)})},getIdentity:function(t,e){e(new Error("Not implemented."))},clearIdentity:function(t){t=t||function(){},this.isAjaxPostAllowed()?this.clearIdentityUsingAjax(t):this.clearIdentityUsingFrame(t)},authenticate:function(t,n,i){if(n=n||function(){},t=t||function(){},i.login&&i.password){var o=this.options,a=o.loginUrl,r=function(){this.hasIdentity(t,n)}.bind(this),s=o.fields;a+=(a.indexOf("?")>-1?"&":"?")+e.toQueryString(o.params).replace(/%25/g,"-%"),this.isAjaxPostAllowed()?this.authenticateUsingAjax(s,a,r,n):this.authenticateUsingFrame(s,a,r,n)}else n(new Error("Invalid credentials values."))},authenticateUsingFrame:function(n,i,o){var a,r,s=e.random(1,1e5),l=t.createElement("div"),c=t.createElement("iframe",{src:"about:blank",id:"formAuth:frame:"+s,name:"formAuth:frame:"+s,styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(l),u=t.createElement("form",{target:"formAuth:frame:"+s,action:i,method:"post"}).inject(l);for(a in n)n.hasOwnProperty(a)&&(r=n[a],t.createElement("input",{type:"hidden",name:a,value:r}).inject(u));l.inject(document.body),c.addEvent("load",function(){o(),l.destroy()}),u.submit()},clearIdentityUsingFrame:function(e){var n,i=this.options.logoutUrl;i+=(i.indexOf("?")>-1?"&":"?")+"rnd="+Math.random(),n=t.createElement("iframe",{src:i,styles:{position:"absolute",top:"-2000px",left:"0"},events:{load:function(){e(),n.destroy()}}}).inject(document.body)},authenticateUsingAjax:function(t,e,i,o){n.request(e,{onComplete:i,onFailure:o,method:"POST",data:t})},clearIdentityUsingAjax:function(t){var e=this.options.logoutUrl;e+=(e.indexOf("?")>-1?"&":"?")+"rnd="+Math.random(),n.request(e,{onComplete:t,onFailure:t,method:"GET"})}});return t.namespace("Services/Auth/Adapter/Form",r,t)});

define("UWA/Services/Auth/Adapter/Netvibes",["UWA/Core","UWA/Services/Auth/Adapter/Abstract"],function(t,e){"use strict";var n=e.extend({defaultOptions:{},hasIdentity:function(){},getIdentity:function(){},clearIdentity:function(){},authenticate:function(){}});return t.namespace("Services/Auth/Adapter/Netvibes",n,t)});

define("UWA/Services/Auth/Adapter/SiteMinder",["UWA/Core","UWA/Utils","UWA/Ajax","UWA/Json","UWA/Data","UWA/Services/Auth/Adapter/Abstract"],function(t,e,n,i,a,o){"use strict";var s=o.extend({defaultOptions:{timeout:15e3,smagentname:"",realmoid:"",forest:"",guid:"",type:"",smauthreason:0,target:"https://example.com/myapp/test.json",login:"https://example.com/global/2.0/login.fcc",logout:"https://example.com/global/2.0/logout.fcc"},isAjaxPostAllowed:function(){return a.allowCrossOriginRequest},hasIdentity:function(t,e){var n=this.options;this.hasIdentityRequest&&this.hasIdentityRequest.cancel(),this.hasIdentityRequest=i.request(n.target,{useOfflineCache:!1,timeout:n.timeout,onComplete:function(e){"function"==typeof t&&t(e)}.bind(this),onFailure:function(t){"function"==typeof e&&e(t)}.bind(this)})},getIdentity:function(t,e){e(new Error("Not implemented."))},clearIdentity:function(t){t=t||function(){},this.isAjaxPostAllowed()?this.clearIdentityUsingAjax(t):this.clearIdentityUsingFrame(t)},authenticate:function(t,n,i){if(n=n||function(){},t=t||function(){},i.login&&i.password){var a=this.options,o=a.target+"&callback=jsonp"+(Date.now()+e.random(1,1e4)),s=e.toQueryString({type:a.type,realmoid:a.realmoid,guid:a.guid,smauthreason:a.smauthreason,method:"GET",smagentname:"-SM-"+a.smagentname,target:"-SM-"+o}).replace(/%25/g,"-%"),r=a.login+"?"+s,u=function(){this.hasIdentity(t,n)}.bind(this),d={target:o,smquerydata:"",smauthreason:a.smauthreason,smagentname:a.smagentname,postpreservationdata:"",forest:a.forest,userid:i.login,password:i.password,Submit:""};this.isAjaxPostAllowed()?this.authenticateUsingAjax(d,r,u,n):this.authenticateUsingFrame(d,r,u,n)}else n(new Error("Invalid credentials values."))},authenticateUsingFrame:function(e,n,i){var a,o,s=Math.ceil(1e5*Math.random()),r=t.createElement("div",{styles:{position:"absolute",top:"-2000px",left:"0px"}}),u=t.createElement("iframe",{src:"about:blank",name:"siteminder:frame:"+s}).inject(r),d=t.createElement("form",{target:"siteminder:frame:"+s,action:n,method:"post"}).inject(r);for(a in e)e.hasOwnProperty(a)&&(o=e[a],t.createElement("input",{type:"hidden",name:a,value:o}).inject(d));document.body.appendChild(r),u.addEvent("load",function(){this.destroy(),i()}),d.submit()},clearIdentityUsingFrame:function(e){var n,i=this.options.logout;i+=(i.indexOf("?")>-1?"&":"?")+"rnd="+Math.random(),n=t.createElement("iframe",{src:"about:blank",styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(document.body),n.addEvent("load",function(){this.destroy(),e()}),n.setAttribute("src",i)},authenticateUsingAjax:function(t,e,i,a){n.request(e,{onComplete:i,onFailure:function(){this.hasIdentity(i,a)}.bind(this),method:"POST",data:t})},clearIdentityUsingAjax:function(t){n.request(this.options.logout,{onComplete:t,onFailure:t,method:"GET"})}});return t.namespace("Services/Auth/Adapter/SiteMinder",s,t)});

define("UWA/Services/ControlParser",["UWA/Core","UWA/Element"],function(t,n){"use strict";function e(t){var n=t.parentNode,e=t.nextSibling;return n&&n.removeChild(t),function(o){o||(o=t),o.inject?o.inject(e||n,e&&"before"):n.insertBefore(o,e)}}function o(t,n){var e=t.getAttribute(n)||t.getAttribute("data-"+n);return t.removeAttribute(n),t.removeAttribute("data-"+n),e}function r(t,n){n||(n=t.prototype.name),s[n]=t}function u(t,n){t=t.split(" ");var e=t[0],o=t[1]?t[1].split("."):[];(window.require||window.curl)([e],function(t){o.forEach(function(n){t=t[n]}),n(null,t)})}function a(n,e){var o=s[n];t.owns(s,n)?t.is(o,"string")?u(o,e):e(null,o):e("Control "+n+" not found")}function i(n,o,r){a(o,function(u,a){var i,l=e(n);if(!u){if(t.is(a,"class")){var c={element:n};n.className&&(c.className=n.className,n.className=""),i=new a(c)}else t.is(a,"function")&&(i=a(n));i?l(i):u="Can't build the control "+o}r(u,i)})}function l(t,e){function r(t,n){t.indexOf("[]",t.length-2)>-1?(t=t.slice(0,-2),s[t]||(s[t]=[]),s[t].push(n)):s[t]=n}function u(t,n,o,u){c--,o?(a=o,e.onError&&e.onError(o)):r(n,u),0===c&&(e.onComplete&&e.onComplete(s,a),!a&&e.onSuccess&&e.onSuccess(s))}e||(e={});var a,l=n.getElements.call(t,"[uwa-control],[data-uwa-control]"),c=l.length,s={};l.forEach(function(t,n){i(t,o(t,"uwa-control"),u.bind(null,n,o(t,"uwa-name")||"lostAndFound[]"))})}var c,s=Object.create(null);return r("UWA/Controls/Tag","uwa-tag"),r("UWA/Controls/Input Text","uwa-text"),r("UWA/Controls/Input Button","uwa-button"),r("UWA/Controls/Input File","uwa-file"),r("UWA/Controls/Input Select","uwa-select"),r("UWA/Controls/Input Checkbox","uwa-checkbox"),r("UWA/Controls/Input Radio","uwa-radio"),r("UWA/Controls/ColorPicker","uwa-colorpicker"),r("UWA/Controls/DatePicker","uwa-datepicker"),c={register:r,parse:l,_tests:{getControl:a}},t.namespace("Services/ControlParser",c,t)});

define("UWA/Services/Feed",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Utils","UWA/Json","UWA/Data","UWA/Internal/StringMap"],function(e,t,n,i,r,s,a){"use strict";var l=t.extend(n,{id:null,timeOffset:null,lastFetchedDate:null,error:null,defaultOptions:{id:0,timeOffset:0,readOnly:!0,bufferItemMaxLen:30,itemLinkFilters:[],itemEnclosureFilters:[function(){var e=/feedads|icon|button|addthis|feed|feedburner/;return function(t){return!e.test(t)}}()]},init:function(e){this.data={dir:"ltr",flags:{read:0,unread:0},items:[]},this.setOptions(e)},setOptions:function(e){var t=this;return t._parent(e),e=t.options,t.id=e.id,t.timeOffset=e.timeOffset,e.error?t.setError(e.error):e.data&&(t.setData(e.data),delete e.data),t},setError:function(e){var t=this;return t.error=e,t},getError:function(){return this.error},isReadOnly:function(){return this.options.readOnly===!0},setLastFetchedDate:function(e){return this.lastFetchedDate=parseInt(e,10),this},getLastFetchedDate:function(){return parseInt(this.lastFetchedDate,10)},setData:function(t,n){n=n||{};var r,s=this,a=t.server_time||Math.round(Date.now()/1e3),l=t.items,o=this.getItemsLength();return delete t.items,n.last_update?(s.addItems(l,"before"),s.setLastFetchedDate(a)):n.published_before?s.addItems(l,"after"):(e.extend(s.data,t,!0),this.addItems(l),this.setLastFetchedDate(a),t.url&&(this.ownerURL=t.url,this.feedSiteUrlDomain=i.parseUrl(t.url).domain)),r={data:e.clone(this.data),addedItem:o-this.data.length},n.callback&&(n.onComplete=n.callback,delete n.callback),e.is(n.onComplete,"function")&&n.onComplete(r),r},addItems:function(e,t){if(Array.isArray(e)&&e.length>0){var n,i,r,s=this.getItems();if("before"===t){for(n=e.length-1;n>=0;n--)r=this.preProcessItem(e[n]),s.unshift(r);this.setItemsIndexes()}else if("after"===t){for(n=0,i=e.length;n<i;n++)r=this.preProcessItem(e[n]),s.push(r);this.setItemsIndexes()}else{for(n=0,i=e.length;n<i;n++)r=this.preProcessItem(e[n]),s.push(r);this.sortItemsByDate()}}},sortItemsByDate:function(e){this.getItems().sort(function(t,n){var i=new Date(t.date).getTime(),r=new Date(n.date).getTime();return"asc"===e?i-r:r-i}),this.setItemsIndexes()},setItemsIndexes:function(){var e,t=this.getItemsLength();for(e=0;e<t;e++)this.getItem(e).index=e},preProcessItem:function(e){return e.__preProcessed||(e.content=e.content||"",e.title=e.title||"",e.flags=e.flags||{},this.preProcessItemEnclosures(e),this.applyItemLinkFilters(e),this.applyItemEnclosureFilters(e),e.__preProcessed=!0),e},preProcessItemEnclosures:function(){function e(e,t,n){var i,r,s,a,l=[],o=e.getElementsByTagName(t);for(i=0,r=o.length;i<r;i++)a=o[i],s=o[i].getAttribute(n),s&&("img"===t&&(!a.height||a.height>1)&&(!a.width||a.width>1)||"a"===t&&a.href&&a.href.indexOf("#")>1)&&l.push(s);return l}return function(t){var n,r,s,a,l,o,d,u,h,c=/\.(jpeg|gif|jpg|bmp|png)$/i,f=/\.(m4a|ogg|mp3|acc)$/i,m=/\.(flv|mp4|h264|avi|mpeg|mpg)$/i,g=this,p=g.options,I=g.getUrl(),v=t.enclosures,y=p.itemEnclosureFilters,F=[],b={image:[],video:[],audio:[]};for(Array.isArray(v)&&v.forEach(function(e){var t=e.url,n=e.type;t&&(n&&/^image\/(jpeg|gif|jpg|bmp|png)$/.test(n)||c.test(t)?b.image.push(t):n&&/^audio\/mpeg$/.test(n)||f.test(t)?b.audio.push(t):(n&&/^video/.test(n)||m.test(t))&&b.video.push(t))}),l=i.loadHtml(t.content),F=F.concat(e(l,"img","src")),F=F.concat(e(l,"a","href")),n=0,r=F.length;n<r;n++)o=F[n],!t.image&&c.test(o)?b.image.push(o):!t.audio&&f.test(o)?b.audio.push(o):!t.video&&m.test(o)&&b.video.push(o);t.image&&t.video||(F=t.content.match(/http:\/\/www.youtube.com\/v\/([\w|\-]+)/),F&&F.length>0&&(t.video=F[0],t.image="https://i2.ytimg.com/vi/"+F[1]+"/hqdefault.jpg"));for(d in b)for(F=b[d],n=0,r=F.length;n<r;n++){if(o=F[n],u=!0,Array.isArray(y))for(s=0,a=y.length;s<a&&u;s++)h=y[s],u=h(o,t);u&&(t[d]=i.buildUrl(I,o))}return t.thumbnail=t.image,t.watchable=Boolean(t.video),t}}(),addItemLinkFilter:function(t){var n=this.options;e.is(n.itemLinkFilters,"array")||(n.itemLinkFilters=[]),e.is(t,"function")&&n.itemLinkFilters.push(t)},applyItemLinkFilters:function(t){var n,i,r,s=this.options.itemLinkFilters;if(Array.isArray(s)&&!t.__linksFiltered){for(i=0,r=s.length;i<r;i++)n=s[i],e.is(n,"function")&&t.link&&(t.link=n(t.link,t,this));t.__linksFiltered=!0}},addItemEnclosureFilter:function(t){var n=this.options;e.is(n.itemEnclosureFilters,"array")||(n.itemEnclosureFilters=[]),e.is(t,"function")&&n.itemEnclosureFilters.push(t)},applyItemEnclosureFilters:function(t){var n,i,r,s,a,l,o=this,d=o.options.itemEnclosureFilters,u=["image","audio","video"];if(Array.isArray(d)&&!t.__enclosuresFiltered){for(n=0,i=d.length;n<i;n++)if(l=d[n],e.is(l,"function"))for(r=0,s=u.length;r<s;r++)a=u[r],t[a]&&!l(t[a],t)&&delete t[a];t.__enclosuresFiltered=!0}},getTitle:function(){return this.data.title},getDir:function(){return this.data.dir},getUrl:function(){return this.data.url},getLink:function(){return this.data.link},getType:function(){return this.data.type},getItems:function(){return this.data.items},getItem:function(e){return this.getItems()[e]},getItemByGuid:function(e){return this.getItemByProperty("guid",e)},getItemByProperty:function(e,t){var n,i,r=this.getItemsLength();for(i=0;n<r&&(n=this.getItem(i),n[e]!==t);i++);return n},getLastItemId:function(){var e=this.getItem(this.getItemsLength()-1);return e&&e.id},getItemsLength:function(){return this.data.items.length},getUnread:function(e){e=e||{};var t,n,i,r,s=0,a=0,l=this.data,o=this.infos,d=this.getItemsLength();if(o&&d>0&&(i=l.flags,r=i&&i.read?i.read:0,a=o.item_count-r,e.onlyNFirst)){for(e.onlyNFirst=e.onlyNFirst<=d?e.onlyNFirst:d,t=0,n=e.onlyNFirst;t<n;t++)this.isItemRead(t)||s++;a=s}return a>=0?a:0},isItemRead:function(e){var t=this.getItem(e);return Boolean(t&&t.flags&&t.flags.read)},setItemRead:function(e,t){this.isItemRead(e)||(this.data.flags.read++,this.setItemsFlag({indexes:[e],flag:"read",value:Math.ceil(Date.now()/1e3),save:t}))},setItemUnread:function(e,t){this.isItemRead(e)&&(this.data.flags.read--,this.setItemsFlag({indexes:[e],flag:"read",value:!1,save:t}))},setAllItemsRead:function(e){var t,n,i=this,r=i.getItemsLength();for(t=0;t<r;t++)i.setItemRead(t,!1),n.push(t);i.setItemsFlag({indexes:n,flag:"read",value:Math.ceil(Date.now()/1e3),save:e})},setAllItemsUnread:function(e){var t,n=this,i=n.getItemsLength(),r=[];for(t=0;t<i;t++)n.setItemRead(t,!1),r.push(t);n.setItemsFlag({indexes:r,flag:"read",value:!1,save:e})},setItemsFlag:function(e){var t,n,i,r=this,s=[],a=!r.isReadOnly()&&(e.save||!0);for(e.index&&(e.indexes=[e.index]),t=0,n=e.indexes.length;t<n;t++)i=r.getItem(t),s.push(i.id),e.value&&e.value!==!1?i.flags[e.flag]=e.value:delete i.flags[e.flag];a&&l.Adapter.Netvibes.feedApiRequest({readState:e.value&&e.value!==!1?"add":"remove",feedIds:r.id,feedItemIds:s})}});return l.Utils={adapterName:s.allowCrossOriginRequest?"Ajax":"Proxy",load:function(e,t){return t=t||this.adapterName,e=e||{},e.callback&&(e.onComplete=e.callback,delete e.callback),l.Adapter.Cache.load(e,t)},getIdFromUrl:function(e){return Math.abs(parseInt(i.getCRC32(e),10)).toString(36)},cleanFeedUrl:function(t){return t.contains("flvProxy.php")?t=i.getQueryString(t,"url"):t.contains("commeaucinemaProxy.php")?t="http://www.commeaucinema.com/rssfile.php?feed=netvibes_"+i.getQueryString(t,"id"):/^feed:\/\/(.*)/.test(t)&&(t=t.replace("feed:",""),/^http(s)?:\/\/(.*)/.test(t)||(t="http://"+t)),/^http(s)?:\/\/(.*)/.test(t)||(t=e.hosts.netvibes+t),t}},l.Adapter={Cache:{load:function(t,n){var i,r,s,a,o={},d=t.urls||[],u=[];for(i=0,r=d.length;i<r;i++)s=l.Utils.cleanFeedUrl(d[i]),a=this.getFromCache(s),a?o[s]=new l(a):u.push(s);u.length>0?(t.urls=u,l.Adapter[n].load(t,o)):e.is(t.onComplete,"function")&&t.onComplete(o)},getCache:function(){return this.data||(this.data=new a),this.data},storeInCache:function(e,t){return this.getCache().set(e,t)},getFromCache:function(e){return this.getCache().get(e)}},Proxy:{load:function(t,n){function i(i,r){var s={url:i,readOnly:!0,data:{title:r.title,dir:r.dir,url:r.url,link:r.link,type:r.type,items:r.items}};n[i]=new l(s),l.Adapter.Cache.storeInCache(i,s),d++,u.length===d&&e.is(t.onComplete,"function")&&t.onComplete(n)}function r(i,r){n[i]=new l({url:i,readOnly:!0,error:r}),d++,u.length===d&&e.is(t.onComplete,"function")&&t.onComplete(n)}var a,o,d=0,u=t.urls||[];for(n=n||{},a=0,o=u.length;a<o;a++){var h=l.Utils.cleanFeedUrl(u[a]);s.request(h,{proxy:"feed",type:"json",onComplete:i.bind(null,h),onFailure:r.bind(null,h)})}}},Ajax:{load:function(){function t(e){var t,n,i,r;if(Array.isArray(e.link))for(i=e.link[0].href||e.link[0],n=0,t=e.link.length;n<t;n++)r=e.link[n],r.rel&&["self","alternate"].indexOf(r.rel)!==-1&&(i=r.href);else i=e.link.href||e.link;return i}function n(t){var n=t.toString?t.toString():t;return e.is(n)&&n.length>0?n:""}function a(e){return new Date(Date.parse(e)).toGMTString()}function o(s,l){s=r.xmlToJson(s);var o,d,u,h,c={dir:"ltr",url:l,items:[]};if(s.feed)for(e.extend(c,{title:n(s.feed.title),link:t(s.feed)}),o=i.splat(s.feed.entry),u=0,h=o.length;u<h;u++)d=o[u],c.items[u]={id:u,title:n(d.title),link:t(d),content:n(d.content),date:a(d.updated)},d["media:thumbnail"]&&d["media:thumbnail"].url&&(c.items[u].image=d["media:thumbnail"].url);else if(s["rdf:RDF"])for(s.rdf=s["rdf:RDF"],e.extend(c,{title:n(s.rdf.channel.title),link:t(s.rdf.channel)}),o=i.splat(s.rss.channel.item),u=0,h=o.length;u<h;u++)d=o[u],c.items[u]={id:u,title:n(d.title),link:t(d),content:n(d.description),date:a(d["dc:date"])},d["media:content"]&&d["media:content"].url&&(c.items[u].image=d["media:content"].url);else{if(!s.rss)throw new Error("Unable to Parse Feed using Ajax Adapter.");for(e.extend(c,{title:n(s.rss.channel.title),link:t(s.rss.channel)}),o=i.splat(s.rss.channel.item),u=0,h=o.length;u<h;u++)d=o[u],c.items[u]={id:u,title:n(d.title),link:t(d),content:n(d["content:encoded"]||d.description),date:a(d.pubDate)},"string"!=typeof c.items[u].content&&(c.items[u].content=""),d.enclosure&&(c.items[u].enclosures=[d.enclosure]),d["media:thumbnail"]&&d["media:thumbnail"].url&&(c.items[u].image=n(d["media:thumbnail"].url))}return c}return function(t,n){function i(i,r){var s,a=o(r,i);s=new l({url:i,readOnly:!0,data:a}),n[i]=new l(s),l.Adapter.Cache.storeInCache(i,s),u++,h.length===u&&e.is(t.onComplete,"function")&&t.onComplete(n)}function r(i,r){n[i]=new l({url:i,readOnly:!0,error:r}),u++,h.length===u&&e.is(t.onComplete,"function")&&t.onComplete(n)}n=n||{};var a,d,u=0,h=t.urls||[];for(a=0,d=h.length;a<d;a++){var c=l.Utils.cleanFeedUrl(h[a]);s.request(c,{method:"GET",onComplete:i.bind(null,c),onFailure:r.bind(null,c)})}}}()},Netvibes:{load:function(){}}},e.namespace("Services/Feed",l,e)});

define("UWA/Services/Geo",["UWA/Core","UWA/Json"],function(e,t){"use strict";var i=function(t){this.adapter=null;var i,o=e.Services.Geo.Adapters;if(t){if(!o[t])return new Error("Invalid UWA.Services.Geo AdapterName.");this.adapter=o[t]()}else for(i in o)if(o.hasOwnProperty(i)&&(this.adapter=o[i](),this.adapter))break};return i.prototype={getCurrentPosition:function(t,i,o){this.adapter?this.adapter.getCurrentPosition(t,i,o):e.is(i,"function")&&i(new Error("Geolocalization support not found."))}},i.Adapters={html5:function(){if(void 0!==navigator.geolocation)return{getCurrentPosition:function(e,t,i){i=i||{},i.enableHighAccuracy=!0;var o=function(t){e(void 0!==t.latitude?{timestamp:t.timestamp,coords:{latitude:t.latitude,longitude:t.longitude}}:t)};navigator.geolocation.getCurrentPosition(o,t,i)}}},freegeoip:function(){return{getCurrentPosition:function(i,o,r){r=e.merge(r||{},{server:"http://freegeoip.net/json/"});var n=function(e){i({timestamp:Date.now(),coords:{latitude:e.latitude,longitude:e.longitude}})};t.request(r.server,{onComplete:n,onFailure:o})}}}},e.namespace("Services/Geo",i,e)});

define("UWA/Services/ICal",["UWA/Core","UWA/String"],function(e,t){"use strict";var l=function(e){this.stream=e,this.parse()};return l.prototype={stream:null,regexes:{component:"BEGIN:{0}(?:[^])*?END:{0}",multipleProperties:"\n{0}[^:]*",singleProperty:"({0})(;[^=]*=[^;:\n]*)*:([^\n]*)"},keys:{core:{version:"VERSION",prodId:"PRODID",calendarScale:"CALSCALE",method:"METHOD"},components:{event:"VEVENT",todo:"VTODO",journal:"VJOURNAL",freebusy:"VFREEBUSY"},event:{classification:{key:"CLASS",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},geo:{key:"GEO",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},location:{key:"LOCATION",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},priority:{key:"PRIORITY",multiple:!1},dateTimeStamp:{key:"DTSTAMP",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},transparent:{key:"TRANSP",multiple:!1},url:{key:"URL",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},duration:{key:"DURATION",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptionRule:{key:"EXRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},related:{key:"RELATED",multiple:!0},ressources:{key:"RESSOURCES",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},xProperty:{key:"X-",multiple:!0},uid:{key:"UID",multiple:!0},summary:{key:"SUMMARY",multiple:!1},dateTimeStart:{key:"DTSTART",multiple:!1},dateTimeEnd:{key:"DTEND",multiple:!1}},todo:{classification:{key:"CLASS",multiple:!1},completed:{key:"COMPLETED",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},dateTimeStamp:{key:"DTSTAMP",multiple:!1},geoPosition:{key:"GEO",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},location:{key:"LOCATION",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},percentComplete:{key:"PERCENT-COMPLETE",multiple:!1},priority:{key:"PRIORITY",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},summary:{key:"SUMMARY",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},due:{key:"DUE",multiple:!1},duration:{key:"DURATION",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptioRule:{key:"EXRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},related:{key:"RELATED",multiple:!0},ressources:{key:"RESSOURCES",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},xProperty:{key:"X-",multiple:!0}},journal:{classification:{key:"CLASS",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},datetimeStart:{key:"DTSTART",multiple:!1},datetimeStamp:{key:"DTSTAMP",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},summary:{key:"SUMMARY",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptionRule:{key:"EXRULE",multiple:!0},related:{key:"RELATED",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},xProperty:{key:"X-",multiple:!0}},freebusy:{contact:{key:"CONTACT",multiple:!1},datetimeStart:{key:"DTSTART",multiple:!1},datetimeEnd:{key:"DTEND",multiple:!1},duration:{key:"DURATION",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},datetimeStamp:{key:"DTSTAMP",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},attendee:{key:"ATTENDEE",multiple:!0},comment:{key:"COMMENT",multiple:!0},freebusy:{key:"FREEBUSY",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},xProperty:{key:"X-",multiple:!0}}},core:{version:"",prodId:"",calendarScale:"",method:""},components:{event:[],todo:[],journal:[],freebusy:[]},parse:function(){this.parseCoreProperties(),this.parseComponent("event"),this.parseComponent("todo"),this.parseComponent("journal"),this.parseComponent("freebusy")},parseCoreProperties:function(){var e=this.stream;this.core.version=this.parseProperty(this.keys.core.version,e),this.core.prodId=this.parseProperty(this.keys.core.prodId,e),this.core.calendarScale=this.parseProperty(this.keys.core.calendarScale,e),this.core.method=this.parseProperty(this.keys.core.method,e)},parseComponent:function(e){var l,i,r,p=this.keys,u=this.components,o=new RegExp(t.format(this.regexes.component,p.components[e]),"g");if("string"==typeof this.stream&&(r=this.stream.match(o)))for(i in r)if("string"==typeof r[i]){u[e].push({});for(l in p[e])"object"==typeof p[e][l]&&(u[e][i][l]=p[e][l].multiple?this.parseMultipleProperties(p[e][l].key,r[i]):this.parseProperty(p[e][l].key,r[i]))}},parseProperty:function(e,l){var i,r,p,u,o=new RegExp(t.format(this.regexes.singleProperty,e),"g"),m=o.exec(l);if(m){if(r=m[3],m[2])for(p=m[2].substr(1).split(";"),i=0;i<p.length;i++)u=p[i].split("="),void 0===u[1]&&(u[1]=u[0]),p[u[0]]=u[1];return{value:r,parameters:p}}},parseMultipleProperties:function(e,l){var i,r,p=new RegExp(t.format(this.regexes.multipleProperties,e),"g"),u=l.match(p);if(u){for(r=[],i=0;i<u.length;i++)u[i]=u[i].replace(/;.*/,""),r[r.length]=this.parseProperty(u[i]);return r}},getCalendar:function(){return{core:this.core,components:this.components}},getEvents:function(){return this.components.event},getTodoArray:function(){return this.components.todo},getJournals:function(){return this.components.journal},getFreebusys:function(){return this.components.freebusy},getCoreProperties:function(){return this.core}},e.namespace("Services/ICal",l,e)});

define("UWA/Services/Mail",["UWA/Core","UWA/Data"],function(e,r){"use strict";var i={getFromProvider:function(i,t){if(!r.proxies[i])throw new Error("Not supported UWA.Services.Mail proviver");switch(i){case"pop":case"gmail":return r.request(r.proxies[i],e.merge({method:"POST",type:"json"},t));default:e.log("invalid request type")}}};return e.namespace("Services/Mail",i,e)});

define("UWA/Services/Search",["UWA/Core","UWA/Utils","UWA/Data"],function(e,a,o){"use strict";var c={getFromProvider:function(c,s){var r,t="";switch(void 0!==s.lang&&(t+="&lang="+s.lang),void 0!==s.locale&&(t+="&locale="+s.locale),void 0!==s.mode&&(t+="&mode="+s.mode),void 0!==s.category&&(t+="&category="+s.category),void 0!==s.shop&&(t+="&shop="+s.shop),s.type){case"websearch":case"blogsearch":case"imagesearch":case"videosearch":case"podcastsearch":case"shoppingsearch":case"opensearch":return r=e.hosts.netvibes+"/data/"+s.type+"/?q="+a.encodeUrl(s.query)+"&engine="+a.encodeUrl(c)+t,o.request(r,{method:"GET",type:"json",onComplete:s.onComplete});default:e.log("invalid request type")}}};return e.namespace("Services/Search",c,e)});

define("UWA/Services/Upload",["UWA/Core","UWA/Utils","UWA/Class","UWA/Class/Options","UWA/Json"],function(t,e,i,o,s){"use strict";var n=i.extend(o,{intervalId:null,timeoutId:null,defaultOptions:{isUploadSuccess:function(t){return"uploaded"===t.status},isUploadFailed:function(t){return"failed"===t.status},formElement:"undefined",onUpload:"",onUploadSuccess:"",onUploadFailed:"",frameIdPrefix:"",timeout:1e4,polling:1e3,urls:{statusScript:"",uploadScript:""}},init:function(e){this.setOptions(e),this.options.formElement=t.extendElement(e.formElement);var i=this.buildIframe();this.buildFormRequirements(i),this.options.formElement.addEvent("submit",function(t){void 0!==e.urls.statusScript&&this.setTimer(t),this.options.onUpload()}.bind(this,i))},buildIframe:function(){var i,o=this.options,s=o.frameIdPrefix+e.random(1,1e5),n=t.createElement("div"),a=!1;return i=t.createElement("iframe",{src:"about:blank",id:s,name:s,styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(n),i.addEvent("load",function(){a&&o.onUploadSuccess(),a=!0}),document.body.appendChild(n),s},buildFormRequirements:function(e){var i=this.options.formElement;i.setAttributes({target:e,method:"post",enctype:"multipart/form-data",action:this.options.urls.uploadScript}),t.createElement("input",{type:"hidden",name:"frameId",value:e}).inject(i)},setTimer:function(t){this.intervalId=setInterval(this.checkStatus.bind(this,t),this.options.polling),this.timeoutId=setTimeout(function(){clearInterval(this.intervalId),this.options.onUploadFailed({status:"failed",details:{errors:{TimeoutError:"Upload timeout after "+this.options.timeout+"ms."}}})}.bind(this),this.options.timeout)},checkStatus:function(t){s.request(this.options.urls.statusScript+"?format=jsonp&frameId="+t,{onComplete:function(t){if(this.options.isUploadSuccess(t))this.options.onUploadSuccess(t);else{if(!this.options.isUploadFailed(t))return;this.options.onUploadFailed(t)}clearTimeout(this.timeoutId),clearInterval(this.intervalId)}.bind(this)})}});return t.namespace("Services/Upload",n,t)});

define("UWA/Storage/Adapter/Air",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var r=e.extend({type:"Air",limit:65536,connect:function(t){this.database=t,this.db=null,this.storage.isReady=!0},isAvailable:function(){return void 0!==window.air},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){this.interruptAccess();var e=air.EncryptedLocalStore.getItem(this.getKey(t));if(void 0!==e&&null!==e)return String(e)},set:function(t,e){this.interruptAccess();var r=new air.ByteArray;return r.writeUTFBytes(e),air.EncryptedLocalStore.setItem(this.getKey(t),r),e},rem:function(t){this.interruptAccess();var e=this.get(t);return air.EncryptedLocalStore.removeItem(this.getKey(t)),e}});return t.namespace("Storage/Adapter/Air",r,t)});

define("UWA/Storage/Adapter/Android",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var r=e.extend({type:"Android",limit:0,connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return!!jsProxy},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){return jsProxy.getData(this.getKey(t))},set:function(t,e){return this.interruptAccess(),jsProxy.setData(this.getKey(t),e),this.get(t)},rem:function(t){this.interruptAccess();var e=this.get(t);return jsProxy.setData(this.getKey(t),null),e}});return t.namespace("Storage/Adapter/Android",r,t)});

define("UWA/Utils/Cookie",["UWA/Core"],function(e){"use strict";function t(e){return{path:e&&e.path||s.defaults.path,domain:e&&e.domain||s.defaults.domain,expires:e&&e.expires||s.defaults.expires,secure:e&&void 0!==e.secure?e.secure:s.defaults.secure}}function n(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}function r(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?l:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!n(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e}function o(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=String(t).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""}function i(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,r=e.substr(0,t);try{n=decodeURIComponent(r)}catch(e){throw new Error('Could not decode cookie with key "'+r+'" ['+e+"]")}return{key:n,value:e.substr(t+1)}}function a(e){for(var t={},n=e?e.split("; "):[],r=0;r<n.length;r++){var o=i(n[r]);void 0===t[p+o.key]&&(t[p+o.key]=o.value)}return t}function c(){f=a(d.cookie),v=d.cookie}function u(){var e="cookie.js",t="1"===s.set(e,1).get(e);return s.expire(e),t}var s={},d=window.document,p="nv.",l=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),f=null,v=null;return s.defaults={path:"/",secure:!1},s.get=function(e){v!==d.cookie&&c();var t=f[p+e];return void 0===t?void 0:decodeURIComponent(t)},s.set=function(e,n,i){return i=t(i),i.expires=r(void 0===n?-1:i.expires),d.cookie=o(e,n,i),s},s.expire=function(e,t){return s.set(e,void 0,t)},s.enabled=u(),e.namespace("Utils/Cookie",s,e)});

define("UWA/Storage/Adapter/Cookies",["UWA/Core","UWA/String","UWA/Utils","UWA/Utils/Cookie","UWA/Storage/Adapter/Abstract"],function(t,e,i,n,s){"use strict";var o=s.extend({type:"Cookies",limit:4096,defaultOptions:{path:"/",duration:100,expires:864e4,secure:!1,domain:""},init:function(t,e){var n=i.parseUrl(window.location);this.defaultOptions={domain:["80","443"].indexOf(n.port)!==-1&&n.domain,secure:"https"===n.protocol},this._parent(t,e),this.options.duration&&(this.options.expires=86400*this.options.duration,delete this.options.duration)},connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return n.enabled},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){return this.interruptAccess(),n.get(t)},set:function(t,e){var i=this.options;return this.interruptAccess(),n.set(t,e,i)},rem:function(t){this.interruptAccess();var e=this.options,i=this.get(t);return n.expire(this.getKey(t),e),i}});return t.namespace("Storage/Adapter/Cookies",o,t)});

define("UWA/Storage/Adapter/CouchDB",["UWA/Core","UWA/Data","UWA/Json","UWA/Storage/Adapter/Abstract"],function(t,e,a,s){"use strict";var i=s.extend({type:"CouchDB",limit:0,defaultOptions:{host:!1},connect:function(t){return this.database=t,e.request(this.options.host+"/"+this.database,{method:"GET",type:"json",async:!1,onComplete:function(t){t.error||(this.available=t,this.storage.isReady=!0)}.bind(this)}),this.available},isAvailable:function(){return this.available},normalizeKey:function(t){return"_keysIndex"===t?"keysIndex":"_lastUpdate"===t?"lastUpdate":t},request:function(a,s,i){var n={method:a,type:"json",async:!1};return i=t.merge(n,i),e.request(s,i)},get:function(t){var e,a;return this.interruptAccess(),t=this.normalizeKey(t),this.data[t]={value:void 0},e=this.options.host+"/"+this.database+"/"+t,a={onComplete:function(e){e.error||(this.data[t]=e)}.bind(this)},this.request("GET",e,a),this.data[t].value},set:function(t,e){var s,i;return this.interruptAccess(),t=this.normalizeKey(t),void 0===this.data[t]?this.data[t]={value:e}:this.data[t].value=e,s=this.options.host+"/"+this.database+"/"+t,i={data:a.encode(this.data[t]),onComplete:function(e){e.error||(this.data[t]=e)}.bind(this)},this.request("PUT",s,i),this.data[t].value},rem:function(t){var e,s,i;return this.interruptAccess(),e=this.get(t),t=this.normalizeKey(t),s=this.options.host+"/"+this.database+"/"+t+"?rev="+this.data[t]._rev,i={data:a.encode(this.data[t]),onComplete:function(e){e.error||(this.data[t]=e)}.bind(this)},this.request("DELETE",s,i),e}});return t.namespace("Storage/Adapter/CouchDB",i,t)});

define("UWA/Storage/Adapter/Dashboard",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(e,t){"use strict";var r=t.extend({type:"Dashboard",limit:65536,connect:function(e){this.database=e,this.storage.isReady=!0},isAvailable:function(){return window.widget&&window.widget.preferenceForKey},getKey:function(e){return window.widget?window.widget.identifier+"-"+this.database+"-"+e:e},get:function(e){this.interruptAccess();var t=window.widget.preferenceForKey(this.getKey(e));if(null!==t&&""!==t)return t},set:function(e,t){return this.interruptAccess(),window.widget.setPreferenceForKey(t,this.getKey(e))},rem:function(e){this.interruptAccess();var t=this.get(e);return this.set(e,null),t}});return e.namespace("Storage/Adapter/Dashboard",r,e)});

define("UWA/Storage/Adapter/Dom",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";function o(t){var e=!1;try{t.setItem("uwa-test",1),t.removeItem("uwa-test"),e=!0}catch(t){}return e}function a(){return!!window.sessionStorage&&o(window.sessionStorage)}function n(){return!(!window.localStorage&&!window.globalStorage)&&o(window.globalStorage?window.globalStorage[location.hostname]:window.localStorage)}var i=e.extend({type:"Dom",limit:5242880,connect:function(t){this.database=t,window.localStorage||window.globalStorage?this.db=window.globalStorage?window.globalStorage[location.hostname]:window.localStorage:window.sessionStorage&&(this.db=window.sessionStorage),this.storage.isReady=!0},isAvailable:function(){return a()||n()},get:function(t){this.interruptAccess();var e=this.db.getItem(this.database+"-"+t),o=e&&void 0!==e.value?e.value:e;return o||void 0},set:function(t,e){return this.interruptAccess(),this.db.setItem(this.database+"-"+t,e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.removeItem(this.database+"-"+t),e}});return t.namespace("Storage/Adapter/Dom",i,t)});

define("UWA/Storage/Adapter/Flash",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var a=e.extend({type:"Flash",limit:5242880,connect:function(t){this.database=t,this.db=window.globalStorage?window.globalStorage[location.hostname]:window.localStorage,this.storage.isReady=!0},isAvailable:function(){return!!this.hasFlash("8.0.0")},get:function(t){this.interruptAccess();var e=this.db.f_get_cookie(t);return"null"===e?null:e},set:function(t,e){return this.interruptAccess(),this.db.f_set_cookie(t,e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.f_delete_cookie(t),e},hasFlash:function(t){var e,a=this.flashVersion().match(/\d+/g),r=t.match(/\d+/g);for(e=0;e<3;e++){if(a[e]=parseInt(a[e]||0,10),r[e]=parseInt(r[e]||0,10),a[e]<r[e])return!1;if(a[e]>r[e])return!0}return!0},flashVersion:function(){try{try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(t){return"6,0,0"}}catch(t){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){}}return"0,0,0"}});return t.namespace("Storage/Adapter/Flash",a,t)});

define("UWA/Storage/Adapter/Html5",["UWA/Core","UWA/Storage/Adapter/Object","UWA/Internal/Deprecate"],function(e,t,r){"use strict";var a=t.extend({type:"Html5",connect:function(e){r.warn("UWA/Storage/Adapter/Html5","Use WebSQL directly if you really need to."),this._parent(e)}});return e.namespace("Storage/Adapter/Html5",a,e)});

define("UWA/Storage/Adapter/IE",["UWA/Core","UWA/Utils/Client","UWA/Storage/Adapter/Abstract"],function(t,e,i){"use strict";function a(t){var e=document.createElement("div");return e.id="uwa-"+t,e.style.display="none",e.style.behavior="url('#default#userData')",document.documentElement.appendChild(e),e}function s(t){document.documentElement.removeChild(t)}var r=i.extend({type:"IE",limit:65536,connect:function(t){this.database="uwa-data-storage-"+t,this.db=a(this.database),this.storage.isReady=!0},isAvailable:function(){var t,e,i="testStorage",r=!1;if(window.ActiveXObject){try{e=(new Date).getTime(),t=a(i),t.hasOwnProperty("save")&&(t.setAttribute(i,e),t.save(i),t.load(i),t.getAttribute(i)),r=!0}catch(t){}s(t)}return r},getKey:function(t){return t=String(t),null!==t.match(/^\d/)&&(t="X"+t),t.toUpperCase()},get:function(t){return this.interruptAccess(),this.db.load(this.database),this.db.getAttribute(this.getKey(t))||void 0},set:function(t,e){return this.interruptAccess(),this.db.setAttribute(this.getKey(t),e),this.db.save(this.database),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.removeAttribute(this.getKey(t)),this.db.save(this.database),e}});return t.namespace("Storage/Adapter/IE",r,t)});

define("UWA/Storage/Adapter/IGoogle",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var n=e.extend({type:"IGoogle",limit:0,connect:function(e){this.database=e,t.Event.onDomReady(function(){this.db=new window._IG_Prefs,this.storage.isReady=!0}.bind(this))},isAvailable:function(){return window._IG_Prefs},getKey:function(t){return t},get:function(t){return this.db.getString(this.getKey(t))},set:function(t,e){return this.interruptAccess(),this.db.set(this.getKey(t),e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.set(this.getKey(t),null),e}});return t.namespace("Storage/Adapter/IGoogle",n,t)});

define("UWA/Storage/Adapter/IndexDb",["UWA/Core","UWA/Storage/Adapter/Abstract","UWA/Utils/Client"],function(e,t,n){"use strict";var a=t.extend({type:"IndexDb",limit:204800,connect:function(e){var t,a=this;a.indexedDB=n.getVendorProperty(window,"indexedDB"),a.IDBTransaction=n.getVendorProperty(window,"IDBTransaction"),a.IDBKeyRange=n.getVendorProperty(window,"IDBKeyRange"),a.database=e,a.db=t=a.indexedDB.open("uwa-data-storage-"+a.database,1),t.onerror=function(){},t.onsuccess=function(){},this.updateCache()},updateCache:function(){this.storage.isReady=!0},isAvailable:function(){return window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB},get:function(e){return this.interruptAccess(),this.data[e]||void 0},set:function(e,t){return this.data[e]=t,this.updateCache(),t},rem:function(e){this.interruptAccess();var t=this.get(e);return delete this.data[e],this.updateCache(),t}});return e.namespace("Storage/Adapter/IndexDb",a,e)});

define("UWA/Storage/Adapter/Opera",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(e,t){"use strict";var r=t.extend({type:"Dashboard",limit:65536,connect:function(e){this.database=e,this.storage.isReady=!0},isAvailable:function(){return window.widget&&window.widget.preferences&&window.widget.preferences.getItem},getKey:function(e){return"uwa-"+this.database+"-"+e},get:function(e){this.interruptAccess();var t=window.widget.preferences.getItem(this.getKey(e));if(null!==t&&""!==t)return t},set:function(e,t){return this.interruptAccess(),window.widget.preferences.setItem(t,this.getKey(e))},rem:function(e){this.interruptAccess();var t=this.get(e);return this.set(e,null),t}});return e.namespace("Storage/Adapter/Opera",r,e)});

define("UWA/Storage/Adapter/Vista",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var i=e.extend({type:"Vista",limit:0,connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return System&&System.Gadget&&System.Gadget.Settings},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){return System.Gadget.Settings.read(this.getKey(t))||void 0},set:function(t,e){return this.interruptAccess(),System.Gadget.Settings.write(this.getKey(t),e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return System.Gadget.Settings.write(this.getKey(t),void 0),e}});return t.namespace("Storage/Adapter/Vista",i,t)});

define("UWA/Storage/Adapter/WebOs",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var n=e.extend({type:"WebOs",limit:0,connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return!!Mojo},getKey:function(t){return new Mojo.Model.Cookie("uwa-"+this.database+"-"+t)},get:function(t){return this.getKey(t).get()},set:function(t,e){return this.interruptAccess(),this.getKey(t).put(e),this.get(t)},rem:function(t){this.interruptAccess();var e=this.get(t);return this.getKey(t).put(null,new Date),e}});return t.namespace("Storage/Adapter/WebOs",n,t)});

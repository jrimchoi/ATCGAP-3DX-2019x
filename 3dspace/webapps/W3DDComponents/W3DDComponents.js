define("DS/W3DDComponents/Views/PinView",["UWA/Core","UWA/Utils","UWA/Class/View","css!DS/W3DDComponents/Views/PinView"],function(e,c,d){var b="function";var a=d.extend({tagName:"div",name:"pin-view",defaultOptions:{widgetIdOrUrl:"",widgetAppId:"",widgetTitle:"",widgetData:{},success:null,failure:null},setup:function(){this.container.addClassName(this.getClassNames())},render:function(){var l,g="clicked",j="added",i=this,f=i.container,h=i.options;function k(){function m(){if(e.is(h.failure,b)){h.failure()}}l.addClassName(g);setTimeout(function(){this.removeClassName(g)}.bind(l),1000);try{top.require(["DS/Dashboard/DashboardManager"],function(o){o.addModule({url:h.widgetIdOrUrl,appId:h.widgetAppId,data:h.widgetData,title:h.widgetTitle,success:function(){l.addClassName(j);if(e.is(h.success,b)){h.success()}},failure:m})})}catch(n){m();e.log("Error while requiring top DS/Dashboard/DashboardManager from PinView.")}}l=e.createElement("div",{"class":this.getClassNames("-btn"),html:{tag:"div","class":"icon"},events:{click:k}});f.setContent(l);return i},destroy:function(){this._parent.apply(this,arguments)}});return a});define("DS/W3DDComponents/Views/DragView",["UWA/Core","UWA/Event","UWA/Utils","UWA/Utils/Client","UWA/Element","UWA/Json","UWA/Class/View","UWA/Controls/Drag","DS/WebappsUtils/WebappsUtils","css!DS/W3DDComponents/Views/DragView"],function(g,m,k,f,c,i,b,l,d){var h,a;try{top.require(["DS/UWPClientCode/PublicAPI"],function(e){a=e})}catch(j){g.log("Error while requiring top DS/UWPClientCode/PublicAPI from DragView.")}h=b.extend({DRAG_CLASS:"drag-handle",CREATE_WIDGET_CLASS:"create-widget",NO_USER_SELECT_CSS:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},DEFAULT_DRAG_ICON:"",name:"drag-view",tagName:"div",defaultOptions:{element:null,sourceWidgetId:"",widgetAppId:"",widgetIdOrUrl:"",widgetTitle:"",widgetData:{},widgetIcon:""},_inIframe:false,_env:null,_resetUserSelectTimeout:null,_drag:null,_browserIsTouch:false,_isDragging:false,_fakeEl:null,setup:function(n){var q,o,e,p;this._inIframe=self.location!==top.location;if(this._inIframe){this.DEFAULT_DRAG_ICON=d.getWebappsAssetUrl("W3DDComponents","DragView_DefaultDragIcon.png");q=parent.UWA.Widgets.instances;for(o=0;o<q.length;o++){e=q[o];p=e.environment;if(p.embedded&&p.embedded.id===n.sourceWidgetId){break}}this._env=p}this._browserIsTouch=f.Features.touchEvents;this.container.addClassName(this.getClassNames())},render:function(){var o,e=this.container,n=this.options;e.setContent(n.element);e.setStyles(this.NO_USER_SELECT_CSS);if(this._inIframe){o=this.DRAG_CLASS+"-"+k.getUUID();e.addClassName(o);this._drag=new l.Move({snap:20,delegate:"."+o+", ."+o+" *",delay:this._browserIsTouch?20:0,centerHandles:true,handles:this._onDragHandles.bind(this),start:this._onDragStart.bind(this),leave:this._onDragLeave.bind(this),stop:this._onDragStop.bind(this),drop:this._onDragDrop.bind(this),cancel:this._onDragCancel.bind(this)})}else{e.addClassName(this.CREATE_WIDGET_CLASS);this._setWidgetAttributes(e)}return this},destroy:function(){if(this._fakeEl){this._fakeEl.destroy()}this._fakeEl=null;this._env=this._resetUserSelectTimeout=this._drag=null;this._browserIsTouch=this._isDragging=this._inIframe=false,this._parent.apply(this,arguments)},_setWidgetAttributes:function(n){var e=this.options;a.enableDragAndInstantiation({element:n,title:e.widgetTitle,url:e.widgetIdOrUrl,appId:e.appId,data:i.encode(e.widgetData),icon:e.widgetIcon,trusted:true})},_resetUserSelect:function(){c.setStyles.call(document.body,{"-webkit-tap-highlight-color":"","-webkit-touch-callout":"","-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""});this._resetUserSelectTimeout=null},_clearDragBeforeEnd:function(n){if(n.handles){n.handles.destroy()}this._isDragging=false;this._resetUserSelectTimeout=setTimeout(this._resetUserSelect.bind(this),1000)},_onDragHandles:function(o){var n;m.stop(o);if(this._resetUserSelectTimeout){clearTimeout(this._resetUserSelectTimeout)}else{c.setStyles.call(document.body,this.NO_USER_SELECT_CSS)}n=g.createElement("img",{"class":this.getClassNames()+"-ghost",src:this.options.widgetIcon||this.DEFAULT_DRAG_ICON}).inject(document.body);return n},_onDragStart:function(n){m.stop(n);this._isDragging=true},_onDragLeave:function(t){var w,s,p={},n,x,o,q,r,u,v,y;m.stop(t);if(this._isDragging){this._onDragStop(t);this._clearDragBeforeEnd(t);o=this._fakeEl;y=this._browserIsTouch;if(!g.is(o,"element")){this._fakeEl=o=g.createElement("div",{"class":this.CREATE_WIDGET_CLASS});x=top.document.body.getElement(".wi-"+this._env.widget.id);x.addContent(o)}this._setWidgetAttributes(o);if(y){w=x.getPosition(top.document.body);s=t.currentEvent.touches[0];q=document.createTouch(window,s.target,s.identifier,s.pageX+w.x+15,s.pageY+w.y+50,s.screenX,s.screenY);r=document.createTouchList(q);u=document.createTouchList(q);v=document.createTouchList(q);n=document.createEvent("TouchEvent");n.initTouchEvent("touchstart",true,true,top.window,null,0,0,0,0,false,false,false,false,r,u,v,1,0);p={eventType:n.type,canBubble:n.bubbles,cancelable:n.cancelable,view:n.view,detail:n.detail,screenX:n.layerX,screenY:n.layerY,clientX:n.pageX,clientY:n.pageY,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,touches:n.touches,targetTouches:n.targetTouches,changedTouches:n.changedTouches,scale:n.scale,rotation:n.rotation}}m.dispatchEvent(o,y?"touchstart":"mousedown",p)}},_onDragStop:function(n){m.stop(n);this._clearDragBeforeEnd(n)},_onDragDrop:function(n){this._onDragStop(n)},_onDragCancel:function(n){this._onDragStop(n)}});return h});define("DS/W3DDComponents/Views/RadioListView",["UWA/Core","UWA/Utils","UWA/Event","UWA/Class/View","DS/UIKIT/Input/Toggle","css!DS/W3DDComponents/Views/RadioListView"],function(h,e,a,g,d){var c="radiolist-view",b="checked";var f=g.extend({tagName:"div",name:c,defaultOptions:{name:"",displayRadio:false,items:[],events:{onCheckItem:null}},items:[],setup:function(i){if(!i.name){this.options.name="name-"+e.getUUID()}this.items=[];this.container.addClassName(this.getClassNames());return this},render:function(){var k=this,i=k.container,j=k.options,m=j.items;function l(o){var q={},p;function n(t){var r,s=h.createElement;r=t.el=s("div",{"class":"radio-el-ctn "+(t.checked?b:""),events:{click:function(u){a.preventDefault(u);k.checkItem(t)}}});if(t.text){r.addContent({tag:"div","class":"text",text:t.text})}if(t.icon){r.addContent({tag:"div","class":"icon "+t.icon})}t.radio=new d({className:"rl-input-radio primary "+t.className,name:j.name,checked:t.checked,label:" "}).inject(r);if(j.displayRadio){t.radio.getContent().setStyle("display","inline")}r.inject(i)}o=o||{};p=o.value;q.name=o.name||h.is(p,"string")?p:"";q.className=o.className||"";q.value=p||"";q.text=o.text||"";q.icon=o.icon||"";q.checked=o.checked||false;k.items.push(q);n(q)}i.empty();m.forEach(function(n){l(n)});return k},checkItem:function(i){if(!i||!i.radio){return this}i.radio.check(true);this.items.forEach(function(j){j.el.removeClassName(b)});i.el.addClassName(b);this.dispatchEvent("onCheckItem",i);return this},getChecked:function(){var j,l,k;for(j=0,l=this.items.length;j<l;j++){k=this.items[j];if(k.radio.isChecked()){break}}return k||this.items[0]||{}},setChecked:function(l){var j,m,k;for(j=0,m=this.items.length;j<m;j++){k=this.items[j];if(k.name===l){this.checkItem(k);break}}return this},destroy:function(){this.items=null;this._parent.apply(this,arguments)}});return f});
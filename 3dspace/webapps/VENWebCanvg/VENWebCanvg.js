define("DS/VENWebCanvg/rgbcolor",["UWA/Class"],function(b){var a=b.extend({init:function(j){this.ok=false;if(j.charAt(0)=="#"){j=j.substr(1,6)}j=j.replace(/ /g,"");j=j.toLowerCase();var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var e in c){if(j==e){j=c[e]}}var k=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}];for(var d=0;d<k.length;d++){var g=k[d].re;var f=k[d].process;var h=g.exec(j);if(h){channels=f(h);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var n=this.r.toString(16);var m=this.g.toString(16);var l=this.b.toString(16);if(n.length==1){n="0"+n}if(m.length==1){m="0"+m}if(l.length==1){l="0"+l}return"#"+n+m+l};this.getHelpXML=function(){var n=new Array();for(var p=0;p<k.length;p++){var m=k[p].example;for(var o=0;o<m.length;o++){n[n.length]=m[o]}}for(var u in c){n[n.length]=u}var q=document.createElement("ul");q.setAttribute("id","rgbcolor-examples");for(var p=0;p<n.length;p++){try{var r=document.createElement("li");var t=new a(n[p]);var v=document.createElement("div");v.style.cssText="margin: 3px; border: 1px solid black; background:"+t.toHex()+"; color:"+t.toHex();v.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+n[p]+" -> "+t.toRGB()+" -> "+t.toHex());r.appendChild(v);r.appendChild(l);q.appendChild(r)}catch(s){}}return q}}});return a});define("DS/VENWebCanvg/StackBlur",["UWA/Class"],function(a){var b=a.extend({init:function(e){var l=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function j(r){var q=r.data;var p=r.width*r.height*4;for(var o=0;o<p;o+=4){var n=q[o+3]/255;q[o]*=n;q[o+1]*=n;q[o+2]*=n}}function g(r){var q=r.data;var p=r.width*r.height*4;for(var o=0;o<p;o+=4){var n=q[o+3];if(n!=0){n=255/n;q[o]*=n;q[o+1]*=n;q[o+2]*=n}}}function m(u,s,t,n){var q=document.getElementById(u);var v=q.naturalWidth;var r=q.naturalHeight;var p=document.getElementById(s);p.style.width=v+"px";p.style.height=r+"px";p.width=v;p.height=r;var o=p.getContext("2d");o.clearRect(0,0,v,r);o.drawImage(q,0,0);if(isNaN(t)||t<1){return}if(n){k(s,0,0,v,r,t)}else{h(s,0,0,v,r,t)}}function k(X,R,P,n,q,ab){if(isNaN(ab)||ab<1){return}ab|=0;var v=document.getElementById(X);var al=v.getContext("2d");var ag;try{try{ag=al.getImageData(R,P,n,q)}catch(ak){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");ag=al.getImageData(R,P,n,q)}catch(ak){alert("Cannot access local image");throw new Error("unable to access local image data: "+ak);return}}}catch(ak){alert("Cannot access image");throw new Error("unable to access image data: "+ak)}j(ag);var u=ag.data;var Z,Y,ai,af,F,I,B,s,t,O,ae,E,Q,M,o,U,aa,G,D,A,H,J,K,T;var aj=ab+ab+1;var V=n<<2;var C=n-1;var ad=q-1;var z=ab+1;var ac=z*(z+1)/2;var S=new f();var N=S;for(ai=1;ai<aj;ai++){N=N.next=new f();if(ai==z){var w=N}}N.next=S;var ah=null;var W=null;B=I=0;var L=l[ab];var r=c[ab];for(Y=0;Y<q;Y++){U=aa=G=D=s=t=O=ae=0;E=z*(A=u[I]);Q=z*(H=u[I+1]);M=z*(J=u[I+2]);o=z*(K=u[I+3]);s+=ac*A;t+=ac*H;O+=ac*J;ae+=ac*K;N=S;for(ai=0;ai<z;ai++){N.r=A;N.g=H;N.b=J;N.a=K;N=N.next}for(ai=1;ai<z;ai++){af=I+((C<ai?C:ai)<<2);s+=(N.r=(A=u[af]))*(T=z-ai);t+=(N.g=(H=u[af+1]))*T;O+=(N.b=(J=u[af+2]))*T;ae+=(N.a=(K=u[af+3]))*T;U+=A;aa+=H;G+=J;D+=K;N=N.next}ah=S;W=w;for(Z=0;Z<n;Z++){u[I]=(s*L)>>r;u[I+1]=(t*L)>>r;u[I+2]=(O*L)>>r;u[I+3]=(ae*L)>>r;s-=E;t-=Q;O-=M;ae-=o;E-=ah.r;Q-=ah.g;M-=ah.b;o-=ah.a;af=(B+((af=Z+ab+1)<C?af:C))<<2;U+=(ah.r=u[af]);aa+=(ah.g=u[af+1]);G+=(ah.b=u[af+2]);D+=(ah.a=u[af+3]);s+=U;t+=aa;O+=G;ae+=D;ah=ah.next;E+=(A=W.r);Q+=(H=W.g);M+=(J=W.b);o+=(K=W.a);U-=A;aa-=H;G-=J;D-=K;W=W.next;I+=4}B+=n}for(Z=0;Z<n;Z++){aa=G=D=U=t=O=ae=s=0;I=Z<<2;E=z*(A=u[I]);Q=z*(H=u[I+1]);M=z*(J=u[I+2]);o=z*(K=u[I+3]);s+=ac*A;t+=ac*H;O+=ac*J;ae+=ac*K;N=S;for(ai=0;ai<z;ai++){N.r=A;N.g=H;N.b=J;N.a=K;N=N.next}F=n;for(ai=1;ai<=ab;ai++){I=(F+Z)<<2;s+=(N.r=(A=u[I]))*(T=z-ai);t+=(N.g=(H=u[I+1]))*T;O+=(N.b=(J=u[I+2]))*T;ae+=(N.a=(K=u[I+3]))*T;U+=A;aa+=H;G+=J;D+=K;N=N.next;if(ai<ad){F+=n}}I=Z;ah=S;W=w;for(Y=0;Y<q;Y++){af=I<<2;u[af]=(s*L)>>r;u[af+1]=(t*L)>>r;u[af+2]=(O*L)>>r;u[af+3]=(ae*L)>>r;s-=E;t-=Q;O-=M;ae-=o;E-=ah.r;Q-=ah.g;M-=ah.b;o-=ah.a;af=(Z+(((af=Y+z)<ad?af:ad)*n))<<2;s+=(U+=(ah.r=u[af]));t+=(aa+=(ah.g=u[af+1]));O+=(G+=(ah.b=u[af+2]));ae+=(D+=(ah.a=u[af+3]));ah=ah.next;E+=(A=W.r);Q+=(H=W.g);M+=(J=W.b);o+=(K=W.a);U-=A;aa-=H;G-=J;D-=K;W=W.next;I+=n}}g(ag);al.putImageData(ag,R,P)}function h(U,O,M,n,o,Y){if(isNaN(Y)||Y<1){return}Y|=0;var u=document.getElementById(U);var ah=u.getContext("2d");var ac;try{try{ac=ah.getImageData(O,M,n,o)}catch(ag){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");ac=ah.getImageData(O,M,n,o)}catch(ag){alert("Cannot access local image");throw new Error("unable to access local image data: "+ag);return}}}catch(ag){alert("Cannot access image");throw new Error("unable to access image data: "+ag)}var t=ac.data;var W,V,ae,ab,D,G,A,r,s,L,B,N,J,R,X,E,z,F,H,Q;var af=Y+Y+1;var S=n<<2;var C=n-1;var aa=o-1;var w=Y+1;var Z=w*(w+1)/2;var P=new f();var K=P;for(ae=1;ae<af;ae++){K=K.next=new f();if(ae==w){var v=K}}K.next=P;var ad=null;var T=null;A=G=0;var I=l[Y];var q=c[Y];for(V=0;V<o;V++){R=X=E=r=s=L=0;B=w*(z=t[G]);N=w*(F=t[G+1]);J=w*(H=t[G+2]);r+=Z*z;s+=Z*F;L+=Z*H;K=P;for(ae=0;ae<w;ae++){K.r=z;K.g=F;K.b=H;K=K.next}for(ae=1;ae<w;ae++){ab=G+((C<ae?C:ae)<<2);r+=(K.r=(z=t[ab]))*(Q=w-ae);s+=(K.g=(F=t[ab+1]))*Q;L+=(K.b=(H=t[ab+2]))*Q;R+=z;X+=F;E+=H;K=K.next}ad=P;T=v;for(W=0;W<n;W++){t[G]=(r*I)>>q;t[G+1]=(s*I)>>q;t[G+2]=(L*I)>>q;r-=B;s-=N;L-=J;B-=ad.r;N-=ad.g;J-=ad.b;ab=(A+((ab=W+Y+1)<C?ab:C))<<2;R+=(ad.r=t[ab]);X+=(ad.g=t[ab+1]);E+=(ad.b=t[ab+2]);r+=R;s+=X;L+=E;ad=ad.next;B+=(z=T.r);N+=(F=T.g);J+=(H=T.b);R-=z;X-=F;E-=H;T=T.next;G+=4}A+=n}for(W=0;W<n;W++){X=E=R=s=L=r=0;G=W<<2;B=w*(z=t[G]);N=w*(F=t[G+1]);J=w*(H=t[G+2]);r+=Z*z;s+=Z*F;L+=Z*H;K=P;for(ae=0;ae<w;ae++){K.r=z;K.g=F;K.b=H;K=K.next}D=n;for(ae=1;ae<=Y;ae++){G=(D+W)<<2;r+=(K.r=(z=t[G]))*(Q=w-ae);s+=(K.g=(F=t[G+1]))*Q;L+=(K.b=(H=t[G+2]))*Q;R+=z;X+=F;E+=H;K=K.next;if(ae<aa){D+=n}}G=W;ad=P;T=v;for(V=0;V<o;V++){ab=G<<2;t[ab]=(r*I)>>q;t[ab+1]=(s*I)>>q;t[ab+2]=(L*I)>>q;r-=B;s-=N;L-=J;B-=ad.r;N-=ad.g;J-=ad.b;ab=(W+(((ab=V+w)<aa?ab:aa)*n))<<2;r+=(R+=(ad.r=t[ab]));s+=(X+=(ad.g=t[ab+1]));L+=(E+=(ad.b=t[ab+2]));ad=ad.next;B+=(z=T.r);N+=(F=T.g);J+=(H=T.b);R-=z;X-=F;E-=H;T=T.next;G+=n}}ah.putImageData(ac,O,M)}function f(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}var d={image:m,canvasRGBA:k,canvasRGB:h}}});return b});define("DS/VENWebCanvg/CanvgTools",["UWA/Class","UWA/Element","DS/VENWebCanvg/rgbcolor","DS/VENWebCanvg/StackBlur"],function(c,b,a,e){var d=c.extend({init:function(){},svgToCanvasInternal:function(n,h,s){var m=function(A,D,u){if(A==null&&D==null&&u==null){var w=document.querySelectorAll("svg");for(var y=0;y<w.length;y++){var x=w[y];var B=document.createElement("canvas");B.width=x.clientWidth;B.height=x.clientHeight;x.parentNode.insertBefore(B,x);x.parentNode.removeChild(x);var v=document.createElement("div");v.appendChild(x);m(B,v.innerHTML)}return}if(typeof A=="string"){A=document.getElementById(A)}if(A.svg!=null){A.svg.stop()}var z=q(u||{});if(!(A.childNodes.length==1&&A.childNodes[0].nodeName=="OBJECT")){A.svg=z}var C=A.getContext("2d");if(typeof D.documentElement!="undefined"){z.loadXmlDoc(C,D)}else{if(D.substr(0,1)=="<"){z.loadXml(C,D)}else{z.load(C,D)}}};var t;if(typeof b.prototype.matches!="undefined"){t=function(v,u){return v.matches(u)}}else{if(typeof b.prototype.webkitMatchesSelector!="undefined"){t=function(v,u){return v.webkitMatchesSelector(u)}}else{if(typeof b.prototype.mozMatchesSelector!="undefined"){t=function(v,u){return v.mozMatchesSelector(u)}}else{if(typeof b.prototype.msMatchesSelector!="undefined"){t=function(v,u){return v.msMatchesSelector(u)}}else{if(typeof b.prototype.oMatchesSelector!="undefined"){t=function(v,u){return v.oMatchesSelector(u)}}else{if(typeof jQuery==="function"||typeof Zepto==="function"){t=function(v,u){return $(v).is(u)}}if(typeof t==="undefined"){if(1){t=function(x,u){var v=x.getAttribute("class");if(v==null){return false}v=v.split(" ");for(var w=0;w<v.length;w++){if("."+v[w]===u){return true}}return false}}else{t=Sizzle.matchesSelector}}}}}}}var j=/(\[[^\]]+\])/g;var g=/(#[^\s\+>~\.\[:]+)/g;var f=/(\.[^\s\+>~\.\[:]+)/g;var p=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi;var o=/(:[\w-]+\([^\)]*\))/gi;var r=/(:[^\s\+>~\.\[:]+)/g;var l=/([^\s\+>~\.\[:]+)/g;function k(u){var w=[0,0,0];var v=function(y,x){var z=u.match(y);if(z==null){return}w[x]+=z.length;u=u.replace(y," ")};u=u.replace(/:not\(([^\)]*)\)/g,"     $1 ");u=u.replace(/{[\s\S]*/gm," ");v(j,1);v(g,0);v(f,1);v(p,2);v(o,1);v(r,1);u=u.replace(/[\*\s\+>~]/g," ");u=u.replace(/[#\.]/g," ");v(l,2);return w.join("")}function q(w){var v={opts:w};v.FRAMERATE=30;v.MAX_VIRTUAL_PIXELS=30000;v.log=function(x){};if(v.opts.log==true&&typeof console!="undefined"){v.log=function(x){console.log(x)}}v.init=function(x){var y=0;v.UniqueId=function(){y++;return"canvg"+y};v.Definitions={};v.Styles={};v.StylesSpecificity={};v.Animations=[];v.Images=[];v.ctx=x;v.ViewPort=new (function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(A,z){this.viewPorts.push({width:A,height:z})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(z){if(z!=null&&typeof z=="number"){return z}if(z=="x"){return this.width()}if(z=="y"){return this.height()}return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}})};v.init();v.ImagesLoaded=function(){for(var x=0;x<v.Images.length;x++){if(!v.Images[x].loaded){return false}}return true};v.trim=function(x){return x.replace(/^\s+|\s+$/g,"")};v.compressSpaces=function(x){return x.replace(/[\s\r\t\n]+/gm," ")};v.ajax=function(y){var x;if(window.XMLHttpRequest){x=new XMLHttpRequest()}else{x=new ActiveXObject("Microsoft.XMLHTTP")}if(x){x.open("GET",y,false);x.send(null);return x.responseText}return null};v.parseXml=function(x){if(typeof Windows!="undefined"&&typeof Windows.Data!="undefined"&&typeof Windows.Data.Xml!="undefined"){var z=new Windows.Data.Xml.Dom.XmlDocument();var y=new Windows.Data.Xml.Dom.XmlLoadSettings();y.prohibitDtd=false;z.loadXml(x,y);return z}else{if(window.DOMParser){var A=new DOMParser();return A.parseFromString(x,"text/xml")}else{x=x.replace(/<!DOCTYPE svg[^>]*>/,"");var z=new ActiveXObject("Microsoft.XMLDOM");z.async="false";z.loadXML(x);return z}}};v.Property=function(x,y){this.name=x;this.value=y};v.Property.prototype.getValue=function(){return this.value};v.Property.prototype.hasValue=function(){return(this.value!=null&&this.value!=="")};v.Property.prototype.numValue=function(){if(!this.hasValue()){return 0}var x=parseFloat(this.value);if((this.value+"").match(/%$/)){x=x/100}return x};v.Property.prototype.valueOrDefault=function(x){if(this.hasValue()){return this.value}return x};v.Property.prototype.numValueOrDefault=function(x){if(this.hasValue()){return this.numValue()}return x};v.Property.prototype.addOpacity=function(z){var y=this.value;if(z.value!=null&&z.value!=""&&typeof this.value=="string"){var x=new a(this.value);if(x.ok){y="rgba("+x.r+", "+x.g+", "+x.b+", "+z.numValue()+")"}}return new v.Property(this.name,y)};v.Property.prototype.getDefinition=function(){var x=this.value.match(/#([^\)'"]+)/);if(x){x=x[1]}if(!x){x=this.value}return v.Definitions[x]};v.Property.prototype.isUrlDefinition=function(){return this.value.indexOf("url(")==0};v.Property.prototype.getFillStyleDefinition=function(A,z){var x=this.getDefinition();if(x!=null&&x.createGradient){return x.createGradient(v.ctx,A,z)}if(x!=null&&x.createPattern){if(x.getHrefAttribute().hasValue()){var y=x.attribute("patternTransform");x=x.getHrefAttribute().getDefinition();if(y.hasValue()){x.attribute("patternTransform",true).value=y.value}}return x.createPattern(v.ctx,A)}return null};v.Property.prototype.getDPI=function(x){return 96};v.Property.prototype.getEM=function(z){var x=12;var y=new v.Property("fontSize",v.Font.Parse(v.ctx.font).fontSize);if(y.hasValue()){x=y.toPixels(z)}return x};v.Property.prototype.getUnits=function(){var x=this.value+"";return x.replace(/[0-9\.\-]/g,"")};v.Property.prototype.toPixels=function(z,x){if(!this.hasValue()){return 0}var y=this.value+"";if(y.match(/em$/)){return this.numValue()*this.getEM(z)}if(y.match(/ex$/)){return this.numValue()*this.getEM(z)/2}if(y.match(/px$/)){return this.numValue()}if(y.match(/pt$/)){return this.numValue()*this.getDPI(z)*(1/72)}if(y.match(/pc$/)){return this.numValue()*15}if(y.match(/cm$/)){return this.numValue()*this.getDPI(z)/2.54}if(y.match(/mm$/)){return this.numValue()*this.getDPI(z)/25.4}if(y.match(/in$/)){return this.numValue()*this.getDPI(z)}if(y.match(/%$/)){return this.numValue()*v.ViewPort.ComputeSize(z)}var A=this.numValue();if(x&&A<1){return A*v.ViewPort.ComputeSize(z)}return A};v.Property.prototype.toMilliseconds=function(){if(!this.hasValue()){return 0}var x=this.value+"";if(x.match(/s$/)){return this.numValue()*1000}if(x.match(/ms$/)){return this.numValue()}return this.numValue()};v.Property.prototype.toRadians=function(){if(!this.hasValue()){return 0}var x=this.value+"";if(x.match(/deg$/)){return this.numValue()*(Math.PI/180)}if(x.match(/grad$/)){return this.numValue()*(Math.PI/200)}if(x.match(/rad$/)){return this.numValue()}return this.numValue()*(Math.PI/180)};var u={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};v.Property.prototype.toTextBaseline=function(){if(!this.hasValue()){return null}return u[this.value]};v.Font=new (function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(E,B,z,D,y,A){var C=A!=null?this.Parse(A):this.CreateFont("","","","","",v.ctx.font);return{fontFamily:y||C.fontFamily,fontSize:D||C.fontSize,fontStyle:E||C.fontStyle,fontWeight:z||C.fontWeight,fontVariant:B||C.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var x=this;this.Parse=function(A){var B={};var C=v.trim(v.compressSpaces(A||"")).split(" ");var D={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false};var y="";for(var z=0;z<C.length;z++){if(!D.fontStyle&&x.Styles.indexOf(C[z])!=-1){if(C[z]!="inherit"){B.fontStyle=C[z]}D.fontStyle=true}else{if(!D.fontVariant&&x.Variants.indexOf(C[z])!=-1){if(C[z]!="inherit"){B.fontVariant=C[z]}D.fontStyle=D.fontVariant=true}else{if(!D.fontWeight&&x.Weights.indexOf(C[z])!=-1){if(C[z]!="inherit"){B.fontWeight=C[z]}D.fontStyle=D.fontVariant=D.fontWeight=true}else{if(!D.fontSize){if(C[z]!="inherit"){B.fontSize=C[z].split("/")[0]}D.fontStyle=D.fontVariant=D.fontWeight=D.fontSize=true}else{if(C[z]!="inherit"){y+=C[z]}}}}}}if(y!=""){B.fontFamily=y}return B}});v.ToNumberArray=function(z){var x=v.trim(v.compressSpaces((z||"").replace(/,/g," "))).split(" ");for(var y=0;y<x.length;y++){x[y]=parseFloat(x[y])}return x};v.Point=function(z,A){this.x=z;this.y=A};v.Point.prototype.angleTo=function(x){return Math.atan2(x.y-this.y,x.x-this.x)};v.Point.prototype.applyTransform=function(x){var y=this.x*x[0]+this.y*x[2]+x[4];var z=this.x*x[1]+this.y*x[3]+x[5];this.x=y;this.y=z};v.CreatePoint=function(y){var x=v.ToNumberArray(y);return new v.Point(x[0],x[1])};v.CreatePath=function(z){var x=v.ToNumberArray(z);var A=[];for(var y=0;y<x.length;y+=2){A.push(new v.Point(x[y],x[y+1]))}return A};v.BoundingBox=function(y,A,x,z){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(B,C){if(B!=null){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=B;this.x2=B}if(B<this.x1){this.x1=B}if(B>this.x2){this.x2=B}}if(C!=null){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=C;this.y2=C}if(C<this.y1){this.y1=C}if(C>this.y2){this.y2=C}}};this.addX=function(B){this.addPoint(B,null)};this.addY=function(B){this.addPoint(null,B)};this.addBoundingBox=function(B){this.addPoint(B.x1,B.y1);this.addPoint(B.x2,B.y2)};this.addQuadraticCurve=function(G,F,C,B,I,H){var E=G+2/3*(C-G);var D=F+2/3*(B-F);var K=E+1/3*(I-G);var J=D+1/3*(H-F);this.addBezierCurve(G,F,E,K,D,J,I,H)};this.addBezierCurve=function(O,N,F,D,K,I,Q,P){var G=[O,N],E=[F,D],C=[K,I],B=[Q,P];this.addPoint(G[0],G[1]);this.addPoint(B[0],B[1]);for(i=0;i<=1;i++){var R=function(V){return Math.pow(1-V,3)*G[i]+3*Math.pow(1-V,2)*V*E[i]+3*(1-V)*Math.pow(V,2)*C[i]+Math.pow(V,3)*B[i]};var T=6*G[i]-12*E[i]+6*C[i];var U=-3*G[i]+9*E[i]-9*C[i]+3*B[i];var S=3*E[i]-3*G[i];if(U==0){if(T==0){continue}var M=-S/T;if(0<M&&M<1){if(i==0){this.addX(R(M))}if(i==1){this.addY(R(M))}}continue}var H=Math.pow(T,2)-4*S*U;if(H<0){continue}var L=(-T+Math.sqrt(H))/(2*U);if(0<L&&L<1){if(i==0){this.addX(R(L))}if(i==1){this.addY(R(L))}}var J=(-T-Math.sqrt(H))/(2*U);if(0<J&&J<1){if(i==0){this.addX(R(J))}if(i==1){this.addY(R(J))}}}};this.isPointInBox=function(B,C){return(this.x1<=B&&B<=this.x2&&this.y1<=C&&C<=this.y2)};this.addPoint(y,A);this.addPoint(x,z)};v.Transform=function(x){var D=this;this.Type={};this.Type.translate=function(F){this.p=v.CreatePoint(F);this.apply=function(G){G.translate(this.p.x||0,this.p.y||0)};this.unapply=function(G){G.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(G){G.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(G){var F=v.ToNumberArray(G);this.angle=new v.Property("angle",F[0]);this.cx=F[1]||0;this.cy=F[2]||0;this.apply=function(H){H.translate(this.cx,this.cy);H.rotate(this.angle.toRadians());H.translate(-this.cx,-this.cy)};this.unapply=function(H){H.translate(this.cx,this.cy);H.rotate(-1*this.angle.toRadians());H.translate(-this.cx,-this.cy)};this.applyToPoint=function(I){var H=this.angle.toRadians();I.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);I.applyTransform([Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0]);I.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(F){this.p=v.CreatePoint(F);this.apply=function(G){G.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(G){G.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(G){G.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(F){this.m=v.ToNumberArray(F);this.apply=function(G){G.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.unapply=function(Q){var P=this.m[0];var O=this.m[2];var N=this.m[4];var M=this.m[1];var L=this.m[3];var K=this.m[5];var I=0;var H=0;var G=1;var J=1/(P*(L*G-K*H)-O*(M*G-K*I)+N*(M*H-L*I));Q.transform(J*(L*G-K*H),J*(K*I-M*G),J*(N*H-O*G),J*(P*G-N*I),J*(O*K-N*L),J*(N*M-P*K))};this.applyToPoint=function(G){G.applyTransform(this.m)}};this.Type.SkewBase=function(F){this.base=D.Type.matrix;this.base(F);this.angle=new v.Property("angle",F)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(F){this.base=D.Type.SkewBase;this.base(F);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(F){this.base=D.Type.SkewBase;this.base(F);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(F){for(var G=0;G<this.transforms.length;G++){this.transforms[G].apply(F)}};this.unapply=function(F){for(var G=this.transforms.length-1;G>=0;G--){this.transforms[G].unapply(F)}};this.applyToPoint=function(G){for(var F=0;F<this.transforms.length;F++){this.transforms[F].applyToPoint(G)}};var E=v.trim(v.compressSpaces(x)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var z=0;z<E.length;z++){var B=v.trim(E[z].split("(")[0]);var A=E[z].split("(")[1].replace(")","");var C=this.Type[B];if(typeof C!="undefined"){var y=new C(A);y.type=B;this.transforms.push(y)}}};v.AspectRatio=function(M,K,y,E,L,x,B,A,J,I){K=v.compressSpaces(K);K=K.replace(/^defer\s/,"");var D=K.split(" ")[0]||"xMidYMid";var z=K.split(" ")[1]||"meet";var H=y/E;var G=L/x;var C=Math.min(H,G);var F=Math.max(H,G);if(z=="meet"){E*=C;x*=C}if(z=="slice"){E*=F;x*=F}J=new v.Property("refX",J);I=new v.Property("refY",I);if(J.hasValue()&&I.hasValue()){M.translate(-C*J.toPixels("x"),-C*I.toPixels("y"))}else{if(D.match(/^xMid/)&&((z=="meet"&&C==G)||(z=="slice"&&F==G))){M.translate(y/2-E/2,0)}if(D.match(/YMid$/)&&((z=="meet"&&C==H)||(z=="slice"&&F==H))){M.translate(0,L/2-x/2)}if(D.match(/^xMax/)&&((z=="meet"&&C==G)||(z=="slice"&&F==G))){M.translate(y-E,0)}if(D.match(/YMax$/)&&((z=="meet"&&C==H)||(z=="slice"&&F==H))){M.translate(0,L-x)}}if(D=="none"){M.scale(H,G)}else{if(z=="meet"){M.scale(C,C)}else{if(z=="slice"){M.scale(F,F)}}}M.translate(B==null?0:-B,A==null?0:-A)};v.Element={};v.EmptyProperty=new v.Property("EMPTY","");v.Element.ElementBase=function(B){this.attributes={};this.styles={};this.stylesSpecificity={};this.children=[];this.attribute=function(K,L){var J=this.attributes[K];if(J!=null){return J}if(L==true){J=new v.Property(K,"");this.attributes[K]=J}return J||v.EmptyProperty};this.getHrefAttribute=function(){for(var J in this.attributes){if(J=="href"||J.match(/:href$/)){return this.attributes[J]}}return v.EmptyProperty};this.style=function(L,P,J){var M=this.styles[L];if(M!=null){return M}var K=this.attribute(L);if(K!=null&&K.hasValue()){this.styles[L]=K;return K}if(J!=true){var N=this.parent;if(N!=null){var O=N.style(L);if(O!=null&&O.hasValue()){return O}}}if(P==true){M=new v.Property(L,"");this.styles[L]=M}return M||v.EmptyProperty};this.render=function(K){if(this.style("display").value=="none"){return}if(this.style("visibility").value=="hidden"){return}K.save();if(this.style("mask").hasValue()){var J=this.style("mask").getDefinition();if(J!=null){J.apply(K,this)}}else{if(this.style("filter").hasValue()){var L=this.style("filter").getDefinition();if(L!=null){L.apply(K,this)}}else{this.setContext(K);this.renderChildren(K);this.clearContext(K)}}K.restore()};this.setContext=function(J){};this.clearContext=function(J){};this.renderChildren=function(J){for(var K=0;K<this.children.length;K++){this.children[K].render(J)}};this.addChild=function(K,J){var L=K;if(J){L=v.CreateElement(K)}L.parent=this;if(L.type!="title"){this.children.push(L)}};this.addStylesFromStyleDefinition=function(){for(var J in v.Styles){if(J[0]!="@"&&t(B,J)){var M=v.Styles[J];var L=v.StylesSpecificity[J];if(M!=null){for(var K in M){var N=this.stylesSpecificity[K];if(typeof N=="undefined"){N="000"}if(L>N){this.styles[K]=M[K];this.stylesSpecificity[K]=L}}}}}};var C=new RegExp("^[A-Z-]+$");var G=function(J){if(C.test(J)){return J.toLowerCase()}return J};if(B!=null&&B.nodeType==1){for(var D=0;D<B.attributes.length;D++){var A=B.attributes[D];var E=G(A.nodeName);this.attributes[E]=new v.Property(E,A.value)}this.addStylesFromStyleDefinition();if(this.attribute("style").hasValue()){var I=this.attribute("style").value.split(";");for(var D=0;D<I.length;D++){if(v.trim(I[D])!=""){var z=I[D].split(":");var y=v.trim(z[0]);var F=v.trim(z[1]);this.styles[y]=new v.Property(y,F)}}}if(this.attribute("id").hasValue()){if(v.Definitions[this.attribute("id").value]==null){v.Definitions[this.attribute("id").value]=this}}for(var D=0;D<B.childNodes.length;D++){var x=B.childNodes[D];if(x.nodeType==1){this.addChild(x,true)}if(this.captureTextNodes&&(x.nodeType==3||x.nodeType==4)){var H=x.value||x.text||x.textContent||"";if(v.compressSpaces(H)!=""){this.addChild(new v.Element.tspan(x),false)}}}}};v.Element.RenderedElementBase=function(x){this.base=v.Element.ElementBase;this.base(x);this.setContext=function(G){if(this.style("fill").isUrlDefinition()){var D=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));if(D!=null){G.fillStyle=D}}else{if(this.style("fill").hasValue()){var F=this.style("fill");if(F.value=="currentColor"){F.value=this.style("color").value}if(F.value!="inherit"){G.fillStyle=(F.value=="none"?"rgba(0,0,0,0)":F.value)}}}if(this.style("fill-opacity").hasValue()){var F=new v.Property("fill",G.fillStyle);F=F.addOpacity(this.style("fill-opacity"));G.fillStyle=F.value}if(this.style("stroke").isUrlDefinition()){var D=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));if(D!=null){G.strokeStyle=D}}else{if(this.style("stroke").hasValue()){var E=this.style("stroke");if(E.value=="currentColor"){E.value=this.style("color").value}if(E.value!="inherit"){G.strokeStyle=(E.value=="none"?"rgba(0,0,0,0)":E.value)}}}if(this.style("stroke-opacity").hasValue()){var E=new v.Property("stroke",G.strokeStyle);E=E.addOpacity(this.style("stroke-opacity"));G.strokeStyle=E.value}if(this.style("stroke-width").hasValue()){var C=this.style("stroke-width").toPixels();G.lineWidth=C==0?0.001:C}if(this.style("stroke-linecap").hasValue()){G.lineCap=this.style("stroke-linecap").value}if(this.style("stroke-linejoin").hasValue()){G.lineJoin=this.style("stroke-linejoin").value}if(this.style("stroke-miterlimit").hasValue()){G.miterLimit=this.style("stroke-miterlimit").value}if(this.style("stroke-dasharray").hasValue()&&this.style("stroke-dasharray").value!="none"){var A=v.ToNumberArray(this.style("stroke-dasharray").value);if(typeof G.setLineDash!="undefined"){G.setLineDash(A)}else{if(typeof G.webkitLineDash!="undefined"){G.webkitLineDash=A}else{if(typeof G.mozDash!="undefined"&&!(A.length==1&&A[0]==0)){G.mozDash=A}}}var B=this.style("stroke-dashoffset").numValueOrDefault(1);if(typeof G.lineDashOffset!="undefined"){G.lineDashOffset=B}else{if(typeof G.webkitLineDashOffset!="undefined"){G.webkitLineDashOffset=B}else{if(typeof G.mozDashOffset!="undefined"){G.mozDashOffset=B}}}}if(typeof G.font!="undefined"){G.font=v.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()}if(this.style("transform",false,true).hasValue()){var y=new v.Transform(this.style("transform",false,true).value);y.apply(G)}if(this.style("clip-path",false,true).hasValue()){var z=this.style("clip-path",false,true).getDefinition();if(z!=null){z.apply(G)}}if(this.style("opacity").hasValue()){G.globalAlpha=this.style("opacity").numValue()}}};v.Element.RenderedElementBase.prototype=new v.Element.ElementBase;v.Element.PathElementBase=function(x){this.base=v.Element.RenderedElementBase;this.base(x);this.path=function(y){if(y!=null){y.beginPath()}return new v.BoundingBox()};this.renderChildren=function(z){this.path(z);v.Mouse.checkPath(this,z);if(z.fillStyle!=""){if(this.style("fill-rule").valueOrDefault("inherit")!="inherit"){z.fill(this.style("fill-rule").value)}else{z.fill()}}if(z.strokeStyle!=""){z.stroke()}var B=this.getMarkers();if(B!=null){if(this.style("marker-start").isUrlDefinition()){var y=this.style("marker-start").getDefinition();y.render(z,B[0][0],B[0][1])}if(this.style("marker-mid").isUrlDefinition()){var y=this.style("marker-mid").getDefinition();for(var A=1;A<B.length-1;A++){y.render(z,B[A][0],B[A][1])}}if(this.style("marker-end").isUrlDefinition()){var y=this.style("marker-end").getDefinition();y.render(z,B[B.length-1][0],B[B.length-1][1])}}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};v.Element.PathElementBase.prototype=new v.Element.RenderedElementBase;v.Element.svg=function(x){this.base=v.Element.RenderedElementBase;this.base(x);this.baseClearContext=this.clearContext;this.clearContext=function(y){this.baseClearContext(y);v.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(C){C.strokeStyle="rgba(0,0,0,0)";C.lineCap="butt";C.lineJoin="miter";C.miterLimit=4;if(typeof C.font!="undefined"&&typeof window.getComputedStyle!="undefined"){C.font=window.getComputedStyle(C.canvas).getPropertyValue("font")}this.baseSetContext(C);if(!this.attribute("x").hasValue()){this.attribute("x",true).value=0}if(!this.attribute("y").hasValue()){this.attribute("y",true).value=0}C.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var D=v.ViewPort.width();var B=v.ViewPort.height();if(!this.attribute("width").hasValue()){this.attribute("width",true).value="100%"}if(!this.attribute("height").hasValue()){this.attribute("height",true).value="100%"}if(typeof this.root=="undefined"){D=this.attribute("width").toPixels("x");B=this.attribute("height").toPixels("y");var A=0;var G=0;if(this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()){A=-this.attribute("refX").toPixels("x");G=-this.attribute("refY").toPixels("y")}if(this.attribute("overflow").valueOrDefault("hidden")!="visible"){C.beginPath();C.moveTo(A,G);C.lineTo(D,G);C.lineTo(D,B);C.lineTo(A,B);C.closePath();C.clip()}}v.ViewPort.SetCurrent(D,B);if(this.attribute("viewBox").hasValue()){var E=v.ToNumberArray(this.attribute("viewBox").value);var z=E[0];var F=E[1];D=E[2];B=E[3];v.AspectRatio(C,this.attribute("preserveAspectRatio").value,v.ViewPort.width(),D,v.ViewPort.height(),B,z,F,this.attribute("refX").value,this.attribute("refY").value);v.ViewPort.RemoveCurrent();v.ViewPort.SetCurrent(E[2],E[3])}}};v.Element.svg.prototype=new v.Element.RenderedElementBase;v.Element.rect=function(x){this.base=v.Element.PathElementBase;this.base(x);this.path=function(B){var A=this.attribute("x").toPixels("x");var F=this.attribute("y").toPixels("y");var C=this.attribute("width").toPixels("x");var z=this.attribute("height").toPixels("y");var E=this.attribute("rx").toPixels("x");var D=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()){D=E}if(this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()){E=D}E=Math.min(E,C/2);D=Math.min(D,z/2);if(B!=null){B.beginPath();B.moveTo(A+E,F);B.lineTo(A+C-E,F);B.quadraticCurveTo(A+C,F,A+C,F+D);B.lineTo(A+C,F+z-D);B.quadraticCurveTo(A+C,F+z,A+C-E,F+z);B.lineTo(A+E,F+z);B.quadraticCurveTo(A,F+z,A,F+z-D);B.lineTo(A,F+D);B.quadraticCurveTo(A,F,A+E,F);B.closePath()}return new v.BoundingBox(A,F,A+C,F+z)}};v.Element.rect.prototype=new v.Element.PathElementBase;v.Element.circle=function(x){this.base=v.Element.PathElementBase;this.base(x);this.path=function(z){var y=this.attribute("cx").toPixels("x");var B=this.attribute("cy").toPixels("y");var A=this.attribute("r").toPixels();if(z!=null){z.beginPath();z.arc(y,B,A,0,Math.PI*2,true);z.closePath()}return new v.BoundingBox(y-A,B-A,y+A,B+A)}};v.Element.circle.prototype=new v.Element.PathElementBase;v.Element.ellipse=function(x){this.base=v.Element.PathElementBase;this.base(x);this.path=function(z){var B=4*((Math.sqrt(2)-1)/3);var C=this.attribute("rx").toPixels("x");var A=this.attribute("ry").toPixels("y");var y=this.attribute("cx").toPixels("x");var D=this.attribute("cy").toPixels("y");if(z!=null){z.beginPath();z.moveTo(y,D-A);z.bezierCurveTo(y+(B*C),D-A,y+C,D-(B*A),y+C,D);z.bezierCurveTo(y+C,D+(B*A),y+(B*C),D+A,y,D+A);z.bezierCurveTo(y-(B*C),D+A,y-C,D+(B*A),y-C,D);z.bezierCurveTo(y-C,D-(B*A),y-(B*C),D-A,y,D-A);z.closePath()}return new v.BoundingBox(y-C,D-A,y+C,D+A)}};v.Element.ellipse.prototype=new v.Element.PathElementBase;v.Element.line=function(x){this.base=v.Element.PathElementBase;this.base(x);this.getPoints=function(){return[new v.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new v.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(y){var z=this.getPoints();if(y!=null){y.beginPath();y.moveTo(z[0].x,z[0].y);y.lineTo(z[1].x,z[1].y)}return new v.BoundingBox(z[0].x,z[0].y,z[1].x,z[1].y)};this.getMarkers=function(){var z=this.getPoints();var y=z[0].angleTo(z[1]);return[[z[0],y],[z[1],y]]}};v.Element.line.prototype=new v.Element.PathElementBase;v.Element.polyline=function(x){this.base=v.Element.PathElementBase;this.base(x);this.points=v.CreatePath(this.attribute("points").value);this.path=function(y){var A=new v.BoundingBox(this.points[0].x,this.points[0].y);if(y!=null){y.beginPath();y.moveTo(this.points[0].x,this.points[0].y)}for(var z=1;z<this.points.length;z++){A.addPoint(this.points[z].x,this.points[z].y);if(y!=null){y.lineTo(this.points[z].x,this.points[z].y)}}return A};this.getMarkers=function(){var z=[];for(var y=0;y<this.points.length-1;y++){z.push([this.points[y],this.points[y].angleTo(this.points[y+1])])}if(z.length>0){z.push([this.points[this.points.length-1],z[z.length-1][1]])}return z}};v.Element.polyline.prototype=new v.Element.PathElementBase;v.Element.polygon=function(x){this.base=v.Element.polyline;this.base(x);this.basePath=this.path;this.path=function(y){var z=this.basePath(y);if(y!=null){y.lineTo(this.points[0].x,this.points[0].y);y.closePath()}return z}};v.Element.polygon.prototype=new v.Element.polyline;v.Element.path=function(y){this.base=v.Element.PathElementBase;this.base(y);var z=this.attribute("d").value;z=z.replace(/,/gm," ");for(var x=0;x<2;x++){z=z.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")}z=z.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");z=z.replace(/([0-9])([+\-])/gm,"$1 $2");for(var x=0;x<2;x++){z=z.replace(/(\.[0-9]*)(\.)/gm,"$1 $2")}z=z.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");z=v.compressSpaces(z);z=v.trim(z);this.PathParser=new (function(A){this.tokens=A.split(" ");this.reset=function(){this.i=-1;this.command="";this.previousCommand="";this.start=new v.Point(0,0);this.control=new v.Point(0,0);this.current=new v.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){if(this.isEnd()){return true}return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null};this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return true;break}return false};this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var B=new v.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(B)};this.getAsControlPoint=function(){var B=this.getPoint();this.control=B;return B};this.getAsCurrentPoint=function(){var B=this.getPoint();this.current=B;return B};this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!="c"&&this.previousCommand.toLowerCase()!="s"&&this.previousCommand.toLowerCase()!="q"&&this.previousCommand.toLowerCase()!="t"){return this.current}var B=new v.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return B};this.makeAbsolute=function(B){if(this.isRelativeCommand()){B.x+=this.current.x;B.y+=this.current.y}return B};this.addMarker=function(C,D,B){if(B!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null){this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(B)}this.addMarkerAngle(C,D==null?null:D.angleTo(C))};this.addMarkerAngle=function(C,B){this.points.push(C);this.angles.push(B)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var C=0;C<this.angles.length;C++){if(this.angles[C]==null){for(var B=C+1;B<this.angles.length;B++){if(this.angles[B]!=null){this.angles[C]=this.angles[B];break}}}}return this.angles}})(z);this.path=function(W){var Y=this.PathParser;Y.reset();var J=new v.BoundingBox();if(W!=null){W.beginPath()}while(!Y.isEnd()){Y.nextCommand();switch(Y.command){case"M":case"m":var T=Y.getAsCurrentPoint();Y.addMarker(T);J.addPoint(T.x,T.y);if(W!=null){W.moveTo(T.x,T.y)}Y.start=Y.current;while(!Y.isCommandOrEnd()){var T=Y.getAsCurrentPoint();Y.addMarker(T,Y.start);J.addPoint(T.x,T.y);if(W!=null){W.lineTo(T.x,T.y)}}break;case"L":case"l":while(!Y.isCommandOrEnd()){var ac=Y.current;var T=Y.getAsCurrentPoint();Y.addMarker(T,ac);J.addPoint(T.x,T.y);if(W!=null){W.lineTo(T.x,T.y)}}break;case"H":case"h":while(!Y.isCommandOrEnd()){var C=new v.Point((Y.isRelativeCommand()?Y.current.x:0)+Y.getScalar(),Y.current.y);Y.addMarker(C,Y.current);Y.current=C;J.addPoint(Y.current.x,Y.current.y);if(W!=null){W.lineTo(Y.current.x,Y.current.y)}}break;case"V":case"v":while(!Y.isCommandOrEnd()){var C=new v.Point(Y.current.x,(Y.isRelativeCommand()?Y.current.y:0)+Y.getScalar());Y.addMarker(C,Y.current);Y.current=C;J.addPoint(Y.current.x,Y.current.y);if(W!=null){W.lineTo(Y.current.x,Y.current.y)}}break;case"C":case"c":while(!Y.isCommandOrEnd()){var aa=Y.current;var E=Y.getPoint();var F=Y.getAsControlPoint();var L=Y.getAsCurrentPoint();Y.addMarker(L,F,E);J.addBezierCurve(aa.x,aa.y,E.x,E.y,F.x,F.y,L.x,L.y);if(W!=null){W.bezierCurveTo(E.x,E.y,F.x,F.y,L.x,L.y)}}break;case"S":case"s":while(!Y.isCommandOrEnd()){var aa=Y.current;var E=Y.getReflectedControlPoint();var F=Y.getAsControlPoint();var L=Y.getAsCurrentPoint();Y.addMarker(L,F,E);J.addBezierCurve(aa.x,aa.y,E.x,E.y,F.x,F.y,L.x,L.y);if(W!=null){W.bezierCurveTo(E.x,E.y,F.x,F.y,L.x,L.y)}}break;case"Q":case"q":while(!Y.isCommandOrEnd()){var aa=Y.current;var F=Y.getAsControlPoint();var L=Y.getAsCurrentPoint();Y.addMarker(L,F,F);J.addQuadraticCurve(aa.x,aa.y,F.x,F.y,L.x,L.y);if(W!=null){W.quadraticCurveTo(F.x,F.y,L.x,L.y)}}break;case"T":case"t":while(!Y.isCommandOrEnd()){var aa=Y.current;var F=Y.getReflectedControlPoint();Y.control=F;var L=Y.getAsCurrentPoint();Y.addMarker(L,F,F);J.addQuadraticCurve(aa.x,aa.y,F.x,F.y,L.x,L.y);if(W!=null){W.quadraticCurveTo(F.x,F.y,L.x,L.y)}}break;case"A":case"a":while(!Y.isCommandOrEnd()){var aa=Y.current;var I=Y.getScalar();var H=Y.getScalar();var B=Y.getScalar()*(Math.PI/180);var K=Y.getScalar();var G=Y.getScalar();var L=Y.getAsCurrentPoint();var ag=new v.Point(Math.cos(B)*(aa.x-L.x)/2+Math.sin(B)*(aa.y-L.y)/2,-Math.sin(B)*(aa.x-L.x)/2+Math.cos(B)*(aa.y-L.y)/2);var X=Math.pow(ag.x,2)/Math.pow(I,2)+Math.pow(ag.y,2)/Math.pow(H,2);if(X>1){I*=Math.sqrt(X);H*=Math.sqrt(X)}var P=(K==G?-1:1)*Math.sqrt(((Math.pow(I,2)*Math.pow(H,2))-(Math.pow(I,2)*Math.pow(ag.y,2))-(Math.pow(H,2)*Math.pow(ag.x,2)))/(Math.pow(I,2)*Math.pow(ag.y,2)+Math.pow(H,2)*Math.pow(ag.x,2)));if(isNaN(P)){P=0}var O=new v.Point(P*I*ag.y/H,P*-H*ag.x/I);var D=new v.Point((aa.x+L.x)/2+Math.cos(B)*O.x-Math.sin(B)*O.y,(aa.y+L.y)/2+Math.sin(B)*O.x+Math.cos(B)*O.y);var V=function(ad){return Math.sqrt(Math.pow(ad[0],2)+Math.pow(ad[1],2))};var R=function(ah,ad){return(ah[0]*ad[0]+ah[1]*ad[1])/(V(ah)*V(ad))};var ae=function(ah,ad){return(ah[0]*ad[1]<ah[1]*ad[0]?-1:1)*Math.acos(R(ah,ad))};var af=ae([1,0],[(ag.x-O.x)/I,(ag.y-O.y)/H]);var N=[(ag.x-O.x)/I,(ag.y-O.y)/H];var M=[(-ag.x-O.x)/I,(-ag.y-O.y)/H];var ab=ae(N,M);if(R(N,M)<=-1){ab=Math.PI}if(R(N,M)>=1){ab=0}var U=1-G?1:-1;var Z=af+U*(ab/2);var A=new v.Point(D.x+I*Math.cos(Z),D.y+H*Math.sin(Z));Y.addMarkerAngle(A,Z-U*Math.PI/2);Y.addMarkerAngle(L,Z-U*Math.PI);J.addPoint(L.x,L.y);if(W!=null){var R=I>H?I:H;var S=I>H?1:I/H;var Q=I>H?H/I:1;W.translate(D.x,D.y);W.rotate(B);W.scale(S,Q);W.arc(0,0,R,af,af+ab,1-G);W.scale(1/S,1/Q);W.rotate(-B);W.translate(-D.x,-D.y)}}break;case"Z":case"z":if(W!=null){W.closePath()}Y.current=Y.start}}return J};this.getMarkers=function(){var B=this.PathParser.getMarkerPoints();var D=this.PathParser.getMarkerAngles();var C=[];for(var A=0;A<B.length;A++){C.push([B[A],D[A]])}return C}};v.Element.path.prototype=new v.Element.PathElementBase;v.Element.pattern=function(x){this.base=v.Element.ElementBase;this.base(x);this.createPattern=function(I,B){var z=this.attribute("width").toPixels("x",true);var H=this.attribute("height").toPixels("y",true);var F=new v.Element.svg();F.attributes.viewBox=new v.Property("viewBox",this.attribute("viewBox").value);F.attributes.width=new v.Property("width",z+"px");F.attributes.height=new v.Property("height",H+"px");F.attributes.transform=new v.Property("transform",this.attribute("patternTransform").value);F.children=this.children;var D=document.createElement("canvas");D.width=z;D.height=H;var A=D.getContext("2d");if(this.attribute("x").hasValue()&&this.attribute("y").hasValue()){A.translate(this.attribute("x").toPixels("x",true),this.attribute("y").toPixels("y",true))}for(var G=-1;G<=1;G++){for(var E=-1;E<=1;E++){A.save();F.attributes.x=new v.Property("x",G*D.width);F.attributes.y=new v.Property("y",E*D.height);F.render(A);A.restore()}}var C=I.createPattern(D,"repeat");return C}};v.Element.pattern.prototype=new v.Element.ElementBase;v.Element.marker=function(x){this.base=v.Element.ElementBase;this.base(x);this.baseRender=this.render;this.render=function(z,y,B){z.translate(y.x,y.y);if(this.attribute("orient").valueOrDefault("auto")=="auto"){z.rotate(B)}if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"){z.scale(z.lineWidth,z.lineWidth)}z.save();var A=new v.Element.svg();A.attributes.viewBox=new v.Property("viewBox",this.attribute("viewBox").value);A.attributes.refX=new v.Property("refX",this.attribute("refX").value);A.attributes.refY=new v.Property("refY",this.attribute("refY").value);A.attributes.width=new v.Property("width",this.attribute("markerWidth").value);A.attributes.height=new v.Property("height",this.attribute("markerHeight").value);A.attributes.fill=new v.Property("fill",this.attribute("fill").valueOrDefault("black"));A.attributes.stroke=new v.Property("stroke",this.attribute("stroke").valueOrDefault("none"));A.children=this.children;A.render(z);z.restore();if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"){z.scale(1/z.lineWidth,1/z.lineWidth)}if(this.attribute("orient").valueOrDefault("auto")=="auto"){z.rotate(-B)}z.translate(-y.x,-y.y)}};v.Element.marker.prototype=new v.Element.ElementBase;v.Element.defs=function(x){this.base=v.Element.ElementBase;this.base(x);this.render=function(y){}};v.Element.defs.prototype=new v.Element.ElementBase;v.Element.GradientBase=function(y){this.base=v.Element.ElementBase;this.base(y);this.stops=[];for(var x=0;x<this.children.length;x++){var z=this.children[x];if(z.type=="stop"){this.stops.push(z)}}this.getGradient=function(){};this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")};this.attributesToInherit=["gradientUnits"];this.inheritStopContainer=function(A){for(var C=0;C<this.attributesToInherit.length;C++){var B=this.attributesToInherit[C];if(!this.attribute(B).hasValue()&&A.attribute(B).hasValue()){this.attribute(B,true).value=A.attribute(B).value}}};this.createGradient=function(M,D,A){var L=this;if(this.getHrefAttribute().hasValue()){L=this.getHrefAttribute().getDefinition();this.inheritStopContainer(L)}var C=function(N){if(A.hasValue()){var O=new v.Property("color",N);return O.addOpacity(A).value}return N};var F=this.getGradient(M,D);if(F==null){return C(L.stops[L.stops.length-1].color)}for(var E=0;E<L.stops.length;E++){F.addColorStop(L.stops[E].offset,C(L.stops[E].color))}if(this.attribute("gradientTransform").hasValue()){var H=v.ViewPort.viewPorts[0];var I=new v.Element.rect();I.attributes.x=new v.Property("x",-v.MAX_VIRTUAL_PIXELS/3);I.attributes.y=new v.Property("y",-v.MAX_VIRTUAL_PIXELS/3);I.attributes.width=new v.Property("width",v.MAX_VIRTUAL_PIXELS);I.attributes.height=new v.Property("height",v.MAX_VIRTUAL_PIXELS);var K=new v.Element.g();K.attributes.transform=new v.Property("transform",this.attribute("gradientTransform").value);K.children=[I];var J=new v.Element.svg();J.attributes.x=new v.Property("x",0);J.attributes.y=new v.Property("y",0);J.attributes.width=new v.Property("width",H.width);J.attributes.height=new v.Property("height",H.height);J.children=[K];var G=document.createElement("canvas");G.width=H.width;G.height=H.height;var B=G.getContext("2d");B.fillStyle=F;J.render(B);return B.createPattern(G,"no-repeat")}return F}};v.Element.GradientBase.prototype=new v.Element.ElementBase;v.Element.linearGradient=function(x){this.base=v.Element.GradientBase;this.base(x);this.attributesToInherit.push("x1");this.attributesToInherit.push("y1");this.attributesToInherit.push("x2");this.attributesToInherit.push("y2");this.getGradient=function(y,C){var E=this.gradientUnits()=="objectBoundingBox"?C.getBoundingBox():null;if(!this.attribute("x1").hasValue()&&!this.attribute("y1").hasValue()&&!this.attribute("x2").hasValue()&&!this.attribute("y2").hasValue()){this.attribute("x1",true).value=0;this.attribute("y1",true).value=0;this.attribute("x2",true).value=1;this.attribute("y2",true).value=0}var A=(this.gradientUnits()=="objectBoundingBox"?E.x()+E.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"));var D=(this.gradientUnits()=="objectBoundingBox"?E.y()+E.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"));var z=(this.gradientUnits()=="objectBoundingBox"?E.x()+E.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"));var B=(this.gradientUnits()=="objectBoundingBox"?E.y()+E.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y"));if(A==z&&D==B){return null}return y.createLinearGradient(A,D,z,B)}};v.Element.linearGradient.prototype=new v.Element.GradientBase;v.Element.radialGradient=function(x){this.base=v.Element.GradientBase;this.base(x);this.attributesToInherit.push("cx");this.attributesToInherit.push("cy");this.attributesToInherit.push("r");this.attributesToInherit.push("fx");this.attributesToInherit.push("fy");this.getGradient=function(z,A){var E=A.getBoundingBox();if(!this.attribute("cx").hasValue()){this.attribute("cx",true).value="50%"}if(!this.attribute("cy").hasValue()){this.attribute("cy",true).value="50%"}if(!this.attribute("r").hasValue()){this.attribute("r",true).value="50%"}var y=(this.gradientUnits()=="objectBoundingBox"?E.x()+E.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"));var F=(this.gradientUnits()=="objectBoundingBox"?E.y()+E.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"));var D=y;var B=F;if(this.attribute("fx").hasValue()){D=(this.gradientUnits()=="objectBoundingBox"?E.x()+E.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"))}if(this.attribute("fy").hasValue()){B=(this.gradientUnits()=="objectBoundingBox"?E.y()+E.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"))}var C=(this.gradientUnits()=="objectBoundingBox"?(E.width()+E.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels());return z.createRadialGradient(D,B,0,y,F,C)}};v.Element.radialGradient.prototype=new v.Element.GradientBase;v.Element.stop=function(y){this.base=v.Element.ElementBase;this.base(y);this.offset=this.attribute("offset").numValue();if(this.offset<0){this.offset=0}if(this.offset>1){this.offset=1}var x=this.style("stop-color",true);if(x.value===""){x.value="#000"}if(this.style("stop-opacity").hasValue()){x=x.addOpacity(this.style("stop-opacity"))}this.color=x.value};v.Element.stop.prototype=new v.Element.ElementBase;v.Element.AnimateBase=function(x){this.base=v.Element.ElementBase;this.base(x);v.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var z=this.attribute("attributeType").value;var y=this.attribute("attributeName").value;if(z=="CSS"){return this.parent.style(y,true)}return this.parent.attribute(y,true)};this.initialValue=null;this.initialUnits="";this.removed=false;this.calcValue=function(){return""};this.update=function(B){if(this.initialValue==null){this.initialValue=this.getProperty().value;this.initialUnits=this.getProperty().getUnits()}if(this.duration>this.maxDuration){if(this.attribute("repeatCount").value=="indefinite"||this.attribute("repeatDur").value=="indefinite"){this.duration=0}else{if(this.attribute("fill").valueOrDefault("remove")=="freeze"&&!this.frozen){this.frozen=true;this.parent.animationFrozen=true;this.parent.animationFrozenValue=this.getProperty().value}else{if(this.attribute("fill").valueOrDefault("remove")=="remove"&&!this.removed){this.removed=true;this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue;return true}}}return false}this.duration=this.duration+B;var y=false;if(this.begin<this.duration){var A=this.calcValue();if(this.attribute("type").hasValue()){var z=this.attribute("type").value;A=z+"("+A+")"}this.getProperty().value=A;y=true}return y};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");if(this.values.hasValue()){this.values.value=this.values.value.split(";")}this.progress=function(){var z={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var B=z.progress*(this.values.value.length-1);var A=Math.floor(B),y=Math.ceil(B);z.from=new v.Property("from",parseFloat(this.values.value[A]));z.to=new v.Property("to",parseFloat(this.values.value[y]));z.progress=(B-A)/(y-A)}else{z.from=this.from;z.to=this.to}return z}};v.Element.AnimateBase.prototype=new v.Element.ElementBase;v.Element.animate=function(x){this.base=v.Element.AnimateBase;this.base(x);this.calcValue=function(){var z=this.progress();var y=z.from.numValue()+(z.to.numValue()-z.from.numValue())*z.progress;return y+this.initialUnits}};v.Element.animate.prototype=new v.Element.AnimateBase;v.Element.animateColor=function(x){this.base=v.Element.AnimateBase;this.base(x);this.calcValue=function(){var B=this.progress();var D=new a(B.from.value);var C=new a(B.to.value);if(D.ok&&C.ok){var A=D.r+(C.r-D.r)*B.progress;var z=D.g+(C.g-D.g)*B.progress;var y=D.b+(C.b-D.b)*B.progress;return"rgb("+parseInt(A,10)+","+parseInt(z,10)+","+parseInt(y,10)+")"}return this.attribute("from").value}};v.Element.animateColor.prototype=new v.Element.AnimateBase;v.Element.animateTransform=function(x){this.base=v.Element.AnimateBase;this.base(x);this.calcValue=function(){var A=this.progress();var C=v.ToNumberArray(A.from.value);var B=v.ToNumberArray(A.to.value);var z="";for(var y=0;y<C.length;y++){z+=C[y]+(B[y]-C[y])*A.progress+" "}return z}};v.Element.animateTransform.prototype=new v.Element.animate;v.Element.font=function(y){this.base=v.Element.ElementBase;this.base(y);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isRTL=false;this.isArabic=false;this.fontFace=null;this.missingGlyph=null;this.glyphs=[];for(var x=0;x<this.children.length;x++){var z=this.children[x];if(z.type=="font-face"){this.fontFace=z;if(z.style("font-family").hasValue()){v.Definitions[z.style("font-family").value]=this}}else{if(z.type=="missing-glyph"){this.missingGlyph=z}else{if(z.type=="glyph"){if(z.arabicForm!=""){this.isRTL=true;this.isArabic=true;if(typeof this.glyphs[z.unicode]=="undefined"){this.glyphs[z.unicode]=[]}this.glyphs[z.unicode][z.arabicForm]=z}else{this.glyphs[z.unicode]=z}}}}}};v.Element.font.prototype=new v.Element.ElementBase;v.Element.fontface=function(x){this.base=v.Element.ElementBase;this.base(x);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};v.Element.fontface.prototype=new v.Element.ElementBase;v.Element.missingglyph=function(x){this.base=v.Element.path;this.base(x);this.horizAdvX=0};v.Element.missingglyph.prototype=new v.Element.path;v.Element.glyph=function(x){this.base=v.Element.path;this.base(x);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};v.Element.glyph.prototype=new v.Element.path;v.Element.text=function(x){this.captureTextNodes=true;this.base=v.Element.RenderedElementBase;this.base(x);this.baseSetContext=this.setContext;this.setContext=function(y){this.baseSetContext(y);var z=this.style("dominant-baseline").toTextBaseline();if(z==null){z=this.style("alignment-baseline").toTextBaseline()}if(z!=null){y.textBaseline=z}};this.getBoundingBox=function(){var z=this.attribute("x").toPixels("x");var B=this.attribute("y").toPixels("y");var A=this.parent.style("font-size").numValueOrDefault(v.Font.Parse(v.ctx.font).fontSize);return new v.BoundingBox(z,B-A,z+Math.floor(A*2/3)*this.children[0].getText().length,B)};this.renderChildren=function(y){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");if(this.attribute("dx").hasValue()){this.x+=this.attribute("dx").toPixels("x")}if(this.attribute("dy").hasValue()){this.y+=this.attribute("dy").toPixels("y")}this.x+=this.getAnchorDelta(y,this,0);for(var z=0;z<this.children.length;z++){this.renderChild(y,this,this,z)}};this.getAnchorDelta=function(z,D,C){var y=this.style("text-anchor").valueOrDefault("start");if(y!="start"){var B=0;for(var A=C;A<D.children.length;A++){var E=D.children[A];if(A>C&&E.attribute("x").hasValue()){break}B+=E.measureTextRecursive(z)}return -1*(y=="end"?B:B/2)}return 0};this.renderChild=function(y,z,B,A){var C=B.children[A];if(C.attribute("x").hasValue()){C.x=C.attribute("x").toPixels("x")+z.getAnchorDelta(y,B,A);if(C.attribute("dx").hasValue()){C.x+=C.attribute("dx").toPixels("x")}}else{if(C.attribute("dx").hasValue()){z.x+=C.attribute("dx").toPixels("x")}C.x=z.x}z.x=C.x+C.measureText(y);if(C.attribute("y").hasValue()){C.y=C.attribute("y").toPixels("y");if(C.attribute("dy").hasValue()){C.y+=C.attribute("dy").toPixels("y")}}else{if(C.attribute("dy").hasValue()){z.y+=C.attribute("dy").toPixels("y")}C.y=z.y}z.y=C.y;C.render(y);for(var A=0;A<C.children.length;A++){z.renderChild(y,z,C,A)}}};v.Element.text.prototype=new v.Element.RenderedElementBase;v.Element.TextElementBase=function(x){this.base=v.Element.RenderedElementBase;this.base(x);this.getGlyph=function(y,C,z){var D=C[z];var A=null;if(y.isArabic){var B="isolated";if((z==0||C[z-1]==" ")&&z<C.length-2&&C[z+1]!=" "){B="terminal"}if(z>0&&C[z-1]!=" "&&z<C.length-2&&C[z+1]!=" "){B="medial"}if(z>0&&C[z-1]!=" "&&(z==C.length-1||C[z+1]==" ")){B="initial"}if(typeof y.glyphs[D]!="undefined"){A=y.glyphs[D][B];if(A==null&&y.glyphs[D].type=="glyph"){A=y.glyphs[D]}}}else{A=y.glyphs[D]}if(A==null){A=y.missingGlyph}return A};this.renderChildren=function(F){var D=this.parent.style("font-family").getDefinition();if(D!=null){var G=this.parent.style("font-size").numValueOrDefault(v.Font.Parse(v.ctx.font).fontSize);var A=this.parent.style("font-style").valueOrDefault(v.Font.Parse(v.ctx.font).fontStyle);var E=this.getText();if(D.isRTL){E=E.split("").reverse().join("")}var H=v.ToNumberArray(this.parent.attribute("dx").value);for(var B=0;B<E.length;B++){var C=this.getGlyph(D,E,B);var z=G/D.fontFace.unitsPerEm;F.translate(this.x,this.y);F.scale(z,-z);var y=F.lineWidth;F.lineWidth=F.lineWidth*D.fontFace.unitsPerEm/G;if(A=="italic"){F.transform(1,0,0.4,1,0,0)}C.render(F);if(A=="italic"){F.transform(1,0,-0.4,1,0,0)}F.lineWidth=y;F.scale(1/z,-1/z);F.translate(-this.x,-this.y);this.x+=G*(C.horizAdvX||D.horizAdvX)/D.fontFace.unitsPerEm;if(typeof H[B]!="undefined"&&!isNaN(H[B])){this.x+=H[B]}}return}if(F.fillStyle!=""){F.fillText(v.compressSpaces(this.getText()),this.x,this.y)}if(F.strokeStyle!=""){F.strokeText(v.compressSpaces(this.getText()),this.x,this.y)}};this.getText=function(){};this.measureTextRecursive=function(y){var A=this.measureText(y);for(var z=0;z<this.children.length;z++){A+=this.children[z].measureTextRecursive(y)}return A};this.measureText=function(F){var D=this.parent.style("font-family").getDefinition();if(D!=null){var G=this.parent.style("font-size").numValueOrDefault(v.Font.Parse(v.ctx.font).fontSize);var z=0;var E=this.getText();if(D.isRTL){E=E.split("").reverse().join("")}var H=v.ToNumberArray(this.parent.attribute("dx").value);for(var B=0;B<E.length;B++){var C=this.getGlyph(D,E,B);z+=(C.horizAdvX||D.horizAdvX)*G/D.fontFace.unitsPerEm;if(typeof H[B]!="undefined"&&!isNaN(H[B])){z+=H[B]}}return z}var y=v.compressSpaces(this.getText());if(!F.measureText){return y.length*10}F.save();this.setContext(F);var A=F.measureText(y).width;F.restore();return A}};v.Element.TextElementBase.prototype=new v.Element.RenderedElementBase;v.Element.tspan=function(x){this.captureTextNodes=true;this.base=v.Element.TextElementBase;this.base(x);this.text=v.compressSpaces(x.value||x.text||x.textContent||"");this.getText=function(){if(this.children.length>0){return""}return this.text}};v.Element.tspan.prototype=new v.Element.TextElementBase;v.Element.tref=function(x){this.base=v.Element.TextElementBase;this.base(x);this.getText=function(){var y=this.getHrefAttribute().getDefinition();if(y!=null){return y.children[0].getText()}}};v.Element.tref.prototype=new v.Element.TextElementBase;v.Element.a=function(y){this.base=v.Element.TextElementBase;this.base(y);this.hasText=y.childNodes.length>0;for(var x=0;x<y.childNodes.length;x++){if(y.childNodes[x].nodeType!=3){this.hasText=false}}this.text=this.hasText?y.childNodes[0].value:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(z){if(this.hasText){this.baseRenderChildren(z);var B=new v.Property("fontSize",v.Font.Parse(v.ctx.font).fontSize);v.Mouse.checkBoundingBox(this,new v.BoundingBox(this.x,this.y-B.toPixels("y"),this.x+this.measureText(z),this.y))}else{if(this.children.length>0){var A=new v.Element.g();A.children=this.children;A.parent=this;A.render(z)}}};this.onclick=function(){window.open(this.getHrefAttribute().value)};this.onmousemove=function(){v.ctx.canvas.style.cursor="pointer"}};v.Element.a.prototype=new v.Element.TextElementBase;v.Element.image=function(z){this.base=v.Element.RenderedElementBase;this.base(z);var y=this.getHrefAttribute().value;if(y==""){return}var A=y.match(/\.svg$/);v.Images.push(this);this.loaded=false;if(!A){this.img=document.createElement("img");if(v.opts.useCORS==true){this.img.crossOrigin="Anonymous"}var x=this;this.img.onload=function(){x.loaded=true};this.img.onerror=function(){v.log('ERROR: image "'+y+'" not found');x.loaded=true};this.img.src=y}else{this.img=v.ajax(y);this.loaded=true}this.renderChildren=function(D){var C=this.attribute("x").toPixels("x");var F=this.attribute("y").toPixels("y");var E=this.attribute("width").toPixels("x");var B=this.attribute("height").toPixels("y");if(E==0||B==0){return}D.save();if(A){D.drawSvg(this.img,C,F,E,B)}else{D.translate(C,F);v.AspectRatio(D,this.attribute("preserveAspectRatio").value,E,this.img.width,B,this.img.height,0,0);D.drawImage(this.img,0,0)}D.restore()};this.getBoundingBox=function(){var C=this.attribute("x").toPixels("x");var E=this.attribute("y").toPixels("y");var D=this.attribute("width").toPixels("x");var B=this.attribute("height").toPixels("y");return new v.BoundingBox(C,E,C+D,E+B)}};v.Element.image.prototype=new v.Element.RenderedElementBase;v.Element.g=function(x){this.base=v.Element.RenderedElementBase;this.base(x);this.getBoundingBox=function(){var z=new v.BoundingBox();for(var y=0;y<this.children.length;y++){z.addBoundingBox(this.children[y].getBoundingBox())}return z}};v.Element.g.prototype=new v.Element.RenderedElementBase;v.Element.symbol=function(x){this.base=v.Element.RenderedElementBase;this.base(x);this.render=function(y){}};v.Element.symbol.prototype=new v.Element.RenderedElementBase;v.Element.style=function(M){this.base=v.Element.ElementBase;this.base(M);var I="";for(var P=0;P<M.childNodes.length;P++){I+=M.childNodes[P].data}I=I.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");I=v.compressSpaces(I);var H=I.split("}");for(var P=0;P<H.length;P++){if(v.trim(H[P])!=""){var T=H[P].split("{");var A=T[0].split(",");var x=T[1].split(";");for(var O=0;O<A.length;O++){var F=v.trim(A[O]);if(F!=""){var z=v.Styles[F]||{};for(var N=0;N<x.length;N++){var y=x[N].indexOf(":");var U=x[N].substr(0,y);var L=x[N].substr(y+1,x[N].length-y);if(U!=null&&L!=null){z[v.trim(U)]=new v.Property(v.trim(U),v.trim(L))}}v.Styles[F]=z;v.StylesSpecificity[F]=k(F);if(F=="@font-face"){var R=z["font-family"].value.replace(/"/g,"");var G=z.src.value.split(",");for(var J=0;J<G.length;J++){if(G[J].indexOf('format("svg")')>0){var D=G[J].indexOf("url");var C=G[J].indexOf(")",D);var B=G[J].substr(D+5,C-D-6);var S=v.parseXml(v.ajax(B));var E=S.getElementsByTagName("font");for(var Q=0;Q<E.length;Q++){var K=v.CreateElement(E[Q]);v.Definitions[R]=K}}}}}}}}};v.Element.style.prototype=new v.Element.ElementBase;v.Element.use=function(y){this.base=v.Element.RenderedElementBase;this.base(y);this.baseSetContext=this.setContext;this.setContext=function(z){this.baseSetContext(z);if(this.attribute("x").hasValue()){z.translate(this.attribute("x").toPixels("x"),0)}if(this.attribute("y").hasValue()){z.translate(0,this.attribute("y").toPixels("y"))}};var x=this.getHrefAttribute().getDefinition();this.path=function(z){if(x!=null){x.path(z)}};this.getBoundingBox=function(){if(x!=null){return x.getBoundingBox()}};this.renderChildren=function(z){if(x!=null){var B=x;if(x.type=="symbol"){B=new v.Element.svg();B.type="svg";B.attributes.viewBox=new v.Property("viewBox",x.attribute("viewBox").value);B.attributes.preserveAspectRatio=new v.Property("preserveAspectRatio",x.attribute("preserveAspectRatio").value);B.attributes.overflow=new v.Property("overflow",x.attribute("overflow").value);B.children=x.children}if(B.type=="svg"){if(this.attribute("width").hasValue()){B.attributes.width=new v.Property("width",this.attribute("width").value)}if(this.attribute("height").hasValue()){B.attributes.height=new v.Property("height",this.attribute("height").value)}}var A=B.parent;B.parent=null;B.render(z);B.parent=A}}};v.Element.use.prototype=new v.Element.RenderedElementBase;v.Element.mask=function(x){this.base=v.Element.ElementBase;this.base(x);this.apply=function(J,B){var H=this.attribute("x").toPixels("x");var G=this.attribute("y").toPixels("y");var z=this.attribute("width").toPixels("x");var I=this.attribute("height").toPixels("y");if(z==0&&I==0){var D=new v.BoundingBox();for(var C=0;C<this.children.length;C++){D.addBoundingBox(this.children[C].getBoundingBox())}var H=Math.floor(D.x1);var G=Math.floor(D.y1);var z=Math.floor(D.width());var I=Math.floor(D.height())}var L=B.attribute("mask").value;B.attribute("mask").value="";var F=document.createElement("canvas");F.width=H+z;F.height=G+I;var K=F.getContext("2d");this.renderChildren(K);var E=document.createElement("canvas");E.width=H+z;E.height=G+I;var A=E.getContext("2d");B.render(A);A.globalCompositeOperation="destination-in";A.fillStyle=K.createPattern(F,"no-repeat");A.fillRect(0,0,H+z,G+I);J.fillStyle=A.createPattern(E,"no-repeat");J.fillRect(0,0,H+z,G+I);B.attribute("mask").value=L};this.render=function(y){}};v.Element.mask.prototype=new v.Element.ElementBase;v.Element.clipPath=function(x){this.base=v.Element.ElementBase;this.base(x);this.apply=function(y){var C=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var B=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){};C.call(y);for(var A=0;A<this.children.length;A++){var D=this.children[A];if(typeof D.path!="undefined"){var z=null;if(D.style("transform",false,true).hasValue()){z=new v.Transform(D.style("transform",false,true).value);z.apply(y)}D.path(y);CanvasRenderingContext2D.prototype.closePath=B;if(z){z.unapply(y)}}}B.call(y);y.clip();CanvasRenderingContext2D.prototype.beginPath=C;CanvasRenderingContext2D.prototype.closePath=B};this.render=function(y){}};v.Element.clipPath.prototype=new v.Element.ElementBase;v.Element.filter=function(x){this.base=v.Element.ElementBase;this.base(x);this.apply=function(M,E){var F=E.getBoundingBox();var J=Math.floor(F.x1);var H=Math.floor(F.y1);var A=Math.floor(F.width());var L=Math.floor(F.height());var B=E.style("filter").value;E.style("filter").value="";var K=0,I=0;for(var D=0;D<this.children.length;D++){var z=this.children[D].extraFilterDistance||0;K=Math.max(K,z);I=Math.max(I,z)}var G=document.createElement("canvas");G.width=A+2*K;G.height=L+2*I;var C=G.getContext("2d");C.translate(-J+K,-H+I);E.render(C);for(var D=0;D<this.children.length;D++){if(typeof this.children[D].apply=="function"){this.children[D].apply(C,0,0,A+2*K,L+2*I)}}M.drawImage(G,0,0,A+2*K,L+2*I,J-K,H-I,A+2*K,L+2*I);E.style("filter",true).value=B};this.render=function(y){}};v.Element.filter.prototype=new v.Element.ElementBase;v.Element.feMorphology=function(x){this.base=v.Element.ElementBase;this.base(x);this.apply=function(B,A,D,C,z){}};v.Element.feMorphology.prototype=new v.Element.ElementBase;v.Element.feComposite=function(x){this.base=v.Element.ElementBase;this.base(x);this.apply=function(B,A,D,C,z){}};v.Element.feComposite.prototype=new v.Element.ElementBase;v.Element.feColorMatrix=function(D){this.base=v.Element.ElementBase;this.base(D);var A=v.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var C=A[0];A=[0.213+0.787*C,0.715-0.715*C,0.072-0.072*C,0,0,0.213-0.213*C,0.715+0.285*C,0.072-0.072*C,0,0,0.213-0.213*C,0.715-0.715*C,0.072+0.928*C,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var z=A[0]*Math.PI/180;var E=function(H,G,F){return H+Math.cos(z)*G+Math.sin(z)*F};A=[E(0.213,0.787,-0.213),E(0.715,-0.715,-0.715),E(0.072,-0.072,0.928),0,0,E(0.213,-0.213,0.143),E(0.715,0.285,0.14),E(0.072,-0.072,-0.283),0,0,E(0.213,-0.213,-0.787),E(0.715,-0.715,0.715),E(0.072,0.928,0.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0,1];break}function B(H,G,K,J,F,I){return H[K*J*4+G*4+I]}function y(H,G,L,J,F,I,K){H[L*J*4+G*4+I]=K}function x(H,G){var F=A[H];return F*(F<0?G-255:G)}this.apply=function(O,M,K,G,N){var I=O.getImageData(0,0,G,N);for(var K=0;K<N;K++){for(var M=0;M<G;M++){var F=B(I.data,M,K,G,N,0);var H=B(I.data,M,K,G,N,1);var J=B(I.data,M,K,G,N,2);var L=B(I.data,M,K,G,N,3);y(I.data,M,K,G,N,0,x(0,F)+x(1,H)+x(2,J)+x(3,L)+x(4,1));y(I.data,M,K,G,N,1,x(5,F)+x(6,H)+x(7,J)+x(8,L)+x(9,1));y(I.data,M,K,G,N,2,x(10,F)+x(11,H)+x(12,J)+x(13,L)+x(14,1));y(I.data,M,K,G,N,3,x(15,F)+x(16,H)+x(17,J)+x(18,L)+x(19,1))}}O.clearRect(0,0,G,N);O.putImageData(I,0,0)}};v.Element.feColorMatrix.prototype=new v.Element.ElementBase;v.Element.feGaussianBlur=function(x){this.base=v.Element.ElementBase;this.base(x);this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());this.extraFilterDistance=this.blurRadius;this.apply=function(B,A,D,C,z){if(typeof stackBlur.canvasRGBA=="undefined"){v.log("ERROR: StackBlur.js must be included for blur to work");return}B.canvas.id=v.UniqueId();B.canvas.style.display="none";document.body.appendChild(B.canvas);stackBlur.canvasRGBA(B.canvas.id,A,D,C,z,this.blurRadius);document.body.removeChild(B.canvas)}};v.Element.feGaussianBlur.prototype=new v.Element.ElementBase;v.Element.title=function(x){};v.Element.title.prototype=new v.Element.ElementBase;v.Element.desc=function(x){};v.Element.desc.prototype=new v.Element.ElementBase;v.Element.MISSING=function(x){v.log("ERROR: Element '"+x.nodeName+"' not yet implemented.")};v.Element.MISSING.prototype=new v.Element.ElementBase;v.CreateElement=function(y){var x=y.nodeName.replace(/^[^:]+:/,"");x=x.replace(/\-/g,"");var z=null;if(typeof v.Element[x]!="undefined"){z=new v.Element[x](y)}else{z=new v.Element.MISSING(y)}z.type=y.nodeName;return z};v.load=function(x,y){v.loadXml(x,v.ajax(y))};v.loadXml=function(x,y){v.loadXmlDoc(x,v.parseXml(y))};v.loadXmlDoc=function(A,D){v.init(A);var z=function(F){var E=A.canvas;while(E){F.x-=E.offsetLeft;F.y-=E.offsetTop;E=E.offsetParent}if(window.scrollX){F.x+=window.scrollX}if(window.scrollY){F.y+=window.scrollY}return F};if(v.opts.ignoreMouse!=true){A.canvas.onclick=function(F){var E=z(new v.Point(F!=null?F.clientX:event.clientX,F!=null?F.clientY:event.clientY));v.Mouse.onclick(E.x,E.y)};A.canvas.onmousemove=function(F){var E=z(new v.Point(F!=null?F.clientX:event.clientX,F!=null?F.clientY:event.clientY));v.Mouse.onmousemove(E.x,E.y)}}var C=v.CreateElement(D.documentElement);C.root=true;C.addStylesFromStyleDefinition();var B=true;var y=function(){v.ViewPort.Clear();if(A.canvas.parentNode){v.ViewPort.SetCurrent(A.canvas.parentNode.clientWidth,A.canvas.parentNode.clientHeight)}if(v.opts.ignoreDimensions!=true){if(C.style("width").hasValue()){A.canvas.width=C.style("width").toPixels("x");A.canvas.style.width=A.canvas.width+"px"}if(C.style("height").hasValue()){A.canvas.height=C.style("height").toPixels("y");A.canvas.style.height=A.canvas.height+"px"}}var G=A.canvas.clientWidth||A.canvas.width;var F=A.canvas.clientHeight||A.canvas.height;if(v.opts.ignoreDimensions==true&&C.style("width").hasValue()&&C.style("height").hasValue()){G=C.style("width").toPixels("x");F=C.style("height").toPixels("y")}v.ViewPort.SetCurrent(G,F);if(v.opts.offsetX!=null){C.attribute("x",true).value=v.opts.offsetX}if(v.opts.offsetY!=null){C.attribute("y",true).value=v.opts.offsetY}if(v.opts.scaleWidth!=null||v.opts.scaleHeight!=null){var H=null,E=null,I=v.ToNumberArray(C.attribute("viewBox").value);if(v.opts.scaleWidth!=null){if(C.attribute("width").hasValue()){H=C.attribute("width").toPixels("x")/v.opts.scaleWidth}else{if(!isNaN(I[2])){H=I[2]/v.opts.scaleWidth}}}if(v.opts.scaleHeight!=null){if(C.attribute("height").hasValue()){E=C.attribute("height").toPixels("y")/v.opts.scaleHeight}else{if(!isNaN(I[3])){E=I[3]/v.opts.scaleHeight}}}if(H==null){H=E}if(E==null){E=H}C.attribute("width",true).value=v.opts.scaleWidth;C.attribute("height",true).value=v.opts.scaleHeight;C.style("transform",true,true).value+=" scale("+(1/H)+","+(1/E)+")"}if(v.opts.ignoreClear!=true){A.clearRect(0,0,G,F)}C.render(A);if(B){B=false;if(typeof v.opts.renderCallback=="function"){v.opts.renderCallback(D)}}};var x=true;if(v.ImagesLoaded()){x=false;y()}v.intervalID=setInterval(function(){var F=false;if(x&&v.ImagesLoaded()){x=false;F=true}if(v.opts.ignoreMouse!=true){F=F|v.Mouse.hasEvents()}if(v.opts.ignoreAnimation!=true){for(var E=0;E<v.Animations.length;E++){F=F|v.Animations[E].update(1000/v.FRAMERATE)}}if(typeof v.opts.forceRedraw=="function"){if(v.opts.forceRedraw()==true){F=true}}if(F){y();v.Mouse.runEvents()}},1000/v.FRAMERATE)};v.stop=function(){if(v.intervalID){clearInterval(v.intervalID)}};v.Mouse=new (function(){this.events=[];this.hasEvents=function(){return this.events.length!=0};this.onclick=function(z,A){this.events.push({type:"onclick",x:z,y:A,run:function(x){if(x.onclick){x.onclick()}}})};this.onmousemove=function(z,A){this.events.push({type:"onmousemove",x:z,y:A,run:function(x){if(x.onmousemove){x.onmousemove()}}})};this.eventElements=[];this.checkPath=function(z,x){for(var y=0;y<this.events.length;y++){var A=this.events[y];if(x.isPointInPath&&x.isPointInPath(A.x,A.y)){this.eventElements[y]=z}}};this.checkBoundingBox=function(y,A){for(var x=0;x<this.events.length;x++){var z=this.events[x];if(A.isPointInBox(z.x,z.y)){this.eventElements[x]=y}}};this.runEvents=function(){v.ctx.canvas.style.cursor="";for(var y=0;y<this.events.length;y++){var z=this.events[y];var x=this.eventElements[y];while(x){z.run(x);x=x.parent}}this.events=[];this.eventElements=[]}});return v}if(typeof CanvasRenderingContext2D!="undefined"){CanvasRenderingContext2D.prototype.drawSvg=function(y,v,u,x,A,z){var w={ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:v,offsetY:u,scaleWidth:x,scaleHeight:A};for(var B in z){if(z.hasOwnProperty(B)){w[B]=z[B]}}m(this.canvas,y,w)}}return m},svgToCanvas:function(g,j,h){var k=this.svgToCanvasInternal(g,j,h);k(j,g,h)}});return d});
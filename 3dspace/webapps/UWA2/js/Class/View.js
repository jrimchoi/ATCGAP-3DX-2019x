define("UWA/Class/View",["UWA/Core","UWA/Element","UWA/Class","UWA/Class/Listener","UWA/Controls/Abstract"],function(g,c,b,h,f){var a,d,e;e=["model","collection","container","id","attributes","className","tagName","domEvents"];d=0;function i(j,l){var k;if(j){k=j[l];if(g.is(k,"function")){k=k.call(j)}}return k}a=f.extend(h,{tagName:"div",init:function(l){var k,m,j;this.cid="c"+(++d);l=g.clone(l||{},false);for(m=e.length-1;m>=0;m--){j=e[m];if(l.hasOwnProperty(j)){this[j]=l[j];delete l[j]}}this._parent(l);if(!this.container){k=g.extend({},i(this,"attributes"));if(this.id){k.id=i(this,"id")}if(this.className){k["class"]=i(this,"className")}this.container=g.createElement(i(this,"tagName"),k)}else{this._ensureContainer(i(this,"container"))}this.setup.apply(this,arguments);this.delegateDOMEvents()},setup:function(){return},destroy:function(){this.undelegateDOMEvents();this._parent()},render:function(){return this},setContainer:function(j){this.undelegateDOMEvents();this._ensureContainer(j);this.delegateDOMEvents();return this},_ensureContainer:function(j){var k;if(j instanceof c){this.container=j;return}k=g.typeOf(j);if(k==="element"){this.container=g.extendElement(j)}else{if(k==="object"){this.container=g.createElement(j.tag,j)}else{throw new Error("Invalid type of container")}}},getElement:function(j){return this.container.getElement(j)},getElements:function(j){return this.container.getElements(j)},delegateDOMEvents:function(j){var k,l;if(!g.is(j)){j=i(this,"domEvents")}if(!j){return this}this.undelegateDOMEvents();for(k in j){l=j[k];if(typeof l!=="function"){if(typeof l!=="string"){throw new Error("Invalid type of value in hash of domEvents!")}l=this[l]}if(!l){throw new Error("Method '"+j[k]+"' does not exist")}l=l.bind(this);this.container.addEvent(k,l)}return this},undelegateDOMEvents:function(){if(this.container){this.container.removeEvent()}else{throw new Error("unexpected error")}return this}});return g.namespace("View",a,b)});
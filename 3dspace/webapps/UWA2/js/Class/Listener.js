define("UWA/Class/Listener",["UWA/Core","UWA/Class"],function(e,a){var d,c;d=0;function b(f){return function(l,i,n,k){var m,j,h,g=l[f];m=e.typeOf(i);if("object"===m){j=i}if(g&&(j||("string"===m&&e.is(n,"function")))){if(!e.is(this._listeningTo)){this._listeningTo={}}if(!e.is(l._observableId)){l._observableId="o"+(++d)}this._listeningTo[l._observableId]=l;if(!j){j={};j[i]=n}for(h in j){if(j.hasOwnProperty(h)){g.call(l,h,j[h],this,k)}}}else{throw new Error("invalid input args")}return this}}c=a.extend({listenTo:b("addEvent"),listenToOnce:b("addEventOnce"),stopListening:function(k,h,m){var f,g,l,j,i=this._listeningTo;g="removeEvent";if(i){l=e.typeOf(h);if(!m){if(false===l){f=true}else{if("object"===l){g="removeEvents";m=this}}}if(k){i={};i[k._observableId]=k}for(j in i){k=i[j];k[g](h,m,this);if(f||!k.hasEvent()){delete this._listeningTo[j]}}}return this}});return e.namespace("Listener",c,a)});
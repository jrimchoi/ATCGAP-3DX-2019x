define("UWA/Storage/Adapter/Flash",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(c,b){var a=b.extend({type:"Flash",limit:5*1024*1024,connect:function(d){this.database=d;this.db=!window.globalStorage?window.localStorage:window.globalStorage[location.hostname];this.storage.isReady=true},isAvailable:function(){return !!(this.hasFlash("8.0.0"))},get:function(e){this.interruptAccess();var d=this.db.f_get_cookie(e);return d==="null"?null:d},set:function(d,e){this.interruptAccess();this.db.f_set_cookie(d,e);return e},rem:function(d){this.interruptAccess();var e=this.get(d);this.db.f_delete_cookie(d);return e},hasFlash:function(d){var e,f=this.flashVersion().match(/\d+/g),g=d.match(/\d+/g);for(e=0;e<3;e++){f[e]=parseInt(f[e]||0,10);g[e]=parseInt(g[e]||0,10);if(f[e]<g[e]){return false}if(f[e]>g[e]){return true}}return true},flashVersion:function(){try{try{var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{f.AllowScriptAccess="always"}catch(g){return"6,0,0"}}catch(d){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(i){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(h){}}return"0,0,0"}});return c.namespace("Storage/Adapter/Flash",a,c)});
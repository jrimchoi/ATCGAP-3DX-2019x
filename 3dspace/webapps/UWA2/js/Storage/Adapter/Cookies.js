define("UWA/Storage/Adapter/Cookies",["UWA/Core","UWA/String","UWA/Utils","UWA/Utils/Cookie","UWA/Storage/Adapter/Abstract"],function(f,d,c,a,e){var b=e.extend({type:"Cookies",limit:1024*4,defaultOptions:{path:"/",duration:100,expires:86400*100,secure:false,domain:""},init:function(i,g){var h=c.parseUrl(window.location);this.defaultOptions={domain:["80","443"].indexOf(h.port)!==-1&&h.domain,secure:h.protocol==="https"};this._parent(i,g);if(this.options.duration){this.options.expires=this.options.duration*86400;delete this.options.duration}},connect:function(g){this.database=g;this.storage.isReady=true},isAvailable:function(){return a.enabled},getKey:function(g){return"uwa-"+this.database+"-"+g},get:function(g){this.interruptAccess();return a.get(g)},set:function(h,i){var g=this.options;this.interruptAccess();return a.set(h,i,g)},rem:function(i){this.interruptAccess();var h=this.options;var g=this.get(i);a.expire(this.getKey(i),h);return g}});return f.namespace("Storage/Adapter/Cookies",b,f)});
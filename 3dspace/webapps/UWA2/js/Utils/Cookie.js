define("UWA/Utils/Cookie",["UWA/Core"],function(f){var c={};var h=window.document;var o="nv.";var j=new Date("Fri, 31 Dec 9999 23:59:59 UTC");var a=null;var b=null;c.defaults={path:"/",secure:false};function i(p){return{path:p&&p.path||c.defaults.path,domain:p&&p.domain||c.defaults.domain,expires:p&&p.expires||c.defaults.expires,secure:p&&p.secure!==undefined?p.secure:c.defaults.secure}}function e(p){return Object.prototype.toString.call(p)==="[object Date]"&&!isNaN(p.getTime())}function m(p,q){q=q||new Date();if(typeof p==="number"){p=p===Infinity?j:new Date(q.getTime()+p*1000)}else{if(typeof p==="string"){p=new Date(p)}}if(p&&!e(p)){throw new Error("`expires` parameter cannot be converted to a valid Date instance")}return p}function k(q,s,p){q=q.replace(/[^#$&+\^`|]/g,encodeURIComponent);q=q.replace(/\(/g,"%28").replace(/\)/g,"%29");s=String(s).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);p=p||{};var r=q+"="+s;r+=p.path?";path="+p.path:"";r+=p.domain?";domain="+p.domain:"";r+=p.expires?";expires="+p.expires.toUTCString():"";r+=p.secure?";secure":"";return r}function l(r){var t=r.indexOf("=");t=t<0?r.length:t;var q=r.substr(0,t);var p;try{p=decodeURIComponent(q)}catch(s){throw new Error('Could not decode cookie with key "'+q+'" ['+s+"]")}return{key:p,value:r.substr(t+1)}}function g(p){var r={};var t=p?p.split("; "):[];for(var q=0;q<t.length;q++){var s=l(t[q]);if(r[o+s.key]===undefined){r[o+s.key]=s.value}}return r}function n(){a=g(h.cookie);b=h.cookie}c.get=function(p){if(b!==h.cookie){n()}var q=a[o+p];return q===undefined?undefined:decodeURIComponent(q)};c.set=function(q,r,p){p=i(p);p.expires=m(r===undefined?-1:p.expires);h.cookie=k(q,r,p);return c};c.expire=function(q,p){return c.set(q,undefined,p)};function d(){var q="cookie.js";var p=c.set(q,1).get(q)==="1";c.expire(q);return p}c.enabled=d();return f.namespace("Utils/Cookie",c,f)});
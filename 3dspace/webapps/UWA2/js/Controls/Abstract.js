define("UWA/Controls/Abstract",["vendors/webcomponents/MutationObserver","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Utils"],function(e,f,a,k,l,j){var i=[].forEach;var d=new WeakMap();var h=new WeakMap();function c(q,t){var s,n;for(s=0,n=q.length;s<n;s++){var u=q[s];if(u.nodeType===1){t(u);var p,o;var r=u.getElementsByTagName("*");for(p=0,o=r.length;p<o;p++){t(r[p])}}}}function m(q){var n,p;try{n=q&&(q.ownerDocument||q.document||q);p=n&&n.documentElement}catch(r){}if(!p||h.has(p)){return}var o=new e(function(s){function t(v,x,u){var w=d.get(v);if(!w){if(v.tagName==="IFRAME"){m(v.contentWindow)}return}w.dispatchEvent(x?"onInjected":"onRemoved",u)}i.call(s,function(u){var v={nextSibling:u.nextSibling||null,previousSibling:u.previousSibling||null,parentNode:u.target};c(u.addedNodes,function(w){t(w,true,v)});c(u.removedNodes,function(w){t(w,false,v)})})});h.set(p,o);o.observe(p,{childList:true,subtree:true})}m(f.getGlobal());var g=a.extend(k,l,{elements:null,init:function(n){this.elements={};this.setOptions(n)},inject:function(o,n){var q=this.getContent();if(q){var p=d.get(q);if(p&&p!==this){throw new Error("This control container element is already owned by another control!")}d.set(q,this);m(o);this.dispatchEvent("onPreInject",[o]);q.inject(o,n);this.dispatchEvent("onPostInject",[o]);this.dispatchEvent("onResize",[o])}return this},remove:function(){var n=this.getContent();if(n){n.remove()}return this},getContent:function(){if(!this.elements.container&&!this.container){throw new Error("You don't have an elements.container or container.")}return this.elements.container||this.container},getClassNames:function(){var q=this.constructor,o=j.toArray(arguments),p=this.options.className||"",n=j.splat(p).join(" ");if(!o.length){o=[""]}if(o.indexOf("")>=0&&this.options._root!==false){o.push("-root")}while(q){if(q.prototype.name){n+=" "+q.prototype.name+o.join(" "+q.prototype.name)}q=q.parent}return n},hide:function(){this.getContent().hide();return this.dispatchEvent("onHide")},show:function(){this.getContent().show();return this.dispatchEvent("onShow")},destroy:function(){var n,o=this.elements||{};if(this.container){o.container=this.container}if(this.elements.container){d["delete"](this.elements.container)}for(n in o){if(o.hasOwnProperty(n)){o[n].destroy();delete o[n]}}this.removeEvents();if(this.clearAllTimed){this.clearAllTimed()}}});var b=new WeakMap();g._getClosestControlFromElement=function(n){while(n){var o=b.get(n);if(o){return o}n=n.parentNode}return null};g._getClosestControlsFromElement=function(o){var n=[];while(o){var p=b.get(o);if(p&&n.indexOf(p)<0){n.push(p)}o=o.parentNode}return n};g._linkElementToControl=function(p,n){var o=b.get(n);if(o){if(o!==p){throw new Error("This element is already linked to another control")}return}b.set(n,p)};return f.namespace("Controls/Abstract",g,f)});
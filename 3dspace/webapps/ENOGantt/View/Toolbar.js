define("DS/ENOGantt/View/Toolbar",["UWA/Class","DS/Foundation/FoundationData","DS/ENOGantt/Ven/Ext","DS/ENOGantt/GanttUtil","DS/ENOGantt/GanttConstants","DS/ENOGantt/Controller/MainController"],function(b,g,a,c,e,d,f){return b.extend({init:function(h){a.define("DS.ENOGantt.View.Toolbar",{extend:"Ext.Toolbar",xtype:"dpmgantttbar",id:"dpmgantttbar",cls:"my-toolbar",enableOverflow:true,layout:{align:"stretchmax",overflowHandler:"menu"},initComponent:function(){a.apply(this,{defaults:{scale:"medium"},});this.callParent(arguments)},items:this.getToolBarActionList(),})},getToolBarActionList:function(){var l=this;var w=a.create("Ext.data.Store",{fields:["id","name"],data:App.Nls.durationStore,});var s="";var A=[];var k=enoviaServer.computeUrl("/common/images/");var r={id:"tBarActionZoomToFit",tooltip:App.Nls["emxProgramCentral.Gantt.ZoomFit"],overflowText:App.Nls["emxProgramCentral.Gantt.ZoomFit"],icon:k+"iconActionFitToPage.png",iconCls:"tBarIcon",reference:"zoomToFit",};var j={id:"tBarActionZoomIn",tooltip:App.Nls["emxProgramCentral.Gantt.ZoomIn"],icon:k+"iconActionZoomIn.png",iconCls:"tBarIcon",reference:"zoomIn",overflowText:App.Nls["emxProgramCentral.Gantt.ZoomIn"],};var u={id:"tBarActionZoomOut",tooltip:App.Nls["emxProgramCentral.Gantt.ZoomOut"],icon:k+"iconActionZoomOut.png",iconCls:"tBarIcon",reference:"zoomOut",overflowText:App.Nls["emxProgramCentral.Gantt.ZoomOut"],};var h={xtype:"buttongroup",items:[j,u,r],};var z={id:"tBarActionExpandAll",tooltip:App.Nls["emxProgramCentral.Gantt.ExpandAll"],icon:k+"iconActionExpandAll.png",iconCls:"tBarIcon",reference:"expandAll",overflowText:App.Nls["emxProgramCentral.Gantt.ExpandAll"],};var C=a.create("Ext.button.Split",{triggerAction:"all",id:"tBarActionExpandNLevels",tooltip:App.Nls["emxProgramCentral.Gantt.ExpandNLevel"],icon:k+"iconActionSetNodeExpansionLevel.png",iconCls:"tBarIcon",showSeparator:false,cls:"x-btn-default-toolbar-medium",arrowCls:"",menu:{items:c.getSelectiveItemArray(5,"expandLevel_",this.expandNLevelHandler,this.expandAllLevelHandler)},handler:function(){this.showMenu()},reference:"expandnLevel",overflowText:App.Nls["emxProgramCentral.Gantt.ExpandNLevel"],});var B={id:"tBarActionCriticalPath",tooltip:App.Nls["emxProgramCentral.Gantt.HighlightCriticalPath"],icon:k+"iconActionHighlightCriticalPath.png",iconCls:"tBarIcon",enableToggle:true,reference:"highlightCrit",overflowText:App.Nls["emxProgramCentral.Gantt.HighlightCriticalPath"],};a.define("DS.ENOGantt.View.Toolbar.StatusDatePicker",{extend:"Ext.picker.Date",disableProgressLine:function(){var D=a.ComponentQuery.query("panel#dpmprojectgantt")[0];progressLine=D.plugins[4];progressLine.disable()},initComponent:function(){me=this;a.apply(this,{listeners:{afterrender:function(){var E=a.ComponentQuery.query("panel#dpmprojectgantt")[0];if(a.isEmpty(me.clearBtn)){me.clearBtn=new a.Button({text:App.Nls["emxProgramCentral.Common.Clear"],id:"btnClearAction",handler:me.disableProgressLine,ownerCt:me,});me.clearBtn.render(me.todayBtn.container);var D=E.taskStore.getProjectStartDate();me.setMinDate(D)}},}});this.callParent(arguments)},handler:function(F){var H=a.ComponentQuery.query("panel#dpmprojectgantt")[0];var E=F.getValue();var G=H.getTimeAxis();var D=G.getEnd();if(E>=D){E=D-1}progressLine=H.plugins[4];progressLine.setStatusDate(E);progressLine.enable()},});var o=a.create("DS.ENOGantt.View.Toolbar.StatusDatePicker",{id:"tBarProgressLineStatusDatePicker",reference:"statusDatePicker",});var v={id:"tBarActionProgressLine",tooltip:App.Nls["emxProgramCentral.Gantt.ProgressLine.Action.ProgressLine"],icon:k+"iconActionProgressLine.png",iconCls:"tBarIcon",hidden:App.Infra.Views.VIEW_WBS!==App.Infra.ViewId,overflowText:App.Nls["emxProgramCentral.Gantt.ProgressLine.Action.ProgressLine"],arrowCls:"",menu:{items:[o]},};var p={tooltip:App.Nls["emxProgramCentral.Gantt.Print"],icon:k+"iconActionPrint.png",iconCls:"tBarIcon",reference:"print",overflowText:App.Nls["emxProgramCentral.Gantt.Print"],};var n={enableToggle:true,id:"View",icon:k+"I_ShowPlanActual32.png",iconCls:"tBarIcon",hidden:App.Infra.HideView,reference:"viewDropDown",overflowText:App.Nls.viewStore[2].name,tooltip:App.Nls.viewStore[2].name,};var x={enableToggle:true,id:"tBarActionRollUpTask",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.showRollUpTasks"],overflowText:App.Nls["emxProgramCentral.Gantt.Toolbar.showRollUpTasks"],icon:k+"I_ShowRollupTask32.png",iconCls:"tBarIcon",hidden:App.Infra.HideView,reference:"showRollUpTask"};var q={id:"tBarActionRefine",tooltip:App.Nls["emxProgramCentral.gantt.Refinements"],icon:k+"iconActionFilter.png",iconCls:"tBarIcon",reference:"refinement",overflowText:App.Nls["emxProgramCentral.gantt.Refinements"],};var t={id:"tBarActionSaveAll",tooltip:App.Nls["emxProgramCentral.Gantt.SaveAll"],icon:k+"iconActionSave.png",iconCls:"tBarIcon",disabled:true,reference:"SaveAll",overflowText:App.Nls["emxProgramCentral.Gantt.SaveAll"],};var m={id:"tBarActionResetAll",tooltip:App.Nls["emxProgramCentral.Gantt.ResetAll"],icon:k+"iconActionReset.png",iconCls:"tBarIcon",disabled:true,reference:"resetAll",overflowText:App.Nls["emxProgramCentral.Gantt.ResetAll"],};var y={xtype:"textfield",id:"findTextField",width:175,height:30,enableKeyEvents:true,focusEl:this.findField,margin:0,border:0,emptyText:App.Nls["emxProgramCentral.Common.Find"],fieldStyle:"border-left:0;border-right:0;border-bottom:0;background:#fff url("+enoviaServer.computeUrl("/webapps/Bryntum/resources/images/search.png")+") no-repeat 5px center;padding:0px;padding-left:25px;height:100%;",reference:"find",triggers:{clear:{cls:"x-fa fa-times findTextField-trigger-clear",hidden:true,tooltip:App.Nls["emxProgramCentral.Common.Clear"],scope:"controller",handler:"clear"},prev:{cls:"x-fa fa-chevron-up findTextField-trigger-prev",scope:"this",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.FindPrevious"],scope:"controller",handler:"previous"},next:{cls:"x-fa fa-chevron-down findTextField-trigger-next",scope:"controller",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.FindNext"],handler:"next"},},};var i={id:"tBarActionCollapseChart",icon:k+"iconActionComplianceExport.png",iconCls:"tBarIcon",tooltip:App.Nls["emxProgramCentral.Gantt.Toolbar.CollapseChart"],reference:"collapseGanttChart",overflowText:App.Nls["emxProgramCentral.Gantt.Toolbar.CollapseChart"],enableToggle:true,};A.push(r);A.push(j);A.push(u);A.push(z);A.push(C);A.push(B);A.push(v);A.push(n);A.push(x);A.push(q);A.push(i);A.push(t);A.push(m);A.push(p);A.push("->");A.push(y);return A}})});
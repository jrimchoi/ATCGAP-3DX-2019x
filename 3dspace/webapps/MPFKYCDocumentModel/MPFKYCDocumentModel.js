define("DS/MPFKYCDocumentModel/KycDocumentModel",["UWA/Core","UWA/Promise","DS/MPFModel/MPFModel"],function(c,b,f){var a;var d={};var e={};d.id="kyc_id";d.idStripe="kyc_id_stripe";d.address="kyc_address";d.idPro="kyc_id_pro";d.statutes="kyc_statutes";d.bank="kyc_bank";d.kbis="kyc_kbis";d.tax="kyc_tax";d.kyc_ubo1_id="kyc_ubo1_id";d.kyc_ubo2_id="kyc_ubo2_id";d.kyc_ubo3_id="kyc_ubo3_id";d.kyc_ubo4_id="kyc_ubo4_id";d.kyc_ubo1_address="kyc_ubo1_address";d.kyc_ubo2_address="kyc_ubo2_address";d.kyc_ubo3_address="kyc_ubo3_address";d.kyc_ubo4_address="kyc_ubo4_address";e.KYC_STATUS="kycStatus";e.FILENAME="fileName";e.KYC_MESSAGE="kycMessage";e.KYC_TYPE="kycType";e.KYC_UPLOADED="kycUploaded";a=f.extend({idAttribute:"kycType",defaults:{kycStatus:null,fileName:null,kycMessage:null,kycType:null,kycUploaded:null},setup:function(g,h){this._parent(g,h);this._type="KycDocumentModel"},parse:function(h){var g;g={kycStatus:h.kyc_status,fileName:h.filename,kycMessage:h.kyc_message,kycType:h.kyc_type,kycUploaded:h.kyc_uploaded};return g},toJSON:function(h){var g;g={kyc_status:this.get("kycStatus"),filename:this.get("fileName"),kyc_message:this.get("kycMessage"),kyc_type:this.get("kycType"),kyc_uploaded:this.get("kycUploaded")};return g},isNew:function(){var g;var h;h=this.get(e.KYC_UPLOADED);g=(typeof h==="string")&&(h.length>0);return !(g)},saveFile:function(i,h){var g=b.deferred();var j;j=new FormData();j.append("file",i);if(!(h)){h={}}h.method="POST";h.data=j;h.onComplete=g.resolve;h.onFailure=function(m,k,l){g.reject({model:m,response:k,options:l})};this.save(null,h);return g.promise},getStatus:function(){return this.get(e.KYC_STATUS)}});a.DocumentTypes=Object.freeze(d);a.Fields=Object.freeze(e);return a});define("DS/MPFKYCDocumentModel/ShopKycDocumentDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy"],function(b,c){var a=c.extend({init:function(d){this._parent(d,"/mdshop/shops/{0}/kyc")},urlGet:function(e){var d=[];var f;d.push(b.String.format(this.resourcePath,e.parentResourceId));if((typeof e.isNew==="function")&&!(e.isNew())){d.push("/");d.push(e.get("kycType"))}f=d.join("");return this.connector.url(f)},urlPost:function(e){var d=[];var f;d.push(b.String.format(this.resourcePath,e.parentResourceId));d.push("/");d.push(e.get("kycType"));f=d.join("");return this.connector.url(f)},urlPut:null,urlPatch:null,urlDelete:null,doPut:null,doPatch:null,doDelete:null});return a});define("DS/MPFKYCDocumentModel/KycDocumentStatus",[],function(){function a(b){this.status=b}a.prototype.toString=function(){return this.status};a.NONE=new a("none");a.CREATED=new a("created");a.UPLOADED=new a("uploaded");a.VALIDATED=new a("validated");a.NOK=new a("nok");a.fromString=function(c){var b;b=a.NONE;if(a.CREATED.toString()===c){b=a.CREATED}else{if(a.UPLOADED.toString()===c){b=a.UPLOADED}else{if(a.VALIDATED.toString()===c){b=a.VALIDATED}else{if(a.NOK.toString()===c){b=a.NOK}}}}return b};return Object.freeze(a)});define("DS/MPFKYCDocumentModel/KycDocumentService",["DS/MPFError/BadArgumentError","DS/MPFKYCDocumentModel/KycDocumentModel","DS/MPFKYCDocumentModel/KycDocumentStatus"],function(a,b,d){var c={};c.isKycDocument=function(e){return b.prototype.isPrototypeOf(e)};c.isEditable=function(g){var e;var f;if(!(c.isKycDocument(g))){throw new a("kycDocument param must be a KycDocumentModel")}e=d.fromString(g.getStatus());f=e===d.NONE||e===d.NOK;return f};return Object.freeze(c)});define("DS/MPFKYCDocumentModel/KycDocumentCollection",["UWA/Core","DS/MPFModel/MPFCollection","DS/MPFKYCDocumentModel/KycDocumentModel"],function(c,d,b){var a=d.extend({model:b,uploadDocument:function(g,e){var f;f=new b({kycType:g},{dataProxy:this.dataProxy});f.parentResourceId=this.parentResourceId;this.push(f);return f.saveFile(e)}});return a});
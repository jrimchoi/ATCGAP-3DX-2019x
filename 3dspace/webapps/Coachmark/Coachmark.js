define("DS/Coachmark/CoachmarkControl",["UWA/Core","UWA/Event","UWA/Controls/Abstract","UWA/Controls/Overlay","UWA/Controls/Carousel","UWA/Element","UWA/Utils/Client"],function(f,h,e,a,g,b,c){var d,i=c.Features;d=e.extend({defaultOptions:{pages:[{html:{tag:"img",src:"default.png"}}],doNotShowAgain:false,lang:"en",fullscreen:false,className:"",width:620,height:480},init:function(j,k){this._parent(f.merge(k,this.defaultOptions));this.buildSkeleton(j);if((!this.options.doNotShowAgain)||this.options.forceDisplay){this._getFocus()}},buildSkeleton:function(v){var x,u,k,j,q,s,w,m,p,r,l,o,t,n;x=this.options;u=x.fullscreen;k=x.pages;s=50;w=x.height-s*2;o=this;t=f.extendElement(document);if((!this.options.doNotShowAgain)||this.options.forceDisplay){this.overlay=new a({className:"ds-coachmark "+x.className,closeable:false,events:{onClose:this.dispatchAsEventListener("onEndClose")}});this.elements.container=this.overlay.elements.container;this.elements.container.setStyles({"max-width":u?"none":x.width,"max-height":u?"none":x.height,width:u?"100%":"calc(100% - 10px)",height:u?"100%":x.height,position:"fixed","text-align":"center",left:u?0:"50%","margin-left":u?0:-x.width/2,padding:s+"px 0px "+s+"px 0","box-sizing":"border-box"});n=function(){var z=o.elements.container.getSize().width,y=u?t.getSize().height:Math.min((t.getSize().height-75-10),x.height);o.elements.container.setStyles({"margin-left":u?0:-z/2+"px",height:y,top:u?0:75+(t.getSize().height-75-10-y)/2});if(o.pagesList){o.pagesList.setStyle("height",y-s*2)}setTimeout(function(){o.scroller.scrollToItem(o.scroller.getItems()[o.index])},50)};t.addEvent("resize",n);this.addEvent("onClose",function(){t.removeEvent("resize",n)});this.elements.container.setContent({"class":"ds-coachmark-close",tag:"span",events:{click:this.dispatchAsEventListener("_onClose")}});l=function(z){var A=h.getElement(z),y=A.getParent().getChildren().indexOf(A);o.scroller.scrollToItem(o.pagesList.getElement(".ds-coachmark-item-"+y))};j=[];q=[];for(m=0,p=k.length;m<p;m++){q[m]=f.createElement("li",{"class":"ds-coachmark-item ds-coachmark-item-"+m,html:{"class":"ds-coachmark-content",tag:"div",html:k[m].html}});q[m].addContent({tag:"span","class":"ds-coachmark-index-"+m+" ds-coachmark-index"});q[m].setData("feedback","ds-coachmark-item-"+m+"-feedback");j[m]={tag:"li","class":"ds-coachmark-item-"+m+"-feedback ds-coachmark-feedback",events:{click:l}}}this.pagesList=f.createElement("ul",{html:q,styles:{position:"relative","white-space":"nowrap",height:w+"px",width:"100%"}}).inject(this.elements.container);this.feedback=f.createElement("ul",{html:j,className:"ds-coachmark-feedback-list"}).inject(this.elements.container);this.checkbox=f.createElement("label",{"class":"ds-coachmark-checkbox",html:[{tag:"input",type:"checkbox",checked:x.doNotShowAgain},{tag:"span"}]}).appendText(this._getTextNLS(x.lang)).inject(this.elements.container);this.inject(f.extendElement(v));this.overlay.open();this.index=0;r=g.extend({isItemVisible:function(y,z){return this.scroller.isInViewport(y.getElement(".ds-coachmark-index"),z!==false)},getLastItemVisible:function(){var y=this.getVisibleItems(false);if(!y.length){y=this.getVisibleItems(true)}return y.length?y[y.length-1]:null},getFirstItemVisible:function(){var z=this.getItems(),B,A,y;for(A=0,y=z.length;A<y;A+=1){B=z[A];if(this.isItemVisible(B,true)){return B}}return null}});this.scroller=new r(this.pagesList,{className:"ds-coachmark-carousel",scrollSize:1,scrollButtonClassName:"ds-coachmark-nav-button",autoScrollPressedDelay:10000,scrollerOptions:{snap:true,scrollDrag:true}});this.scroller.scroller.scrollToElement=function(B,G,F){B=f.extendElement(B);if(typeof G==="string"){G={x:G,y:G}}else{if(G===undefined){G={x:"center",y:"center"}}}var E,C,A,K,I=this,L=I.scroll,J=I.maxScroll,H=b.getPosition.call(B,this.elements.wrapper),z=b.getDimensions.call(B),D=I.getSnapSize(),y={x:L.width,y:L.height},M={};z={x:z.outerWidth,y:z.outerHeight};for(E=0;E<2;E+=1){C=E?"x":"y";if(L[C]){A=-H[C];if(G[C]==="center"){A+=(y[C]-z[C])/2}else{if(G[C]==="end"){A+=y[C]-z[C]}}}else{A=0}K=A<J[C];A=A>0?0:K?J[C]:A;if(!K&&I.options.snap){A=Math[E?"floor":"round"](Math.round(A)/D[C])*D[C]}if(A<J[C]){A=J[C]}M[C]=A}if(this.position.x!==M.x||this.position.y!==M.y){I.setPosition(M.x,M.y,F)}};this.scroller.scroller.getPosition=function(){var z,A=this,y=A.position,D=A.options,B=A.elements;if(D.useNative){y={y:-B.scroller.scrollTop,x:-B.scroller.scrollLeft}}else{if(D.useTransform){y={y:0,x:0};z=b.getStyle.call(B.wrapper,"transform",true);if(z&&z!=="none"){if(i.cssMatrix){try{z=new WebKitCSSMatrix(z);y={y:z.f,x:z.e}}catch(C){}}else{z=z.replace(/[^0-9-.,]/g,"").split(",");y={y:+z[5],x:+z[4]}}}}else{y={y:B.wrapper.getComputedSize("top"),x:B.wrapper.getComputedSize("left")}}}return{x:Math.round(y.x),y:Math.round(y.y)}};n();this.scroller.scroller.addEvent("onScrollEnd",this.onScrollEnd.bind(this));if(this.scroller.updateNoDelay){this.scroller.updateNoDelay()}else{this.scroller.onRefreshNoDelay()}this.onScrollEnd();this.elements.container.addEvent("click",this.dispatchAsEventListener("_getFocus"))}},onScrollEnd:function(){var j,k;j=this.elements.container.getElement(".ds-coachmark-highlight");if(j){j.removeClassName("ds-coachmark-highlight")}k=this.scroller.getLastItemVisible();if(k){this.index=k.getParent().getChildren().indexOf(k);this.elements.container.getElement("."+k.getData("feedback")).addClassName("ds-coachmark-highlight")}},_onClose:function(j){h.stop(j);this.overlay.close();this.dispatchEvent("onClose")},_getFocus:function(){this.elements.container.getElement(".uwa-scroller").focus()},onEndClose:function(){this.destroy()},getDoNotShowAgainState:function(){if(this.elements.container.getElement("input")){return this.elements.container.getElement("input").checked}return null},_getTextNLS:function(k){var j={en:"Do not show at startup",fr:"Ne pas afficher au démarrage",ko:"시작할 때 표시 안 함",es:"No mostrar al inicio",ru:"Не показывать при запуске",zh:"不在启动时显示",de:"Nicht beim Start anzeigen",ja:"起動時に表示しない",it:"Non mostrare all'avvio"};return j[k]}});return d});define("DS/Coachmark/Coachmark",["UWA/Core","UWA/Storage","UWA/Storage/Adapter/Cookies","UWA/Utils","DS/WAFData/WAFData","DS/Coachmark/CoachmarkControl"],function(h,d,c,e,a,g){var b=null,f;f={init:function(u){var l,p,r,n,o,j,t,i,m,q,s,k;k=["en","fr","ko","es","ru","zh","de","ja","it"];l={myAppsBaseURL:"",parentEltSelector:"body",forceDisplay:false,lang:"en",fullscreen:false,xappsMode:false,events:{onDNSAChange:null}};if(!u.lang){u.lang="en"}else{u.lang=u.lang.substr(0,2);if(k.indexOf(u.lang)===-1){u.lang="en"}}this.options=h.merge(u,l);p=this.options;r=h.extendElement(document);if(r.getElement(".ds-coachmark")){return}n=r.getElement(p.parentEltSelector);if(!n){n=r.getElement("body")}s=".3ds.com";if(window!==undefined&&window!==null&&window.location.hostname.indexOf(s,window.location.hostname.length-s.length)!==-1){o=new d({adapter:"Cookies",database:"myDatabase",adapterOptions:{domain:s,path:"/"}})}else{o=new d();o.setCurrentAdapterFromDetected()}j={method:"GET",timeout:5000,headers:{Accept:"application/json"}};t=function(){p.dnsaStatus=o.get("dnsa");b=m()};i=function(v){if(v===""){return t()}try{if(JSON.parse(v).error){return t()}}catch(w){return t()}p.dnsaStatus=(v.contains("true"));b=m()};m=function(){var w,y,v,z,x=p.lang;w=[];for(y=1,v=6;y<=v;y++){z=(y===3&&p.xappsMode)?"xapps-":"";w.push({html:{tag:"div","class":"ds-coachmark-content-image ds-coachmark-content-"+z+x+"-"+y}})}b=new g(n,{pages:w,events:{onClose:function(){var B=b.getDoNotShowAgainState();if((B!==p.dnsaStatus)&&(p.myAppsBaseURL!=="none")){try{j.onFailure=j.onComplete=function(){var C=f.options.events.onDNSAChange;o.set("dnsa",B);h.is(C,"function")&&C(B)};if(p.myAppsBaseURL===""){j.onFailure()}else{a.authenticatedRequest(p.myAppsBaseURL+"/resources/AppsMngt/user/setPreferences?name=dnsa&value="+B+"&_="+Date.now(),h.clone(j))}}catch(A){j.onFailure(A)}}else{if(p.myAppsBaseURL==="none"){p.events.closeAndNotify()}}b=null}},doNotShowAgain:p.dnsaStatus,forceDisplay:p.forceDisplay,lang:p.lang,fullscreen:p.fullscreen});return b};q=function(z,y){var w,v;if(h.is(u.dnsa)){i(""+u.dnsa);return}try{if(p.myAppsBaseURL===""){t()}else{w=e.parseUrl(p.myAppsBaseURL);v=w.domain;if(v!==(window!==undefined&&window!==null?window.location.hostname:undefined)){y.proxy="passport"}y.onFailure=t;y.onComplete=i;a.authenticatedRequest(z+"/resources/AppsMngt/user/getPreferences?name=dnsa&_="+Date.now(),h.clone(y))}}catch(x){y.onFailure(x)}};if(typeof(p.dnsaStatus)!=="boolean"){q(p.myAppsBaseURL,j)}else{b=m()}},getDNSAStatus:function(){return b.getDoNotShowAgainState()}};return f});define("DS/i3DXCoachmark",["DS/Coachmark/Coachmark"],function(a){return a});define("Coachmark",["DS/Coachmark/Coachmark"],function(a){return a});define("Coachmark/Coachmark",["DS/Coachmark/Coachmark"],function(a){return a});
/*! Copyright Dassault Systemes 2016 */
define("DS/WebRecordBase/Constants",function(){var a={Event:{KeyboardEvt:{KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup"},DragDropEvt:{DRAGSTART:"dragstart",DROP:"drop",DRAGEND:"dragend",DRAGDROP:"dragdrop"},MouseEvt:{CLICK:"click",CONTEXTMENU:"contextmenu",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEOVER:"mouseover",MOUSEUP:"mouseup",WHEEL:"wheel"},WindowEvt:{RESIZE:"resize",LOAD:"load",BEFOREUNLOAD:"beforeunload",UNLOAD:"unload"},FormEvt:{BLUR:"blur",CHANGE:"change",FOCUS:"focus",FOCUSIN:"focusin",FOCUSOUT:"focusout",INPUT:"input",SELECT:"select",SUBMIT:"submit"},ClipEvt:{COPY:"copy",CUT:"cut",PASTE:"paste"},FrameEvt:{SCROLL:"scroll"},CLICK:"click",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",CHANGE:"change",WINDOWSIZE:"windowSize",CHECKPOINT:"checkPoint",SCREENSHOT:"snapShot",ASSERT:"assert",CAPTUREMODECHANGE:"captureModeChange",UPLOAD:"upload",TABCHANGE:"tabChange",USERDEFINED:"UserDefined",ALL:"ALL"},Interaction:{HIGHLEVEL:"WRAPI",HIGHLEVELold:"REPLAY",LOWLEVEL:"EVENT",INTERNAL:"INTERNAL",MODAL:"MODAL"},RecordModes:{DEFAULT:"default",CHILD:"child",SYSTEM:"system",DEFAULT_AND_CHILD:"default_and_child"},Popup:{CONFIRM:"confirm",PROMPT:"prompt",ALERT:"alert"},WebUX:{PROPERTY:"webUX_property",EVENT:"webUX_event"}};return Object.freeze(a)});
/*! Copyright Dassault Systemes 2016 */
define("DS/WebRecordBase/Utils",[],function(){var g=false;function a(){return typeof dscef!=="undefined"}function i(){if(a()&&dscef.Record){return dscef.Record.isRecording()||dscef.Record.isReplaying()}if(window.DSWebRecord&&window.DSWebRecord.getenv("ADL_ODT_TMP")){return true}return false}function b(){if(a()&&dscef.Record&&dscef.Record.isRecording){return dscef.Record.isRecording()}if(window.DSWebRecord&&window.DSWebRecord.getenv("ADL_ODT_WEBAPPREC_CAPTURE")){return true}return false}function h(){g=true}function e(){g=false}function f(){return g}function d(){if(a()&&dscef.Record&&dscef.Record.isReplaying){return dscef.Record.isReplaying()}if(window.DSWebRecord&&!window.DSWebRecord.getenv("ADL_ODT_WEBAPPREC_CAPTURE")){return true}return false}function c(j){if(i()){if(!j.dataset.recId){j.dataset.recId="fakeId"}j.dataset.recRecordable="true";j.setAttribute("subscribedEvents","XXX_FAKE_XXX");j.setAttribute("ignoreForRecord","true")}}return{isNative:a,isActive:i,isRecording:b,pauseRecording:h,resumeRecording:e,isRecordingPaused:f,isReplaying:d,ignoreForRecord:c}});
/*! Copyright Dassault Systemes 2016 */
define("DS/WebRecordBase/TraceManager",["DS/WebRecordBase/Utils"],function(e){var j={};var k=1;var o="";var f="";var d={sendTraceMessage:function(){},sendTraceObject:function(){}};var b={sendMessageToUI:function(){}};if(e.isActive()){require(["DS/WebRecordClient/Base/MessageManager","DS/WebRecordClient/Base/UIMessenger"],function(q,i){d=q;b=i},function(){console.error("! DS/WebRecordClient/Base/MessageManager not found")})}function c(r,i,q){return d.sendTraceMessage(r,i,q)}function h(r,i,q){return d.sendTraceObject(r,i,q)}function g(s,i){if(i){for(var q in i){if(i.hasOwnProperty(q)){var r=i[q];if(typeof r==="undefined"){r="undefined"}else{if(typeof r==="object"){r=JSON.stringify(r)}}s=s.replace("{"+q+"}",r.toString())}}}return s}j.enabledStack=true;if(window.DSWebRecord){if(window.DSWebRecord.getenv("DSWEBREC_DBG_DISABLE_STACK")){j.enabledStack=false}}function n(q){if(!q){return""}var i=-1;var s="";var r=q.match(/\s*at\s+\S.+\s+\((\S+):(\d+):\d+\)/);if(r){s=r[1];i=r[2]}else{r=q.match(/\s*at\s+(\S+):(\d+):\d+/);if(r){s=r[1];i=r[2]}}if(i<0){return""}var t=s.split("/");return t[t.length-1]+":"+String(i)}function m(q){if(!j.enabledStack){return null}q=q||{};var u;try{u=3+(q.stackOffset||0);var s=Error("Fake Error");Error.stackTraceLimit=u+(q.depth||10);throw s}catch(t){var i=t.stack.split("\n");u=1;if(!q.all){while(u<i.length){var r=n(i[u]);if(r.indexOf("TraceManager")!==0){break}u++}u+=q.stackOffset||0}i=i.slice(u);if(q.fileAndLine){return n(i[0])}return i}}j.printExceptionStack=function(t,r){r=r||10;var q=t.stack.split("\n");j.info("EXCEPTION: "+q[0]);for(var s=1;s<q.length;s++){j.info(q[s]);if(s>=r){break}}};j.debugStack=function(){var q=m({all:true});for(var r=0;r<q.length;++r){console.log("TESTSTACK("+r+"): "+q[r])}};j.disableStack=function(){j.enabledStack=false};j.enableStack=function(){j.enabledStack=true};j.consoleTraceLevel=-1;j.setLevel=function(i){j.consoleTraceLevel=i};j.getElemErrorId=function(i){var q=document.querySelector(i);if(!q.dataset.recErrorId){q.dataset.recErrorId="err_"+k++}return{elem:q.tagName.toLowerCase(),errId:k-1,css:q.tagName.toLowerCase()+"[data-rec-error-id='"+q.dataset.recErrorId+"']"}};j.debuginfra=function(q,i){j._debuginfra_(q,i)};j.debug=function(q,i){j._debug_(q,i)};j.info=function(q,i){j._info_(q,i)};j.log=function(q,i){j._log_(q,i)};j.warn=function(q,i){j._warn_(q,i)};j.errorInfo=function(q,i){j._errorInfo_(q,i)};j.error=function(r,i,q){j._error_(r,i,q)};j.fatal=function(r,i,q){j._fatal_(r,i,q)};j.stop=function(q,i){j._stop_(q,i)};var l={stop:{console:"stop",level:5},fatal:{console:"error",level:4},error:{console:"error",level:3},errorInfo:{console:"error",level:2},warn:{console:"warn",level:2},log:{console:"log",level:1},info:{console:"info",level:1},debug:{console:"debug",level:0},debuginfra:{console:"debug",level:-1}};Object.keys(l).forEach(function(i){j["_"+i+"_"]=function(r,C,z){var y;var w;if(o!==r&&f!==i){if(i==="errorInfo"){try{var A=r.split(": ");var D=A[1].split("\n");w=this.getElemErrorId(D[0]);y={msg:A[0],elem:w.elem,errId:w.errId,tooltip:D[1],type:"errorInfo",css:w.css}}catch(v){y={msg:r,type:"errorInfo"}}b.sendMessageToUI("updateErrorTable",y)}else{if(i==="error"){try{var x=r.split(": ");var B=x[1].split("\n");w=this.getElemErrorId(B[0]);y={msg:x[0],elem:w.elem,errId:w.errId,tooltip:B[1],type:"error",css:w.css}}catch(v){y={msg:r,type:"error"}}b.sendMessageToUI("updateErrorTable",y)}else{if(i==="warn"){try{var u=r.split(": ");var q=u[1].split("\n");w=this.getElemErrorId(q[0]);y={msg:u[0],elem:w.elem,errId:w.errId,tooltip:q[1],type:"warn",css:w.css}}catch(v){y={msg:r,type:"warn"}}b.sendMessageToUI("updateErrorTable",y)}}}f=i;o=r}else{f="";o=""}if(i!=="stop"){var t=m({fileAndLine:true});r=g(r,C);r="["+t+"] "+r;if(l[i].level>=j.consoleTraceLevel){console[l[i].console](r)}if(l[i].level<3){z=undefined}else{z=z||200}}var s;if(window.DSWebRecord){s=window.DSWebRecord.getenv("DSWEBREC_DBG_WEBRECORD")}if(i==="fatal"&&s){l[i]=l.debug}c(l[i].level,r,z)};j[i+"V"]=function(){var s=m({fileAndLine:true});var r="["+s+"]";var q=Array.prototype.slice.call(arguments);q.unshift(r);console[l[i].console].apply(console,q);q=q.map(JSON.stringify);var u=q.join(" ");var t;if(l[i].level>=3){t=200}h(l[i].level,u,t)}});var a={};var p={};j.enableTrace=function(i){p[i]=true;a[i]=true};j.disableTrace=function(i){if(i in a){delete a[i]}};j.usedTraces=function(){var r={enabled:[],disabled:[]};var t=Object.keys(p).sort();for(var q=0;q<t.length;q++){var s=t[q];if(s in a){r.enabled.push(s)}else{r.disabled.push(s)}}return r};j.trace=function(r,s,i){p[r]=true;if(!(r in a)){return}var q=m({fileAndLine:true});s=g(s,i);s="["+q+"] "+s;console.trace(s);c(0,s)};j.traceV=function(s){p[s]=true;if(!(s in a)){return}var r=m({fileAndLine:true});var q="["+r+"]";var i=Array.prototype.slice.call(arguments);i.unshift(q);console.trace.apply(console,i);var t=i.join(" ");h(0,t)};j.HTMLmessage=function(i,q){if(i){return g('<img class="bullet" src="assets/{t}.png"/><span class="{t}">{m}</span><br/>',{t:i,m:q})}return g('<span class="none">{m}</span><br/>',{m:q})};j.addStop=function(i){j.stopCB=i};j.callStop=function(){if(j.stopCB){j.stopCB()}};return j});